(self.webpackChunkapparel_top100_showcase=self.webpackChunkapparel_top100_showcase||[]).push([[179],{8255:$e=>{function yt(U){return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+U+"'");throw ue.code="MODULE_NOT_FOUND",ue})}yt.keys=()=>[],yt.resolve=yt,yt.id=8255,$e.exports=yt},7179:function($e,yt,U){!function(ue,fe,we){"use strict";function ie(be){return be&&"object"==typeof be&&"default"in be?be:{default:be}}var x=ie(fe),Z=ie(we);function Y(be,ne){for(var K=0;K<ne.length;K++){var D=ne[K];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(be,D.key,D)}}function oe(be,ne,K){return ne&&Y(be.prototype,ne),K&&Y(be,K),be}function Ce(){return(Ce=Object.assign||function(be){for(var ne=1;ne<arguments.length;ne++){var K=arguments[ne];for(var D in K)Object.prototype.hasOwnProperty.call(K,D)&&(be[D]=K[D])}return be}).apply(this,arguments)}var he="transitionend";function mt(be){var ne=this,K=!1;return x.default(this).one(De.TRANSITION_END,function(){K=!0}),setTimeout(function(){K||De.triggerTransitionEnd(ne)},be),this}var De={TRANSITION_END:"bsTransitionEnd",getUID:function(ne){do{ne+=~~(1e6*Math.random())}while(document.getElementById(ne));return ne},getSelectorFromElement:function(ne){var K=ne.getAttribute("data-target");if(!K||"#"===K){var D=ne.getAttribute("href");K=D&&"#"!==D?D.trim():""}try{return document.querySelector(K)?K:null}catch(B){return null}},getTransitionDurationFromElement:function(ne){if(!ne)return 0;var K=x.default(ne).css("transition-duration"),D=x.default(ne).css("transition-delay"),B=parseFloat(K),W=parseFloat(D);return B||W?(K=K.split(",")[0],D=D.split(",")[0],1e3*(parseFloat(K)+parseFloat(D))):0},reflow:function(ne){return ne.offsetHeight},triggerTransitionEnd:function(ne){x.default(ne).trigger(he)},supportsTransitionEnd:function(){return Boolean(he)},isElement:function(ne){return(ne[0]||ne).nodeType},typeCheckConfig:function(ne,K,D){for(var B in D)if(Object.prototype.hasOwnProperty.call(D,B)){var W=D[B],Ee=K[B],Fe=Ee&&De.isElement(Ee)?"element":null==(be=Ee)?""+be:{}.toString.call(be).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(W).test(Fe))throw new Error(ne.toUpperCase()+': Option "'+B+'" provided type "'+Fe+'" but expected type "'+W+'".')}var be},findShadowRoot:function(ne){if(!document.documentElement.attachShadow)return null;if("function"==typeof ne.getRootNode){var K=ne.getRootNode();return K instanceof ShadowRoot?K:null}return ne instanceof ShadowRoot?ne:ne.parentNode?De.findShadowRoot(ne.parentNode):null},jQueryDetection:function(){if(void 0===x.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var ne=x.default.fn.jquery.split(" ")[0].split(".");if(ne[0]<2&&ne[1]<9||1===ne[0]&&9===ne[1]&&ne[2]<1||ne[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};De.jQueryDetection(),x.default.fn.emulateTransitionEnd=mt,x.default.event.special[De.TRANSITION_END]={bindType:he,delegateType:he,handle:function(ne){if(x.default(ne.target).is(this))return ne.handleObj.handler.apply(this,arguments)}};var Ot="alert",ye="bs.alert",Jt=x.default.fn[Ot],jt=function(){function be(K){this._element=K}var ne=be.prototype;return ne.close=function(D){var B=this._element;D&&(B=this._getRootElement(D)),this._triggerCloseEvent(B).isDefaultPrevented()||this._removeElement(B)},ne.dispose=function(){x.default.removeData(this._element,ye),this._element=null},ne._getRootElement=function(D){var B=De.getSelectorFromElement(D),W=!1;return B&&(W=document.querySelector(B)),W||(W=x.default(D).closest(".alert")[0]),W},ne._triggerCloseEvent=function(D){var B=x.default.Event("close.bs.alert");return x.default(D).trigger(B),B},ne._removeElement=function(D){var B=this;if(x.default(D).removeClass("show"),x.default(D).hasClass("fade")){var W=De.getTransitionDurationFromElement(D);x.default(D).one(De.TRANSITION_END,function(Ee){return B._destroyElement(D,Ee)}).emulateTransitionEnd(W)}else this._destroyElement(D)},ne._destroyElement=function(D){x.default(D).detach().trigger("closed.bs.alert").remove()},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this),W=B.data(ye);W||(W=new be(this),B.data(ye,W)),"close"===D&&W[D](this)})},be._handleDismiss=function(D){return function(B){B&&B.preventDefault(),D.close(this)}},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),be}();x.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',jt._handleDismiss(new jt)),x.default.fn[Ot]=jt._jQueryInterface,x.default.fn[Ot].Constructor=jt,x.default.fn[Ot].noConflict=function(){return x.default.fn[Ot]=Jt,jt._jQueryInterface};var Mt="button",li="bs.button",ki=x.default.fn[Mt],tn="active",vl='[data-toggle^="button"]',Ro='input:not([type="hidden"])',Pa=function(){function be(K){this._element=K,this.shouldAvoidTriggerChange=!1}var ne=be.prototype;return ne.toggle=function(){var D=!0,B=!0,W=x.default(this._element).closest('[data-toggle="buttons"]')[0];if(W){var Ee=this._element.querySelector(Ro);if(Ee){if("radio"===Ee.type)if(Ee.checked&&this._element.classList.contains(tn))D=!1;else{var Fe=W.querySelector(".active");Fe&&x.default(Fe).removeClass(tn)}D&&(("checkbox"===Ee.type||"radio"===Ee.type)&&(Ee.checked=!this._element.classList.contains(tn)),this.shouldAvoidTriggerChange||x.default(Ee).trigger("change")),Ee.focus(),B=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(B&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(tn)),D&&x.default(this._element).toggleClass(tn))},ne.dispose=function(){x.default.removeData(this._element,li),this._element=null},be._jQueryInterface=function(D,B){return this.each(function(){var W=x.default(this),Ee=W.data(li);Ee||(Ee=new be(this),W.data(li,Ee)),Ee.shouldAvoidTriggerChange=B,"toggle"===D&&Ee[D]()})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),be}();x.default(document).on("click.bs.button.data-api",vl,function(be){var ne=be.target,K=ne;if(x.default(ne).hasClass("btn")||(ne=x.default(ne).closest(".btn")[0]),!ne||ne.hasAttribute("disabled")||ne.classList.contains("disabled"))be.preventDefault();else{var D=ne.querySelector(Ro);if(D&&(D.hasAttribute("disabled")||D.classList.contains("disabled")))return void be.preventDefault();("INPUT"===K.tagName||"LABEL"!==ne.tagName)&&Pa._jQueryInterface.call(x.default(ne),"toggle","INPUT"===K.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",vl,function(be){var ne=x.default(be.target).closest(".btn")[0];x.default(ne).toggleClass("focus",/^focus(in)?$/.test(be.type))}),x.default(window).on("load.bs.button.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),ne=0,K=be.length;ne<K;ne++){var D=be[ne],B=D.querySelector(Ro);B.checked||B.hasAttribute("checked")?D.classList.add(tn):D.classList.remove(tn)}for(var W=0,Ee=(be=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;W<Ee;W++){var Fe=be[W];"true"===Fe.getAttribute("aria-pressed")?Fe.classList.add(tn):Fe.classList.remove(tn)}}),x.default.fn[Mt]=Pa._jQueryInterface,x.default.fn[Mt].Constructor=Pa,x.default.fn[Mt].noConflict=function(){return x.default.fn[Mt]=ki,Pa._jQueryInterface};var Qt="carousel",ju="bs.carousel",Fo="."+ju,gf=x.default.fn[Qt],la={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},zp={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},bl="next",iu="prev",Vc="slid"+Fo,J="active",Ht=".active.carousel-item",An={TOUCH:"touch",PEN:"pen"},kt=function(){function be(K,D){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(D),this._element=K,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var ne=be.prototype;return ne.next=function(){this._isSliding||this._slide(bl)},ne.nextWhenVisible=function(){var D=x.default(this._element);!document.hidden&&D.is(":visible")&&"hidden"!==D.css("visibility")&&this.next()},ne.prev=function(){this._isSliding||this._slide(iu)},ne.pause=function(D){D||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(De.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},ne.cycle=function(D){D||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},ne.to=function(D){var B=this;this._activeElement=this._element.querySelector(Ht);var W=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||D<0)){if(this._isSliding)return void x.default(this._element).one(Vc,function(){return B.to(D)});if(W===D)return this.pause(),void this.cycle();this._slide(D>W?bl:iu,this._items[D])}},ne.dispose=function(){x.default(this._element).off(Fo),x.default.removeData(this._element,ju),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},ne._getConfig=function(D){return D=Ce({},la,D),De.typeCheckConfig(Qt,D,zp),D},ne._handleSwipe=function(){var D=Math.abs(this.touchDeltaX);if(!(D<=40)){var B=D/this.touchDeltaX;this.touchDeltaX=0,B>0&&this.prev(),B<0&&this.next()}},ne._addEventListeners=function(){var D=this;this._config.keyboard&&x.default(this._element).on("keydown.bs.carousel",function(B){return D._keydown(B)}),"hover"===this._config.pause&&x.default(this._element).on("mouseenter.bs.carousel",function(B){return D.pause(B)}).on("mouseleave.bs.carousel",function(B){return D.cycle(B)}),this._config.touch&&this._addTouchEventListeners()},ne._addTouchEventListeners=function(){var D=this;if(this._touchSupported){var B=function(nt){D._pointerEvent&&An[nt.originalEvent.pointerType.toUpperCase()]?D.touchStartX=nt.originalEvent.clientX:D._pointerEvent||(D.touchStartX=nt.originalEvent.touches[0].clientX)},Ee=function(nt){D._pointerEvent&&An[nt.originalEvent.pointerType.toUpperCase()]&&(D.touchDeltaX=nt.originalEvent.clientX-D.touchStartX),D._handleSwipe(),"hover"===D._config.pause&&(D.pause(),D.touchTimeout&&clearTimeout(D.touchTimeout),D.touchTimeout=setTimeout(function(Nn){return D.cycle(Nn)},500+D._config.interval))};x.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(Fe){return Fe.preventDefault()}),this._pointerEvent?(x.default(this._element).on("pointerdown.bs.carousel",function(Fe){return B(Fe)}),x.default(this._element).on("pointerup.bs.carousel",function(Fe){return Ee(Fe)}),this._element.classList.add("pointer-event")):(x.default(this._element).on("touchstart.bs.carousel",function(Fe){return B(Fe)}),x.default(this._element).on("touchmove.bs.carousel",function(Fe){var nt;D.touchDeltaX=(nt=Fe).originalEvent.touches&&nt.originalEvent.touches.length>1?0:nt.originalEvent.touches[0].clientX-D.touchStartX}),x.default(this._element).on("touchend.bs.carousel",function(Fe){return Ee(Fe)}))}},ne._keydown=function(D){if(!/input|textarea/i.test(D.target.tagName))switch(D.which){case 37:D.preventDefault(),this.prev();break;case 39:D.preventDefault(),this.next()}},ne._getItemIndex=function(D){return this._items=D&&D.parentNode?[].slice.call(D.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(D)},ne._getItemByDirection=function(D,B){var W=D===bl,Ee=D===iu,Fe=this._getItemIndex(B);if((Ee&&0===Fe||W&&Fe===this._items.length-1)&&!this._config.wrap)return B;var xi=(Fe+(D===iu?-1:1))%this._items.length;return-1===xi?this._items[this._items.length-1]:this._items[xi]},ne._triggerSlideEvent=function(D,B){var W=this._getItemIndex(D),Ee=this._getItemIndex(this._element.querySelector(Ht)),Fe=x.default.Event("slide.bs.carousel",{relatedTarget:D,direction:B,from:Ee,to:W});return x.default(this._element).trigger(Fe),Fe},ne._setActiveIndicatorElement=function(D){if(this._indicatorsElement){var B=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));x.default(B).removeClass(J);var W=this._indicatorsElement.children[this._getItemIndex(D)];W&&x.default(W).addClass(J)}},ne._updateInterval=function(){var D=this._activeElement||this._element.querySelector(Ht);if(D){var B=parseInt(D.getAttribute("data-interval"),10);B?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=B):this._config.interval=this._config.defaultInterval||this._config.interval}},ne._slide=function(D,B){var xi,Bo,Xu,W=this,Ee=this._element.querySelector(Ht),Fe=this._getItemIndex(Ee),nt=B||Ee&&this._getItemByDirection(D,Ee),Nn=this._getItemIndex(nt),Oi=Boolean(this._interval);if(D===bl?(xi="carousel-item-left",Bo="carousel-item-next",Xu="left"):(xi="carousel-item-right",Bo="carousel-item-prev",Xu="right"),nt&&x.default(nt).hasClass(J))this._isSliding=!1;else if(!this._triggerSlideEvent(nt,Xu).isDefaultPrevented()&&Ee&&nt){this._isSliding=!0,Oi&&this.pause(),this._setActiveIndicatorElement(nt),this._activeElement=nt;var Wa=x.default.Event(Vc,{relatedTarget:nt,direction:Xu,from:Fe,to:Nn});if(x.default(this._element).hasClass("slide")){x.default(nt).addClass(Bo),De.reflow(nt),x.default(Ee).addClass(xi),x.default(nt).addClass(xi);var Or=De.getTransitionDurationFromElement(Ee);x.default(Ee).one(De.TRANSITION_END,function(){x.default(nt).removeClass(xi+" "+Bo).addClass(J),x.default(Ee).removeClass(J+" "+Bo+" "+xi),W._isSliding=!1,setTimeout(function(){return x.default(W._element).trigger(Wa)},0)}).emulateTransitionEnd(Or)}else x.default(Ee).removeClass(J),x.default(nt).addClass(J),this._isSliding=!1,x.default(this._element).trigger(Wa);Oi&&this.cycle()}},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this).data(ju),W=Ce({},la,x.default(this).data());"object"==typeof D&&(W=Ce({},W,D));var Ee="string"==typeof D?D:W.slide;if(B||(B=new be(this,W),x.default(this).data(ju,B)),"number"==typeof D)B.to(D);else if("string"==typeof Ee){if(void 0===B[Ee])throw new TypeError('No method named "'+Ee+'"');B[Ee]()}else W.interval&&W.ride&&(B.pause(),B.cycle())})},be._dataApiClickHandler=function(D){var B=De.getSelectorFromElement(this);if(B){var W=x.default(B)[0];if(W&&x.default(W).hasClass("carousel")){var Ee=Ce({},x.default(W).data(),x.default(this).data()),Fe=this.getAttribute("data-slide-to");Fe&&(Ee.interval=!1),be._jQueryInterface.call(x.default(W),Ee),Fe&&x.default(W).data(ju).to(Fe),D.preventDefault()}}},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return la}}]),be}();x.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",kt._dataApiClickHandler),x.default(window).on("load.bs.carousel.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),ne=0,K=be.length;ne<K;ne++){var D=x.default(be[ne]);kt._jQueryInterface.call(D,D.data())}}),x.default.fn[Qt]=kt._jQueryInterface,x.default.fn[Qt].Constructor=kt,x.default.fn[Qt].noConflict=function(){return x.default.fn[Qt]=gf,kt._jQueryInterface};var Hr="collapse",Po="bs.collapse",kn=x.default.fn[Hr],wo={toggle:!0,parent:""},Am={toggle:"boolean",parent:"(string|element)"},Zr="show",ou="collapse",Qo="collapsing",Im="collapsed",Af='[data-toggle="collapse"]',If=function(){function be(K,D){this._isTransitioning=!1,this._element=K,this._config=this._getConfig(D),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+K.id+'"],[data-toggle="collapse"][data-target="#'+K.id+'"]'));for(var B=[].slice.call(document.querySelectorAll(Af)),W=0,Ee=B.length;W<Ee;W++){var Fe=B[W],nt=De.getSelectorFromElement(Fe),Nn=[].slice.call(document.querySelectorAll(nt)).filter(function(Oi){return Oi===K});null!==nt&&Nn.length>0&&(this._selector=nt,this._triggerArray.push(Fe))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var ne=be.prototype;return ne.toggle=function(){x.default(this._element).hasClass(Zr)?this.hide():this.show()},ne.show=function(){var B,W,D=this;if(!(this._isTransitioning||x.default(this._element).hasClass(Zr)||(this._parent&&0===(B=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(Bo){return"string"==typeof D._config.parent?Bo.getAttribute("data-parent")===D._config.parent:Bo.classList.contains(ou)})).length&&(B=null),B&&(W=x.default(B).not(this._selector).data(Po),W&&W._isTransitioning)))){var Ee=x.default.Event("show.bs.collapse");if(x.default(this._element).trigger(Ee),!Ee.isDefaultPrevented()){B&&(be._jQueryInterface.call(x.default(B).not(this._selector),"hide"),W||x.default(B).data(Po,null));var Fe=this._getDimension();x.default(this._element).removeClass(ou).addClass(Qo),this._element.style[Fe]=0,this._triggerArray.length&&x.default(this._triggerArray).removeClass(Im).attr("aria-expanded",!0),this.setTransitioning(!0);var Oi="scroll"+(Fe[0].toUpperCase()+Fe.slice(1)),xi=De.getTransitionDurationFromElement(this._element);x.default(this._element).one(De.TRANSITION_END,function(){x.default(D._element).removeClass(Qo).addClass(ou+" "+Zr),D._element.style[Fe]="",D.setTransitioning(!1),x.default(D._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(xi),this._element.style[Fe]=this._element[Oi]+"px"}}},ne.hide=function(){var D=this;if(!this._isTransitioning&&x.default(this._element).hasClass(Zr)){var B=x.default.Event("hide.bs.collapse");if(x.default(this._element).trigger(B),!B.isDefaultPrevented()){var W=this._getDimension();this._element.style[W]=this._element.getBoundingClientRect()[W]+"px",De.reflow(this._element),x.default(this._element).addClass(Qo).removeClass(ou+" "+Zr);var Ee=this._triggerArray.length;if(Ee>0)for(var Fe=0;Fe<Ee;Fe++){var nt=this._triggerArray[Fe],Nn=De.getSelectorFromElement(nt);null!==Nn&&(x.default([].slice.call(document.querySelectorAll(Nn))).hasClass(Zr)||x.default(nt).addClass(Im).attr("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[W]="";var Bo=De.getTransitionDurationFromElement(this._element);x.default(this._element).one(De.TRANSITION_END,function(){D.setTransitioning(!1),x.default(D._element).removeClass(Qo).addClass(ou).trigger("hidden.bs.collapse")}).emulateTransitionEnd(Bo)}}},ne.setTransitioning=function(D){this._isTransitioning=D},ne.dispose=function(){x.default.removeData(this._element,Po),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},ne._getConfig=function(D){return(D=Ce({},wo,D)).toggle=Boolean(D.toggle),De.typeCheckConfig(Hr,D,Am),D},ne._getDimension=function(){return x.default(this._element).hasClass("width")?"width":"height"},ne._getParent=function(){var B,D=this;De.isElement(this._config.parent)?(B=this._config.parent,void 0!==this._config.parent.jquery&&(B=this._config.parent[0])):B=document.querySelector(this._config.parent);var Ee=[].slice.call(B.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return x.default(Ee).each(function(Fe,nt){D._addAriaAndCollapsedClass(be._getTargetFromElement(nt),[nt])}),B},ne._addAriaAndCollapsedClass=function(D,B){var W=x.default(D).hasClass(Zr);B.length&&x.default(B).toggleClass(Im,!W).attr("aria-expanded",W)},be._getTargetFromElement=function(D){var B=De.getSelectorFromElement(D);return B?document.querySelector(B):null},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this),W=B.data(Po),Ee=Ce({},wo,B.data(),"object"==typeof D&&D?D:{});if(!W&&Ee.toggle&&"string"==typeof D&&/show|hide/.test(D)&&(Ee.toggle=!1),W||(W=new be(this,Ee),B.data(Po,W)),"string"==typeof D){if(void 0===W[D])throw new TypeError('No method named "'+D+'"');W[D]()}})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return wo}}]),be}();x.default(document).on("click.bs.collapse.data-api",Af,function(be){"A"===be.currentTarget.tagName&&be.preventDefault();var ne=x.default(this),K=De.getSelectorFromElement(this),D=[].slice.call(document.querySelectorAll(K));x.default(D).each(function(){var B=x.default(this),Ee=B.data(Po)?"toggle":ne.data();If._jQueryInterface.call(B,Ee)})}),x.default.fn[Hr]=If._jQueryInterface,x.default.fn[Hr].Constructor=If,x.default.fn[Hr].noConflict=function(){return x.default.fn[Hr]=kn,If._jQueryInterface};var Gg="dropdown",rr="bs.dropdown",Ci="."+rr,Wg=".data-api",px=x.default.fn[Gg],vm=new RegExp("38|40|27"),$g="hide"+Ci,Mh="hidden"+Ci,Zp="click"+Ci+Wg,ln="keydown"+Ci+Wg,Rh="disabled",uo="show",Ps="dropdown-menu-right",Fh='[data-toggle="dropdown"]',Ph=".dropdown-menu",vf={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},yf={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},_l=function(){function be(K,D){this._element=K,this._popper=null,this._config=this._getConfig(D),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var ne=be.prototype;return ne.toggle=function(){if(!this._element.disabled&&!x.default(this._element).hasClass(Rh)){var D=x.default(this._menu).hasClass(uo);be._clearMenus(),!D&&this.show(!0)}},ne.show=function(D){if(void 0===D&&(D=!1),!(this._element.disabled||x.default(this._element).hasClass(Rh)||x.default(this._menu).hasClass(uo))){var B={relatedTarget:this._element},W=x.default.Event("show.bs.dropdown",B),Ee=be._getParentFromElement(this._element);if(x.default(Ee).trigger(W),!W.isDefaultPrevented()){if(!this._inNavbar&&D){if(void 0===Z.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var Fe=this._element;"parent"===this._config.reference?Fe=Ee:De.isElement(this._config.reference)&&(Fe=this._config.reference,void 0!==this._config.reference.jquery&&(Fe=this._config.reference[0])),"scrollParent"!==this._config.boundary&&x.default(Ee).addClass("position-static"),this._popper=new Z.default(Fe,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===x.default(Ee).closest(".navbar-nav").length&&x.default(document.body).children().on("mouseover",null,x.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),x.default(this._menu).toggleClass(uo),x.default(Ee).toggleClass(uo).trigger(x.default.Event("shown.bs.dropdown",B))}}},ne.hide=function(){if(!this._element.disabled&&!x.default(this._element).hasClass(Rh)&&x.default(this._menu).hasClass(uo)){var D={relatedTarget:this._element},B=x.default.Event($g,D),W=be._getParentFromElement(this._element);x.default(W).trigger(B),!B.isDefaultPrevented()&&(this._popper&&this._popper.destroy(),x.default(this._menu).toggleClass(uo),x.default(W).toggleClass(uo).trigger(x.default.Event(Mh,D)))}},ne.dispose=function(){x.default.removeData(this._element,rr),x.default(this._element).off(Ci),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},ne.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},ne._addEventListeners=function(){var D=this;x.default(this._element).on("click.bs.dropdown",function(B){B.preventDefault(),B.stopPropagation(),D.toggle()})},ne._getConfig=function(D){return D=Ce({},this.constructor.Default,x.default(this._element).data(),D),De.typeCheckConfig(Gg,D,this.constructor.DefaultType),D},ne._getMenuElement=function(){if(!this._menu){var D=be._getParentFromElement(this._element);D&&(this._menu=D.querySelector(Ph))}return this._menu},ne._getPlacement=function(){var D=x.default(this._element.parentNode),B="bottom-start";return D.hasClass("dropup")?B=x.default(this._menu).hasClass(Ps)?"top-end":"top-start":D.hasClass("dropright")?B="right-start":D.hasClass("dropleft")?B="left-start":x.default(this._menu).hasClass(Ps)&&(B="bottom-end"),B},ne._detectNavbar=function(){return x.default(this._element).closest(".navbar").length>0},ne._getOffset=function(){var D=this,B={};return"function"==typeof this._config.offset?B.fn=function(W){return W.offsets=Ce({},W.offsets,D._config.offset(W.offsets,D._element)||{}),W}:B.offset=this._config.offset,B},ne._getPopperConfig=function(){var D={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(D.modifiers.applyStyle={enabled:!1}),Ce({},D,this._config.popperConfig)},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this).data(rr);if(B||(B=new be(this,"object"==typeof D?D:null),x.default(this).data(rr,B)),"string"==typeof D){if(void 0===B[D])throw new TypeError('No method named "'+D+'"');B[D]()}})},be._clearMenus=function(D){if(!D||3!==D.which&&("keyup"!==D.type||9===D.which))for(var B=[].slice.call(document.querySelectorAll(Fh)),W=0,Ee=B.length;W<Ee;W++){var Fe=be._getParentFromElement(B[W]),nt=x.default(B[W]).data(rr),Nn={relatedTarget:B[W]};if(D&&"click"===D.type&&(Nn.clickEvent=D),nt){var Oi=nt._menu;if(x.default(Fe).hasClass(uo)&&!(D&&("click"===D.type&&/input|textarea/i.test(D.target.tagName)||"keyup"===D.type&&9===D.which)&&x.default.contains(Fe,D.target))){var xi=x.default.Event($g,Nn);x.default(Fe).trigger(xi),!xi.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&x.default(document.body).children().off("mouseover",null,x.default.noop),B[W].setAttribute("aria-expanded","false"),nt._popper&&nt._popper.destroy(),x.default(Oi).removeClass(uo),x.default(Fe).removeClass(uo).trigger(x.default.Event(Mh,Nn)))}}}},be._getParentFromElement=function(D){var B,W=De.getSelectorFromElement(D);return W&&(B=document.querySelector(W)),B||D.parentNode},be._dataApiKeydownHandler=function(D){if(!(/input|textarea/i.test(D.target.tagName)?32===D.which||27!==D.which&&(40!==D.which&&38!==D.which||x.default(D.target).closest(Ph).length):!vm.test(D.which))&&!this.disabled&&!x.default(this).hasClass(Rh)){var B=be._getParentFromElement(this),W=x.default(B).hasClass(uo);if(W||27!==D.which){if(D.preventDefault(),D.stopPropagation(),!W||27===D.which||32===D.which)return 27===D.which&&x.default(B.querySelector(Fh)).trigger("focus"),void x.default(this).trigger("click");var Ee=[].slice.call(B.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(nt){return x.default(nt).is(":visible")});if(0!==Ee.length){var Fe=Ee.indexOf(D.target);38===D.which&&Fe>0&&Fe--,40===D.which&&Fe<Ee.length-1&&Fe++,Fe<0&&(Fe=0),Ee[Fe].focus()}}}},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return vf}},{key:"DefaultType",get:function(){return yf}}]),be}();x.default(document).on(ln,Fh,_l._dataApiKeydownHandler).on(ln,Ph,_l._dataApiKeydownHandler).on(Zp+" keyup.bs.dropdown.data-api",_l._clearMenus).on(Zp,Fh,function(be){be.preventDefault(),be.stopPropagation(),_l._jQueryInterface.call(x.default(this),"toggle")}).on(Zp,".dropdown form",function(be){be.stopPropagation()}),x.default.fn[Gg]=_l._jQueryInterface,x.default.fn[Gg].Constructor=_l,x.default.fn[Gg].noConflict=function(){return x.default.fn[Gg]=px,_l._jQueryInterface};var Hc="modal",A="bs.modal",v="."+A,w=x.default.fn[Hc],F={backdrop:!0,keyboard:!0,focus:!0,show:!0},P={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},pe="hidden"+v,xe="show"+v,Ie="focusin"+v,Se="resize"+v,Bt="click.dismiss"+v,dn="keydown.dismiss"+v,Kr="mousedown.dismiss"+v,or="modal-open",Ln="fade",jn="show",ga="modal-static",co=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ms=".sticky-top",go=function(){function be(K,D){this._config=this._getConfig(D),this._element=K,this._dialog=K.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var ne=be.prototype;return ne.toggle=function(D){return this._isShown?this.hide():this.show(D)},ne.show=function(D){var B=this;if(!this._isShown&&!this._isTransitioning){x.default(this._element).hasClass(Ln)&&(this._isTransitioning=!0);var W=x.default.Event(xe,{relatedTarget:D});x.default(this._element).trigger(W),!this._isShown&&!W.isDefaultPrevented()&&(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),x.default(this._element).on(Bt,'[data-dismiss="modal"]',function(Ee){return B.hide(Ee)}),x.default(this._dialog).on(Kr,function(){x.default(B._element).one("mouseup.dismiss.bs.modal",function(Ee){x.default(Ee.target).is(B._element)&&(B._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return B._showElement(D)}))}},ne.hide=function(D){var B=this;if(D&&D.preventDefault(),this._isShown&&!this._isTransitioning){var W=x.default.Event("hide.bs.modal");if(x.default(this._element).trigger(W),this._isShown&&!W.isDefaultPrevented()){this._isShown=!1;var Ee=x.default(this._element).hasClass(Ln);if(Ee&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),x.default(document).off(Ie),x.default(this._element).removeClass(jn),x.default(this._element).off(Bt),x.default(this._dialog).off(Kr),Ee){var Fe=De.getTransitionDurationFromElement(this._element);x.default(this._element).one(De.TRANSITION_END,function(nt){return B._hideModal(nt)}).emulateTransitionEnd(Fe)}else this._hideModal()}}},ne.dispose=function(){[window,this._element,this._dialog].forEach(function(D){return x.default(D).off(v)}),x.default(document).off(Ie),x.default.removeData(this._element,A),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},ne.handleUpdate=function(){this._adjustDialog()},ne._getConfig=function(D){return D=Ce({},F,D),De.typeCheckConfig(Hc,D,P),D},ne._triggerBackdropTransition=function(){var D=this,B=x.default.Event("hidePrevented.bs.modal");if(x.default(this._element).trigger(B),!B.isDefaultPrevented()){var W=this._element.scrollHeight>document.documentElement.clientHeight;W||(this._element.style.overflowY="hidden"),this._element.classList.add(ga);var Ee=De.getTransitionDurationFromElement(this._dialog);x.default(this._element).off(De.TRANSITION_END),x.default(this._element).one(De.TRANSITION_END,function(){D._element.classList.remove(ga),W||x.default(D._element).one(De.TRANSITION_END,function(){D._element.style.overflowY=""}).emulateTransitionEnd(D._element,Ee)}).emulateTransitionEnd(Ee),this._element.focus()}},ne._showElement=function(D){var B=this,W=x.default(this._element).hasClass(Ln),Ee=this._dialog?this._dialog.querySelector(".modal-body"):null;(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),x.default(this._dialog).hasClass("modal-dialog-scrollable")&&Ee?Ee.scrollTop=0:this._element.scrollTop=0,W&&De.reflow(this._element),x.default(this._element).addClass(jn),this._config.focus&&this._enforceFocus();var Fe=x.default.Event("shown.bs.modal",{relatedTarget:D}),nt=function(){B._config.focus&&B._element.focus(),B._isTransitioning=!1,x.default(B._element).trigger(Fe)};if(W){var Nn=De.getTransitionDurationFromElement(this._dialog);x.default(this._dialog).one(De.TRANSITION_END,nt).emulateTransitionEnd(Nn)}else nt()},ne._enforceFocus=function(){var D=this;x.default(document).off(Ie).on(Ie,function(B){document!==B.target&&D._element!==B.target&&0===x.default(D._element).has(B.target).length&&D._element.focus()})},ne._setEscapeEvent=function(){var D=this;this._isShown?x.default(this._element).on(dn,function(B){D._config.keyboard&&27===B.which?(B.preventDefault(),D.hide()):!D._config.keyboard&&27===B.which&&D._triggerBackdropTransition()}):this._isShown||x.default(this._element).off(dn)},ne._setResizeEvent=function(){var D=this;this._isShown?x.default(window).on(Se,function(B){return D.handleUpdate(B)}):x.default(window).off(Se)},ne._hideModal=function(){var D=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){x.default(document.body).removeClass(or),D._resetAdjustments(),D._resetScrollbar(),x.default(D._element).trigger(pe)})},ne._removeBackdrop=function(){this._backdrop&&(x.default(this._backdrop).remove(),this._backdrop=null)},ne._showBackdrop=function(D){var B=this,W=x.default(this._element).hasClass(Ln)?Ln:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",W&&this._backdrop.classList.add(W),x.default(this._backdrop).appendTo(document.body),x.default(this._element).on(Bt,function(Nn){B._ignoreBackdropClick?B._ignoreBackdropClick=!1:Nn.target===Nn.currentTarget&&("static"===B._config.backdrop?B._triggerBackdropTransition():B.hide())}),W&&De.reflow(this._backdrop),x.default(this._backdrop).addClass(jn),!D)return;if(!W)return void D();var Ee=De.getTransitionDurationFromElement(this._backdrop);x.default(this._backdrop).one(De.TRANSITION_END,D).emulateTransitionEnd(Ee)}else if(!this._isShown&&this._backdrop){x.default(this._backdrop).removeClass(jn);var Fe=function(){B._removeBackdrop(),D&&D()};if(x.default(this._element).hasClass(Ln)){var nt=De.getTransitionDurationFromElement(this._backdrop);x.default(this._backdrop).one(De.TRANSITION_END,Fe).emulateTransitionEnd(nt)}else Fe()}else D&&D()},ne._adjustDialog=function(){var D=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&D&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!D&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},ne._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},ne._checkScrollbar=function(){var D=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(D.left+D.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},ne._setScrollbar=function(){var D=this;if(this._isBodyOverflowing){var B=[].slice.call(document.querySelectorAll(co)),W=[].slice.call(document.querySelectorAll(ms));x.default(B).each(function(nt,Nn){var Oi=Nn.style.paddingRight,xi=x.default(Nn).css("padding-right");x.default(Nn).data("padding-right",Oi).css("padding-right",parseFloat(xi)+D._scrollbarWidth+"px")}),x.default(W).each(function(nt,Nn){var Oi=Nn.style.marginRight,xi=x.default(Nn).css("margin-right");x.default(Nn).data("margin-right",Oi).css("margin-right",parseFloat(xi)-D._scrollbarWidth+"px")});var Ee=document.body.style.paddingRight,Fe=x.default(document.body).css("padding-right");x.default(document.body).data("padding-right",Ee).css("padding-right",parseFloat(Fe)+this._scrollbarWidth+"px")}x.default(document.body).addClass(or)},ne._resetScrollbar=function(){var D=[].slice.call(document.querySelectorAll(co));x.default(D).each(function(Ee,Fe){var nt=x.default(Fe).data("padding-right");x.default(Fe).removeData("padding-right"),Fe.style.paddingRight=nt||""});var B=[].slice.call(document.querySelectorAll(""+ms));x.default(B).each(function(Ee,Fe){var nt=x.default(Fe).data("margin-right");void 0!==nt&&x.default(Fe).css("margin-right",nt).removeData("margin-right")});var W=x.default(document.body).data("padding-right");x.default(document.body).removeData("padding-right"),document.body.style.paddingRight=W||""},ne._getScrollbarWidth=function(){var D=document.createElement("div");D.className="modal-scrollbar-measure",document.body.appendChild(D);var B=D.getBoundingClientRect().width-D.clientWidth;return document.body.removeChild(D),B},be._jQueryInterface=function(D,B){return this.each(function(){var W=x.default(this).data(A),Ee=Ce({},F,x.default(this).data(),"object"==typeof D&&D?D:{});if(W||(W=new be(this,Ee),x.default(this).data(A,W)),"string"==typeof D){if(void 0===W[D])throw new TypeError('No method named "'+D+'"');W[D](B)}else Ee.show&&W.show(B)})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return F}}]),be}();x.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(be){var K,ne=this,D=De.getSelectorFromElement(this);D&&(K=document.querySelector(D));var B=x.default(K).data(A)?"toggle":Ce({},x.default(K).data(),x.default(this).data());("A"===this.tagName||"AREA"===this.tagName)&&be.preventDefault();var W=x.default(K).one(xe,function(Ee){Ee.isDefaultPrevented()||W.one(pe,function(){x.default(ne).is(":visible")&&ne.focus()})});go._jQueryInterface.call(x.default(K),B,this)}),x.default.fn[Hc]=go._jQueryInterface,x.default.fn[Hc].Constructor=go,x.default.fn[Hc].noConflict=function(){return x.default.fn[Hc]=w,go._jQueryInterface};var Ls=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Gu=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Xp(be,ne,K){if(0===be.length)return be;if(K&&"function"==typeof K)return K(be);for(var B=(new window.DOMParser).parseFromString(be,"text/html"),W=Object.keys(ne),Ee=[].slice.call(B.body.querySelectorAll("*")),Fe=function(Bo,Xu){var wr=Ee[Bo],Wa=wr.nodeName.toLowerCase();if(-1===W.indexOf(wr.nodeName.toLowerCase()))return wr.parentNode.removeChild(wr),"continue";var Or=[].slice.call(wr.attributes),FR=[].concat(ne["*"]||[],ne[Wa]||[]);Or.forEach(function(Nx){(function(be,ne){var K=be.nodeName.toLowerCase();if(-1!==ne.indexOf(K))return-1===Ls.indexOf(K)||Boolean(be.nodeValue.match(Gu)||be.nodeValue.match(qn));for(var D=ne.filter(function(Ee){return Ee instanceof RegExp}),B=0,W=D.length;B<W;B++)if(K.match(D[B]))return!0;return!1})(Nx,FR)||wr.removeAttribute(Nx.nodeName)})},nt=0,Nn=Ee.length;nt<Nn;nt++)Fe(nt);return B.body.innerHTML}var su="tooltip",au="bs.tooltip",es="."+au,bf=x.default.fn[su],Wu="bs-tooltip",Lo=new RegExp("(^|\\s)"+Wu+"\\S+","g"),Qy=["sanitize","whiteList","sanitizeFn"],Bs={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Va={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Qp={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},$u="show",za={HIDE:"hide"+es,HIDDEN:"hidden"+es,SHOW:"show"+es,SHOWN:"shown"+es,INSERTED:"inserted"+es,CLICK:"click"+es,FOCUSIN:"focusin"+es,FOCUSOUT:"focusout"+es,MOUSEENTER:"mouseenter"+es,MOUSELEAVE:"mouseleave"+es},Uc="fade",fa="show",_f="hover",Jp="focus",uu=function(){function be(K,D){if(void 0===Z.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=K,this.config=this._getConfig(D),this.tip=null,this._setListeners()}var ne=be.prototype;return ne.enable=function(){this._isEnabled=!0},ne.disable=function(){this._isEnabled=!1},ne.toggleEnabled=function(){this._isEnabled=!this._isEnabled},ne.toggle=function(D){if(this._isEnabled)if(D){var B=this.constructor.DATA_KEY,W=x.default(D.currentTarget).data(B);W||(W=new this.constructor(D.currentTarget,this._getDelegateConfig()),x.default(D.currentTarget).data(B,W)),W._activeTrigger.click=!W._activeTrigger.click,W._isWithActiveTrigger()?W._enter(null,W):W._leave(null,W)}else{if(x.default(this.getTipElement()).hasClass(fa))return void this._leave(null,this);this._enter(null,this)}},ne.dispose=function(){clearTimeout(this._timeout),x.default.removeData(this.element,this.constructor.DATA_KEY),x.default(this.element).off(this.constructor.EVENT_KEY),x.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&x.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},ne.show=function(){var D=this;if("none"===x.default(this.element).css("display"))throw new Error("Please use show on visible elements");var B=x.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){x.default(this.element).trigger(B);var W=De.findShadowRoot(this.element),Ee=x.default.contains(null!==W?W:this.element.ownerDocument.documentElement,this.element);if(B.isDefaultPrevented()||!Ee)return;var Fe=this.getTipElement(),nt=De.getUID(this.constructor.NAME);Fe.setAttribute("id",nt),this.element.setAttribute("aria-describedby",nt),this.setContent(),this.config.animation&&x.default(Fe).addClass(Uc);var Nn="function"==typeof this.config.placement?this.config.placement.call(this,Fe,this.element):this.config.placement,Oi=this._getAttachment(Nn);this.addAttachmentClass(Oi);var xi=this._getContainer();x.default(Fe).data(this.constructor.DATA_KEY,this),x.default.contains(this.element.ownerDocument.documentElement,this.tip)||x.default(Fe).appendTo(xi),x.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Z.default(this.element,Fe,this._getPopperConfig(Oi)),x.default(Fe).addClass(fa),x.default(Fe).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&x.default(document.body).children().on("mouseover",null,x.default.noop);var Bo=function(){D.config.animation&&D._fixTransition();var Wa=D._hoverState;D._hoverState=null,x.default(D.element).trigger(D.constructor.Event.SHOWN),"out"===Wa&&D._leave(null,D)};if(x.default(this.tip).hasClass(Uc)){var Xu=De.getTransitionDurationFromElement(this.tip);x.default(this.tip).one(De.TRANSITION_END,Bo).emulateTransitionEnd(Xu)}else Bo()}},ne.hide=function(D){var B=this,W=this.getTipElement(),Ee=x.default.Event(this.constructor.Event.HIDE),Fe=function(){B._hoverState!==$u&&W.parentNode&&W.parentNode.removeChild(W),B._cleanTipClass(),B.element.removeAttribute("aria-describedby"),x.default(B.element).trigger(B.constructor.Event.HIDDEN),null!==B._popper&&B._popper.destroy(),D&&D()};if(x.default(this.element).trigger(Ee),!Ee.isDefaultPrevented()){if(x.default(W).removeClass(fa),"ontouchstart"in document.documentElement&&x.default(document.body).children().off("mouseover",null,x.default.noop),this._activeTrigger.click=!1,this._activeTrigger[Jp]=!1,this._activeTrigger[_f]=!1,x.default(this.tip).hasClass(Uc)){var nt=De.getTransitionDurationFromElement(W);x.default(W).one(De.TRANSITION_END,Fe).emulateTransitionEnd(nt)}else Fe();this._hoverState=""}},ne.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},ne.isWithContent=function(){return Boolean(this.getTitle())},ne.addAttachmentClass=function(D){x.default(this.getTipElement()).addClass(Wu+"-"+D)},ne.getTipElement=function(){return this.tip=this.tip||x.default(this.config.template)[0],this.tip},ne.setContent=function(){var D=this.getTipElement();this.setElementContent(x.default(D.querySelectorAll(".tooltip-inner")),this.getTitle()),x.default(D).removeClass(Uc+" "+fa)},ne.setElementContent=function(D,B){"object"!=typeof B||!B.nodeType&&!B.jquery?this.config.html?(this.config.sanitize&&(B=Xp(B,this.config.whiteList,this.config.sanitizeFn)),D.html(B)):D.text(B):this.config.html?x.default(B).parent().is(D)||D.empty().append(B):D.text(x.default(B).text())},ne.getTitle=function(){var D=this.element.getAttribute("data-original-title");return D||(D="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),D},ne._getPopperConfig=function(D){var B=this;return Ce({},{placement:D,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(Fe){Fe.originalPlacement!==Fe.placement&&B._handlePopperPlacementChange(Fe)},onUpdate:function(Fe){return B._handlePopperPlacementChange(Fe)}},this.config.popperConfig)},ne._getOffset=function(){var D=this,B={};return"function"==typeof this.config.offset?B.fn=function(W){return W.offsets=Ce({},W.offsets,D.config.offset(W.offsets,D.element)||{}),W}:B.offset=this.config.offset,B},ne._getContainer=function(){return!1===this.config.container?document.body:De.isElement(this.config.container)?x.default(this.config.container):x.default(document).find(this.config.container)},ne._getAttachment=function(D){return Va[D.toUpperCase()]},ne._setListeners=function(){var D=this;this.config.trigger.split(" ").forEach(function(W){if("click"===W)x.default(D.element).on(D.constructor.Event.CLICK,D.config.selector,function(nt){return D.toggle(nt)});else if("manual"!==W){var Ee=W===_f?D.constructor.Event.MOUSEENTER:D.constructor.Event.FOCUSIN,Fe=W===_f?D.constructor.Event.MOUSELEAVE:D.constructor.Event.FOCUSOUT;x.default(D.element).on(Ee,D.config.selector,function(nt){return D._enter(nt)}).on(Fe,D.config.selector,function(nt){return D._leave(nt)})}}),this._hideModalHandler=function(){D.element&&D.hide()},x.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Ce({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},ne._fixTitle=function(){var D=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==D)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},ne._enter=function(D,B){var W=this.constructor.DATA_KEY;(B=B||x.default(D.currentTarget).data(W))||(B=new this.constructor(D.currentTarget,this._getDelegateConfig()),x.default(D.currentTarget).data(W,B)),D&&(B._activeTrigger["focusin"===D.type?Jp:_f]=!0),x.default(B.getTipElement()).hasClass(fa)||B._hoverState===$u?B._hoverState=$u:(clearTimeout(B._timeout),B._hoverState=$u,B.config.delay&&B.config.delay.show?B._timeout=setTimeout(function(){B._hoverState===$u&&B.show()},B.config.delay.show):B.show())},ne._leave=function(D,B){var W=this.constructor.DATA_KEY;if((B=B||x.default(D.currentTarget).data(W))||(B=new this.constructor(D.currentTarget,this._getDelegateConfig()),x.default(D.currentTarget).data(W,B)),D&&(B._activeTrigger["focusout"===D.type?Jp:_f]=!1),!B._isWithActiveTrigger()){if(clearTimeout(B._timeout),B._hoverState="out",!B.config.delay||!B.config.delay.hide)return void B.hide();B._timeout=setTimeout(function(){"out"===B._hoverState&&B.hide()},B.config.delay.hide)}},ne._isWithActiveTrigger=function(){for(var D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1},ne._getConfig=function(D){var B=x.default(this.element).data();return Object.keys(B).forEach(function(W){-1!==Qy.indexOf(W)&&delete B[W]}),"number"==typeof(D=Ce({},this.constructor.Default,B,"object"==typeof D&&D?D:{})).delay&&(D.delay={show:D.delay,hide:D.delay}),"number"==typeof D.title&&(D.title=D.title.toString()),"number"==typeof D.content&&(D.content=D.content.toString()),De.typeCheckConfig(su,D,this.constructor.DefaultType),D.sanitize&&(D.template=Xp(D.template,D.whiteList,D.sanitizeFn)),D},ne._getDelegateConfig=function(){var D={};if(this.config)for(var B in this.config)this.constructor.Default[B]!==this.config[B]&&(D[B]=this.config[B]);return D},ne._cleanTipClass=function(){var D=x.default(this.getTipElement()),B=D.attr("class").match(Lo);null!==B&&B.length&&D.removeClass(B.join(""))},ne._handlePopperPlacementChange=function(D){this.tip=D.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(D.placement))},ne._fixTransition=function(){var D=this.getTipElement(),B=this.config.animation;null===D.getAttribute("x-placement")&&(x.default(D).removeClass(Uc),this.config.animation=!1,this.hide(),this.show(),this.config.animation=B)},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this),W=B.data(au),Ee="object"==typeof D&&D;if((W||!/dispose|hide/.test(D))&&(W||(W=new be(this,Ee),B.data(au,W)),"string"==typeof D)){if(void 0===W[D])throw new TypeError('No method named "'+D+'"');W[D]()}})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Qp}},{key:"NAME",get:function(){return su}},{key:"DATA_KEY",get:function(){return au}},{key:"Event",get:function(){return za}},{key:"EVENT_KEY",get:function(){return es}},{key:"DefaultType",get:function(){return Bs}}]),be}();x.default.fn[su]=uu._jQueryInterface,x.default.fn[su].Constructor=uu,x.default.fn[su].noConflict=function(){return x.default.fn[su]=bf,uu._jQueryInterface};var ts="popover",wf="bs.popover",Ha="."+wf,bx=x.default.fn[ts],Jy="bs-popover",eb=new RegExp("(^|\\s)"+Jy+"\\S+","g"),Zg=Ce({},uu.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),wm=Ce({},uu.DefaultType,{content:"(string|element|function)"}),_x={HIDE:"hide"+Ha,HIDDEN:"hidden"+Ha,SHOW:"show"+Ha,SHOWN:"shown"+Ha,INSERTED:"inserted"+Ha,CLICK:"click"+Ha,FOCUSIN:"focusin"+Ha,FOCUSOUT:"focusout"+Ha,MOUSEENTER:"mouseenter"+Ha,MOUSELEAVE:"mouseleave"+Ha},js=function(be){function ne(){return be.apply(this,arguments)||this}!function(be,ne){be.prototype=Object.create(ne.prototype),be.prototype.constructor=be,be.__proto__=ne}(ne,be);var K=ne.prototype;return K.isWithContent=function(){return this.getTitle()||this._getContent()},K.addAttachmentClass=function(B){x.default(this.getTipElement()).addClass(Jy+"-"+B)},K.getTipElement=function(){return this.tip=this.tip||x.default(this.config.template)[0],this.tip},K.setContent=function(){var B=x.default(this.getTipElement());this.setElementContent(B.find(".popover-header"),this.getTitle());var W=this._getContent();"function"==typeof W&&(W=W.call(this.element)),this.setElementContent(B.find(".popover-body"),W),B.removeClass("fade show")},K._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},K._cleanTipClass=function(){var B=x.default(this.getTipElement()),W=B.attr("class").match(eb);null!==W&&W.length>0&&B.removeClass(W.join(""))},ne._jQueryInterface=function(B){return this.each(function(){var W=x.default(this).data(wf),Ee="object"==typeof B?B:null;if((W||!/dispose|hide/.test(B))&&(W||(W=new ne(this,Ee),x.default(this).data(wf,W)),"string"==typeof B)){if(void 0===W[B])throw new TypeError('No method named "'+B+'"');W[B]()}})},oe(ne,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Zg}},{key:"NAME",get:function(){return ts}},{key:"DATA_KEY",get:function(){return wf}},{key:"Event",get:function(){return _x}},{key:"EVENT_KEY",get:function(){return Ha}},{key:"DefaultType",get:function(){return wm}}]),ne}(uu);x.default.fn[ts]=js._jQueryInterface,x.default.fn[ts].Constructor=js,x.default.fn[ts].noConflict=function(){return x.default.fn[ts]=bx,js._jQueryInterface};var xl="scrollspy",Ef="bs.scrollspy",j="."+Ef,ce=x.default.fn[xl],Re={offset:10,method:"auto",target:""},Ae={offset:"number",method:"string",target:"(string|element)"},Wt="active",fn=".nav, .list-group",zn=".nav-link",Nt=".list-group-item",Xg="position",Yu=function(){function be(K,D){var B=this;this._element=K,this._scrollElement="BODY"===K.tagName?window:K,this._config=this._getConfig(D),this._selector=this._config.target+" "+zn+","+this._config.target+" "+Nt+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,x.default(this._scrollElement).on("scroll.bs.scrollspy",function(W){return B._process(W)}),this.refresh(),this._process()}var ne=be.prototype;return ne.refresh=function(){var D=this,W="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Xg:this._config.method,Ee=W===Xg?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(nt){var Nn,Oi=De.getSelectorFromElement(nt);if(Oi&&(Nn=document.querySelector(Oi)),Nn){var xi=Nn.getBoundingClientRect();if(xi.width||xi.height)return[x.default(Nn)[W]().top+Ee,Oi]}return null}).filter(function(nt){return nt}).sort(function(nt,Nn){return nt[0]-Nn[0]}).forEach(function(nt){D._offsets.push(nt[0]),D._targets.push(nt[1])})},ne.dispose=function(){x.default.removeData(this._element,Ef),x.default(this._scrollElement).off(j),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},ne._getConfig=function(D){if("string"!=typeof(D=Ce({},Re,"object"==typeof D&&D?D:{})).target&&De.isElement(D.target)){var B=x.default(D.target).attr("id");B||(B=De.getUID(xl),x.default(D.target).attr("id",B)),D.target="#"+B}return De.typeCheckConfig(xl,D,Ae),D},ne._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},ne._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},ne._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},ne._process=function(){var D=this._getScrollTop()+this._config.offset,B=this._getScrollHeight(),W=this._config.offset+B-this._getOffsetHeight();if(this._scrollHeight!==B&&this.refresh(),D>=W){var Ee=this._targets[this._targets.length-1];this._activeTarget!==Ee&&this._activate(Ee)}else{if(this._activeTarget&&D<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var Fe=this._offsets.length;Fe--;)this._activeTarget!==this._targets[Fe]&&D>=this._offsets[Fe]&&(void 0===this._offsets[Fe+1]||D<this._offsets[Fe+1])&&this._activate(this._targets[Fe])}},ne._activate=function(D){this._activeTarget=D,this._clear();var B=this._selector.split(",").map(function(Ee){return Ee+'[data-target="'+D+'"],'+Ee+'[href="'+D+'"]'}),W=x.default([].slice.call(document.querySelectorAll(B.join(","))));W.hasClass("dropdown-item")?(W.closest(".dropdown").find(".dropdown-toggle").addClass(Wt),W.addClass(Wt)):(W.addClass(Wt),W.parents(fn).prev(zn+", "+Nt).addClass(Wt),W.parents(fn).prev(".nav-item").children(zn).addClass(Wt)),x.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:D})},ne._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(D){return D.classList.contains(Wt)}).forEach(function(D){return D.classList.remove(Wt)})},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this).data(Ef);if(B||(B=new be(this,"object"==typeof D&&D),x.default(this).data(Ef,B)),"string"==typeof D){if(void 0===B[D])throw new TypeError('No method named "'+D+'"');B[D]()}})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Re}}]),be}();x.default(window).on("load.bs.scrollspy.data-api",function(){for(var be=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),K=be.length;K--;){var D=x.default(be[K]);Yu._jQueryInterface.call(D,D.data())}}),x.default.fn[xl]=Yu._jQueryInterface,x.default.fn[xl].Constructor=Yu,x.default.fn[xl].noConflict=function(){return x.default.fn[xl]=ce,Yu._jQueryInterface};var xm="bs.tab",Ua=x.default.fn.tab,bn="active",Tx=".active",kx="> li > .active",Ur=function(){function be(K){this._element=K}var ne=be.prototype;return ne.show=function(){var D=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&x.default(this._element).hasClass(bn)||x.default(this._element).hasClass("disabled"))){var B,W,Ee=x.default(this._element).closest(".nav, .list-group")[0],Fe=De.getSelectorFromElement(this._element);if(Ee){var nt="UL"===Ee.nodeName||"OL"===Ee.nodeName?kx:Tx;W=(W=x.default.makeArray(x.default(Ee).find(nt)))[W.length-1]}var Nn=x.default.Event("hide.bs.tab",{relatedTarget:this._element}),Oi=x.default.Event("show.bs.tab",{relatedTarget:W});if(W&&x.default(W).trigger(Nn),x.default(this._element).trigger(Oi),!Oi.isDefaultPrevented()&&!Nn.isDefaultPrevented()){Fe&&(B=document.querySelector(Fe)),this._activate(this._element,Ee);var xi=function(){var Xu=x.default.Event("hidden.bs.tab",{relatedTarget:D._element}),wr=x.default.Event("shown.bs.tab",{relatedTarget:W});x.default(W).trigger(Xu),x.default(D._element).trigger(wr)};B?this._activate(B,B.parentNode,xi):xi()}}},ne.dispose=function(){x.default.removeData(this._element,xm),this._element=null},ne._activate=function(D,B,W){var Ee=this,nt=(!B||"UL"!==B.nodeName&&"OL"!==B.nodeName?x.default(B).children(Tx):x.default(B).find(kx))[0],Nn=W&&nt&&x.default(nt).hasClass("fade"),Oi=function(){return Ee._transitionComplete(D,nt,W)};if(nt&&Nn){var xi=De.getTransitionDurationFromElement(nt);x.default(nt).removeClass("show").one(De.TRANSITION_END,Oi).emulateTransitionEnd(xi)}else Oi()},ne._transitionComplete=function(D,B,W){if(B){x.default(B).removeClass(bn);var Ee=x.default(B.parentNode).find("> .dropdown-menu .active")[0];Ee&&x.default(Ee).removeClass(bn),"tab"===B.getAttribute("role")&&B.setAttribute("aria-selected",!1)}if(x.default(D).addClass(bn),"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0),De.reflow(D),D.classList.contains("fade")&&D.classList.add("show"),D.parentNode&&x.default(D.parentNode).hasClass("dropdown-menu")){var Fe=x.default(D).closest(".dropdown")[0];if(Fe){var nt=[].slice.call(Fe.querySelectorAll(".dropdown-toggle"));x.default(nt).addClass(bn)}D.setAttribute("aria-expanded",!0)}W&&W()},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this),W=B.data(xm);if(W||(W=new be(this),B.data(xm,W)),"string"==typeof D){if(void 0===W[D])throw new TypeError('No method named "'+D+'"');W[D]()}})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),be}();x.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(be){be.preventDefault(),Ur._jQueryInterface.call(x.default(this),"show")}),x.default.fn.tab=Ur._jQueryInterface,x.default.fn.tab.Constructor=Ur,x.default.fn.tab.noConflict=function(){return x.default.fn.tab=Ua,Ur._jQueryInterface};var Df="toast",Ga="bs.toast",Sf="."+Ga,ib=x.default.fn[Df],NR="click.dismiss"+Sf,Zu="show",Ku="showing",MR={animation:"boolean",autohide:"boolean",delay:"number"},ob={animation:!0,autohide:!0,delay:500},Tm=function(){function be(K,D){this._element=K,this._config=this._getConfig(D),this._timeout=null,this._setListeners()}var ne=be.prototype;return ne.show=function(){var D=this,B=x.default.Event("show.bs.toast");if(x.default(this._element).trigger(B),!B.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var W=function(){D._element.classList.remove(Ku),D._element.classList.add(Zu),x.default(D._element).trigger("shown.bs.toast"),D._config.autohide&&(D._timeout=setTimeout(function(){D.hide()},D._config.delay))};if(this._element.classList.remove("hide"),De.reflow(this._element),this._element.classList.add(Ku),this._config.animation){var Ee=De.getTransitionDurationFromElement(this._element);x.default(this._element).one(De.TRANSITION_END,W).emulateTransitionEnd(Ee)}else W()}},ne.hide=function(){if(this._element.classList.contains(Zu)){var D=x.default.Event("hide.bs.toast");x.default(this._element).trigger(D),!D.isDefaultPrevented()&&this._close()}},ne.dispose=function(){this._clearTimeout(),this._element.classList.contains(Zu)&&this._element.classList.remove(Zu),x.default(this._element).off(NR),x.default.removeData(this._element,Ga),this._element=null,this._config=null},ne._getConfig=function(D){return D=Ce({},ob,x.default(this._element).data(),"object"==typeof D&&D?D:{}),De.typeCheckConfig(Df,D,this.constructor.DefaultType),D},ne._setListeners=function(){var D=this;x.default(this._element).on(NR,'[data-dismiss="toast"]',function(){return D.hide()})},ne._close=function(){var D=this,B=function(){D._element.classList.add("hide"),x.default(D._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(Zu),this._config.animation){var W=De.getTransitionDurationFromElement(this._element);x.default(this._element).one(De.TRANSITION_END,B).emulateTransitionEnd(W)}else B()},ne._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},be._jQueryInterface=function(D){return this.each(function(){var B=x.default(this),W=B.data(Ga);if(W||(W=new be(this,"object"==typeof D&&D),B.data(Ga,W)),"string"==typeof D){if(void 0===W[D])throw new TypeError('No method named "'+D+'"');W[D](this)}})},oe(be,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return MR}},{key:"Default",get:function(){return ob}}]),be}();x.default.fn[Df]=Tm._jQueryInterface,x.default.fn[Df].Constructor=Tm,x.default.fn[Df].noConflict=function(){return x.default.fn[Df]=ib,Tm._jQueryInterface},ue.Alert=jt,ue.Button=Pa,ue.Carousel=kt,ue.Collapse=If,ue.Dropdown=_l,ue.Modal=go,ue.Popover=js,ue.Scrollspy=Yu,ue.Tab=Ur,ue.Toast=Tm,ue.Tooltip=uu,ue.Util=De,Object.defineProperty(ue,"__esModule",{value:!0})}(yt,U(1704),U(404))},5439:$e=>{"use strict";$e.exports=function yt(U,ue){if(U===ue)return!0;if(U&&ue&&"object"==typeof U&&"object"==typeof ue){if(U.constructor!==ue.constructor)return!1;var fe,we,ie;if(Array.isArray(U)){if((fe=U.length)!=ue.length)return!1;for(we=fe;0!=we--;)if(!yt(U[we],ue[we]))return!1;return!0}if(U.constructor===RegExp)return U.source===ue.source&&U.flags===ue.flags;if(U.valueOf!==Object.prototype.valueOf)return U.valueOf()===ue.valueOf();if(U.toString!==Object.prototype.toString)return U.toString()===ue.toString();if((fe=(ie=Object.keys(U)).length)!==Object.keys(ue).length)return!1;for(we=fe;0!=we--;)if(!Object.prototype.hasOwnProperty.call(ue,ie[we]))return!1;for(we=fe;0!=we--;){var x=ie[we];if(!yt(U[x],ue[x]))return!1}return!0}return U!=U&&ue!=ue}},3324:$e=>{"use strict";$e.exports=function(yt,U){U||(U={}),"function"==typeof U&&(U={cmp:U});var ie,ue="boolean"==typeof U.cycles&&U.cycles,fe=U.cmp&&(ie=U.cmp,function(x){return function(Z,Y){return ie({key:Z,value:x[Z]},{key:Y,value:x[Y]})}}),we=[];return function ie(x){if(x&&x.toJSON&&"function"==typeof x.toJSON&&(x=x.toJSON()),void 0!==x){if("number"==typeof x)return isFinite(x)?""+x:"null";if("object"!=typeof x)return JSON.stringify(x);var Z,Y;if(Array.isArray(x)){for(Y="[",Z=0;Z<x.length;Z++)Z&&(Y+=","),Y+=ie(x[Z])||"null";return Y+"]"}if(null===x)return"null";if(-1!==we.indexOf(x)){if(ue)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var oe=we.push(x)-1,Ce=Object.keys(x).sort(fe&&fe(x));for(Y="",Z=0;Z<Ce.length;Z++){var re=Ce[Z],he=ie(x[re]);!he||(Y&&(Y+=","),Y+=JSON.stringify(re)+":"+he)}return we.splice(oe,1),"{"+Y+"}"}}(yt)}},1704:function($e,yt){var ue;!function(fe,we){"use strict";"object"==typeof $e.exports?$e.exports=fe.document?we(fe,!0):function(ie){if(!ie.document)throw new Error("jQuery requires a window with a document");return we(ie)}:we(fe)}("undefined"!=typeof window?window:this,function(fe,we){"use strict";var ie=[],x=Object.getPrototypeOf,Z=ie.slice,Y=ie.flat?function(A){return ie.flat.call(A)}:function(A){return ie.concat.apply([],A)},oe=ie.push,Ce=ie.indexOf,re={},he=re.toString,Ge=re.hasOwnProperty,St=Ge.toString,Lt=St.call(Object),It={},mt=function(v){return"function"==typeof v&&"number"!=typeof v.nodeType&&"function"!=typeof v.item},an=function(v){return null!=v&&v===v.window},De=fe.document,Ot={type:!0,src:!0,nonce:!0,noModule:!0};function Tt(A,v,b){var w,R,F=(b=b||De).createElement("script");if(F.text=A,v)for(w in Ot)(R=v[w]||v.getAttribute&&v.getAttribute(w))&&F.setAttribute(w,R);b.head.appendChild(F).parentNode.removeChild(F)}function ye(A){return null==A?A+"":"object"==typeof A||"function"==typeof A?re[he.call(A)]||"object":typeof A}var E=function(A,v){return new E.fn.init(A,v)};function Jt(A){var v=!!A&&"length"in A&&A.length,b=ye(A);return!mt(A)&&!an(A)&&("array"===b||0===v||"number"==typeof v&&v>0&&v-1 in A)}E.fn=E.prototype={jquery:"3.6.0",constructor:E,length:0,toArray:function(){return Z.call(this)},get:function(A){return null==A?Z.call(this):A<0?this[A+this.length]:this[A]},pushStack:function(A){var v=E.merge(this.constructor(),A);return v.prevObject=this,v},each:function(A){return E.each(this,A)},map:function(A){return this.pushStack(E.map(this,function(v,b){return A.call(v,b,v)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(A,v){return(v+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(A,v){return v%2}))},eq:function(A){var v=this.length,b=+A+(A<0?v:0);return this.pushStack(b>=0&&b<v?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ie.sort,splice:ie.splice},E.extend=E.fn.extend=function(){var A,v,b,w,R,F,P=arguments[0]||{},X=1,G=arguments.length,pe=!1;for("boolean"==typeof P&&(pe=P,P=arguments[X]||{},X++),"object"!=typeof P&&!mt(P)&&(P={}),X===G&&(P=this,X--);X<G;X++)if(null!=(A=arguments[X]))for(v in A)w=A[v],"__proto__"!==v&&P!==w&&(pe&&w&&(E.isPlainObject(w)||(R=Array.isArray(w)))?(b=P[v],F=R&&!Array.isArray(b)?[]:R||E.isPlainObject(b)?b:{},R=!1,P[v]=E.extend(pe,F,w)):void 0!==w&&(P[v]=w));return P},E.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isPlainObject:function(A){var v,b;return!(!A||"[object Object]"!==he.call(A)||(v=x(A))&&("function"!=typeof(b=Ge.call(v,"constructor")&&v.constructor)||St.call(b)!==Lt))},isEmptyObject:function(A){var v;for(v in A)return!1;return!0},globalEval:function(A,v,b){Tt(A,{nonce:v&&v.nonce},b)},each:function(A,v){var b,w=0;if(Jt(A))for(b=A.length;w<b&&!1!==v.call(A[w],w,A[w]);w++);else for(w in A)if(!1===v.call(A[w],w,A[w]))break;return A},makeArray:function(A,v){var b=v||[];return null!=A&&(Jt(Object(A))?E.merge(b,"string"==typeof A?[A]:A):oe.call(b,A)),b},inArray:function(A,v,b){return null==v?-1:Ce.call(v,A,b)},merge:function(A,v){for(var b=+v.length,w=0,R=A.length;w<b;w++)A[R++]=v[w];return A.length=R,A},grep:function(A,v,b){for(var R=[],F=0,P=A.length,X=!b;F<P;F++)!v(A[F],F)!==X&&R.push(A[F]);return R},map:function(A,v,b){var w,R,F=0,P=[];if(Jt(A))for(w=A.length;F<w;F++)null!=(R=v(A[F],F,b))&&P.push(R);else for(F in A)null!=(R=v(A[F],F,b))&&P.push(R);return Y(P)},guid:1,support:It}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=ie[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,v){re["[object "+v+"]"]=v.toLowerCase()});var Ir=function(A){var v,b,w,R,F,P,X,G,pe,xe,de,Ie,Se,Bt,dn,Rt,Kr,Ni,At,Vt="sizzle"+1*new Date,Ft=A.document,or=0,Ln=0,jn=uu(),ga=uu(),mr=uu(),Eo=uu(),da=function(j,Q){return j===Q&&(de=!0),0},xn={}.hasOwnProperty,co=[],ms=co.pop,go=co.push,Ls=co.push,Jo=co.slice,ja=function(j,Q){for(var ce=0,Re=j.length;ce<Re;ce++)if(j[ce]===Q)return ce;return-1},Gu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qn="[\\x20\\t\\r\\n\\f]",wi="(?:\\\\[\\da-fA-F]{1,6}"+qn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Xp="\\["+qn+"*("+wi+")(?:"+qn+"*([*^$|!~]?=)"+qn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+wi+"))|)"+qn+"*\\]",su=":("+wi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Xp+")*)|.*)\\)|)",Lh=new RegExp(qn+"+","g"),au=new RegExp("^"+qn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qn+"+$","g"),es=new RegExp("^"+qn+"*,"+qn+"*"),bf=new RegExp("^"+qn+"*([>+~]|"+qn+")"+qn+"*"),Wu=new RegExp(qn+"|>"),Lo=new RegExp(su),Qy=new RegExp("^"+wi+"$"),Bs={ID:new RegExp("^#("+wi+")"),CLASS:new RegExp("^\\.("+wi+")"),TAG:new RegExp("^("+wi+"|[*])"),ATTR:new RegExp("^"+Xp),PSEUDO:new RegExp("^"+su),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+qn+"*(even|odd|(([+-]|)(\\d*)n|)"+qn+"*(?:([+-]|)"+qn+"*(\\d+)|))"+qn+"*\\)|)","i"),bool:new RegExp("^(?:"+Gu+")$","i"),needsContext:new RegExp("^"+qn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+qn+"*((?:-\\d)?\\d*)"+qn+"*\\)|)(?=[^-]|$)","i")},Va=/HTML$/i,Qp=/^(?:input|select|textarea|button)$/i,$u=/^h\d$/i,wl=/^[^{]+\{\s*\[native \w/,za=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Uc=/[+~]/,fa=new RegExp("\\\\[\\da-fA-F]{1,6}"+qn+"?|\\\\([^\\r\\n\\f])","g"),lu=function(j,Q){var ce="0x"+j.slice(1)-65536;return Q||(ce<0?String.fromCharCode(ce+65536):String.fromCharCode(ce>>10|55296,1023&ce|56320))},_m=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_f=function(j,Q){return Q?"\0"===j?"\ufffd":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j},Jp=function(){Ie()},yx=tA(function(j){return!0===j.disabled&&"fieldset"===j.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Ls.apply(co=Jo.call(Ft.childNodes),Ft.childNodes)}catch(j){Ls={apply:co.length?function(Q,ce){go.apply(Q,Jo.call(ce))}:function(Q,ce){for(var Re=Q.length,Ae=0;Q[Re++]=ce[Ae++];);Q.length=Re-1}}}function lr(j,Q,ce,Re){var Ae,ze,qe,ot,Dt,Wt,nn,fn=Q&&Q.ownerDocument,zn=Q?Q.nodeType:9;if(ce=ce||[],"string"!=typeof j||!j||1!==zn&&9!==zn&&11!==zn)return ce;if(!Re&&(Ie(Q),Q=Q||Se,dn)){if(11!==zn&&(Dt=za.exec(j)))if(Ae=Dt[1]){if(9===zn){if(!(qe=Q.getElementById(Ae)))return ce;if(qe.id===Ae)return ce.push(qe),ce}else if(fn&&(qe=fn.getElementById(Ae))&&At(Q,qe)&&qe.id===Ae)return ce.push(qe),ce}else{if(Dt[2])return Ls.apply(ce,Q.getElementsByTagName(j)),ce;if((Ae=Dt[3])&&b.getElementsByClassName&&Q.getElementsByClassName)return Ls.apply(ce,Q.getElementsByClassName(Ae)),ce}if(b.qsa&&!Eo[j+" "]&&(!Rt||!Rt.test(j))&&(1!==zn||"object"!==Q.nodeName.toLowerCase())){if(nn=j,fn=Q,1===zn&&(Wu.test(j)||bf.test(j))){for(((fn=Uc.test(j)&&wm(Q.parentNode)||Q)!==Q||!b.scope)&&((ot=Q.getAttribute("id"))?ot=ot.replace(_m,_f):Q.setAttribute("id",ot=Vt)),ze=(Wt=P(j)).length;ze--;)Wt[ze]=(ot?"#"+ot:":scope")+" "+Kg(Wt[ze]);nn=Wt.join(",")}try{return Ls.apply(ce,fn.querySelectorAll(nn)),ce}catch(ur){Eo(j,!0)}finally{ot===Vt&&Q.removeAttribute("id")}}}return G(j.replace(au,"$1"),Q,ce,Re)}function uu(){var j=[];return function Q(ce,Re){return j.push(ce+" ")>w.cacheLength&&delete Q[j.shift()],Q[ce+" "]=Re}}function ts(j){return j[Vt]=!0,j}function El(j){var Q=Se.createElement("fieldset");try{return!!j(Q)}catch(ce){return!1}finally{Q.parentNode&&Q.parentNode.removeChild(Q),Q=null}}function wf(j,Q){for(var ce=j.split("|"),Re=ce.length;Re--;)w.attrHandle[ce[Re]]=Q}function Ha(j,Q){var ce=Q&&j,Re=ce&&1===j.nodeType&&1===Q.nodeType&&j.sourceIndex-Q.sourceIndex;if(Re)return Re;if(ce)for(;ce=ce.nextSibling;)if(ce===Q)return-1;return j?1:-1}function bx(j){return function(Q){return"input"===Q.nodeName.toLowerCase()&&Q.type===j}}function Jy(j){return function(Q){var ce=Q.nodeName.toLowerCase();return("input"===ce||"button"===ce)&&Q.type===j}}function eb(j){return function(Q){return"form"in Q?Q.parentNode&&!1===Q.disabled?"label"in Q?"label"in Q.parentNode?Q.parentNode.disabled===j:Q.disabled===j:Q.isDisabled===j||Q.isDisabled!==!j&&yx(Q)===j:Q.disabled===j:"label"in Q&&Q.disabled===j}}function Zg(j){return ts(function(Q){return Q=+Q,ts(function(ce,Re){for(var Ae,ze=j([],ce.length,Q),qe=ze.length;qe--;)ce[Ae=ze[qe]]&&(ce[Ae]=!(Re[Ae]=ce[Ae]))})})}function wm(j){return j&&void 0!==j.getElementsByTagName&&j}for(v in b=lr.support={},F=lr.isXML=function(j){var ce=j&&(j.ownerDocument||j).documentElement;return!Va.test(j&&j.namespaceURI||ce&&ce.nodeName||"HTML")},Ie=lr.setDocument=function(j){var Q,ce,Re=j?j.ownerDocument||j:Ft;return Re==Se||9!==Re.nodeType||!Re.documentElement||(Bt=(Se=Re).documentElement,dn=!F(Se),Ft!=Se&&(ce=Se.defaultView)&&ce.top!==ce&&(ce.addEventListener?ce.addEventListener("unload",Jp,!1):ce.attachEvent&&ce.attachEvent("onunload",Jp)),b.scope=El(function(Ae){return Bt.appendChild(Ae).appendChild(Se.createElement("div")),void 0!==Ae.querySelectorAll&&!Ae.querySelectorAll(":scope fieldset div").length}),b.attributes=El(function(Ae){return Ae.className="i",!Ae.getAttribute("className")}),b.getElementsByTagName=El(function(Ae){return Ae.appendChild(Se.createComment("")),!Ae.getElementsByTagName("*").length}),b.getElementsByClassName=wl.test(Se.getElementsByClassName),b.getById=El(function(Ae){return Bt.appendChild(Ae).id=Vt,!Se.getElementsByName||!Se.getElementsByName(Vt).length}),b.getById?(w.filter.ID=function(Ae){var ze=Ae.replace(fa,lu);return function(qe){return qe.getAttribute("id")===ze}},w.find.ID=function(Ae,ze){if(void 0!==ze.getElementById&&dn){var qe=ze.getElementById(Ae);return qe?[qe]:[]}}):(w.filter.ID=function(Ae){var ze=Ae.replace(fa,lu);return function(qe){var ot=void 0!==qe.getAttributeNode&&qe.getAttributeNode("id");return ot&&ot.value===ze}},w.find.ID=function(Ae,ze){if(void 0!==ze.getElementById&&dn){var qe,ot,Dt,Wt=ze.getElementById(Ae);if(Wt){if((qe=Wt.getAttributeNode("id"))&&qe.value===Ae)return[Wt];for(Dt=ze.getElementsByName(Ae),ot=0;Wt=Dt[ot++];)if((qe=Wt.getAttributeNode("id"))&&qe.value===Ae)return[Wt]}return[]}}),w.find.TAG=b.getElementsByTagName?function(Ae,ze){return void 0!==ze.getElementsByTagName?ze.getElementsByTagName(Ae):b.qsa?ze.querySelectorAll(Ae):void 0}:function(Ae,ze){var qe,ot=[],Dt=0,Wt=ze.getElementsByTagName(Ae);if("*"===Ae){for(;qe=Wt[Dt++];)1===qe.nodeType&&ot.push(qe);return ot}return Wt},w.find.CLASS=b.getElementsByClassName&&function(Ae,ze){if(void 0!==ze.getElementsByClassName&&dn)return ze.getElementsByClassName(Ae)},Kr=[],Rt=[],(b.qsa=wl.test(Se.querySelectorAll))&&(El(function(Ae){var ze;Bt.appendChild(Ae).innerHTML="<a id='"+Vt+"'></a><select id='"+Vt+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ae.querySelectorAll("[msallowcapture^='']").length&&Rt.push("[*^$]="+qn+"*(?:''|\"\")"),Ae.querySelectorAll("[selected]").length||Rt.push("\\["+qn+"*(?:value|"+Gu+")"),Ae.querySelectorAll("[id~="+Vt+"-]").length||Rt.push("~="),(ze=Se.createElement("input")).setAttribute("name",""),Ae.appendChild(ze),Ae.querySelectorAll("[name='']").length||Rt.push("\\["+qn+"*name"+qn+"*="+qn+"*(?:''|\"\")"),Ae.querySelectorAll(":checked").length||Rt.push(":checked"),Ae.querySelectorAll("a#"+Vt+"+*").length||Rt.push(".#.+[+~]"),Ae.querySelectorAll("\\\f"),Rt.push("[\\r\\n\\f]")}),El(function(Ae){Ae.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ze=Se.createElement("input");ze.setAttribute("type","hidden"),Ae.appendChild(ze).setAttribute("name","D"),Ae.querySelectorAll("[name=d]").length&&Rt.push("name"+qn+"*[*^$|!~]?="),2!==Ae.querySelectorAll(":enabled").length&&Rt.push(":enabled",":disabled"),Bt.appendChild(Ae).disabled=!0,2!==Ae.querySelectorAll(":disabled").length&&Rt.push(":enabled",":disabled"),Ae.querySelectorAll("*,:x"),Rt.push(",.*:")})),(b.matchesSelector=wl.test(Ni=Bt.matches||Bt.webkitMatchesSelector||Bt.mozMatchesSelector||Bt.oMatchesSelector||Bt.msMatchesSelector))&&El(function(Ae){b.disconnectedMatch=Ni.call(Ae,"*"),Ni.call(Ae,"[s!='']:x"),Kr.push("!=",su)}),Rt=Rt.length&&new RegExp(Rt.join("|")),Kr=Kr.length&&new RegExp(Kr.join("|")),Q=wl.test(Bt.compareDocumentPosition),At=Q||wl.test(Bt.contains)?function(Ae,ze){var qe=9===Ae.nodeType?Ae.documentElement:Ae,ot=ze&&ze.parentNode;return Ae===ot||!(!ot||1!==ot.nodeType||!(qe.contains?qe.contains(ot):Ae.compareDocumentPosition&&16&Ae.compareDocumentPosition(ot)))}:function(Ae,ze){if(ze)for(;ze=ze.parentNode;)if(ze===Ae)return!0;return!1},da=Q?function(Ae,ze){if(Ae===ze)return de=!0,0;var qe=!Ae.compareDocumentPosition-!ze.compareDocumentPosition;return qe||(1&(qe=(Ae.ownerDocument||Ae)==(ze.ownerDocument||ze)?Ae.compareDocumentPosition(ze):1)||!b.sortDetached&&ze.compareDocumentPosition(Ae)===qe?Ae==Se||Ae.ownerDocument==Ft&&At(Ft,Ae)?-1:ze==Se||ze.ownerDocument==Ft&&At(Ft,ze)?1:xe?ja(xe,Ae)-ja(xe,ze):0:4&qe?-1:1)}:function(Ae,ze){if(Ae===ze)return de=!0,0;var qe,ot=0,Dt=Ae.parentNode,Wt=ze.parentNode,nn=[Ae],fn=[ze];if(!Dt||!Wt)return Ae==Se?-1:ze==Se?1:Dt?-1:Wt?1:xe?ja(xe,Ae)-ja(xe,ze):0;if(Dt===Wt)return Ha(Ae,ze);for(qe=Ae;qe=qe.parentNode;)nn.unshift(qe);for(qe=ze;qe=qe.parentNode;)fn.unshift(qe);for(;nn[ot]===fn[ot];)ot++;return ot?Ha(nn[ot],fn[ot]):nn[ot]==Ft?-1:fn[ot]==Ft?1:0}),Se},lr.matches=function(j,Q){return lr(j,null,null,Q)},lr.matchesSelector=function(j,Q){if(Ie(j),b.matchesSelector&&dn&&!Eo[Q+" "]&&(!Kr||!Kr.test(Q))&&(!Rt||!Rt.test(Q)))try{var ce=Ni.call(j,Q);if(ce||b.disconnectedMatch||j.document&&11!==j.document.nodeType)return ce}catch(Re){Eo(Q,!0)}return lr(Q,Se,null,[j]).length>0},lr.contains=function(j,Q){return(j.ownerDocument||j)!=Se&&Ie(j),At(j,Q)},lr.attr=function(j,Q){(j.ownerDocument||j)!=Se&&Ie(j);var ce=w.attrHandle[Q.toLowerCase()],Re=ce&&xn.call(w.attrHandle,Q.toLowerCase())?ce(j,Q,!dn):void 0;return void 0!==Re?Re:b.attributes||!dn?j.getAttribute(Q):(Re=j.getAttributeNode(Q))&&Re.specified?Re.value:null},lr.escape=function(j){return(j+"").replace(_m,_f)},lr.error=function(j){throw new Error("Syntax error, unrecognized expression: "+j)},lr.uniqueSort=function(j){var Q,ce=[],Re=0,Ae=0;if(de=!b.detectDuplicates,xe=!b.sortStable&&j.slice(0),j.sort(da),de){for(;Q=j[Ae++];)Q===j[Ae]&&(Re=ce.push(Ae));for(;Re--;)j.splice(ce[Re],1)}return xe=null,j},R=lr.getText=function(j){var Q,ce="",Re=0,Ae=j.nodeType;if(Ae){if(1===Ae||9===Ae||11===Ae){if("string"==typeof j.textContent)return j.textContent;for(j=j.firstChild;j;j=j.nextSibling)ce+=R(j)}else if(3===Ae||4===Ae)return j.nodeValue}else for(;Q=j[Re++];)ce+=R(Q);return ce},(w=lr.selectors={cacheLength:50,createPseudo:ts,match:Bs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(fa,lu),j[3]=(j[3]||j[4]||j[5]||"").replace(fa,lu),"~="===j[2]&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),"nth"===j[1].slice(0,3)?(j[3]||lr.error(j[0]),j[4]=+(j[4]?j[5]+(j[6]||1):2*("even"===j[3]||"odd"===j[3])),j[5]=+(j[7]+j[8]||"odd"===j[3])):j[3]&&lr.error(j[0]),j},PSEUDO:function(j){var Q,ce=!j[6]&&j[2];return Bs.CHILD.test(j[0])?null:(j[3]?j[2]=j[4]||j[5]||"":ce&&Lo.test(ce)&&(Q=P(ce,!0))&&(Q=ce.indexOf(")",ce.length-Q)-ce.length)&&(j[0]=j[0].slice(0,Q),j[2]=ce.slice(0,Q)),j.slice(0,3))}},filter:{TAG:function(j){var Q=j.replace(fa,lu).toLowerCase();return"*"===j?function(){return!0}:function(ce){return ce.nodeName&&ce.nodeName.toLowerCase()===Q}},CLASS:function(j){var Q=jn[j+" "];return Q||(Q=new RegExp("(^|"+qn+")"+j+"("+qn+"|$)"))&&jn(j,function(ce){return Q.test("string"==typeof ce.className&&ce.className||void 0!==ce.getAttribute&&ce.getAttribute("class")||"")})},ATTR:function(j,Q,ce){return function(Re){var Ae=lr.attr(Re,j);return null==Ae?"!="===Q:!Q||(Ae+="","="===Q?Ae===ce:"!="===Q?Ae!==ce:"^="===Q?ce&&0===Ae.indexOf(ce):"*="===Q?ce&&Ae.indexOf(ce)>-1:"$="===Q?ce&&Ae.slice(-ce.length)===ce:"~="===Q?(" "+Ae.replace(Lh," ")+" ").indexOf(ce)>-1:"|="===Q&&(Ae===ce||Ae.slice(0,ce.length+1)===ce+"-"))}},CHILD:function(j,Q,ce,Re,Ae){var ze="nth"!==j.slice(0,3),qe="last"!==j.slice(-4),ot="of-type"===Q;return 1===Re&&0===Ae?function(Dt){return!!Dt.parentNode}:function(Dt,Wt,nn){var fn,zn,ur,Nt,fo,xo,Vs=ze!==qe?"nextSibling":"previousSibling",Vn=Dt.parentNode,Xg=ot&&Dt.nodeName.toLowerCase(),Yu=!nn&&!ot,Xr=!1;if(Vn){if(ze){for(;Vs;){for(Nt=Dt;Nt=Nt[Vs];)if(ot?Nt.nodeName.toLowerCase()===Xg:1===Nt.nodeType)return!1;xo=Vs="only"===j&&!xo&&"nextSibling"}return!0}if(xo=[qe?Vn.firstChild:Vn.lastChild],qe&&Yu){for(Xr=(fo=(fn=(zn=(ur=(Nt=Vn)[Vt]||(Nt[Vt]={}))[Nt.uniqueID]||(ur[Nt.uniqueID]={}))[j]||[])[0]===or&&fn[1])&&fn[2],Nt=fo&&Vn.childNodes[fo];Nt=++fo&&Nt&&Nt[Vs]||(Xr=fo=0)||xo.pop();)if(1===Nt.nodeType&&++Xr&&Nt===Dt){zn[j]=[or,fo,Xr];break}}else if(Yu&&(Xr=fo=(fn=(zn=(ur=(Nt=Dt)[Vt]||(Nt[Vt]={}))[Nt.uniqueID]||(ur[Nt.uniqueID]={}))[j]||[])[0]===or&&fn[1]),!1===Xr)for(;(Nt=++fo&&Nt&&Nt[Vs]||(Xr=fo=0)||xo.pop())&&((ot?Nt.nodeName.toLowerCase()!==Xg:1!==Nt.nodeType)||!++Xr||(Yu&&((zn=(ur=Nt[Vt]||(Nt[Vt]={}))[Nt.uniqueID]||(ur[Nt.uniqueID]={}))[j]=[or,Xr]),Nt!==Dt)););return(Xr-=Ae)===Re||Xr%Re==0&&Xr/Re>=0}}},PSEUDO:function(j,Q){var ce,Re=w.pseudos[j]||w.setFilters[j.toLowerCase()]||lr.error("unsupported pseudo: "+j);return Re[Vt]?Re(Q):Re.length>1?(ce=[j,j,"",Q],w.setFilters.hasOwnProperty(j.toLowerCase())?ts(function(Ae,ze){for(var qe,ot=Re(Ae,Q),Dt=ot.length;Dt--;)Ae[qe=ja(Ae,ot[Dt])]=!(ze[qe]=ot[Dt])}):function(Ae){return Re(Ae,0,ce)}):Re}},pseudos:{not:ts(function(j){var Q=[],ce=[],Re=X(j.replace(au,"$1"));return Re[Vt]?ts(function(Ae,ze,qe,ot){for(var Dt,Wt=Re(Ae,null,ot,[]),nn=Ae.length;nn--;)(Dt=Wt[nn])&&(Ae[nn]=!(ze[nn]=Dt))}):function(Ae,ze,qe){return Q[0]=Ae,Re(Q,null,qe,ce),Q[0]=null,!ce.pop()}}),has:ts(function(j){return function(Q){return lr(j,Q).length>0}}),contains:ts(function(j){return j=j.replace(fa,lu),function(Q){return(Q.textContent||R(Q)).indexOf(j)>-1}}),lang:ts(function(j){return Qy.test(j||"")||lr.error("unsupported lang: "+j),j=j.replace(fa,lu).toLowerCase(),function(Q){var ce;do{if(ce=dn?Q.lang:Q.getAttribute("xml:lang")||Q.getAttribute("lang"))return(ce=ce.toLowerCase())===j||0===ce.indexOf(j+"-")}while((Q=Q.parentNode)&&1===Q.nodeType);return!1}}),target:function(j){var Q=A.location&&A.location.hash;return Q&&Q.slice(1)===j.id},root:function(j){return j===Bt},focus:function(j){return j===Se.activeElement&&(!Se.hasFocus||Se.hasFocus())&&!!(j.type||j.href||~j.tabIndex)},enabled:eb(!1),disabled:eb(!0),checked:function(j){var Q=j.nodeName.toLowerCase();return"input"===Q&&!!j.checked||"option"===Q&&!!j.selected},selected:function(j){return!0===j.selected},empty:function(j){for(j=j.firstChild;j;j=j.nextSibling)if(j.nodeType<6)return!1;return!0},parent:function(j){return!w.pseudos.empty(j)},header:function(j){return $u.test(j.nodeName)},input:function(j){return Qp.test(j.nodeName)},button:function(j){var Q=j.nodeName.toLowerCase();return"input"===Q&&"button"===j.type||"button"===Q},text:function(j){var Q;return"input"===j.nodeName.toLowerCase()&&"text"===j.type&&(null==(Q=j.getAttribute("type"))||"text"===Q.toLowerCase())},first:Zg(function(){return[0]}),last:Zg(function(j,Q){return[Q-1]}),eq:Zg(function(j,Q,ce){return[ce<0?ce+Q:ce]}),even:Zg(function(j,Q){for(var ce=0;ce<Q;ce+=2)j.push(ce);return j}),odd:Zg(function(j,Q){for(var ce=1;ce<Q;ce+=2)j.push(ce);return j}),lt:Zg(function(j,Q,ce){for(var Re=ce<0?ce+Q:ce>Q?Q:ce;--Re>=0;)j.push(Re);return j}),gt:Zg(function(j,Q,ce){for(var Re=ce<0?ce+Q:ce;++Re<Q;)j.push(Re);return j})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[v]=bx(v);for(v in{submit:!0,reset:!0})w.pseudos[v]=Jy(v);function eA(){}function Kg(j){for(var Q=0,ce=j.length,Re="";Q<ce;Q++)Re+=j[Q].value;return Re}function tA(j,Q,ce){var Re=Q.dir,Ae=Q.next,ze=Ae||Re,qe=ce&&"parentNode"===ze,ot=Ln++;return Q.first?function(Dt,Wt,nn){for(;Dt=Dt[Re];)if(1===Dt.nodeType||qe)return j(Dt,Wt,nn);return!1}:function(Dt,Wt,nn){var fn,zn,ur,Nt=[or,ot];if(nn){for(;Dt=Dt[Re];)if((1===Dt.nodeType||qe)&&j(Dt,Wt,nn))return!0}else for(;Dt=Dt[Re];)if(1===Dt.nodeType||qe)if(zn=(ur=Dt[Vt]||(Dt[Vt]={}))[Dt.uniqueID]||(ur[Dt.uniqueID]={}),Ae&&Ae===Dt.nodeName.toLowerCase())Dt=Dt[Re]||Dt;else{if((fn=zn[ze])&&fn[0]===or&&fn[1]===ot)return Nt[2]=fn[2];if(zn[ze]=Nt,Nt[2]=j(Dt,Wt,nn))return!0}return!1}}function Em(j){return j.length>1?function(Q,ce,Re){for(var Ae=j.length;Ae--;)if(!j[Ae](Q,ce,Re))return!1;return!0}:j[0]}function js(j,Q,ce,Re,Ae){for(var ze,qe=[],ot=0,Dt=j.length,Wt=null!=Q;ot<Dt;ot++)(ze=j[ot])&&(!ce||ce(ze,Re,Ae))&&(qe.push(ze),Wt&&Q.push(ot));return qe}function xl(j,Q,ce,Re,Ae,ze){return Re&&!Re[Vt]&&(Re=xl(Re)),Ae&&!Ae[Vt]&&(Ae=xl(Ae,ze)),ts(function(qe,ot,Dt,Wt){var nn,fn,zn,ur=[],Nt=[],fo=ot.length,xo=qe||function(j,Q,ce){for(var Re=0,Ae=Q.length;Re<Ae;Re++)lr(j,Q[Re],ce);return ce}(Q||"*",Dt.nodeType?[Dt]:Dt,[]),Vs=!j||!qe&&Q?xo:js(xo,ur,j,Dt,Wt),Vn=ce?Ae||(qe?j:fo||Re)?[]:ot:Vs;if(ce&&ce(Vs,Vn,Dt,Wt),Re)for(nn=js(Vn,Nt),Re(nn,[],Dt,Wt),fn=nn.length;fn--;)(zn=nn[fn])&&(Vn[Nt[fn]]=!(Vs[Nt[fn]]=zn));if(qe){if(Ae||j){if(Ae){for(nn=[],fn=Vn.length;fn--;)(zn=Vn[fn])&&nn.push(Vs[fn]=zn);Ae(null,Vn=[],nn,Wt)}for(fn=Vn.length;fn--;)(zn=Vn[fn])&&(nn=Ae?ja(qe,zn):ur[fn])>-1&&(qe[nn]=!(ot[nn]=zn))}}else Vn=js(Vn===ot?Vn.splice(fo,Vn.length):Vn),Ae?Ae(null,ot,Vn,Wt):Ls.apply(ot,Vn)})}function mi(j){for(var Q,ce,Re,Ae=j.length,ze=w.relative[j[0].type],qe=ze||w.relative[" "],ot=ze?1:0,Dt=tA(function(fn){return fn===Q},qe,!0),Wt=tA(function(fn){return ja(Q,fn)>-1},qe,!0),nn=[function(fn,zn,ur){var Nt=!ze&&(ur||zn!==pe)||((Q=zn).nodeType?Dt(fn,zn,ur):Wt(fn,zn,ur));return Q=null,Nt}];ot<Ae;ot++)if(ce=w.relative[j[ot].type])nn=[tA(Em(nn),ce)];else{if((ce=w.filter[j[ot].type].apply(null,j[ot].matches))[Vt]){for(Re=++ot;Re<Ae&&!w.relative[j[Re].type];Re++);return xl(ot>1&&Em(nn),ot>1&&Kg(j.slice(0,ot-1).concat({value:" "===j[ot-2].type?"*":""})).replace(au,"$1"),ce,ot<Re&&mi(j.slice(ot,Re)),Re<Ae&&mi(j=j.slice(Re)),Re<Ae&&Kg(j))}nn.push(ce)}return Em(nn)}return eA.prototype=w.filters=w.pseudos,w.setFilters=new eA,P=lr.tokenize=function(j,Q){var ce,Re,Ae,ze,qe,ot,Dt,Wt=ga[j+" "];if(Wt)return Q?0:Wt.slice(0);for(qe=j,ot=[],Dt=w.preFilter;qe;){for(ze in(!ce||(Re=es.exec(qe)))&&(Re&&(qe=qe.slice(Re[0].length)||qe),ot.push(Ae=[])),ce=!1,(Re=bf.exec(qe))&&(ce=Re.shift(),Ae.push({value:ce,type:Re[0].replace(au," ")}),qe=qe.slice(ce.length)),w.filter)(Re=Bs[ze].exec(qe))&&(!Dt[ze]||(Re=Dt[ze](Re)))&&(ce=Re.shift(),Ae.push({value:ce,type:ze,matches:Re}),qe=qe.slice(ce.length));if(!ce)break}return Q?qe.length:qe?lr.error(j):ga(j,ot).slice(0)},X=lr.compile=function(j,Q){var ce,Re=[],Ae=[],ze=mr[j+" "];if(!ze){for(Q||(Q=P(j)),ce=Q.length;ce--;)(ze=mi(Q[ce]))[Vt]?Re.push(ze):Ae.push(ze);(ze=mr(j,function(j,Q){var ce=Q.length>0,Re=j.length>0,Ae=function(ze,qe,ot,Dt,Wt){var nn,fn,zn,ur=0,Nt="0",fo=ze&&[],xo=[],Vs=pe,Vn=ze||Re&&w.find.TAG("*",Wt),Xg=or+=null==Vs?1:Math.random()||.1,Yu=Vn.length;for(Wt&&(pe=qe==Se||qe||Wt);Nt!==Yu&&null!=(nn=Vn[Nt]);Nt++){if(Re&&nn){for(fn=0,!qe&&nn.ownerDocument!=Se&&(Ie(nn),ot=!dn);zn=j[fn++];)if(zn(nn,qe||Se,ot)){Dt.push(nn);break}Wt&&(or=Xg)}ce&&((nn=!zn&&nn)&&ur--,ze&&fo.push(nn))}if(ur+=Nt,ce&&Nt!==ur){for(fn=0;zn=Q[fn++];)zn(fo,xo,qe,ot);if(ze){if(ur>0)for(;Nt--;)fo[Nt]||xo[Nt]||(xo[Nt]=ms.call(Dt));xo=js(xo)}Ls.apply(Dt,xo),Wt&&!ze&&xo.length>0&&ur+Q.length>1&&lr.uniqueSort(Dt)}return Wt&&(or=Xg,pe=Vs),fo};return ce?ts(Ae):Ae}(Ae,Re))).selector=j}return ze},G=lr.select=function(j,Q,ce,Re){var Ae,ze,qe,ot,Dt,Wt="function"==typeof j&&j,nn=!Re&&P(j=Wt.selector||j);if(ce=ce||[],1===nn.length){if((ze=nn[0]=nn[0].slice(0)).length>2&&"ID"===(qe=ze[0]).type&&9===Q.nodeType&&dn&&w.relative[ze[1].type]){if(!(Q=(w.find.ID(qe.matches[0].replace(fa,lu),Q)||[])[0]))return ce;Wt&&(Q=Q.parentNode),j=j.slice(ze.shift().value.length)}for(Ae=Bs.needsContext.test(j)?0:ze.length;Ae--&&!w.relative[ot=(qe=ze[Ae]).type];)if((Dt=w.find[ot])&&(Re=Dt(qe.matches[0].replace(fa,lu),Uc.test(ze[0].type)&&wm(Q.parentNode)||Q))){if(ze.splice(Ae,1),!(j=Re.length&&Kg(ze)))return Ls.apply(ce,Re),ce;break}}return(Wt||X(j,nn))(Re,Q,!dn,ce,!Q||Uc.test(j)&&wm(Q.parentNode)||Q),ce},b.sortStable=Vt.split("").sort(da).join("")===Vt,b.detectDuplicates=!!de,Ie(),b.sortDetached=El(function(j){return 1&j.compareDocumentPosition(Se.createElement("fieldset"))}),El(function(j){return j.innerHTML="<a href='#'></a>","#"===j.firstChild.getAttribute("href")})||wf("type|href|height|width",function(j,Q,ce){if(!ce)return j.getAttribute(Q,"type"===Q.toLowerCase()?1:2)}),(!b.attributes||!El(function(j){return j.innerHTML="<input/>",j.firstChild.setAttribute("value",""),""===j.firstChild.getAttribute("value")}))&&wf("value",function(j,Q,ce){if(!ce&&"input"===j.nodeName.toLowerCase())return j.defaultValue}),El(function(j){return null==j.getAttribute("disabled")})||wf(Gu,function(j,Q,ce){var Re;if(!ce)return!0===j[Q]?Q.toLowerCase():(Re=j.getAttributeNode(Q))&&Re.specified?Re.value:null}),lr}(fe);E.find=Ir,E.expr=Ir.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=Ir.uniqueSort,E.text=Ir.getText,E.isXMLDoc=Ir.isXML,E.contains=Ir.contains,E.escapeSelector=Ir.escape;var Ki=function(A,v,b){for(var w=[],R=void 0!==b;(A=A[v])&&9!==A.nodeType;)if(1===A.nodeType){if(R&&E(A).is(b))break;w.push(A)}return w},On=function(A,v){for(var b=[];A;A=A.nextSibling)1===A.nodeType&&A!==v&&b.push(A);return b},ut=E.expr.match.needsContext;function Je(A,v){return A.nodeName&&A.nodeName.toLowerCase()===v.toLowerCase()}var en=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function dt(A,v,b){return mt(v)?E.grep(A,function(w,R){return!!v.call(w,R,w)!==b}):v.nodeType?E.grep(A,function(w){return w===v!==b}):"string"!=typeof v?E.grep(A,function(w){return Ce.call(v,w)>-1!==b}):E.filter(v,A,b)}E.filter=function(A,v,b){var w=v[0];return b&&(A=":not("+A+")"),1===v.length&&1===w.nodeType?E.find.matchesSelector(w,A)?[w]:[]:E.find.matches(A,E.grep(v,function(R){return 1===R.nodeType}))},E.fn.extend({find:function(A){var v,b,w=this.length,R=this;if("string"!=typeof A)return this.pushStack(E(A).filter(function(){for(v=0;v<w;v++)if(E.contains(R[v],this))return!0}));for(b=this.pushStack([]),v=0;v<w;v++)E.find(A,R[v],b);return w>1?E.uniqueSort(b):b},filter:function(A){return this.pushStack(dt(this,A||[],!1))},not:function(A){return this.pushStack(dt(this,A||[],!0))},is:function(A){return!!dt(this,"string"==typeof A&&ut.test(A)?E(A):A||[],!1).length}});var jt,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(A,v,b){var w,R;if(!A)return this;if(b=b||jt,"string"==typeof A){if(!(w="<"===A[0]&&">"===A[A.length-1]&&A.length>=3?[null,A,null]:Mt.exec(A))||!w[1]&&v)return!v||v.jquery?(v||b).find(A):this.constructor(v).find(A);if(w[1]){if(E.merge(this,E.parseHTML(w[1],(v=v instanceof E?v[0]:v)&&v.nodeType?v.ownerDocument||v:De,!0)),en.test(w[1])&&E.isPlainObject(v))for(w in v)mt(this[w])?this[w](v[w]):this.attr(w,v[w]);return this}return(R=De.getElementById(w[2]))&&(this[0]=R,this.length=1),this}return A.nodeType?(this[0]=A,this.length=1,this):mt(A)?void 0!==b.ready?b.ready(A):A(E):E.makeArray(A,this)}).prototype=E.fn,jt=E(De);var li=/^(?:parents|prev(?:Until|All))/,Pn={children:!0,contents:!0,next:!0,prev:!0};function Bi(A,v){for(;(A=A[v])&&1!==A.nodeType;);return A}E.fn.extend({has:function(A){var v=E(A,this),b=v.length;return this.filter(function(){for(var w=0;w<b;w++)if(E.contains(this,v[w]))return!0})},closest:function(A,v){var b,w=0,R=this.length,F=[],P="string"!=typeof A&&E(A);if(!ut.test(A))for(;w<R;w++)for(b=this[w];b&&b!==v;b=b.parentNode)if(b.nodeType<11&&(P?P.index(b)>-1:1===b.nodeType&&E.find.matchesSelector(b,A))){F.push(b);break}return this.pushStack(F.length>1?E.uniqueSort(F):F)},index:function(A){return A?"string"==typeof A?Ce.call(E(A),this[0]):Ce.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,v){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(A,v))))},addBack:function(A){return this.add(null==A?this.prevObject:this.prevObject.filter(A))}}),E.each({parent:function(A){var v=A.parentNode;return v&&11!==v.nodeType?v:null},parents:function(A){return Ki(A,"parentNode")},parentsUntil:function(A,v,b){return Ki(A,"parentNode",b)},next:function(A){return Bi(A,"nextSibling")},prev:function(A){return Bi(A,"previousSibling")},nextAll:function(A){return Ki(A,"nextSibling")},prevAll:function(A){return Ki(A,"previousSibling")},nextUntil:function(A,v,b){return Ki(A,"nextSibling",b)},prevUntil:function(A,v,b){return Ki(A,"previousSibling",b)},siblings:function(A){return On((A.parentNode||{}).firstChild,A)},children:function(A){return On(A.firstChild)},contents:function(A){return null!=A.contentDocument&&x(A.contentDocument)?A.contentDocument:(Je(A,"template")&&(A=A.content||A),E.merge([],A.childNodes))}},function(A,v){E.fn[A]=function(b,w){var R=E.map(this,v,b);return"Until"!==A.slice(-5)&&(w=b),w&&"string"==typeof w&&(R=E.filter(w,R)),this.length>1&&(Pn[A]||E.uniqueSort(R),li.test(A)&&R.reverse()),this.pushStack(R)}});var ki=/[^\x20\t\r\n\f]+/g;function Gi(A){return A}function ml(A){throw A}function vl(A,v,b,w){var R;try{A&&mt(R=A.promise)?R.call(A).done(v).fail(b):A&&mt(R=A.then)?R.call(A,v,b):v.apply(void 0,[A].slice(w))}catch(F){b.apply(void 0,[F])}}E.Callbacks=function(A){A="string"==typeof A?function(A){var v={};return E.each(A.match(ki)||[],function(b,w){v[w]=!0}),v}(A):E.extend({},A);var v,b,w,R,F=[],P=[],X=-1,G=function(){for(R=R||A.once,w=v=!0;P.length;X=-1)for(b=P.shift();++X<F.length;)!1===F[X].apply(b[0],b[1])&&A.stopOnFalse&&(X=F.length,b=!1);A.memory||(b=!1),v=!1,R&&(F=b?[]:"")},pe={add:function(){return F&&(b&&!v&&(X=F.length-1,P.push(b)),function xe(de){E.each(de,function(Ie,Se){mt(Se)?(!A.unique||!pe.has(Se))&&F.push(Se):Se&&Se.length&&"string"!==ye(Se)&&xe(Se)})}(arguments),b&&!v&&G()),this},remove:function(){return E.each(arguments,function(xe,de){for(var Ie;(Ie=E.inArray(de,F,Ie))>-1;)F.splice(Ie,1),Ie<=X&&X--}),this},has:function(xe){return xe?E.inArray(xe,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return R=P=[],F=b="",this},disabled:function(){return!F},lock:function(){return R=P=[],!b&&!v&&(F=b=""),this},locked:function(){return!!R},fireWith:function(xe,de){return R||(de=[xe,(de=de||[]).slice?de.slice():de],P.push(de),v||G()),this},fire:function(){return pe.fireWith(this,arguments),this},fired:function(){return!!w}};return pe},E.extend({Deferred:function(A){var v=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],b="pending",w={state:function(){return b},always:function(){return R.done(arguments).fail(arguments),this},catch:function(F){return w.then(null,F)},pipe:function(){var F=arguments;return E.Deferred(function(P){E.each(v,function(X,G){var pe=mt(F[G[4]])&&F[G[4]];R[G[1]](function(){var xe=pe&&pe.apply(this,arguments);xe&&mt(xe.promise)?xe.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[G[0]+"With"](this,pe?[xe]:arguments)})}),F=null}).promise()},then:function(F,P,X){var G=0;function pe(xe,de,Ie,Se){return function(){var Bt=this,dn=arguments,Rt=function(){var Ni,At;if(!(xe<G)){if((Ni=Ie.apply(Bt,dn))===de.promise())throw new TypeError("Thenable self-resolution");mt(At=Ni&&("object"==typeof Ni||"function"==typeof Ni)&&Ni.then)?Se?At.call(Ni,pe(G,de,Gi,Se),pe(G,de,ml,Se)):(G++,At.call(Ni,pe(G,de,Gi,Se),pe(G,de,ml,Se),pe(G,de,Gi,de.notifyWith))):(Ie!==Gi&&(Bt=void 0,dn=[Ni]),(Se||de.resolveWith)(Bt,dn))}},Kr=Se?Rt:function(){try{Rt()}catch(Ni){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Ni,Kr.stackTrace),xe+1>=G&&(Ie!==ml&&(Bt=void 0,dn=[Ni]),de.rejectWith(Bt,dn))}};xe?Kr():(E.Deferred.getStackHook&&(Kr.stackTrace=E.Deferred.getStackHook()),fe.setTimeout(Kr))}}return E.Deferred(function(xe){v[0][3].add(pe(0,xe,mt(X)?X:Gi,xe.notifyWith)),v[1][3].add(pe(0,xe,mt(F)?F:Gi)),v[2][3].add(pe(0,xe,mt(P)?P:ml))}).promise()},promise:function(F){return null!=F?E.extend(F,w):w}},R={};return E.each(v,function(F,P){var X=P[2],G=P[5];w[P[1]]=X.add,G&&X.add(function(){b=G},v[3-F][2].disable,v[3-F][3].disable,v[0][2].lock,v[0][3].lock),X.add(P[3].fire),R[P[0]]=function(){return R[P[0]+"With"](this===R?void 0:this,arguments),this},R[P[0]+"With"]=X.fireWith}),w.promise(R),A&&A.call(R,R),R},when:function(A){var v=arguments.length,b=v,w=Array(b),R=Z.call(arguments),F=E.Deferred(),P=function(X){return function(G){w[X]=this,R[X]=arguments.length>1?Z.call(arguments):G,--v||F.resolveWith(w,R)}};if(v<=1&&(vl(A,F.done(P(b)).resolve,F.reject,!v),"pending"===F.state()||mt(R[b]&&R[b].then)))return F.then();for(;b--;)vl(R[b],P(b),F.reject);return F.promise()}});var Th=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(A,v){fe.console&&fe.console.warn&&A&&Th.test(A.name)&&fe.console.warn("jQuery.Deferred exception: "+A.message,A.stack,v)},E.readyException=function(A){fe.setTimeout(function(){throw A})};var Ug=E.Deferred();function yi(){De.removeEventListener("DOMContentLoaded",yi),fe.removeEventListener("load",yi),E.ready()}E.fn.ready=function(A){return Ug.then(A).catch(function(v){E.readyException(v)}),this},E.extend({isReady:!1,readyWait:1,ready:function(A){(!0===A?--E.readyWait:E.isReady)||(E.isReady=!0,!(!0!==A&&--E.readyWait>0)&&Ug.resolveWith(De,[E]))}}),E.ready.then=Ug.then,"complete"===De.readyState||"loading"!==De.readyState&&!De.documentElement.doScroll?fe.setTimeout(E.ready):(De.addEventListener("DOMContentLoaded",yi),fe.addEventListener("load",yi));var Ro=function(A,v,b,w,R,F,P){var X=0,G=A.length,pe=null==b;if("object"===ye(b))for(X in R=!0,b)Ro(A,v,X,b[X],!0,F,P);else if(void 0!==w&&(R=!0,mt(w)||(P=!0),pe&&(P?(v.call(A,w),v=null):(pe=v,v=function(xe,de,Ie){return pe.call(E(xe),Ie)})),v))for(;X<G;X++)v(A[X],b,P?w:w.call(A[X],X,v(A[X],b)));return R?A:pe?v.call(A):G?v(A[0],b):F},Lu=/^-ms-/,wn=/-([a-z])/g;function kh(A,v){return v.toUpperCase()}function aa(A){return A.replace(Lu,"ms-").replace(wn,kh)}var Bu=function(A){return 1===A.nodeType||9===A.nodeType||!+A.nodeType};function Pa(){this.expando=E.expando+Pa.uid++}Pa.uid=1,Pa.prototype={cache:function(A){var v=A[this.expando];return v||(v={},Bu(A)&&(A.nodeType?A[this.expando]=v:Object.defineProperty(A,this.expando,{value:v,configurable:!0}))),v},set:function(A,v,b){var w,R=this.cache(A);if("string"==typeof v)R[aa(v)]=b;else for(w in v)R[aa(w)]=v[w];return R},get:function(A,v){return void 0===v?this.cache(A):A[this.expando]&&A[this.expando][aa(v)]},access:function(A,v,b){return void 0===v||v&&"string"==typeof v&&void 0===b?this.get(A,v):(this.set(A,v,b),void 0!==b?b:v)},remove:function(A,v){var b,w=A[this.expando];if(void 0!==w){if(void 0!==v)for((b=(v=Array.isArray(v)?v.map(aa):(v=aa(v))in w?[v]:v.match(ki)||[]).length);b--;)delete w[v[b]];(void 0===v||E.isEmptyObject(w))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var v=A[this.expando];return void 0!==v&&!E.isEmptyObject(v)}};var Qt=new Pa,hr=new Pa,ju=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fo=/[A-Z]/g;function gf(A,v,b){var w;if(void 0===b&&1===A.nodeType)if(w="data-"+v.replace(Fo,"-$&").toLowerCase(),"string"==typeof(b=A.getAttribute(w))){try{b=function(A){return"true"===A||"false"!==A&&("null"===A?null:A===+A+""?+A:ju.test(A)?JSON.parse(A):A)}(b)}catch(R){}hr.set(A,v,b)}else b=void 0;return b}E.extend({hasData:function(A){return hr.hasData(A)||Qt.hasData(A)},data:function(A,v,b){return hr.access(A,v,b)},removeData:function(A,v){hr.remove(A,v)},_data:function(A,v,b){return Qt.access(A,v,b)},_removeData:function(A,v){Qt.remove(A,v)}}),E.fn.extend({data:function(A,v){var b,w,R,F=this[0],P=F&&F.attributes;if(void 0===A){if(this.length&&(R=hr.get(F),1===F.nodeType&&!Qt.get(F,"hasDataAttrs"))){for(b=P.length;b--;)P[b]&&0===(w=P[b].name).indexOf("data-")&&(w=aa(w.slice(5)),gf(F,w,R[w]));Qt.set(F,"hasDataAttrs",!0)}return R}return"object"==typeof A?this.each(function(){hr.set(this,A)}):Ro(this,function(X){var G;if(F&&void 0===X)return void 0!==(G=hr.get(F,A))||void 0!==(G=gf(F,A))?G:void 0;this.each(function(){hr.set(this,A,X)})},null,v,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){hr.remove(this,A)})}}),E.extend({queue:function(A,v,b){var w;if(A)return w=Qt.get(A,v=(v||"fx")+"queue"),b&&(!w||Array.isArray(b)?w=Qt.access(A,v,E.makeArray(b)):w.push(b)),w||[]},dequeue:function(A,v){var b=E.queue(A,v=v||"fx"),w=b.length,R=b.shift(),F=E._queueHooks(A,v);"inprogress"===R&&(R=b.shift(),w--),R&&("fx"===v&&b.unshift("inprogress"),delete F.stop,R.call(A,function(){E.dequeue(A,v)},F)),!w&&F&&F.empty.fire()},_queueHooks:function(A,v){var b=v+"queueHooks";return Qt.get(A,b)||Qt.access(A,b,{empty:E.Callbacks("once memory").add(function(){Qt.remove(A,[v+"queue",b])})})}}),E.fn.extend({queue:function(A,v){var b=2;return"string"!=typeof A&&(v=A,A="fx",b--),arguments.length<b?E.queue(this[0],A):void 0===v?this:this.each(function(){var w=E.queue(this,A,v);E._queueHooks(this,A),"fx"===A&&"inprogress"!==w[0]&&E.dequeue(this,A)})},dequeue:function(A){return this.each(function(){E.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,v){var b,w=1,R=E.Deferred(),F=this,P=this.length,X=function(){--w||R.resolveWith(F,[F])};for("string"!=typeof A&&(v=A,A=void 0),A=A||"fx";P--;)(b=Qt.get(F[P],A+"queueHooks"))&&b.empty&&(w++,b.empty.add(X));return X(),R.promise(v)}});var df=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nu=new RegExp("^(?:([+-])=|)("+df+")([a-z%]*)$","i"),La=["Top","Right","Bottom","Left"],yl=De.documentElement,la=function(A){return E.contains(A.ownerDocument,A)},zp={composed:!0};yl.getRootNode&&(la=function(A){return E.contains(A.ownerDocument,A)||A.getRootNode(zp)===A.ownerDocument});var bl=function(A,v){return"none"===(A=v||A).style.display||""===A.style.display&&la(A)&&"none"===E.css(A,"display")};function iu(A,v,b,w){var R,F,P=20,X=w?function(){return w.cur()}:function(){return E.css(A,v,"")},G=X(),pe=b&&b[3]||(E.cssNumber[v]?"":"px"),xe=A.nodeType&&(E.cssNumber[v]||"px"!==pe&&+G)&&nu.exec(E.css(A,v));if(xe&&xe[3]!==pe){for(pe=pe||xe[3],xe=+(G/=2)||1;P--;)E.style(A,v,xe+pe),(1-F)*(1-(F=X()/G||.5))<=0&&(P=0),xe/=F;E.style(A,v,(xe*=2)+pe),b=b||[]}return b&&(xe=+xe||+G||0,R=b[1]?xe+(b[1]+1)*b[2]:+b[2],w&&(w.unit=pe,w.start=xe,w.end=R)),R}var ff={};function zr(A){var v,b=A.ownerDocument,w=A.nodeName,R=ff[w];return R||(v=b.body.appendChild(b.createElement(w)),R=E.css(v,"display"),v.parentNode.removeChild(v),"none"===R&&(R="block"),ff[w]=R,R)}function ua(A,v){for(var b,w,R=[],F=0,P=A.length;F<P;F++)(w=A[F]).style&&(b=w.style.display,v?("none"===b&&(R[F]=Qt.get(w,"display")||null,R[F]||(w.style.display="")),""===w.style.display&&bl(w)&&(R[F]=zr(w))):"none"!==b&&(R[F]="none",Qt.set(w,"display",b)));for(F=0;F<P;F++)null!=R[F]&&(A[F].style.display=R[F]);return A}E.fn.extend({show:function(){return ua(this,!0)},hide:function(){return ua(this)},toggle:function(A){return"boolean"==typeof A?A?this.show():this.hide():this.each(function(){bl(this)?E(this).show():E(this).hide()})}});var v,b,Vc=/^(?:checkbox|radio)$/i,Vu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Hp=/^$|^module$|\/(?:java|ecma)script/i;v=De.createDocumentFragment().appendChild(De.createElement("div")),(b=De.createElement("input")).setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),v.appendChild(b),It.checkClone=v.cloneNode(!0).cloneNode(!0).lastChild.checked,v.innerHTML="<textarea>x</textarea>",It.noCloneChecked=!!v.cloneNode(!0).lastChild.defaultValue,v.innerHTML="<option></option>",It.option=!!v.lastChild;var lo={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ii(A,v){var b;return b=void 0!==A.getElementsByTagName?A.getElementsByTagName(v||"*"):void 0!==A.querySelectorAll?A.querySelectorAll(v||"*"):[],void 0===v||v&&Je(A,v)?E.merge([A],b):b}function hf(A,v){for(var b=0,w=A.length;b<w;b++)Qt.set(A[b],"globalEval",!v||Qt.get(v[b],"globalEval"))}lo.tbody=lo.tfoot=lo.colgroup=lo.caption=lo.thead,lo.th=lo.td,It.option||(lo.optgroup=lo.option=[1,"<select multiple='multiple'>","</select>"]);var Up=/<|&#?\w+;/;function Gp(A,v,b,w,R){for(var F,P,X,G,pe,xe,de=v.createDocumentFragment(),Ie=[],Se=0,Bt=A.length;Se<Bt;Se++)if((F=A[Se])||0===F)if("object"===ye(F))E.merge(Ie,F.nodeType?[F]:F);else if(Up.test(F)){for(P=P||de.appendChild(v.createElement("div")),X=(Vu.exec(F)||["",""])[1].toLowerCase(),P.innerHTML=(G=lo[X]||lo._default)[1]+E.htmlPrefilter(F)+G[2],xe=G[0];xe--;)P=P.lastChild;E.merge(Ie,P.childNodes),(P=de.firstChild).textContent=""}else Ie.push(v.createTextNode(F));for(de.textContent="",Se=0;F=Ie[Se++];)if(w&&E.inArray(F,w)>-1)R&&R.push(F);else if(pe=la(F),P=Ii(de.appendChild(F),"script"),pe&&hf(P),b)for(xe=0;F=P[xe++];)Hp.test(F.type||"")&&b.push(F);return de}var zu=/^([^.]*)(?:\.(.+)|)/;function ca(){return!0}function Fs(){return!1}function Cf(A,v){return A===function(){try{return De.activeElement}catch(A){}}()==("focus"===v)}function J(A,v,b,w,R,F){var P,X;if("object"==typeof v){for(X in"string"!=typeof b&&(w=w||b,b=void 0),v)J(A,X,b,w,v[X],F);return A}if(null==w&&null==R?(R=b,w=b=void 0):null==R&&("string"==typeof b?(R=w,w=void 0):(R=w,w=b,b=void 0)),!1===R)R=Fs;else if(!R)return A;return 1===F&&(P=R,(R=function(G){return E().off(G),P.apply(this,arguments)}).guid=P.guid||(P.guid=E.guid++)),A.each(function(){E.event.add(this,v,R,w,b)})}function ge(A,v,b){b?(Qt.set(A,v,!1),E.event.add(A,v,{namespace:!1,handler:function(w){var R,F,P=Qt.get(this,v);if(1&w.isTrigger&&this[v]){if(P.length)(E.event.special[v]||{}).delegateType&&w.stopPropagation();else if(P=Z.call(arguments),Qt.set(this,v,P),R=b(this,v),this[v](),P!==(F=Qt.get(this,v))||R?Qt.set(this,v,!1):F={},P!==F)return w.stopImmediatePropagation(),w.preventDefault(),F&&F.value}else P.length&&(Qt.set(this,v,{value:E.event.trigger(E.extend(P[0],E.Event.prototype),P.slice(1),this)}),w.stopImmediatePropagation())}})):void 0===Qt.get(A,v)&&E.event.add(A,v,ca)}E.event={global:{},add:function(A,v,b,w,R){var F,P,X,G,pe,xe,de,Ie,Se,Bt,dn,Rt=Qt.get(A);if(Bu(A))for(b.handler&&(b=(F=b).handler,R=F.selector),R&&E.find.matchesSelector(yl,R),b.guid||(b.guid=E.guid++),(G=Rt.events)||(G=Rt.events=Object.create(null)),(P=Rt.handle)||(P=Rt.handle=function(Kr){return void 0!==E&&E.event.triggered!==Kr.type?E.event.dispatch.apply(A,arguments):void 0}),pe=(v=(v||"").match(ki)||[""]).length;pe--;)Se=dn=(X=zu.exec(v[pe])||[])[1],Bt=(X[2]||"").split(".").sort(),Se&&(de=E.event.special[Se]||{},de=E.event.special[Se=(R?de.delegateType:de.bindType)||Se]||{},xe=E.extend({type:Se,origType:dn,data:w,handler:b,guid:b.guid,selector:R,needsContext:R&&E.expr.match.needsContext.test(R),namespace:Bt.join(".")},F),(Ie=G[Se])||((Ie=G[Se]=[]).delegateCount=0,(!de.setup||!1===de.setup.call(A,w,Bt,P))&&A.addEventListener&&A.addEventListener(Se,P)),de.add&&(de.add.call(A,xe),xe.handler.guid||(xe.handler.guid=b.guid)),R?Ie.splice(Ie.delegateCount++,0,xe):Ie.push(xe),E.event.global[Se]=!0)},remove:function(A,v,b,w,R){var F,P,X,G,pe,xe,de,Ie,Se,Bt,dn,Rt=Qt.hasData(A)&&Qt.get(A);if(Rt&&(G=Rt.events)){for(pe=(v=(v||"").match(ki)||[""]).length;pe--;)if(Se=dn=(X=zu.exec(v[pe])||[])[1],Bt=(X[2]||"").split(".").sort(),Se){for(de=E.event.special[Se]||{},Ie=G[Se=(w?de.delegateType:de.bindType)||Se]||[],X=X[2]&&new RegExp("(^|\\.)"+Bt.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=F=Ie.length;F--;)xe=Ie[F],(R||dn===xe.origType)&&(!b||b.guid===xe.guid)&&(!X||X.test(xe.namespace))&&(!w||w===xe.selector||"**"===w&&xe.selector)&&(Ie.splice(F,1),xe.selector&&Ie.delegateCount--,de.remove&&de.remove.call(A,xe));P&&!Ie.length&&((!de.teardown||!1===de.teardown.call(A,Bt,Rt.handle))&&E.removeEvent(A,Se,Rt.handle),delete G[Se])}else for(Se in G)E.event.remove(A,Se+v[pe],b,w,!0);E.isEmptyObject(G)&&Qt.remove(A,"handle events")}},dispatch:function(A){var v,b,w,R,F,P,X=new Array(arguments.length),G=E.event.fix(A),pe=(Qt.get(this,"events")||Object.create(null))[G.type]||[],xe=E.event.special[G.type]||{};for(X[0]=G,v=1;v<arguments.length;v++)X[v]=arguments[v];if(G.delegateTarget=this,!xe.preDispatch||!1!==xe.preDispatch.call(this,G)){for(P=E.event.handlers.call(this,G,pe),v=0;(R=P[v++])&&!G.isPropagationStopped();)for(G.currentTarget=R.elem,b=0;(F=R.handlers[b++])&&!G.isImmediatePropagationStopped();)(!G.rnamespace||!1===F.namespace||G.rnamespace.test(F.namespace))&&(G.handleObj=F,G.data=F.data,void 0!==(w=((E.event.special[F.origType]||{}).handle||F.handler).apply(R.elem,X))&&!1===(G.result=w)&&(G.preventDefault(),G.stopPropagation()));return xe.postDispatch&&xe.postDispatch.call(this,G),G.result}},handlers:function(A,v){var b,w,R,F,P,X=[],G=v.delegateCount,pe=A.target;if(G&&pe.nodeType&&!("click"===A.type&&A.button>=1))for(;pe!==this;pe=pe.parentNode||this)if(1===pe.nodeType&&("click"!==A.type||!0!==pe.disabled)){for(F=[],P={},b=0;b<G;b++)void 0===P[R=(w=v[b]).selector+" "]&&(P[R]=w.needsContext?E(R,this).index(pe)>-1:E.find(R,this,null,[pe]).length),P[R]&&F.push(w);F.length&&X.push({elem:pe,handlers:F})}return pe=this,G<v.length&&X.push({elem:pe,handlers:v.slice(G)}),X},addProp:function(A,v){Object.defineProperty(E.Event.prototype,A,{enumerable:!0,configurable:!0,get:mt(v)?function(){if(this.originalEvent)return v(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[A]},set:function(b){Object.defineProperty(this,A,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(A){return A[E.expando]?A:new E.Event(A)},special:{load:{noBubble:!0},click:{setup:function(A){var v=this||A;return Vc.test(v.type)&&v.click&&Je(v,"input")&&ge(v,"click",ca),!1},trigger:function(A){var v=this||A;return Vc.test(v.type)&&v.click&&Je(v,"input")&&ge(v,"click"),!0},_default:function(A){var v=A.target;return Vc.test(v.type)&&v.click&&Je(v,"input")&&Qt.get(v,"click")||Je(v,"a")}},beforeunload:{postDispatch:function(A){void 0!==A.result&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}},E.removeEvent=function(A,v,b){A.removeEventListener&&A.removeEventListener(v,b)},E.Event=function(A,v){if(!(this instanceof E.Event))return new E.Event(A,v);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||void 0===A.defaultPrevented&&!1===A.returnValue?ca:Fs,this.target=A.target&&3===A.target.nodeType?A.target.parentNode:A.target,this.currentTarget=A.currentTarget,this.relatedTarget=A.relatedTarget):this.type=A,v&&E.extend(this,v),this.timeStamp=A&&A.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Fs,isPropagationStopped:Fs,isImmediatePropagationStopped:Fs,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=ca,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=ca,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=ca,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(A,v){E.event.special[A]={setup:function(){return ge(this,A,Cf),!1},trigger:function(){return ge(this,A),!0},_default:function(){return!0},delegateType:v}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,v){E.event.special[A]={delegateType:v,bindType:v,handle:function(b){var w,R=this,F=b.relatedTarget,P=b.handleObj;return(!F||F!==R&&!E.contains(R,F))&&(b.type=P.origType,w=P.handler.apply(this,arguments),b.type=v),w}}}),E.fn.extend({on:function(A,v,b,w){return J(this,A,v,b,w)},one:function(A,v,b,w){return J(this,A,v,b,w,1)},off:function(A,v,b){var w,R;if(A&&A.preventDefault&&A.handleObj)return w=A.handleObj,E(A.delegateTarget).off(w.namespace?w.origType+"."+w.namespace:w.origType,w.selector,w.handler),this;if("object"==typeof A){for(R in A)this.off(R,v,A[R]);return this}return(!1===v||"function"==typeof v)&&(b=v,v=void 0),!1===b&&(b=Fs),this.each(function(){E.event.remove(this,A,b,v)})}});var ve=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ke(A,v){return Je(A,"table")&&Je(11!==v.nodeType?v:v.firstChild,"tr")&&E(A).children("tbody")[0]||A}function Ct(A){return A.type=(null!==A.getAttribute("type"))+"/"+A.type,A}function xt(A){return"true/"===(A.type||"").slice(0,5)?A.type=A.type.slice(5):A.removeAttribute("type"),A}function Ht(A,v){var b,w,R,P,X,G;if(1===v.nodeType){if(Qt.hasData(A)&&(G=Qt.get(A).events))for(R in Qt.remove(v,"handle events"),G)for(b=0,w=G[R].length;b<w;b++)E.event.add(v,R,G[R][b]);hr.hasData(A)&&(P=hr.access(A),X=E.extend({},P),hr.set(v,X))}}function sn(A,v){var b=v.nodeName.toLowerCase();"input"===b&&Vc.test(A.type)?v.checked=A.checked:("input"===b||"textarea"===b)&&(v.defaultValue=A.defaultValue)}function tt(A,v,b,w){v=Y(v);var R,F,P,X,G,pe,xe=0,de=A.length,Ie=de-1,Se=v[0],Bt=mt(Se);if(Bt||de>1&&"string"==typeof Se&&!It.checkClone&&We.test(Se))return A.each(function(dn){var Rt=A.eq(dn);Bt&&(v[0]=Se.call(this,dn,Rt.html())),tt(Rt,v,b,w)});if(de&&(F=(R=Gp(v,A[0].ownerDocument,!1,A,w)).firstChild,1===R.childNodes.length&&(R=F),F||w)){for(X=(P=E.map(Ii(R,"script"),Ct)).length;xe<de;xe++)G=R,xe!==Ie&&(G=E.clone(G,!0,!0),X&&E.merge(P,Ii(G,"script"))),b.call(A[xe],G,xe);if(X)for(pe=P[P.length-1].ownerDocument,E.map(P,xt),xe=0;xe<X;xe++)Hp.test((G=P[xe]).type||"")&&!Qt.access(G,"globalEval")&&E.contains(pe,G)&&(G.src&&"module"!==(G.type||"").toLowerCase()?E._evalUrl&&!G.noModule&&E._evalUrl(G.src,{nonce:G.nonce||G.getAttribute("nonce")},pe):Tt(G.textContent.replace(Ve,""),G,pe))}return A}function Mn(A,v,b){for(var w,R=v?E.filter(v,A):A,F=0;null!=(w=R[F]);F++)!b&&1===w.nodeType&&E.cleanData(Ii(w)),w.parentNode&&(b&&la(w)&&hf(Ii(w,"script")),w.parentNode.removeChild(w));return A}E.extend({htmlPrefilter:function(A){return A},clone:function(A,v,b){var w,R,F,P,X=A.cloneNode(!0),G=la(A);if(!(It.noCloneChecked||1!==A.nodeType&&11!==A.nodeType||E.isXMLDoc(A)))for(P=Ii(X),w=0,R=(F=Ii(A)).length;w<R;w++)sn(F[w],P[w]);if(v)if(b)for(F=F||Ii(A),P=P||Ii(X),w=0,R=F.length;w<R;w++)Ht(F[w],P[w]);else Ht(A,X);return(P=Ii(X,"script")).length>0&&hf(P,!G&&Ii(A,"script")),X},cleanData:function(A){for(var v,b,w,R=E.event.special,F=0;void 0!==(b=A[F]);F++)if(Bu(b)){if(v=b[Qt.expando]){if(v.events)for(w in v.events)R[w]?E.event.remove(b,w):E.removeEvent(b,w,v.handle);b[Qt.expando]=void 0}b[hr.expando]&&(b[hr.expando]=void 0)}}}),E.fn.extend({detach:function(A){return Mn(this,A,!0)},remove:function(A){return Mn(this,A)},text:function(A){return Ro(this,function(v){return void 0===v?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=v)})},null,A,arguments.length)},append:function(){return tt(this,arguments,function(A){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ke(this,A).appendChild(A)})},prepend:function(){return tt(this,arguments,function(A){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var v=Ke(this,A);v.insertBefore(A,v.firstChild)}})},before:function(){return tt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return tt(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,v=0;null!=(A=this[v]);v++)1===A.nodeType&&(E.cleanData(Ii(A,!1)),A.textContent="");return this},clone:function(A,v){return A=null!=A&&A,v=null==v?A:v,this.map(function(){return E.clone(this,A,v)})},html:function(A){return Ro(this,function(v){var b=this[0]||{},w=0,R=this.length;if(void 0===v&&1===b.nodeType)return b.innerHTML;if("string"==typeof v&&!ve.test(v)&&!lo[(Vu.exec(v)||["",""])[1].toLowerCase()]){v=E.htmlPrefilter(v);try{for(;w<R;w++)1===(b=this[w]||{}).nodeType&&(E.cleanData(Ii(b,!1)),b.innerHTML=v);b=0}catch(F){}}b&&this.empty().append(v)},null,A,arguments.length)},replaceWith:function(){var A=[];return tt(this,arguments,function(v){var b=this.parentNode;E.inArray(this,A)<0&&(E.cleanData(Ii(this)),b&&b.replaceChild(v,this))},A)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,v){E.fn[A]=function(b){for(var w,R=[],F=E(b),P=F.length-1,X=0;X<=P;X++)w=X===P?this:this.clone(!0),E(F[X])[v](w),oe.apply(R,w.get());return this.pushStack(R)}});var pt=new RegExp("^("+df+")(?!px)[a-z%]+$","i"),En=function(A){var v=A.ownerDocument.defaultView;return(!v||!v.opener)&&(v=fe),v.getComputedStyle(A)},Cr=function(A,v,b){var w,R,F={};for(R in v)F[R]=A.style[R],A.style[R]=v[R];for(R in w=b.call(A),v)A.style[R]=F[R];return w},An=new RegExp(La.join("|"),"i");function kt(A,v,b){var w,R,F,P,X=A.style;return(b=b||En(A))&&(""===(P=b.getPropertyValue(v)||b[v])&&!la(A)&&(P=E.style(A,v)),!It.pixelBoxStyles()&&pt.test(P)&&An.test(v)&&(w=X.width,R=X.minWidth,F=X.maxWidth,X.minWidth=X.maxWidth=X.width=P,P=b.width,X.width=w,X.minWidth=R,X.maxWidth=F)),void 0!==P?P+"":P}function Hr(A,v){return{get:function(){if(!A())return(this.get=v).apply(this,arguments);delete this.get}}}!function(){function A(){if(pe){G.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",pe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yl.appendChild(G).appendChild(pe);var xe=fe.getComputedStyle(pe);b="1%"!==xe.top,X=12===v(xe.marginLeft),pe.style.right="60%",F=36===v(xe.right),w=36===v(xe.width),pe.style.position="absolute",R=12===v(pe.offsetWidth/3),yl.removeChild(G),pe=null}}function v(xe){return Math.round(parseFloat(xe))}var b,w,R,F,P,X,G=De.createElement("div"),pe=De.createElement("div");!pe.style||(pe.style.backgroundClip="content-box",pe.cloneNode(!0).style.backgroundClip="",It.clearCloneStyle="content-box"===pe.style.backgroundClip,E.extend(It,{boxSizingReliable:function(){return A(),w},pixelBoxStyles:function(){return A(),F},pixelPosition:function(){return A(),b},reliableMarginLeft:function(){return A(),X},scrollboxSize:function(){return A(),R},reliableTrDimensions:function(){var xe,de,Ie,Se;return null==P&&(xe=De.createElement("table"),de=De.createElement("tr"),Ie=De.createElement("div"),xe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",de.style.cssText="border:1px solid",de.style.height="1px",Ie.style.height="9px",Ie.style.display="block",yl.appendChild(xe).appendChild(de).appendChild(Ie),Se=fe.getComputedStyle(de),P=parseInt(Se.height,10)+parseInt(Se.borderTopWidth,10)+parseInt(Se.borderBottomWidth,10)===de.offsetHeight,yl.removeChild(xe)),P}}))}();var ru=["Webkit","Moz","ms"],Po=De.createElement("div").style,Hu={};function kn(A){return E.cssProps[A]||Hu[A]||(A in Po?A:Hu[A]=function(A){for(var v=A[0].toUpperCase()+A.slice(1),b=ru.length;b--;)if((A=ru[b]+v)in Po)return A}(A)||A)}var wo=/^(none|table(?!-c[ea]).+)/,Am=/^--/,hx={position:"absolute",visibility:"hidden",display:"block"},$y={letterSpacing:"0",fontWeight:"400"};function pf(A,v,b){var w=nu.exec(v);return w?Math.max(0,w[2]-(b||0))+(w[3]||"px"):v}function Xo(A,v,b,w,R,F){var P="width"===v?1:0,X=0,G=0;if(b===(w?"border":"content"))return 0;for(;P<4;P+=2)"margin"===b&&(G+=E.css(A,b+La[P],!0,R)),w?("content"===b&&(G-=E.css(A,"padding"+La[P],!0,R)),"margin"!==b&&(G-=E.css(A,"border"+La[P]+"Width",!0,R))):(G+=E.css(A,"padding"+La[P],!0,R),"padding"!==b?G+=E.css(A,"border"+La[P]+"Width",!0,R):X+=E.css(A,"border"+La[P]+"Width",!0,R));return!w&&F>=0&&(G+=Math.max(0,Math.ceil(A["offset"+v[0].toUpperCase()+v.slice(1)]-F-G-X-.5))||0),G}function Yy(A,v,b){var w=En(A),F=(!It.boxSizingReliable()||b)&&"border-box"===E.css(A,"boxSizing",!1,w),P=F,X=kt(A,v,w),G="offset"+v[0].toUpperCase()+v.slice(1);if(pt.test(X)){if(!b)return X;X="auto"}return(!It.boxSizingReliable()&&F||!It.reliableTrDimensions()&&Je(A,"tr")||"auto"===X||!parseFloat(X)&&"inline"===E.css(A,"display",!1,w))&&A.getClientRects().length&&(F="border-box"===E.css(A,"boxSizing",!1,w),(P=G in A)&&(X=A[G])),(X=parseFloat(X)||0)+Xo(A,v,b||(F?"border":"content"),P,w,X)+"px"}function Zr(A,v,b,w,R){return new Zr.prototype.init(A,v,b,w,R)}E.extend({cssHooks:{opacity:{get:function(A,v){if(v){var b=kt(A,"opacity");return""===b?"1":b}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(A,v,b,w){if(A&&3!==A.nodeType&&8!==A.nodeType&&A.style){var R,F,P,X=aa(v),G=Am.test(v),pe=A.style;if(G||(v=kn(X)),P=E.cssHooks[v]||E.cssHooks[X],void 0===b)return P&&"get"in P&&void 0!==(R=P.get(A,!1,w))?R:pe[v];if("string"==(F=typeof b)&&(R=nu.exec(b))&&R[1]&&(b=iu(A,v,R),F="number"),null==b||b!=b)return;"number"===F&&!G&&(b+=R&&R[3]||(E.cssNumber[X]?"":"px")),!It.clearCloneStyle&&""===b&&0===v.indexOf("background")&&(pe[v]="inherit"),(!P||!("set"in P)||void 0!==(b=P.set(A,b,w)))&&(G?pe.setProperty(v,b):pe[v]=b)}},css:function(A,v,b,w){var R,F,P,X=aa(v);return Am.test(v)||(v=kn(X)),(P=E.cssHooks[v]||E.cssHooks[X])&&"get"in P&&(R=P.get(A,!0,b)),void 0===R&&(R=kt(A,v,w)),"normal"===R&&v in $y&&(R=$y[v]),""===b||b?(F=parseFloat(R),!0===b||isFinite(F)?F||0:R):R}}),E.each(["height","width"],function(A,v){E.cssHooks[v]={get:function(b,w,R){if(w)return!wo.test(E.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?Yy(b,v,R):Cr(b,hx,function(){return Yy(b,v,R)})},set:function(b,w,R){var F,P=En(b),X=!It.scrollboxSize()&&"absolute"===P.position,pe=(X||R)&&"border-box"===E.css(b,"boxSizing",!1,P),xe=R?Xo(b,v,R,pe,P):0;return pe&&X&&(xe-=Math.ceil(b["offset"+v[0].toUpperCase()+v.slice(1)]-parseFloat(P[v])-Xo(b,v,"border",!1,P)-.5)),xe&&(F=nu.exec(w))&&"px"!==(F[3]||"px")&&(b.style[v]=w,w=E.css(b,v)),pf(0,w,xe)}}}),E.cssHooks.marginLeft=Hr(It.reliableMarginLeft,function(A,v){if(v)return(parseFloat(kt(A,"marginLeft"))||A.getBoundingClientRect().left-Cr(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(A,v){E.cssHooks[A+v]={expand:function(b){for(var w=0,R={},F="string"==typeof b?b.split(" "):[b];w<4;w++)R[A+La[w]+v]=F[w]||F[w-2]||F[0];return R}},"margin"!==A&&(E.cssHooks[A+v].set=pf)}),E.fn.extend({css:function(A,v){return Ro(this,function(b,w,R){var F,P,X={},G=0;if(Array.isArray(w)){for(F=En(b),P=w.length;G<P;G++)X[w[G]]=E.css(b,w[G],!1,F);return X}return void 0!==R?E.style(b,w,R):E.css(b,w)},A,v,arguments.length>1)}}),E.Tween=Zr,(Zr.prototype={constructor:Zr,init:function(A,v,b,w,R,F){this.elem=A,this.prop=b,this.easing=R||E.easing._default,this.options=v,this.start=this.now=this.cur(),this.end=w,this.unit=F||(E.cssNumber[b]?"":"px")},cur:function(){var A=Zr.propHooks[this.prop];return A&&A.get?A.get(this):Zr.propHooks._default.get(this)},run:function(A){var v,b=Zr.propHooks[this.prop];return this.pos=v=this.options.duration?E.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):A,this.now=(this.end-this.start)*v+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):Zr.propHooks._default.set(this),this}}).init.prototype=Zr.prototype,(Zr.propHooks={_default:{get:function(A){var v;return 1!==A.elem.nodeType||null!=A.elem[A.prop]&&null==A.elem.style[A.prop]?A.elem[A.prop]:(v=E.css(A.elem,A.prop,""))&&"auto"!==v?v:0},set:function(A){E.fx.step[A.prop]?E.fx.step[A.prop](A):1!==A.elem.nodeType||!E.cssHooks[A.prop]&&null==A.elem.style[kn(A.prop)]?A.elem[A.prop]=A.now:E.style(A.elem,A.prop,A.now+A.unit)}}}).scrollTop=Zr.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},E.easing={linear:function(A){return A},swing:function(A){return.5-Math.cos(A*Math.PI)/2},_default:"swing"},E.fx=Zr.prototype.init,E.fx.step={};var ou,Qo,Im=/^(?:toggle|show|hide)$/,qy=/queueHooks$/;function mm(){Qo&&(!1===De.hidden&&fe.requestAnimationFrame?fe.requestAnimationFrame(mm):fe.setTimeout(mm,E.fx.interval),E.fx.tick())}function Zy(){return fe.setTimeout(function(){ou=void 0}),ou=Date.now()}function Af(A,v){var b,w=0,R={height:A};for(v=v?1:0;w<4;w+=2-v)R["margin"+(b=La[w])]=R["padding"+b]=A;return v&&(R.opacity=R.width=A),R}function If(A,v,b){for(var w,R=(rr.tweeners[v]||[]).concat(rr.tweeners["*"]),F=0,P=R.length;F<P;F++)if(w=R[F].call(b,v,A))return w}function rr(A,v,b){var w,R,F=0,P=rr.prefilters.length,X=E.Deferred().always(function(){delete G.elem}),G=function(){if(R)return!1;for(var de=ou||Zy(),Ie=Math.max(0,pe.startTime+pe.duration-de),Bt=1-(Ie/pe.duration||0),dn=0,Rt=pe.tweens.length;dn<Rt;dn++)pe.tweens[dn].run(Bt);return X.notifyWith(A,[pe,Bt,Ie]),Bt<1&&Rt?Ie:(Rt||X.notifyWith(A,[pe,1,0]),X.resolveWith(A,[pe]),!1)},pe=X.promise({elem:A,props:E.extend({},v),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},b),originalProperties:v,originalOptions:b,startTime:ou||Zy(),duration:b.duration,tweens:[],createTween:function(de,Ie){var Se=E.Tween(A,pe.opts,de,Ie,pe.opts.specialEasing[de]||pe.opts.easing);return pe.tweens.push(Se),Se},stop:function(de){var Ie=0,Se=de?pe.tweens.length:0;if(R)return this;for(R=!0;Ie<Se;Ie++)pe.tweens[Ie].run(1);return de?(X.notifyWith(A,[pe,1,0]),X.resolveWith(A,[pe,de])):X.rejectWith(A,[pe,de]),this}}),xe=pe.props;for(function(A,v){var b,w,R,F,P;for(b in A)if(R=v[w=aa(b)],F=A[b],Array.isArray(F)&&(R=F[1],F=A[b]=F[0]),b!==w&&(A[w]=F,delete A[b]),(P=E.cssHooks[w])&&"expand"in P)for(b in F=P.expand(F),delete A[w],F)b in A||(A[b]=F[b],v[b]=R);else v[w]=R}(xe,pe.opts.specialEasing);F<P;F++)if(w=rr.prefilters[F].call(pe,A,xe,pe.opts))return mt(w.stop)&&(E._queueHooks(pe.elem,pe.opts.queue).stop=w.stop.bind(w)),w;return E.map(xe,If,pe),mt(pe.opts.start)&&pe.opts.start.call(A,pe),pe.progress(pe.opts.progress).done(pe.opts.done,pe.opts.complete).fail(pe.opts.fail).always(pe.opts.always),E.fx.timer(E.extend(G,{elem:A,anim:pe,queue:pe.opts.queue})),pe}E.Animation=E.extend(rr,{tweeners:{"*":[function(A,v){var b=this.createTween(A,v);return iu(b.elem,A,nu.exec(v),b),b}]},tweener:function(A,v){mt(A)?(v=A,A=["*"]):A=A.match(ki);for(var b,w=0,R=A.length;w<R;w++)(rr.tweeners[b=A[w]]=rr.tweeners[b]||[]).unshift(v)},prefilters:[function(A,v,b){var w,R,F,P,X,G,pe,xe,de="width"in v||"height"in v,Ie=this,Se={},Bt=A.style,dn=A.nodeType&&bl(A),Rt=Qt.get(A,"fxshow");for(w in b.queue||(null==(P=E._queueHooks(A,"fx")).unqueued&&(P.unqueued=0,X=P.empty.fire,P.empty.fire=function(){P.unqueued||X()}),P.unqueued++,Ie.always(function(){Ie.always(function(){P.unqueued--,E.queue(A,"fx").length||P.empty.fire()})})),v)if(Im.test(R=v[w])){if(delete v[w],F=F||"toggle"===R,R===(dn?"hide":"show")){if("show"!==R||!Rt||void 0===Rt[w])continue;dn=!0}Se[w]=Rt&&Rt[w]||E.style(A,w)}if((G=!E.isEmptyObject(v))||!E.isEmptyObject(Se))for(w in de&&1===A.nodeType&&(b.overflow=[Bt.overflow,Bt.overflowX,Bt.overflowY],null==(pe=Rt&&Rt.display)&&(pe=Qt.get(A,"display")),"none"===(xe=E.css(A,"display"))&&(pe?xe=pe:(ua([A],!0),pe=A.style.display||pe,xe=E.css(A,"display"),ua([A]))),("inline"===xe||"inline-block"===xe&&null!=pe)&&"none"===E.css(A,"float")&&(G||(Ie.done(function(){Bt.display=pe}),null==pe&&(pe="none"===(xe=Bt.display)?"":xe)),Bt.display="inline-block")),b.overflow&&(Bt.overflow="hidden",Ie.always(function(){Bt.overflow=b.overflow[0],Bt.overflowX=b.overflow[1],Bt.overflowY=b.overflow[2]})),G=!1,Se)G||(Rt?"hidden"in Rt&&(dn=Rt.hidden):Rt=Qt.access(A,"fxshow",{display:pe}),F&&(Rt.hidden=!dn),dn&&ua([A],!0),Ie.done(function(){for(w in dn||ua([A]),Qt.remove(A,"fxshow"),Se)E.style(A,w,Se[w])})),G=If(dn?Rt[w]:0,w,Ie),w in Rt||(Rt[w]=G.start,dn&&(G.end=G.start,G.start=0))}],prefilter:function(A,v){v?rr.prefilters.unshift(A):rr.prefilters.push(A)}}),E.speed=function(A,v,b){var w=A&&"object"==typeof A?E.extend({},A):{complete:b||!b&&v||mt(A)&&A,duration:A,easing:b&&v||v&&!mt(v)&&v};return E.fx.off?w.duration=0:"number"!=typeof w.duration&&(w.duration=w.duration in E.fx.speeds?E.fx.speeds[w.duration]:E.fx.speeds._default),(null==w.queue||!0===w.queue)&&(w.queue="fx"),w.old=w.complete,w.complete=function(){mt(w.old)&&w.old.call(this),w.queue&&E.dequeue(this,w.queue)},w},E.fn.extend({fadeTo:function(A,v,b,w){return this.filter(bl).css("opacity",0).show().end().animate({opacity:v},A,b,w)},animate:function(A,v,b,w){var R=E.isEmptyObject(A),F=E.speed(v,b,w),P=function(){var X=rr(this,E.extend({},A),F);(R||Qt.get(this,"finish"))&&X.stop(!0)};return P.finish=P,R||!1===F.queue?this.each(P):this.queue(F.queue,P)},stop:function(A,v,b){var w=function(R){var F=R.stop;delete R.stop,F(b)};return"string"!=typeof A&&(b=v,v=A,A=void 0),v&&this.queue(A||"fx",[]),this.each(function(){var R=!0,F=null!=A&&A+"queueHooks",P=E.timers,X=Qt.get(this);if(F)X[F]&&X[F].stop&&w(X[F]);else for(F in X)X[F]&&X[F].stop&&qy.test(F)&&w(X[F]);for(F=P.length;F--;)P[F].elem===this&&(null==A||P[F].queue===A)&&(P[F].anim.stop(b),R=!1,P.splice(F,1));(R||!b)&&E.dequeue(this,A)})},finish:function(A){return!1!==A&&(A=A||"fx"),this.each(function(){var v,b=Qt.get(this),w=b[A+"queue"],R=b[A+"queueHooks"],F=E.timers,P=w?w.length:0;for(b.finish=!0,E.queue(this,A,[]),R&&R.stop&&R.stop.call(this,!0),v=F.length;v--;)F[v].elem===this&&F[v].queue===A&&(F[v].anim.stop(!0),F.splice(v,1));for(v=0;v<P;v++)w[v]&&w[v].finish&&w[v].finish.call(this);delete b.finish})}}),E.each(["toggle","show","hide"],function(A,v){var b=E.fn[v];E.fn[v]=function(w,R,F){return null==w||"boolean"==typeof w?b.apply(this,arguments):this.animate(Af(v,!0),w,R,F)}}),E.each({slideDown:Af("show"),slideUp:Af("hide"),slideToggle:Af("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,v){E.fn[A]=function(b,w,R){return this.animate(v,b,w,R)}}),E.timers=[],E.fx.tick=function(){var A,v=0,b=E.timers;for(ou=Date.now();v<b.length;v++)!(A=b[v])()&&b[v]===A&&b.splice(v--,1);b.length||E.fx.stop(),ou=void 0},E.fx.timer=function(A){E.timers.push(A),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Qo||(Qo=!0,mm())},E.fx.stop=function(){Qo=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(A,v){return A=E.fx&&E.fx.speeds[A]||A,this.queue(v=v||"fx",function(b,w){var R=fe.setTimeout(b,A);w.stop=function(){fe.clearTimeout(R)}})},function(){var A=De.createElement("input"),b=De.createElement("select").appendChild(De.createElement("option"));A.type="checkbox",It.checkOn=""!==A.value,It.optSelected=b.selected,(A=De.createElement("input")).value="t",A.type="radio",It.radioValue="t"===A.value}();var Ci,Wg=E.expr.attrHandle;E.fn.extend({attr:function(A,v){return Ro(this,E.attr,A,v,arguments.length>1)},removeAttr:function(A){return this.each(function(){E.removeAttr(this,A)})}}),E.extend({attr:function(A,v,b){var w,R,F=A.nodeType;if(3!==F&&8!==F&&2!==F)return void 0===A.getAttribute?E.prop(A,v,b):((1!==F||!E.isXMLDoc(A))&&(R=E.attrHooks[v.toLowerCase()]||(E.expr.match.bool.test(v)?Ci:void 0)),void 0!==b?null===b?void E.removeAttr(A,v):R&&"set"in R&&void 0!==(w=R.set(A,b,v))?w:(A.setAttribute(v,b+""),b):R&&"get"in R&&null!==(w=R.get(A,v))?w:null==(w=E.find.attr(A,v))?void 0:w)},attrHooks:{type:{set:function(A,v){if(!It.radioValue&&"radio"===v&&Je(A,"input")){var b=A.value;return A.setAttribute("type",v),b&&(A.value=b),v}}}},removeAttr:function(A,v){var b,w=0,R=v&&v.match(ki);if(R&&1===A.nodeType)for(;b=R[w++];)A.removeAttribute(b)}}),Ci={set:function(A,v,b){return!1===v?E.removeAttr(A,b):A.setAttribute(b,b),b}},E.each(E.expr.match.bool.source.match(/\w+/g),function(A,v){var b=Wg[v]||E.find.attr;Wg[v]=function(w,R,F){var P,X,G=R.toLowerCase();return F||(X=Wg[G],Wg[G]=P,P=null!=b(w,R,F)?G:null,Wg[G]=X),P}});var px=/^(?:input|select|textarea|button)$/i,Oh=/^(?:a|area)$/i;function it(A){return(A.match(ki)||[]).join(" ")}function zc(A){return A.getAttribute&&A.getAttribute("class")||""}function Qn(A){return Array.isArray(A)?A:"string"==typeof A&&A.match(ki)||[]}E.fn.extend({prop:function(A,v){return Ro(this,E.prop,A,v,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[E.propFix[A]||A]})}}),E.extend({prop:function(A,v,b){var w,R,F=A.nodeType;if(3!==F&&8!==F&&2!==F)return(1!==F||!E.isXMLDoc(A))&&(R=E.propHooks[v=E.propFix[v]||v]),void 0!==b?R&&"set"in R&&void 0!==(w=R.set(A,b,v))?w:A[v]=b:R&&"get"in R&&null!==(w=R.get(A,v))?w:A[v]},propHooks:{tabIndex:{get:function(A){var v=E.find.attr(A,"tabindex");return v?parseInt(v,10):px.test(A.nodeName)||Oh.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),It.optSelected||(E.propHooks.selected={get:function(A){return null},set:function(A){}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(A){var v,b,w,R,F,P,X,G=0;if(mt(A))return this.each(function(pe){E(this).addClass(A.call(this,pe,zc(this)))});if((v=Qn(A)).length)for(;b=this[G++];)if(R=zc(b),w=1===b.nodeType&&" "+it(R)+" "){for(P=0;F=v[P++];)w.indexOf(" "+F+" ")<0&&(w+=F+" ");R!==(X=it(w))&&b.setAttribute("class",X)}return this},removeClass:function(A){var v,b,w,R,F,P,X,G=0;if(mt(A))return this.each(function(pe){E(this).removeClass(A.call(this,pe,zc(this)))});if(!arguments.length)return this.attr("class","");if((v=Qn(A)).length)for(;b=this[G++];)if(R=zc(b),w=1===b.nodeType&&" "+it(R)+" "){for(P=0;F=v[P++];)for(;w.indexOf(" "+F+" ")>-1;)w=w.replace(" "+F+" "," ");R!==(X=it(w))&&b.setAttribute("class",X)}return this},toggleClass:function(A,v){var b=typeof A,w="string"===b||Array.isArray(A);return"boolean"==typeof v&&w?v?this.addClass(A):this.removeClass(A):mt(A)?this.each(function(R){E(this).toggleClass(A.call(this,R,zc(this),v),v)}):this.each(function(){var R,F,P,X;if(w)for(F=0,P=E(this),X=Qn(A);R=X[F++];)P.hasClass(R)?P.removeClass(R):P.addClass(R);else(void 0===A||"boolean"===b)&&((R=zc(this))&&Qt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||!1===A?"":Qt.get(this,"__className__")||""))})},hasClass:function(A){var v,b,w=0;for(v=" "+A+" ";b=this[w++];)if(1===b.nodeType&&(" "+it(zc(b))+" ").indexOf(v)>-1)return!0;return!1}});var Ba=/\r/g;E.fn.extend({val:function(A){var v,b,w,R=this[0];return arguments.length?(w=mt(A),this.each(function(F){var P;1===this.nodeType&&(null==(P=w?A.call(this,F,E(this).val()):A)?P="":"number"==typeof P?P+="":Array.isArray(P)&&(P=E.map(P,function(X){return null==X?"":X+""})),(!(v=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])||!("set"in v)||void 0===v.set(this,P,"value"))&&(this.value=P))})):R?(v=E.valHooks[R.type]||E.valHooks[R.nodeName.toLowerCase()])&&"get"in v&&void 0!==(b=v.get(R,"value"))?b:"string"==typeof(b=R.value)?b.replace(Ba,""):null==b?"":b:void 0}}),E.extend({valHooks:{option:{get:function(A){var v=E.find.attr(A,"value");return null!=v?v:it(E.text(A))}},select:{get:function(A){var v,b,w,R=A.options,F=A.selectedIndex,P="select-one"===A.type,X=P?null:[],G=P?F+1:R.length;for(w=F<0?G:P?F:0;w<G;w++)if(((b=R[w]).selected||w===F)&&!b.disabled&&(!b.parentNode.disabled||!Je(b.parentNode,"optgroup"))){if(v=E(b).val(),P)return v;X.push(v)}return X},set:function(A,v){for(var b,w,R=A.options,F=E.makeArray(v),P=R.length;P--;)((w=R[P]).selected=E.inArray(E.valHooks.option.get(w),F)>-1)&&(b=!0);return b||(A.selectedIndex=-1),F}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(A,v){if(Array.isArray(v))return A.checked=E.inArray(E(A).val(),v)>-1}},It.checkOn||(E.valHooks[this].get=function(A){return null===A.getAttribute("value")?"on":A.value})}),It.focusin="onfocusin"in fe;var $p=/^(?:focusinfocus|focusoutblur)$/,vm=function(A){A.stopPropagation()};E.extend(E.event,{trigger:function(A,v,b,w){var R,F,P,X,G,pe,xe,de,Ie=[b||De],Se=Ge.call(A,"type")?A.type:A,Bt=Ge.call(A,"namespace")?A.namespace.split("."):[];if(F=de=P=b=b||De,3!==b.nodeType&&8!==b.nodeType&&!$p.test(Se+E.event.triggered)&&(Se.indexOf(".")>-1&&(Bt=Se.split("."),Se=Bt.shift(),Bt.sort()),G=Se.indexOf(":")<0&&"on"+Se,(A=A[E.expando]?A:new E.Event(Se,"object"==typeof A&&A)).isTrigger=w?2:3,A.namespace=Bt.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+Bt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=b),v=null==v?[A]:E.makeArray(v,[A]),xe=E.event.special[Se]||{},w||!xe.trigger||!1!==xe.trigger.apply(b,v))){if(!w&&!xe.noBubble&&!an(b)){for($p.test((X=xe.delegateType||Se)+Se)||(F=F.parentNode);F;F=F.parentNode)Ie.push(F),P=F;P===(b.ownerDocument||De)&&Ie.push(P.defaultView||P.parentWindow||fe)}for(R=0;(F=Ie[R++])&&!A.isPropagationStopped();)de=F,A.type=R>1?X:xe.bindType||Se,(pe=(Qt.get(F,"events")||Object.create(null))[A.type]&&Qt.get(F,"handle"))&&pe.apply(F,v),(pe=G&&F[G])&&pe.apply&&Bu(F)&&(A.result=pe.apply(F,v),!1===A.result&&A.preventDefault());return A.type=Se,!w&&!A.isDefaultPrevented()&&(!xe._default||!1===xe._default.apply(Ie.pop(),v))&&Bu(b)&&G&&mt(b[Se])&&!an(b)&&((P=b[G])&&(b[G]=null),E.event.triggered=Se,A.isPropagationStopped()&&de.addEventListener(Se,vm),b[Se](),A.isPropagationStopped()&&de.removeEventListener(Se,vm),E.event.triggered=void 0,P&&(b[G]=P)),A.result}},simulate:function(A,v,b){var w=E.extend(new E.Event,b,{type:A,isSimulated:!0});E.event.trigger(w,null,v)}}),E.fn.extend({trigger:function(A,v){return this.each(function(){E.event.trigger(A,v,this)})},triggerHandler:function(A,v){var b=this[0];if(b)return E.event.trigger(A,v,b,!0)}}),It.focusin||E.each({focus:"focusin",blur:"focusout"},function(A,v){var b=function(w){E.event.simulate(v,w.target,E.event.fix(w))};E.event.special[v]={setup:function(){var w=this.ownerDocument||this.document||this,R=Qt.access(w,v);R||w.addEventListener(A,b,!0),Qt.access(w,v,(R||0)+1)},teardown:function(){var w=this.ownerDocument||this.document||this,R=Qt.access(w,v)-1;R?Qt.access(w,v,R):(w.removeEventListener(A,b,!0),Qt.remove(w,v))}}});var $g=fe.location,Mh={guid:Date.now()},Yg=/\?/;E.parseXML=function(A){var v,b;if(!A||"string"!=typeof A)return null;try{v=(new fe.DOMParser).parseFromString(A,"text/xml")}catch(w){}return b=v&&v.getElementsByTagName("parsererror")[0],(!v||b)&&E.error("Invalid XML: "+(b?E.map(b.childNodes,function(w){return w.textContent}).join("\n"):A)),v};var Yp=/\[\]$/,qp=/\r?\n/g,Zp=/^(?:submit|button|image|reset|file)$/i,ln=/^(?:input|select|textarea|keygen)/i;function mf(A,v,b,w){var R;if(Array.isArray(v))E.each(v,function(F,P){b||Yp.test(A)?w(A,P):mf(A+"["+("object"==typeof P&&null!=P?F:"")+"]",P,b,w)});else if(b||"object"!==ye(v))w(A,v);else for(R in v)mf(A+"["+R+"]",v[R],b,w)}E.param=function(A,v){var b,w=[],R=function(F,P){var X=mt(P)?P():P;w[w.length]=encodeURIComponent(F)+"="+encodeURIComponent(null==X?"":X)};if(null==A)return"";if(Array.isArray(A)||A.jquery&&!E.isPlainObject(A))E.each(A,function(){R(this.name,this.value)});else for(b in A)mf(b,A[b],v,R);return w.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=E.prop(this,"elements");return A?E.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!E(this).is(":disabled")&&ln.test(this.nodeName)&&!Zp.test(A)&&(this.checked||!Vc.test(A))}).map(function(A,v){var b=E(this).val();return null==b?null:Array.isArray(b)?E.map(b,function(w){return{name:v.name,value:w.replace(qp,"\r\n")}}):{name:v.name,value:b.replace(qp,"\r\n")}}).get()}});var Rh=/%20/g,uo=/#.*$/,ym=/([?&])_=[^&]*/,Ax=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ps=/^(?:GET|HEAD)$/,Ix=/^\/\//,Fh={},Nr={},Ph="*/".concat("*"),Kp=De.createElement("a");function bm(A){return function(v,b){"string"!=typeof v&&(b=v,v="*");var w,R=0,F=v.toLowerCase().match(ki)||[];if(mt(b))for(;w=F[R++];)"+"===w[0]?(w=w.slice(1)||"*",(A[w]=A[w]||[]).unshift(b)):(A[w]=A[w]||[]).push(b)}}function Ky(A,v,b,w){var R={},F=A===Nr;function P(X){var G;return R[X]=!0,E.each(A[X]||[],function(pe,xe){var de=xe(v,b,w);return"string"!=typeof de||F||R[de]?F?!(G=de):void 0:(v.dataTypes.unshift(de),P(de),!1)}),G}return P(v.dataTypes[0])||!R["*"]&&P("*")}function bi(A,v){var b,w,R=E.ajaxSettings.flatOptions||{};for(b in v)void 0!==v[b]&&((R[b]?A:w||(w={}))[b]=v[b]);return w&&E.extend(!0,A,w),A}Kp.href=$g.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$g.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test($g.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ph,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,v){return v?bi(bi(A,E.ajaxSettings),v):bi(E.ajaxSettings,A)},ajaxPrefilter:bm(Fh),ajaxTransport:bm(Nr),ajax:function(A,v){"object"==typeof A&&(v=A,A=void 0);var b,w,R,F,P,X,G,pe,xe,de,Ie=E.ajaxSetup({},v=v||{}),Se=Ie.context||Ie,Bt=Ie.context&&(Se.nodeType||Se.jquery)?E(Se):E.event,dn=E.Deferred(),Rt=E.Callbacks("once memory"),Kr=Ie.statusCode||{},Ni={},At={},Vt="canceled",Ft={readyState:0,getResponseHeader:function(Ln){var jn;if(G){if(!F)for(F={};jn=Ax.exec(R);)F[jn[1].toLowerCase()+" "]=(F[jn[1].toLowerCase()+" "]||[]).concat(jn[2]);jn=F[Ln.toLowerCase()+" "]}return null==jn?null:jn.join(", ")},getAllResponseHeaders:function(){return G?R:null},setRequestHeader:function(Ln,jn){return null==G&&(Ln=At[Ln.toLowerCase()]=At[Ln.toLowerCase()]||Ln,Ni[Ln]=jn),this},overrideMimeType:function(Ln){return null==G&&(Ie.mimeType=Ln),this},statusCode:function(Ln){var jn;if(Ln)if(G)Ft.always(Ln[Ft.status]);else for(jn in Ln)Kr[jn]=[Kr[jn],Ln[jn]];return this},abort:function(Ln){var jn=Ln||Vt;return b&&b.abort(jn),or(0,jn),this}};if(dn.promise(Ft),Ie.url=((A||Ie.url||$g.href)+"").replace(Ix,$g.protocol+"//"),Ie.type=v.method||v.type||Ie.method||Ie.type,Ie.dataTypes=(Ie.dataType||"*").toLowerCase().match(ki)||[""],null==Ie.crossDomain){X=De.createElement("a");try{X.href=Ie.url,X.href=X.href,Ie.crossDomain=Kp.protocol+"//"+Kp.host!=X.protocol+"//"+X.host}catch(Ln){Ie.crossDomain=!0}}if(Ie.data&&Ie.processData&&"string"!=typeof Ie.data&&(Ie.data=E.param(Ie.data,Ie.traditional)),Ky(Fh,Ie,v,Ft),G)return Ft;for(xe in(pe=E.event&&Ie.global)&&0==E.active++&&E.event.trigger("ajaxStart"),Ie.type=Ie.type.toUpperCase(),Ie.hasContent=!Ps.test(Ie.type),w=Ie.url.replace(uo,""),Ie.hasContent?Ie.data&&Ie.processData&&0===(Ie.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ie.data=Ie.data.replace(Rh,"+")):(de=Ie.url.slice(w.length),Ie.data&&(Ie.processData||"string"==typeof Ie.data)&&(w+=(Yg.test(w)?"&":"?")+Ie.data,delete Ie.data),!1===Ie.cache&&(w=w.replace(ym,"$1"),de=(Yg.test(w)?"&":"?")+"_="+Mh.guid+++de),Ie.url=w+de),Ie.ifModified&&(E.lastModified[w]&&Ft.setRequestHeader("If-Modified-Since",E.lastModified[w]),E.etag[w]&&Ft.setRequestHeader("If-None-Match",E.etag[w])),(Ie.data&&Ie.hasContent&&!1!==Ie.contentType||v.contentType)&&Ft.setRequestHeader("Content-Type",Ie.contentType),Ft.setRequestHeader("Accept",Ie.dataTypes[0]&&Ie.accepts[Ie.dataTypes[0]]?Ie.accepts[Ie.dataTypes[0]]+("*"!==Ie.dataTypes[0]?", "+Ph+"; q=0.01":""):Ie.accepts["*"]),Ie.headers)Ft.setRequestHeader(xe,Ie.headers[xe]);if(Ie.beforeSend&&(!1===Ie.beforeSend.call(Se,Ft,Ie)||G))return Ft.abort();if(Vt="abort",Rt.add(Ie.complete),Ft.done(Ie.success),Ft.fail(Ie.error),b=Ky(Nr,Ie,v,Ft)){if(Ft.readyState=1,pe&&Bt.trigger("ajaxSend",[Ft,Ie]),G)return Ft;Ie.async&&Ie.timeout>0&&(P=fe.setTimeout(function(){Ft.abort("timeout")},Ie.timeout));try{G=!1,b.send(Ni,or)}catch(Ln){if(G)throw Ln;or(-1,Ln)}}else or(-1,"No Transport");function or(Ln,jn,ga,mr){var Eo,da,xn,co,ms,go=jn;G||(G=!0,P&&fe.clearTimeout(P),b=void 0,R=mr||"",Ft.readyState=Ln>0?4:0,Eo=Ln>=200&&Ln<300||304===Ln,ga&&(co=function(A,v,b){for(var w,R,F,P,X=A.contents,G=A.dataTypes;"*"===G[0];)G.shift(),void 0===w&&(w=A.mimeType||v.getResponseHeader("Content-Type"));if(w)for(R in X)if(X[R]&&X[R].test(w)){G.unshift(R);break}if(G[0]in b)F=G[0];else{for(R in b){if(!G[0]||A.converters[R+" "+G[0]]){F=R;break}P||(P=R)}F=F||P}if(F)return F!==G[0]&&G.unshift(F),b[F]}(Ie,Ft,ga)),!Eo&&E.inArray("script",Ie.dataTypes)>-1&&E.inArray("json",Ie.dataTypes)<0&&(Ie.converters["text script"]=function(){}),co=function(A,v,b,w){var R,F,P,X,G,pe={},xe=A.dataTypes.slice();if(xe[1])for(P in A.converters)pe[P.toLowerCase()]=A.converters[P];for(F=xe.shift();F;)if(A.responseFields[F]&&(b[A.responseFields[F]]=v),!G&&w&&A.dataFilter&&(v=A.dataFilter(v,A.dataType)),G=F,F=xe.shift())if("*"===F)F=G;else if("*"!==G&&G!==F){if(!(P=pe[G+" "+F]||pe["* "+F]))for(R in pe)if((X=R.split(" "))[1]===F&&(P=pe[G+" "+X[0]]||pe["* "+X[0]])){!0===P?P=pe[R]:!0!==pe[R]&&(F=X[0],xe.unshift(X[1]));break}if(!0!==P)if(P&&A.throws)v=P(v);else try{v=P(v)}catch(de){return{state:"parsererror",error:P?de:"No conversion from "+G+" to "+F}}}return{state:"success",data:v}}(Ie,co,Ft,Eo),Eo?(Ie.ifModified&&((ms=Ft.getResponseHeader("Last-Modified"))&&(E.lastModified[w]=ms),(ms=Ft.getResponseHeader("etag"))&&(E.etag[w]=ms)),204===Ln||"HEAD"===Ie.type?go="nocontent":304===Ln?go="notmodified":(go=co.state,da=co.data,Eo=!(xn=co.error))):(xn=go,(Ln||!go)&&(go="error",Ln<0&&(Ln=0))),Ft.status=Ln,Ft.statusText=(jn||go)+"",Eo?dn.resolveWith(Se,[da,go,Ft]):dn.rejectWith(Se,[Ft,go,xn]),Ft.statusCode(Kr),Kr=void 0,pe&&Bt.trigger(Eo?"ajaxSuccess":"ajaxError",[Ft,Ie,Eo?da:xn]),Rt.fireWith(Se,[Ft,go]),pe&&(Bt.trigger("ajaxComplete",[Ft,Ie]),--E.active||E.event.trigger("ajaxStop")))}return Ft},getJSON:function(A,v,b){return E.get(A,v,b,"json")},getScript:function(A,v){return E.get(A,void 0,v,"script")}}),E.each(["get","post"],function(A,v){E[v]=function(b,w,R,F){return mt(w)&&(F=F||R,R=w,w=void 0),E.ajax(E.extend({url:b,type:v,dataType:F,data:w,success:R},E.isPlainObject(b)&&b))}}),E.ajaxPrefilter(function(A){var v;for(v in A.headers)"content-type"===v.toLowerCase()&&(A.contentType=A.headers[v]||"")}),E._evalUrl=function(A,v,b){return E.ajax({url:A,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(w){E.globalEval(w,v,b)}})},E.fn.extend({wrapAll:function(A){var v;return this[0]&&(mt(A)&&(A=A.call(this[0])),v=E(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&v.insertBefore(this[0]),v.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(A){return mt(A)?this.each(function(v){E(this).wrapInner(A.call(this,v))}):this.each(function(){var v=E(this),b=v.contents();b.length?b.wrapAll(A):v.append(A)})},wrap:function(A){var v=mt(A);return this.each(function(b){E(this).wrapAll(v?A.call(this,b):A)})},unwrap:function(A){return this.parent(A).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(A){return!E.expr.pseudos.visible(A)},E.expr.pseudos.visible=function(A){return!!(A.offsetWidth||A.offsetHeight||A.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new fe.XMLHttpRequest}catch(A){}};var qg={0:200,1223:204},_i=E.ajaxSettings.xhr();It.cors=!!_i&&"withCredentials"in _i,It.ajax=_i=!!_i,E.ajaxTransport(function(A){var v,b;if(It.cors||_i&&!A.crossDomain)return{send:function(w,R){var F,P=A.xhr();if(P.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(F in A.xhrFields)P[F]=A.xhrFields[F];for(F in A.mimeType&&P.overrideMimeType&&P.overrideMimeType(A.mimeType),!A.crossDomain&&!w["X-Requested-With"]&&(w["X-Requested-With"]="XMLHttpRequest"),w)P.setRequestHeader(F,w[F]);v=function(X){return function(){v&&(v=b=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,"abort"===X?P.abort():"error"===X?"number"!=typeof P.status?R(0,"error"):R(P.status,P.statusText):R(qg[P.status]||P.status,P.statusText,"text"!==(P.responseType||"text")||"string"!=typeof P.responseText?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=v(),b=P.onerror=P.ontimeout=v("error"),void 0!==P.onabort?P.onabort=b:P.onreadystatechange=function(){4===P.readyState&&fe.setTimeout(function(){v&&b()})},v=v("abort");try{P.send(A.hasContent&&A.data||null)}catch(X){if(v)throw X}},abort:function(){v&&v()}}}),E.ajaxPrefilter(function(A){A.crossDomain&&(A.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return E.globalEval(A),A}}}),E.ajaxPrefilter("script",function(A){void 0===A.cache&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),E.ajaxTransport("script",function(A){var v,b;if(A.crossDomain||A.scriptAttrs)return{send:function(w,R){v=E("<script>").attr(A.scriptAttrs||{}).prop({charset:A.scriptCharset,src:A.url}).on("load error",b=function(F){v.remove(),b=null,F&&R("error"===F.type?404:200,F.type)}),De.head.appendChild(v[0])},abort:function(){b&&b()}}});var A,vf=[],yf=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=vf.pop()||E.expando+"_"+Mh.guid++;return this[A]=!0,A}}),E.ajaxPrefilter("json jsonp",function(A,v,b){var w,R,F,P=!1!==A.jsonp&&(yf.test(A.url)?"url":"string"==typeof A.data&&0===(A.contentType||"").indexOf("application/x-www-form-urlencoded")&&yf.test(A.data)&&"data");if(P||"jsonp"===A.dataTypes[0])return w=A.jsonpCallback=mt(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,P?A[P]=A[P].replace(yf,"$1"+w):!1!==A.jsonp&&(A.url+=(Yg.test(A.url)?"&":"?")+A.jsonp+"="+w),A.converters["script json"]=function(){return F||E.error(w+" was not called"),F[0]},A.dataTypes[0]="json",R=fe[w],fe[w]=function(){F=arguments},b.always(function(){void 0===R?E(fe).removeProp(w):fe[w]=R,A[w]&&(A.jsonpCallback=v.jsonpCallback,vf.push(w)),F&&mt(R)&&R(F[0]),F=R=void 0}),"script"}),It.createHTMLDocument=((A=De.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===A.childNodes.length),E.parseHTML=function(A,v,b){return"string"!=typeof A?[]:("boolean"==typeof v&&(b=v,v=!1),v||(It.createHTMLDocument?((w=(v=De.implementation.createHTMLDocument("")).createElement("base")).href=De.location.href,v.head.appendChild(w)):v=De),F=!b&&[],(R=en.exec(A))?[v.createElement(R[1])]:(R=Gp([A],v,F),F&&F.length&&E(F).remove(),E.merge([],R.childNodes)));var w,R,F},E.fn.load=function(A,v,b){var w,R,F,P=this,X=A.indexOf(" ");return X>-1&&(w=it(A.slice(X)),A=A.slice(0,X)),mt(v)?(b=v,v=void 0):v&&"object"==typeof v&&(R="POST"),P.length>0&&E.ajax({url:A,type:R||"GET",dataType:"html",data:v}).done(function(G){F=arguments,P.html(w?E("<div>").append(E.parseHTML(G)).find(w):G)}).always(b&&function(G,pe){P.each(function(){b.apply(this,F||[G.responseText,pe,G])})}),this},E.expr.pseudos.animated=function(A){return E.grep(E.timers,function(v){return A===v.elem}).length},E.offset={setOffset:function(A,v,b){var w,R,F,P,X,G,xe=E.css(A,"position"),de=E(A),Ie={};"static"===xe&&(A.style.position="relative"),X=de.offset(),F=E.css(A,"top"),G=E.css(A,"left"),("absolute"===xe||"fixed"===xe)&&(F+G).indexOf("auto")>-1?(P=(w=de.position()).top,R=w.left):(P=parseFloat(F)||0,R=parseFloat(G)||0),mt(v)&&(v=v.call(A,b,E.extend({},X))),null!=v.top&&(Ie.top=v.top-X.top+P),null!=v.left&&(Ie.left=v.left-X.left+R),"using"in v?v.using.call(A,Ie):de.css(Ie)}},E.fn.extend({offset:function(A){if(arguments.length)return void 0===A?this:this.each(function(R){E.offset.setOffset(this,A,R)});var v,b,w=this[0];return w?w.getClientRects().length?{top:(v=w.getBoundingClientRect()).top+(b=w.ownerDocument.defaultView).pageYOffset,left:v.left+b.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var A,v,b,w=this[0],R={top:0,left:0};if("fixed"===E.css(w,"position"))v=w.getBoundingClientRect();else{for(v=this.offset(),b=w.ownerDocument,A=w.offsetParent||b.documentElement;A&&(A===b.body||A===b.documentElement)&&"static"===E.css(A,"position");)A=A.parentNode;A&&A!==w&&1===A.nodeType&&((R=E(A).offset()).top+=E.css(A,"borderTopWidth",!0),R.left+=E.css(A,"borderLeftWidth",!0))}return{top:v.top-R.top-E.css(w,"marginTop",!0),left:v.left-R.left-E.css(w,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&"static"===E.css(A,"position");)A=A.offsetParent;return A||yl})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,v){var b="pageYOffset"===v;E.fn[A]=function(w){return Ro(this,function(R,F,P){var X;if(an(R)?X=R:9===R.nodeType&&(X=R.defaultView),void 0===P)return X?X[v]:R[F];X?X.scrollTo(b?X.pageXOffset:P,b?P:X.pageYOffset):R[F]=P},A,w,arguments.length)}}),E.each(["top","left"],function(A,v){E.cssHooks[v]=Hr(It.pixelPosition,function(b,w){if(w)return w=kt(b,v),pt.test(w)?E(b).position()[v]+"px":w})}),E.each({Height:"height",Width:"width"},function(A,v){E.each({padding:"inner"+A,content:v,"":"outer"+A},function(b,w){E.fn[w]=function(R,F){var P=arguments.length&&(b||"boolean"!=typeof R),X=b||(!0===R||!0===F?"margin":"border");return Ro(this,function(G,pe,xe){var de;return an(G)?0===w.indexOf("outer")?G["inner"+A]:G.document.documentElement["client"+A]:9===G.nodeType?(de=G.documentElement,Math.max(G.body["scroll"+A],de["scroll"+A],G.body["offset"+A],de["offset"+A],de["client"+A])):void 0===xe?E.css(G,pe,X):E.style(G,pe,xe,X)},v,P?R:void 0,P)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,v){E.fn[v]=function(b){return this.on(v,b)}}),E.fn.extend({bind:function(A,v,b){return this.on(A,null,v,b)},unbind:function(A,v){return this.off(A,null,v)},delegate:function(A,v,b,w){return this.on(v,A,b,w)},undelegate:function(A,v,b){return 1===arguments.length?this.off(A,"**"):this.off(v,A||"**",b)},hover:function(A,v){return this.mouseenter(A).mouseleave(v||A)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(A,v){E.fn[v]=function(b,w){return arguments.length>0?this.on(v,null,b,w):this.trigger(v)}});var _l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(A,v){var b,w,R;if("string"==typeof v&&(b=A[v],v=A,A=b),mt(A))return w=Z.call(arguments,2),(R=function(){return A.apply(v||this,w.concat(Z.call(arguments)))}).guid=A.guid=A.guid||E.guid++,R},E.holdReady=function(A){A?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=Je,E.isFunction=mt,E.isWindow=an,E.camelCase=aa,E.type=ye,E.now=Date.now,E.isNumeric=function(A){var v=E.type(A);return("number"===v||"string"===v)&&!isNaN(A-parseFloat(A))},E.trim=function(A){return null==A?"":(A+"").replace(_l,"")},void 0!==(ue=function(){return E}.apply(yt,[]))&&($e.exports=ue);var Hc=fe.jQuery,Xy=fe.$;return E.noConflict=function(A){return fe.$===E&&(fe.$=Xy),A&&fe.jQuery===E&&(fe.jQuery=Hc),E},void 0===we&&(fe.jQuery=fe.$=E),E})},5270:($e,yt,U)=>{"use strict";const ue=U(9377),fe=Symbol("max"),we=Symbol("length"),ie=Symbol("lengthCalculator"),x=Symbol("allowStale"),Z=Symbol("maxAge"),Y=Symbol("dispose"),oe=Symbol("noDisposeOnSet"),Ce=Symbol("lruList"),re=Symbol("cache"),he=Symbol("updateAgeOnGet"),Ge=()=>1,Lt=(Tt,ye,wt)=>{const E=Tt[re].get(ye);if(E){const Jt=E.value;if(It(Tt,Jt)){if(an(Tt,E),!Tt[x])return}else wt&&(Tt[he]&&(E.value.now=Date.now()),Tt[Ce].unshiftNode(E));return Jt.value}},It=(Tt,ye)=>{if(!ye||!ye.maxAge&&!Tt[Z])return!1;const wt=Date.now()-ye.now;return ye.maxAge?wt>ye.maxAge:Tt[Z]&&wt>Tt[Z]},mt=Tt=>{if(Tt[we]>Tt[fe])for(let ye=Tt[Ce].tail;Tt[we]>Tt[fe]&&null!==ye;){const wt=ye.prev;an(Tt,ye),ye=wt}},an=(Tt,ye)=>{if(ye){const wt=ye.value;Tt[Y]&&Tt[Y](wt.key,wt.value),Tt[we]-=wt.length,Tt[re].delete(wt.key),Tt[Ce].removeNode(ye)}};class De{constructor(ye,wt,E,Jt,Ir){this.key=ye,this.value=wt,this.length=E,this.now=Jt,this.maxAge=Ir||0}}const Ot=(Tt,ye,wt,E)=>{let Jt=wt.value;It(Tt,Jt)&&(an(Tt,wt),Tt[x]||(Jt=void 0)),Jt&&ye.call(E,Jt.value,Jt.key,Tt)};$e.exports=class{constructor(ye){if("number"==typeof ye&&(ye={max:ye}),ye||(ye={}),ye.max&&("number"!=typeof ye.max||ye.max<0))throw new TypeError("max must be a non-negative number");this[fe]=ye.max||1/0;const E=ye.length||Ge;if(this[ie]="function"!=typeof E?Ge:E,this[x]=ye.stale||!1,ye.maxAge&&"number"!=typeof ye.maxAge)throw new TypeError("maxAge must be a number");this[Z]=ye.maxAge||0,this[Y]=ye.dispose,this[oe]=ye.noDisposeOnSet||!1,this[he]=ye.updateAgeOnGet||!1,this.reset()}set max(ye){if("number"!=typeof ye||ye<0)throw new TypeError("max must be a non-negative number");this[fe]=ye||1/0,mt(this)}get max(){return this[fe]}set allowStale(ye){this[x]=!!ye}get allowStale(){return this[x]}set maxAge(ye){if("number"!=typeof ye)throw new TypeError("maxAge must be a non-negative number");this[Z]=ye,mt(this)}get maxAge(){return this[Z]}set lengthCalculator(ye){"function"!=typeof ye&&(ye=Ge),ye!==this[ie]&&(this[ie]=ye,this[we]=0,this[Ce].forEach(wt=>{wt.length=this[ie](wt.value,wt.key),this[we]+=wt.length})),mt(this)}get lengthCalculator(){return this[ie]}get length(){return this[we]}get itemCount(){return this[Ce].length}rforEach(ye,wt){wt=wt||this;for(let E=this[Ce].tail;null!==E;){const Jt=E.prev;Ot(this,ye,E,wt),E=Jt}}forEach(ye,wt){wt=wt||this;for(let E=this[Ce].head;null!==E;){const Jt=E.next;Ot(this,ye,E,wt),E=Jt}}keys(){return this[Ce].toArray().map(ye=>ye.key)}values(){return this[Ce].toArray().map(ye=>ye.value)}reset(){this[Y]&&this[Ce]&&this[Ce].length&&this[Ce].forEach(ye=>this[Y](ye.key,ye.value)),this[re]=new Map,this[Ce]=new ue,this[we]=0}dump(){return this[Ce].map(ye=>!It(this,ye)&&{k:ye.key,v:ye.value,e:ye.now+(ye.maxAge||0)}).toArray().filter(ye=>ye)}dumpLru(){return this[Ce]}set(ye,wt,E){if((E=E||this[Z])&&"number"!=typeof E)throw new TypeError("maxAge must be a number");const Jt=E?Date.now():0,Ir=this[ie](wt,ye);if(this[re].has(ye)){if(Ir>this[fe])return an(this,this[re].get(ye)),!1;const ut=this[re].get(ye).value;return this[Y]&&(this[oe]||this[Y](ye,ut.value)),ut.now=Jt,ut.maxAge=E,ut.value=wt,this[we]+=Ir-ut.length,ut.length=Ir,this.get(ye),mt(this),!0}const Ki=new De(ye,wt,Ir,Jt,E);return Ki.length>this[fe]?(this[Y]&&this[Y](ye,wt),!1):(this[we]+=Ki.length,this[Ce].unshift(Ki),this[re].set(ye,this[Ce].head),mt(this),!0)}has(ye){if(!this[re].has(ye))return!1;const wt=this[re].get(ye).value;return!It(this,wt)}get(ye){return Lt(this,ye,!0)}peek(ye){return Lt(this,ye,!1)}pop(){const ye=this[Ce].tail;return ye?(an(this,ye),ye.value):null}del(ye){an(this,this[re].get(ye))}load(ye){this.reset();const wt=Date.now();for(let E=ye.length-1;E>=0;E--){const Jt=ye[E],Ir=Jt.e||0;if(0===Ir)this.set(Jt.k,Jt.v);else{const Ki=Ir-wt;Ki>0&&this.set(Jt.k,Jt.v,Ki)}}}prune(){this[re].forEach((ye,wt)=>Lt(this,wt,!1))}}},404:($e,yt,U)=>{"use strict";U.r(yt),U.d(yt,{default:()=>Cf});var ue="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,fe=function(){for(var L=["Edge","Trident","Firefox"],J=0;J<L.length;J+=1)if(ue&&navigator.userAgent.indexOf(L[J])>=0)return 1;return 0}(),Z=ue&&window.Promise?function(L){var J=!1;return function(){J||(J=!0,window.Promise.resolve().then(function(){J=!1,L()}))}}:function(L){var J=!1;return function(){J||(J=!0,setTimeout(function(){J=!1,L()},fe))}};function Y(L){return L&&"[object Function]"==={}.toString.call(L)}function oe(L,J){if(1!==L.nodeType)return[];var ve=L.ownerDocument.defaultView.getComputedStyle(L,null);return J?ve[J]:ve}function Ce(L){return"HTML"===L.nodeName?L:L.parentNode||L.host}function re(L){if(!L)return document.body;switch(L.nodeName){case"HTML":case"BODY":return L.ownerDocument.body;case"#document":return L.body}var J=oe(L);return/(auto|scroll|overlay)/.test(J.overflow+J.overflowY+J.overflowX)?L:re(Ce(L))}function he(L){return L&&L.referenceNode?L.referenceNode:L}var Ge=ue&&!(!window.MSInputMethodContext||!document.documentMode),St=ue&&/MSIE 10/.test(navigator.userAgent);function Lt(L){return 11===L?Ge:10===L?St:Ge||St}function It(L){if(!L)return document.documentElement;for(var J=Lt(10)?document.body:null,ge=L.offsetParent||null;ge===J&&L.nextElementSibling;)ge=(L=L.nextElementSibling).offsetParent;var ve=ge&&ge.nodeName;return ve&&"BODY"!==ve&&"HTML"!==ve?-1!==["TH","TD","TABLE"].indexOf(ge.nodeName)&&"static"===oe(ge,"position")?It(ge):ge:L?L.ownerDocument.documentElement:document.documentElement}function an(L){return null!==L.parentNode?an(L.parentNode):L}function De(L,J){if(!(L&&L.nodeType&&J&&J.nodeType))return document.documentElement;var ge=L.compareDocumentPosition(J)&Node.DOCUMENT_POSITION_FOLLOWING,ve=ge?L:J,We=ge?J:L,Ve=document.createRange();Ve.setStart(ve,0),Ve.setEnd(We,0);var Ke=Ve.commonAncestorContainer;if(L!==Ke&&J!==Ke||ve.contains(We))return function(L){var J=L.nodeName;return"BODY"!==J&&("HTML"===J||It(L.firstElementChild)===L)}(Ke)?Ke:It(Ke);var Ct=an(L);return Ct.host?De(Ct.host,J):De(L,an(J).host)}function Ot(L){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",ge="top"===J?"scrollTop":"scrollLeft",ve=L.nodeName;if("BODY"===ve||"HTML"===ve){var We=L.ownerDocument.documentElement,Ve=L.ownerDocument.scrollingElement||We;return Ve[ge]}return L[ge]}function Tt(L,J){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ve=Ot(J,"top"),We=Ot(J,"left"),Ve=ge?-1:1;return L.top+=ve*Ve,L.bottom+=ve*Ve,L.left+=We*Ve,L.right+=We*Ve,L}function ye(L,J){var ge="x"===J?"Left":"Top",ve="Left"===ge?"Right":"Bottom";return parseFloat(L["border"+ge+"Width"])+parseFloat(L["border"+ve+"Width"])}function wt(L,J,ge,ve){return Math.max(J["offset"+L],J["scroll"+L],ge["client"+L],ge["offset"+L],ge["scroll"+L],Lt(10)?parseInt(ge["offset"+L])+parseInt(ve["margin"+("Height"===L?"Top":"Left")])+parseInt(ve["margin"+("Height"===L?"Bottom":"Right")]):0)}function E(L){var J=L.body,ge=L.documentElement,ve=Lt(10)&&getComputedStyle(ge);return{height:wt("Height",J,ge,ve),width:wt("Width",J,ge,ve)}}var Jt=function(L,J){if(!(L instanceof J))throw new TypeError("Cannot call a class as a function")},Ir=function(){function L(J,ge){for(var ve=0;ve<ge.length;ve++){var We=ge[ve];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(J,We.key,We)}}return function(J,ge,ve){return ge&&L(J.prototype,ge),ve&&L(J,ve),J}}(),Ki=function(L,J,ge){return J in L?Object.defineProperty(L,J,{value:ge,enumerable:!0,configurable:!0,writable:!0}):L[J]=ge,L},On=Object.assign||function(L){for(var J=1;J<arguments.length;J++){var ge=arguments[J];for(var ve in ge)Object.prototype.hasOwnProperty.call(ge,ve)&&(L[ve]=ge[ve])}return L};function ut(L){return On({},L,{right:L.left+L.width,bottom:L.top+L.height})}function Je(L){var J={};try{if(Lt(10)){J=L.getBoundingClientRect();var ge=Ot(L,"top"),ve=Ot(L,"left");J.top+=ge,J.left+=ve,J.bottom+=ge,J.right+=ve}else J=L.getBoundingClientRect()}catch(tt){}var We={left:J.left,top:J.top,width:J.right-J.left,height:J.bottom-J.top},Ve="HTML"===L.nodeName?E(L.ownerDocument):{},xt=L.offsetWidth-(Ve.width||L.clientWidth||We.width),Ht=L.offsetHeight-(Ve.height||L.clientHeight||We.height);if(xt||Ht){var sn=oe(L);xt-=ye(sn,"x"),Ht-=ye(sn,"y"),We.width-=xt,We.height-=Ht}return ut(We)}function en(L,J){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ve=Lt(10),We="HTML"===J.nodeName,Ve=Je(L),Ke=Je(J),Ct=re(L),xt=oe(J),Ht=parseFloat(xt.borderTopWidth),sn=parseFloat(xt.borderLeftWidth);ge&&We&&(Ke.top=Math.max(Ke.top,0),Ke.left=Math.max(Ke.left,0));var tt=ut({top:Ve.top-Ke.top-Ht,left:Ve.left-Ke.left-sn,width:Ve.width,height:Ve.height});if(tt.marginTop=0,tt.marginLeft=0,!ve&&We){var Mn=parseFloat(xt.marginTop),pt=parseFloat(xt.marginLeft);tt.top-=Ht-Mn,tt.bottom-=Ht-Mn,tt.left-=sn-pt,tt.right-=sn-pt,tt.marginTop=Mn,tt.marginLeft=pt}return(ve&&!ge?J.contains(Ct):J===Ct&&"BODY"!==Ct.nodeName)&&(tt=Tt(tt,J)),tt}function dt(L){var J=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=L.ownerDocument.documentElement,ve=en(L,ge),We=Math.max(ge.clientWidth,window.innerWidth||0),Ve=Math.max(ge.clientHeight,window.innerHeight||0),Ke=J?0:Ot(ge),Ct=J?0:Ot(ge,"left"),xt={top:Ke-ve.top+ve.marginTop,left:Ct-ve.left+ve.marginLeft,width:We,height:Ve};return ut(xt)}function jt(L){var J=L.nodeName;if("BODY"===J||"HTML"===J)return!1;if("fixed"===oe(L,"position"))return!0;var ge=Ce(L);return!!ge&&jt(ge)}function Mt(L){if(!L||!L.parentElement||Lt())return document.documentElement;for(var J=L.parentElement;J&&"none"===oe(J,"transform");)J=J.parentElement;return J||document.documentElement}function yn(L,J,ge,ve){var We=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Ve={top:0,left:0},Ke=We?Mt(L):De(L,he(J));if("viewport"===ve)Ve=dt(Ke,We);else{var Ct=void 0;"scrollParent"===ve?"BODY"===(Ct=re(Ce(J))).nodeName&&(Ct=L.ownerDocument.documentElement):Ct="window"===ve?L.ownerDocument.documentElement:ve;var xt=en(Ct,Ke,We);if("HTML"!==Ct.nodeName||jt(Ke))Ve=xt;else{var Ht=E(L.ownerDocument),sn=Ht.height,tt=Ht.width;Ve.top+=xt.top-xt.marginTop,Ve.bottom=sn+xt.top,Ve.left+=xt.left-xt.marginLeft,Ve.right=tt+xt.left}}var Mn="number"==typeof(ge=ge||0);return Ve.left+=Mn?ge:ge.left||0,Ve.top+=Mn?ge:ge.top||0,Ve.right-=Mn?ge:ge.right||0,Ve.bottom-=Mn?ge:ge.bottom||0,Ve}function li(L){return L.width*L.height}function Pn(L,J,ge,ve,We){var Ve=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===L.indexOf("auto"))return L;var Ke=yn(ge,ve,Ve,We),Ct={top:{width:Ke.width,height:J.top-Ke.top},right:{width:Ke.right-J.right,height:Ke.height},bottom:{width:Ke.width,height:Ke.bottom-J.bottom},left:{width:J.left-Ke.left,height:Ke.height}},xt=Object.keys(Ct).map(function(Mn){return On({key:Mn},Ct[Mn],{area:li(Ct[Mn])})}).sort(function(Mn,pt){return pt.area-Mn.area}),Ht=xt.filter(function(Mn){return Mn.width>=ge.clientWidth&&Mn.height>=ge.clientHeight}),sn=Ht.length>0?Ht[0].key:xt[0].key,tt=L.split("-")[1];return sn+(tt?"-"+tt:"")}function Bi(L,J,ge){var ve=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,We=ve?Mt(J):De(J,he(ge));return en(ge,We,ve)}function ki(L){var ge=L.ownerDocument.defaultView.getComputedStyle(L),ve=parseFloat(ge.marginTop||0)+parseFloat(ge.marginBottom||0),We=parseFloat(ge.marginLeft||0)+parseFloat(ge.marginRight||0);return{width:L.offsetWidth+We,height:L.offsetHeight+ve}}function tn(L){var J={left:"right",right:"left",bottom:"top",top:"bottom"};return L.replace(/left|right|bottom|top/g,function(ge){return J[ge]})}function Gi(L,J,ge){ge=ge.split("-")[0];var ve=ki(L),We={width:ve.width,height:ve.height},Ve=-1!==["right","left"].indexOf(ge),Ke=Ve?"top":"left",Ct=Ve?"left":"top",xt=Ve?"height":"width",Ht=Ve?"width":"height";return We[Ke]=J[Ke]+J[xt]/2-ve[xt]/2,We[Ct]=ge===Ct?J[Ct]-ve[Ht]:J[tn(Ct)],We}function ml(L,J){return Array.prototype.find?L.find(J):L.filter(J)[0]}function Th(L,J,ge){return(void 0===ge?L:L.slice(0,function(L,J,ge){if(Array.prototype.findIndex)return L.findIndex(function(We){return We[J]===ge});var ve=ml(L,function(We){return We[J]===ge});return L.indexOf(ve)}(L,"name",ge))).forEach(function(We){We.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var Ve=We.function||We.fn;We.enabled&&Y(Ve)&&(J.offsets.popper=ut(J.offsets.popper),J.offsets.reference=ut(J.offsets.reference),J=Ve(J,We))}),J}function Ug(){if(!this.state.isDestroyed){var L={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};L.offsets.reference=Bi(this.state,this.popper,this.reference,this.options.positionFixed),L.placement=Pn(this.options.placement,L.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),L.originalPlacement=L.placement,L.positionFixed=this.options.positionFixed,L.offsets.popper=Gi(this.popper,L.offsets.reference,L.placement),L.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",L=Th(this.modifiers,L),this.state.isCreated?this.options.onUpdate(L):(this.state.isCreated=!0,this.options.onCreate(L))}}function yi(L,J){return L.some(function(ge){return ge.enabled&&ge.name===J})}function Ro(L){for(var J=[!1,"ms","Webkit","Moz","O"],ge=L.charAt(0).toUpperCase()+L.slice(1),ve=0;ve<J.length;ve++){var We=J[ve],Ve=We?""+We+ge:L;if(void 0!==document.body.style[Ve])return Ve}return null}function Lu(){return this.state.isDestroyed=!0,yi(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ro("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function wn(L){var J=L.ownerDocument;return J?J.defaultView:window}function kh(L,J,ge,ve){var We="BODY"===L.nodeName,Ve=We?L.ownerDocument.defaultView:L;Ve.addEventListener(J,ge,{passive:!0}),We||kh(re(Ve.parentNode),J,ge,ve),ve.push(Ve)}function aa(L,J,ge,ve){ge.updateBound=ve,wn(L).addEventListener("resize",ge.updateBound,{passive:!0});var We=re(L);return kh(We,"scroll",ge.updateBound,ge.scrollParents),ge.scrollElement=We,ge.eventsEnabled=!0,ge}function Bu(){this.state.eventsEnabled||(this.state=aa(this.reference,0,this.state,this.scheduleUpdate))}function Qt(){var J;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(J=this.state,wn(this.reference).removeEventListener("resize",J.updateBound),J.scrollParents.forEach(function(ge){ge.removeEventListener("scroll",J.updateBound)}),J.updateBound=null,J.scrollParents=[],J.scrollElement=null,J.eventsEnabled=!1,J))}function hr(L){return""!==L&&!isNaN(parseFloat(L))&&isFinite(L)}function ju(L,J){Object.keys(J).forEach(function(ge){var ve="";-1!==["width","height","top","right","bottom","left"].indexOf(ge)&&hr(J[ge])&&(ve="px"),L.style[ge]=J[ge]+ve})}var nu=ue&&/Firefox/i.test(navigator.userAgent);function yl(L,J,ge){var ve=ml(L,function(Ct){return Ct.name===J}),We=!!ve&&L.some(function(Ct){return Ct.name===ge&&Ct.enabled&&Ct.order<ve.order});if(!We){var Ve="`"+J+"`";console.warn("`"+ge+"` modifier is required by "+Ve+" modifier in order to work, be sure to include it before "+Ve+"!")}return We}var bl=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],iu=bl.slice(3);function ff(L){var J=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=iu.indexOf(L),ve=iu.slice(ge+1).concat(iu.slice(0,ge));return J?ve.reverse():ve}var ca={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(L){var J=L.placement,ge=J.split("-")[0],ve=J.split("-")[1];if(ve){var We=L.offsets,Ve=We.reference,Ke=We.popper,Ct=-1!==["bottom","top"].indexOf(ge),xt=Ct?"left":"top",Ht=Ct?"width":"height",sn={start:Ki({},xt,Ve[xt]),end:Ki({},xt,Ve[xt]+Ve[Ht]-Ke[Ht])};L.offsets.popper=On({},Ke,sn[ve])}return L}},offset:{order:200,enabled:!0,fn:function(L,J){var xt,ge=J.offset,We=L.offsets,Ve=We.popper,Ke=We.reference,Ct=L.placement.split("-")[0];return xt=hr(+ge)?[+ge,0]:function(L,J,ge,ve){var We=[0,0],Ve=-1!==["right","left"].indexOf(ve),Ke=L.split(/(\+|\-)/).map(function(sn){return sn.trim()}),Ct=Ke.indexOf(ml(Ke,function(sn){return-1!==sn.search(/,|\s/)}));Ke[Ct]&&-1===Ke[Ct].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var xt=/\s*,\s*|\s+/,Ht=-1!==Ct?[Ke.slice(0,Ct).concat([Ke[Ct].split(xt)[0]]),[Ke[Ct].split(xt)[1]].concat(Ke.slice(Ct+1))]:[Ke];return(Ht=Ht.map(function(sn,tt){var Mn=(1===tt?!Ve:Ve)?"height":"width",pt=!1;return sn.reduce(function(En,Cr){return""===En[En.length-1]&&-1!==["+","-"].indexOf(Cr)?(En[En.length-1]=Cr,pt=!0,En):pt?(En[En.length-1]+=Cr,pt=!1,En):En.concat(Cr)},[]).map(function(En){return function(L,J,ge,ve){var We=L.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Ve=+We[1],Ke=We[2];if(!Ve)return L;if(0===Ke.indexOf("%")){var Ct=void 0;switch(Ke){case"%p":Ct=ge;break;case"%":case"%r":default:Ct=ve}return ut(Ct)[J]/100*Ve}return"vh"===Ke||"vw"===Ke?("vh"===Ke?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Ve:Ve}(En,Mn,J,ge)})})).forEach(function(sn,tt){sn.forEach(function(Mn,pt){hr(Mn)&&(We[tt]+=Mn*("-"===sn[pt-1]?-1:1))})}),We}(ge,Ve,Ke,Ct),"left"===Ct?(Ve.top+=xt[0],Ve.left-=xt[1]):"right"===Ct?(Ve.top+=xt[0],Ve.left+=xt[1]):"top"===Ct?(Ve.left+=xt[0],Ve.top-=xt[1]):"bottom"===Ct&&(Ve.left+=xt[0],Ve.top+=xt[1]),L.popper=Ve,L},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(L,J){var ge=J.boundariesElement||It(L.instance.popper);L.instance.reference===ge&&(ge=It(ge));var ve=Ro("transform"),We=L.instance.popper.style,Ve=We.top,Ke=We.left,Ct=We[ve];We.top="",We.left="",We[ve]="";var xt=yn(L.instance.popper,L.instance.reference,J.padding,ge,L.positionFixed);We.top=Ve,We.left=Ke,We[ve]=Ct,J.boundaries=xt;var sn=L.offsets.popper,tt={primary:function(pt){var En=sn[pt];return sn[pt]<xt[pt]&&!J.escapeWithReference&&(En=Math.max(sn[pt],xt[pt])),Ki({},pt,En)},secondary:function(pt){var En="right"===pt?"left":"top",Cr=sn[En];return sn[pt]>xt[pt]&&!J.escapeWithReference&&(Cr=Math.min(sn[En],xt[pt]-("right"===pt?sn.width:sn.height))),Ki({},En,Cr)}};return J.priority.forEach(function(Mn){var pt=-1!==["left","top"].indexOf(Mn)?"primary":"secondary";sn=On({},sn,tt[pt](Mn))}),L.offsets.popper=sn,L},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(L){var J=L.offsets,ge=J.popper,ve=J.reference,We=L.placement.split("-")[0],Ve=Math.floor,Ke=-1!==["top","bottom"].indexOf(We),Ct=Ke?"right":"bottom",xt=Ke?"left":"top",Ht=Ke?"width":"height";return ge[Ct]<Ve(ve[xt])&&(L.offsets.popper[xt]=Ve(ve[xt])-ge[Ht]),ge[xt]>Ve(ve[Ct])&&(L.offsets.popper[xt]=Ve(ve[Ct])),L}},arrow:{order:500,enabled:!0,fn:function(L,J){var ge;if(!yl(L.instance.modifiers,"arrow","keepTogether"))return L;var ve=J.element;if("string"==typeof ve){if(!(ve=L.instance.popper.querySelector(ve)))return L}else if(!L.instance.popper.contains(ve))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),L;var We=L.placement.split("-")[0],Ve=L.offsets,Ke=Ve.popper,Ct=Ve.reference,xt=-1!==["left","right"].indexOf(We),Ht=xt?"height":"width",sn=xt?"Top":"Left",tt=sn.toLowerCase(),Mn=xt?"left":"top",pt=xt?"bottom":"right",En=ki(ve)[Ht];Ct[pt]-En<Ke[tt]&&(L.offsets.popper[tt]-=Ke[tt]-(Ct[pt]-En)),Ct[tt]+En>Ke[pt]&&(L.offsets.popper[tt]+=Ct[tt]+En-Ke[pt]),L.offsets.popper=ut(L.offsets.popper);var Cr=Ct[tt]+Ct[Ht]/2-En/2,An=oe(L.instance.popper),kt=parseFloat(An["margin"+sn]),Hr=parseFloat(An["border"+sn+"Width"]),ru=Cr-L.offsets.popper[tt]-kt-Hr;return ru=Math.max(Math.min(Ke[Ht]-En,ru),0),L.arrowElement=ve,L.offsets.arrow=(Ki(ge={},tt,Math.round(ru)),Ki(ge,Mn,""),ge),L},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(L,J){if(yi(L.instance.modifiers,"inner")||L.flipped&&L.placement===L.originalPlacement)return L;var ge=yn(L.instance.popper,L.instance.reference,J.padding,J.boundariesElement,L.positionFixed),ve=L.placement.split("-")[0],We=tn(ve),Ve=L.placement.split("-")[1]||"",Ke=[];switch(J.behavior){case"flip":Ke=[ve,We];break;case"clockwise":Ke=ff(ve);break;case"counterclockwise":Ke=ff(ve,!0);break;default:Ke=J.behavior}return Ke.forEach(function(Ct,xt){if(ve!==Ct||Ke.length===xt+1)return L;ve=L.placement.split("-")[0],We=tn(ve);var Ht=L.offsets.popper,sn=L.offsets.reference,tt=Math.floor,Mn="left"===ve&&tt(Ht.right)>tt(sn.left)||"right"===ve&&tt(Ht.left)<tt(sn.right)||"top"===ve&&tt(Ht.bottom)>tt(sn.top)||"bottom"===ve&&tt(Ht.top)<tt(sn.bottom),pt=tt(Ht.left)<tt(ge.left),En=tt(Ht.right)>tt(ge.right),Cr=tt(Ht.top)<tt(ge.top),An=tt(Ht.bottom)>tt(ge.bottom),kt="left"===ve&&pt||"right"===ve&&En||"top"===ve&&Cr||"bottom"===ve&&An,Hr=-1!==["top","bottom"].indexOf(ve),Hu=!!J.flipVariations&&(Hr&&"start"===Ve&&pt||Hr&&"end"===Ve&&En||!Hr&&"start"===Ve&&Cr||!Hr&&"end"===Ve&&An)||!!J.flipVariationsByContent&&(Hr&&"start"===Ve&&En||Hr&&"end"===Ve&&pt||!Hr&&"start"===Ve&&An||!Hr&&"end"===Ve&&Cr);(Mn||kt||Hu)&&(L.flipped=!0,(Mn||kt)&&(ve=Ke[xt+1]),Hu&&(Ve=function(L){return"end"===L?"start":"start"===L?"end":L}(Ve)),L.placement=ve+(Ve?"-"+Ve:""),L.offsets.popper=On({},L.offsets.popper,Gi(L.instance.popper,L.offsets.reference,L.placement)),L=Th(L.instance.modifiers,L,"flip"))}),L},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(L){var J=L.placement,ge=J.split("-")[0],ve=L.offsets,We=ve.popper,Ve=ve.reference,Ke=-1!==["left","right"].indexOf(ge),Ct=-1===["top","left"].indexOf(ge);return We[Ke?"left":"top"]=Ve[ge]-(Ct?We[Ke?"width":"height"]:0),L.placement=tn(J),L.offsets.popper=ut(We),L}},hide:{order:800,enabled:!0,fn:function(L){if(!yl(L.instance.modifiers,"hide","preventOverflow"))return L;var J=L.offsets.reference,ge=ml(L.instance.modifiers,function(ve){return"preventOverflow"===ve.name}).boundaries;if(J.bottom<ge.top||J.left>ge.right||J.top>ge.bottom||J.right<ge.left){if(!0===L.hide)return L;L.hide=!0,L.attributes["x-out-of-boundaries"]=""}else{if(!1===L.hide)return L;L.hide=!1,L.attributes["x-out-of-boundaries"]=!1}return L}},computeStyle:{order:850,enabled:!0,fn:function(L,J){var ge=J.x,ve=J.y,We=L.offsets.popper,Ve=ml(L.instance.modifiers,function(ru){return"applyStyle"===ru.name}).gpuAcceleration;void 0!==Ve&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var En,Cr,Ke=void 0!==Ve?Ve:J.gpuAcceleration,Ct=It(L.instance.popper),xt=Je(Ct),Ht={position:We.position},sn=function(L,J){var ge=L.offsets,ve=ge.popper,Ve=Math.round,Ke=Math.floor,Ct=function(kt){return kt},xt=Ve(ge.reference.width),Ht=Ve(ve.width),sn=-1!==["left","right"].indexOf(L.placement),tt=-1!==L.placement.indexOf("-"),En=J?sn||tt||xt%2==Ht%2?Ve:Ke:Ct,Cr=J?Ve:Ct;return{left:En(xt%2==1&&Ht%2==1&&!tt&&J?ve.left-1:ve.left),top:Cr(ve.top),bottom:Cr(ve.bottom),right:En(ve.right)}}(L,window.devicePixelRatio<2||!nu),tt="bottom"===ge?"top":"bottom",Mn="right"===ve?"left":"right",pt=Ro("transform");if(Cr="bottom"===tt?"HTML"===Ct.nodeName?-Ct.clientHeight+sn.bottom:-xt.height+sn.bottom:sn.top,En="right"===Mn?"HTML"===Ct.nodeName?-Ct.clientWidth+sn.right:-xt.width+sn.right:sn.left,Ke&&pt)Ht[pt]="translate3d("+En+"px, "+Cr+"px, 0)",Ht[tt]=0,Ht[Mn]=0,Ht.willChange="transform";else{var kt="right"===Mn?-1:1;Ht[tt]=Cr*("bottom"===tt?-1:1),Ht[Mn]=En*kt,Ht.willChange=tt+", "+Mn}return L.attributes=On({},{"x-placement":L.placement},L.attributes),L.styles=On({},Ht,L.styles),L.arrowStyles=On({},L.offsets.arrow,L.arrowStyles),L},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(L){return ju(L.instance.popper,L.styles),function(L,J){Object.keys(J).forEach(function(ge){!1!==J[ge]?L.setAttribute(ge,J[ge]):L.removeAttribute(ge)})}(L.instance.popper,L.attributes),L.arrowElement&&Object.keys(L.arrowStyles).length&&ju(L.arrowElement,L.arrowStyles),L},onLoad:function(L,J,ge,ve,We){var Ve=Bi(We,J,L,ge.positionFixed),Ke=Pn(ge.placement,Ve,J,L,ge.modifiers.flip.boundariesElement,ge.modifiers.flip.padding);return J.setAttribute("x-placement",Ke),ju(J,{position:ge.positionFixed?"fixed":"absolute"}),ge},gpuAcceleration:void 0}}},Fs=function(){function L(J,ge){var ve=this,We=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jt(this,L),this.scheduleUpdate=function(){return requestAnimationFrame(ve.update)},this.update=Z(this.update.bind(this)),this.options=On({},L.Defaults,We),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=J&&J.jquery?J[0]:J,this.popper=ge&&ge.jquery?ge[0]:ge,this.options.modifiers={},Object.keys(On({},L.Defaults.modifiers,We.modifiers)).forEach(function(Ke){ve.options.modifiers[Ke]=On({},L.Defaults.modifiers[Ke]||{},We.modifiers?We.modifiers[Ke]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(Ke){return On({name:Ke},ve.options.modifiers[Ke])}).sort(function(Ke,Ct){return Ke.order-Ct.order}),this.modifiers.forEach(function(Ke){Ke.enabled&&Y(Ke.onLoad)&&Ke.onLoad(ve.reference,ve.popper,ve.options,Ke,ve.state)}),this.update();var Ve=this.options.eventsEnabled;Ve&&this.enableEventListeners(),this.state.eventsEnabled=Ve}return Ir(L,[{key:"update",value:function(){return Ug.call(this)}},{key:"destroy",value:function(){return Lu.call(this)}},{key:"enableEventListeners",value:function(){return Bu.call(this)}},{key:"disableEventListeners",value:function(){return Qt.call(this)}}]),L}();Fs.Utils=("undefined"!=typeof window?window:global).PopperUtils,Fs.placements=bl,Fs.Defaults=ca;const Cf=Fs},6585:($e,yt,U)=>{const ue=Symbol("SemVer ANY");class fe{static get ANY(){return ue}constructor(he,Ge){if(Ge=we(Ge),he instanceof fe){if(he.loose===!!Ge.loose)return he;he=he.value}Y("comparator",he,Ge),this.options=Ge,this.loose=!!Ge.loose,this.parse(he),this.value=this.semver===ue?"":this.operator+this.semver.version,Y("comp",this)}parse(he){const St=he.match(this.options.loose?ie[x.COMPARATORLOOSE]:ie[x.COMPARATOR]);if(!St)throw new TypeError(`Invalid comparator: ${he}`);this.operator=void 0!==St[1]?St[1]:"","="===this.operator&&(this.operator=""),this.semver=St[2]?new oe(St[2],this.options.loose):ue}toString(){return this.value}test(he){if(Y("Comparator.test",he,this.options.loose),this.semver===ue||he===ue)return!0;if("string"==typeof he)try{he=new oe(he,this.options)}catch(Ge){return!1}return Z(he,this.operator,this.semver,this.options)}intersects(he,Ge){if(!(he instanceof fe))throw new TypeError("a Comparator is required");if((!Ge||"object"!=typeof Ge)&&(Ge={loose:!!Ge,includePrerelease:!1}),""===this.operator)return""===this.value||new Ce(he.value,Ge).test(this.value);if(""===he.operator)return""===he.value||new Ce(this.value,Ge).test(he.semver);const St=!(">="!==this.operator&&">"!==this.operator||">="!==he.operator&&">"!==he.operator),Lt=!("<="!==this.operator&&"<"!==this.operator||"<="!==he.operator&&"<"!==he.operator),It=this.semver.version===he.semver.version,mt=!(">="!==this.operator&&"<="!==this.operator||">="!==he.operator&&"<="!==he.operator),an=Z(this.semver,"<",he.semver,Ge)&&(">="===this.operator||">"===this.operator)&&("<="===he.operator||"<"===he.operator),De=Z(this.semver,">",he.semver,Ge)&&("<="===this.operator||"<"===this.operator)&&(">="===he.operator||">"===he.operator);return St||Lt||It&&mt||an||De}}$e.exports=fe;const we=U(6919),{re:ie,t:x}=U(2489),Z=U(9143),Y=U(536),oe=U(8508),Ce=U(3880)},3880:($e,yt,U)=>{class ue{constructor(Je,en){if(en=ie(en),Je instanceof ue)return Je.loose===!!en.loose&&Je.includePrerelease===!!en.includePrerelease?Je:new ue(Je.raw,en);if(Je instanceof x)return this.raw=Je.value,this.set=[[Je]],this.format(),this;if(this.options=en,this.loose=!!en.loose,this.includePrerelease=!!en.includePrerelease,this.raw=Je,this.set=Je.split(/\s*\|\|\s*/).map(dt=>this.parseRange(dt.trim())).filter(dt=>dt.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${Je}`);if(this.set.length>1){const dt=this.set[0];if(this.set=this.set.filter(jt=>!St(jt[0])),0===this.set.length)this.set=[dt];else if(this.set.length>1)for(const jt of this.set)if(1===jt.length&&Lt(jt[0])){this.set=[jt];break}}this.format()}format(){return this.range=this.set.map(Je=>Je.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(Je){Je=Je.trim();const dt=`parseRange:${Object.keys(this.options).join(",")}:${Je}`,jt=we.get(dt);if(jt)return jt;const Mt=this.options.loose;Je=Je.replace(Mt?oe[Ce.HYPHENRANGELOOSE]:oe[Ce.HYPHENRANGE],Ki(this.options.includePrerelease)),Z("hyphen replace",Je),Je=Je.replace(oe[Ce.COMPARATORTRIM],re),Z("comparator trim",Je,oe[Ce.COMPARATORTRIM]),Je=(Je=(Je=Je.replace(oe[Ce.TILDETRIM],he)).replace(oe[Ce.CARETTRIM],Ge)).split(/\s+/).join(" ");const li=Mt?oe[Ce.COMPARATORLOOSE]:oe[Ce.COMPARATOR],Pn=Je.split(" ").map(Gi=>mt(Gi,this.options)).join(" ").split(/\s+/).map(Gi=>Ir(Gi,this.options)).filter(this.options.loose?Gi=>!!Gi.match(li):()=>!0).map(Gi=>new x(Gi,this.options)),ki=new Map;for(const Gi of Pn){if(St(Gi))return[Gi];ki.set(Gi.value,Gi)}ki.size>1&&ki.has("")&&ki.delete("");const tn=[...ki.values()];return we.set(dt,tn),tn}intersects(Je,en){if(!(Je instanceof ue))throw new TypeError("a Range is required");return this.set.some(dt=>It(dt,en)&&Je.set.some(jt=>It(jt,en)&&dt.every(Mt=>jt.every(yn=>Mt.intersects(yn,en)))))}test(Je){if(!Je)return!1;if("string"==typeof Je)try{Je=new Y(Je,this.options)}catch(en){return!1}for(let en=0;en<this.set.length;en++)if(On(this.set[en],Je,this.options))return!0;return!1}}$e.exports=ue;const we=new(U(5270))({max:1e3}),ie=U(6919),x=U(6585),Z=U(536),Y=U(8508),{re:oe,t:Ce,comparatorTrimReplace:re,tildeTrimReplace:he,caretTrimReplace:Ge}=U(2489),St=ut=>"<0.0.0-0"===ut.value,Lt=ut=>""===ut.value,It=(ut,Je)=>{let en=!0;const dt=ut.slice();let jt=dt.pop();for(;en&&dt.length;)en=dt.every(Mt=>jt.intersects(Mt,Je)),jt=dt.pop();return en},mt=(ut,Je)=>(Z("comp",ut,Je),ut=Tt(ut,Je),Z("caret",ut),ut=De(ut,Je),Z("tildes",ut),ut=wt(ut,Je),Z("xrange",ut),ut=Jt(ut,Je),Z("stars",ut),ut),an=ut=>!ut||"x"===ut.toLowerCase()||"*"===ut,De=(ut,Je)=>ut.trim().split(/\s+/).map(en=>Ot(en,Je)).join(" "),Ot=(ut,Je)=>ut.replace(Je.loose?oe[Ce.TILDELOOSE]:oe[Ce.TILDE],(dt,jt,Mt,yn,li)=>{let Pn;return Z("tilde",ut,dt,jt,Mt,yn,li),an(jt)?Pn="":an(Mt)?Pn=`>=${jt}.0.0 <${+jt+1}.0.0-0`:an(yn)?Pn=`>=${jt}.${Mt}.0 <${jt}.${+Mt+1}.0-0`:li?(Z("replaceTilde pr",li),Pn=`>=${jt}.${Mt}.${yn}-${li} <${jt}.${+Mt+1}.0-0`):Pn=`>=${jt}.${Mt}.${yn} <${jt}.${+Mt+1}.0-0`,Z("tilde return",Pn),Pn}),Tt=(ut,Je)=>ut.trim().split(/\s+/).map(en=>ye(en,Je)).join(" "),ye=(ut,Je)=>{Z("caret",ut,Je);const dt=Je.includePrerelease?"-0":"";return ut.replace(Je.loose?oe[Ce.CARETLOOSE]:oe[Ce.CARET],(jt,Mt,yn,li,Pn)=>{let Bi;return Z("caret",ut,jt,Mt,yn,li,Pn),an(Mt)?Bi="":an(yn)?Bi=`>=${Mt}.0.0${dt} <${+Mt+1}.0.0-0`:an(li)?Bi="0"===Mt?`>=${Mt}.${yn}.0${dt} <${Mt}.${+yn+1}.0-0`:`>=${Mt}.${yn}.0${dt} <${+Mt+1}.0.0-0`:Pn?(Z("replaceCaret pr",Pn),Bi="0"===Mt?"0"===yn?`>=${Mt}.${yn}.${li}-${Pn} <${Mt}.${yn}.${+li+1}-0`:`>=${Mt}.${yn}.${li}-${Pn} <${Mt}.${+yn+1}.0-0`:`>=${Mt}.${yn}.${li}-${Pn} <${+Mt+1}.0.0-0`):(Z("no pr"),Bi="0"===Mt?"0"===yn?`>=${Mt}.${yn}.${li}${dt} <${Mt}.${yn}.${+li+1}-0`:`>=${Mt}.${yn}.${li}${dt} <${Mt}.${+yn+1}.0-0`:`>=${Mt}.${yn}.${li} <${+Mt+1}.0.0-0`),Z("caret return",Bi),Bi})},wt=(ut,Je)=>(Z("replaceXRanges",ut,Je),ut.split(/\s+/).map(en=>E(en,Je)).join(" ")),E=(ut,Je)=>(ut=ut.trim()).replace(Je.loose?oe[Ce.XRANGELOOSE]:oe[Ce.XRANGE],(dt,jt,Mt,yn,li,Pn)=>{Z("xRange",ut,dt,jt,Mt,yn,li,Pn);const Bi=an(Mt),ki=Bi||an(yn),tn=ki||an(li);return"="===jt&&tn&&(jt=""),Pn=Je.includePrerelease?"-0":"",Bi?dt=">"===jt||"<"===jt?"<0.0.0-0":"*":jt&&tn?(ki&&(yn=0),li=0,">"===jt?(jt=">=",ki?(Mt=+Mt+1,yn=0,li=0):(yn=+yn+1,li=0)):"<="===jt&&(jt="<",ki?Mt=+Mt+1:yn=+yn+1),"<"===jt&&(Pn="-0"),dt=`${jt+Mt}.${yn}.${li}${Pn}`):ki?dt=`>=${Mt}.0.0${Pn} <${+Mt+1}.0.0-0`:tn&&(dt=`>=${Mt}.${yn}.0${Pn} <${Mt}.${+yn+1}.0-0`),Z("xRange return",dt),dt}),Jt=(ut,Je)=>(Z("replaceStars",ut,Je),ut.trim().replace(oe[Ce.STAR],"")),Ir=(ut,Je)=>(Z("replaceGTE0",ut,Je),ut.trim().replace(oe[Je.includePrerelease?Ce.GTE0PRE:Ce.GTE0],"")),Ki=ut=>(Je,en,dt,jt,Mt,yn,li,Pn,Bi,ki,tn,Gi,ml)=>`${en=an(dt)?"":an(jt)?`>=${dt}.0.0${ut?"-0":""}`:an(Mt)?`>=${dt}.${jt}.0${ut?"-0":""}`:yn?`>=${en}`:`>=${en}${ut?"-0":""}`} ${Pn=an(Bi)?"":an(ki)?`<${+Bi+1}.0.0-0`:an(tn)?`<${Bi}.${+ki+1}.0-0`:Gi?`<=${Bi}.${ki}.${tn}-${Gi}`:ut?`<${Bi}.${ki}.${+tn+1}-0`:`<=${Pn}`}`.trim(),On=(ut,Je,en)=>{for(let dt=0;dt<ut.length;dt++)if(!ut[dt].test(Je))return!1;if(Je.prerelease.length&&!en.includePrerelease){for(let dt=0;dt<ut.length;dt++)if(Z(ut[dt].semver),ut[dt].semver!==x.ANY&&ut[dt].semver.prerelease.length>0){const jt=ut[dt].semver;if(jt.major===Je.major&&jt.minor===Je.minor&&jt.patch===Je.patch)return!0}return!1}return!0}},8508:($e,yt,U)=>{const ue=U(536),{MAX_LENGTH:fe,MAX_SAFE_INTEGER:we}=U(3147),{re:ie,t:x}=U(2489),Z=U(6919),{compareIdentifiers:Y}=U(8322);class oe{constructor(re,he){if(he=Z(he),re instanceof oe){if(re.loose===!!he.loose&&re.includePrerelease===!!he.includePrerelease)return re;re=re.version}else if("string"!=typeof re)throw new TypeError(`Invalid Version: ${re}`);if(re.length>fe)throw new TypeError(`version is longer than ${fe} characters`);ue("SemVer",re,he),this.options=he,this.loose=!!he.loose,this.includePrerelease=!!he.includePrerelease;const Ge=re.trim().match(he.loose?ie[x.LOOSE]:ie[x.FULL]);if(!Ge)throw new TypeError(`Invalid Version: ${re}`);if(this.raw=re,this.major=+Ge[1],this.minor=+Ge[2],this.patch=+Ge[3],this.major>we||this.major<0)throw new TypeError("Invalid major version");if(this.minor>we||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>we||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=Ge[4]?Ge[4].split(".").map(St=>{if(/^[0-9]+$/.test(St)){const Lt=+St;if(Lt>=0&&Lt<we)return Lt}return St}):[],this.build=Ge[5]?Ge[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(re){if(ue("SemVer.compare",this.version,this.options,re),!(re instanceof oe)){if("string"==typeof re&&re===this.version)return 0;re=new oe(re,this.options)}return re.version===this.version?0:this.compareMain(re)||this.comparePre(re)}compareMain(re){return re instanceof oe||(re=new oe(re,this.options)),Y(this.major,re.major)||Y(this.minor,re.minor)||Y(this.patch,re.patch)}comparePre(re){if(re instanceof oe||(re=new oe(re,this.options)),this.prerelease.length&&!re.prerelease.length)return-1;if(!this.prerelease.length&&re.prerelease.length)return 1;if(!this.prerelease.length&&!re.prerelease.length)return 0;let he=0;do{const Ge=this.prerelease[he],St=re.prerelease[he];if(ue("prerelease compare",he,Ge,St),void 0===Ge&&void 0===St)return 0;if(void 0===St)return 1;if(void 0===Ge)return-1;if(Ge!==St)return Y(Ge,St)}while(++he)}compareBuild(re){re instanceof oe||(re=new oe(re,this.options));let he=0;do{const Ge=this.build[he],St=re.build[he];if(ue("prerelease compare",he,Ge,St),void 0===Ge&&void 0===St)return 0;if(void 0===St)return 1;if(void 0===Ge)return-1;if(Ge!==St)return Y(Ge,St)}while(++he)}inc(re,he){switch(re){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",he);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",he);break;case"prepatch":this.prerelease.length=0,this.inc("patch",he),this.inc("pre",he);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",he),this.inc("pre",he);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let Ge=this.prerelease.length;for(;--Ge>=0;)"number"==typeof this.prerelease[Ge]&&(this.prerelease[Ge]++,Ge=-2);-1===Ge&&this.prerelease.push(0)}he&&(this.prerelease[0]===he?isNaN(this.prerelease[1])&&(this.prerelease=[he,0]):this.prerelease=[he,0]);break;default:throw new Error(`invalid increment argument: ${re}`)}return this.format(),this.raw=this.version,this}}$e.exports=oe},7658:($e,yt,U)=>{const ue=U(667);$e.exports=(we,ie)=>{const x=ue(we.trim().replace(/^[=v]+/,""),ie);return x?x.version:null}},9143:($e,yt,U)=>{const ue=U(7146),fe=U(9154),we=U(872),ie=U(8613),x=U(5217),Z=U(5617);$e.exports=(oe,Ce,re,he)=>{switch(Ce){case"===":return"object"==typeof oe&&(oe=oe.version),"object"==typeof re&&(re=re.version),oe===re;case"!==":return"object"==typeof oe&&(oe=oe.version),"object"==typeof re&&(re=re.version),oe!==re;case"":case"=":case"==":return ue(oe,re,he);case"!=":return fe(oe,re,he);case">":return we(oe,re,he);case">=":return ie(oe,re,he);case"<":return x(oe,re,he);case"<=":return Z(oe,re,he);default:throw new TypeError(`Invalid operator: ${Ce}`)}}},8561:($e,yt,U)=>{const ue=U(8508),fe=U(667),{re:we,t:ie}=U(2489);$e.exports=(Z,Y)=>{if(Z instanceof ue)return Z;if("number"==typeof Z&&(Z=String(Z)),"string"!=typeof Z)return null;let oe=null;if((Y=Y||{}).rtl){let Ce;for(;(Ce=we[ie.COERCERTL].exec(Z))&&(!oe||oe.index+oe[0].length!==Z.length);)(!oe||Ce.index+Ce[0].length!==oe.index+oe[0].length)&&(oe=Ce),we[ie.COERCERTL].lastIndex=Ce.index+Ce[1].length+Ce[2].length;we[ie.COERCERTL].lastIndex=-1}else oe=Z.match(we[ie.COERCE]);return null===oe?null:fe(`${oe[2]}.${oe[3]||"0"}.${oe[4]||"0"}`,Y)}},5934:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie,x)=>{const Z=new ue(we,x),Y=new ue(ie,x);return Z.compare(Y)||Z.compareBuild(Y)}},306:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie)=>ue(we,ie,!0)},3132:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie,x)=>new ue(we,x).compare(new ue(ie,x))},2696:($e,yt,U)=>{const ue=U(667),fe=U(7146);$e.exports=(ie,x)=>{if(fe(ie,x))return null;{const Z=ue(ie),Y=ue(x),oe=Z.prerelease.length||Y.prerelease.length,Ce=oe?"pre":"",re=oe?"prerelease":"";for(const he in Z)if(("major"===he||"minor"===he||"patch"===he)&&Z[he]!==Y[he])return Ce+he;return re}}},7146:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>0===ue(we,ie,x)},872:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>ue(we,ie,x)>0},8613:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>ue(we,ie,x)>=0},5864:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie,x,Z)=>{"string"==typeof x&&(Z=x,x=void 0);try{return new ue(we,x).inc(ie,Z).version}catch(Y){return null}}},5217:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>ue(we,ie,x)<0},5617:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>ue(we,ie,x)<=0},5541:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie)=>new ue(we,ie).major},5771:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie)=>new ue(we,ie).minor},9154:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>0!==ue(we,ie,x)},667:($e,yt,U)=>{const{MAX_LENGTH:ue}=U(3147),{re:fe,t:we}=U(2489),ie=U(8508),x=U(6919);$e.exports=(Y,oe)=>{if(oe=x(oe),Y instanceof ie)return Y;if("string"!=typeof Y||Y.length>ue||!(oe.loose?fe[we.LOOSE]:fe[we.FULL]).test(Y))return null;try{return new ie(Y,oe)}catch(re){return null}}},1891:($e,yt,U)=>{const ue=U(8508);$e.exports=(we,ie)=>new ue(we,ie).patch},9861:($e,yt,U)=>{const ue=U(667);$e.exports=(we,ie)=>{const x=ue(we,ie);return x&&x.prerelease.length?x.prerelease:null}},4391:($e,yt,U)=>{const ue=U(3132);$e.exports=(we,ie,x)=>ue(ie,we,x)},885:($e,yt,U)=>{const ue=U(5934);$e.exports=(we,ie)=>we.sort((x,Z)=>ue(Z,x,ie))},4138:($e,yt,U)=>{const ue=U(3880);$e.exports=(we,ie,x)=>{try{ie=new ue(ie,x)}catch(Z){return!1}return ie.test(we)}},4875:($e,yt,U)=>{const ue=U(5934);$e.exports=(we,ie)=>we.sort((x,Z)=>ue(x,Z,ie))},8888:($e,yt,U)=>{const ue=U(667);$e.exports=(we,ie)=>{const x=ue(we,ie);return x?x.version:null}},8772:($e,yt,U)=>{const ue=U(2489);$e.exports={re:ue.re,src:ue.src,tokens:ue.t,SEMVER_SPEC_VERSION:U(3147).SEMVER_SPEC_VERSION,SemVer:U(8508),compareIdentifiers:U(8322).compareIdentifiers,rcompareIdentifiers:U(8322).rcompareIdentifiers,parse:U(667),valid:U(8888),clean:U(7658),inc:U(5864),diff:U(2696),major:U(5541),minor:U(5771),patch:U(1891),prerelease:U(9861),compare:U(3132),rcompare:U(4391),compareLoose:U(306),compareBuild:U(5934),sort:U(4875),rsort:U(885),gt:U(872),lt:U(5217),eq:U(7146),neq:U(9154),gte:U(8613),lte:U(5617),cmp:U(9143),coerce:U(8561),Comparator:U(6585),Range:U(3880),satisfies:U(4138),toComparators:U(7342),maxSatisfying:U(5725),minSatisfying:U(3754),minVersion:U(2406),validRange:U(6860),outside:U(4694),gtr:U(5142),ltr:U(4557),intersects:U(5430),simplifyRange:U(7296),subset:U(9179)}},3147:$e=>{$e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16}},536:$e=>{const yt="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...U)=>console.error("SEMVER",...U):()=>{};$e.exports=yt},8322:$e=>{const yt=/^[0-9]+$/,U=(fe,we)=>{const ie=yt.test(fe),x=yt.test(we);return ie&&x&&(fe=+fe,we=+we),fe===we?0:ie&&!x?-1:x&&!ie?1:fe<we?-1:1};$e.exports={compareIdentifiers:U,rcompareIdentifiers:(fe,we)=>U(we,fe)}},6919:$e=>{const yt=["includePrerelease","loose","rtl"];$e.exports=ue=>ue?"object"!=typeof ue?{loose:!0}:yt.filter(fe=>ue[fe]).reduce((fe,we)=>(fe[we]=!0,fe),{}):{}},2489:($e,yt,U)=>{const{MAX_SAFE_COMPONENT_LENGTH:ue}=U(3147),fe=U(536),we=(yt=$e.exports={}).re=[],ie=yt.src=[],x=yt.t={};let Z=0;const Y=(oe,Ce,re)=>{const he=Z++;fe(he,Ce),x[oe]=he,ie[he]=Ce,we[he]=new RegExp(Ce,re?"g":void 0)};Y("NUMERICIDENTIFIER","0|[1-9]\\d*"),Y("NUMERICIDENTIFIERLOOSE","[0-9]+"),Y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),Y("MAINVERSION",`(${ie[x.NUMERICIDENTIFIER]})\\.(${ie[x.NUMERICIDENTIFIER]})\\.(${ie[x.NUMERICIDENTIFIER]})`),Y("MAINVERSIONLOOSE",`(${ie[x.NUMERICIDENTIFIERLOOSE]})\\.(${ie[x.NUMERICIDENTIFIERLOOSE]})\\.(${ie[x.NUMERICIDENTIFIERLOOSE]})`),Y("PRERELEASEIDENTIFIER",`(?:${ie[x.NUMERICIDENTIFIER]}|${ie[x.NONNUMERICIDENTIFIER]})`),Y("PRERELEASEIDENTIFIERLOOSE",`(?:${ie[x.NUMERICIDENTIFIERLOOSE]}|${ie[x.NONNUMERICIDENTIFIER]})`),Y("PRERELEASE",`(?:-(${ie[x.PRERELEASEIDENTIFIER]}(?:\\.${ie[x.PRERELEASEIDENTIFIER]})*))`),Y("PRERELEASELOOSE",`(?:-?(${ie[x.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ie[x.PRERELEASEIDENTIFIERLOOSE]})*))`),Y("BUILDIDENTIFIER","[0-9A-Za-z-]+"),Y("BUILD",`(?:\\+(${ie[x.BUILDIDENTIFIER]}(?:\\.${ie[x.BUILDIDENTIFIER]})*))`),Y("FULLPLAIN",`v?${ie[x.MAINVERSION]}${ie[x.PRERELEASE]}?${ie[x.BUILD]}?`),Y("FULL",`^${ie[x.FULLPLAIN]}$`),Y("LOOSEPLAIN",`[v=\\s]*${ie[x.MAINVERSIONLOOSE]}${ie[x.PRERELEASELOOSE]}?${ie[x.BUILD]}?`),Y("LOOSE",`^${ie[x.LOOSEPLAIN]}$`),Y("GTLT","((?:<|>)?=?)"),Y("XRANGEIDENTIFIERLOOSE",`${ie[x.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Y("XRANGEIDENTIFIER",`${ie[x.NUMERICIDENTIFIER]}|x|X|\\*`),Y("XRANGEPLAIN",`[v=\\s]*(${ie[x.XRANGEIDENTIFIER]})(?:\\.(${ie[x.XRANGEIDENTIFIER]})(?:\\.(${ie[x.XRANGEIDENTIFIER]})(?:${ie[x.PRERELEASE]})?${ie[x.BUILD]}?)?)?`),Y("XRANGEPLAINLOOSE",`[v=\\s]*(${ie[x.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[x.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[x.XRANGEIDENTIFIERLOOSE]})(?:${ie[x.PRERELEASELOOSE]})?${ie[x.BUILD]}?)?)?`),Y("XRANGE",`^${ie[x.GTLT]}\\s*${ie[x.XRANGEPLAIN]}$`),Y("XRANGELOOSE",`^${ie[x.GTLT]}\\s*${ie[x.XRANGEPLAINLOOSE]}$`),Y("COERCE",`(^|[^\\d])(\\d{1,${ue}})(?:\\.(\\d{1,${ue}}))?(?:\\.(\\d{1,${ue}}))?(?:$|[^\\d])`),Y("COERCERTL",ie[x.COERCE],!0),Y("LONETILDE","(?:~>?)"),Y("TILDETRIM",`(\\s*)${ie[x.LONETILDE]}\\s+`,!0),yt.tildeTrimReplace="$1~",Y("TILDE",`^${ie[x.LONETILDE]}${ie[x.XRANGEPLAIN]}$`),Y("TILDELOOSE",`^${ie[x.LONETILDE]}${ie[x.XRANGEPLAINLOOSE]}$`),Y("LONECARET","(?:\\^)"),Y("CARETTRIM",`(\\s*)${ie[x.LONECARET]}\\s+`,!0),yt.caretTrimReplace="$1^",Y("CARET",`^${ie[x.LONECARET]}${ie[x.XRANGEPLAIN]}$`),Y("CARETLOOSE",`^${ie[x.LONECARET]}${ie[x.XRANGEPLAINLOOSE]}$`),Y("COMPARATORLOOSE",`^${ie[x.GTLT]}\\s*(${ie[x.LOOSEPLAIN]})$|^$`),Y("COMPARATOR",`^${ie[x.GTLT]}\\s*(${ie[x.FULLPLAIN]})$|^$`),Y("COMPARATORTRIM",`(\\s*)${ie[x.GTLT]}\\s*(${ie[x.LOOSEPLAIN]}|${ie[x.XRANGEPLAIN]})`,!0),yt.comparatorTrimReplace="$1$2$3",Y("HYPHENRANGE",`^\\s*(${ie[x.XRANGEPLAIN]})\\s+-\\s+(${ie[x.XRANGEPLAIN]})\\s*$`),Y("HYPHENRANGELOOSE",`^\\s*(${ie[x.XRANGEPLAINLOOSE]})\\s+-\\s+(${ie[x.XRANGEPLAINLOOSE]})\\s*$`),Y("STAR","(<|>)?=?\\s*\\*"),Y("GTE0","^\\s*>=\\s*0.0.0\\s*$"),Y("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},5142:($e,yt,U)=>{const ue=U(4694);$e.exports=(we,ie,x)=>ue(we,ie,">",x)},5430:($e,yt,U)=>{const ue=U(3880);$e.exports=(we,ie,x)=>(we=new ue(we,x),ie=new ue(ie,x),we.intersects(ie))},4557:($e,yt,U)=>{const ue=U(4694);$e.exports=(we,ie,x)=>ue(we,ie,"<",x)},5725:($e,yt,U)=>{const ue=U(8508),fe=U(3880);$e.exports=(ie,x,Z)=>{let Y=null,oe=null,Ce=null;try{Ce=new fe(x,Z)}catch(re){return null}return ie.forEach(re=>{Ce.test(re)&&(!Y||-1===oe.compare(re))&&(Y=re,oe=new ue(Y,Z))}),Y}},3754:($e,yt,U)=>{const ue=U(8508),fe=U(3880);$e.exports=(ie,x,Z)=>{let Y=null,oe=null,Ce=null;try{Ce=new fe(x,Z)}catch(re){return null}return ie.forEach(re=>{Ce.test(re)&&(!Y||1===oe.compare(re))&&(Y=re,oe=new ue(Y,Z))}),Y}},2406:($e,yt,U)=>{const ue=U(8508),fe=U(3880),we=U(872);$e.exports=(x,Z)=>{x=new fe(x,Z);let Y=new ue("0.0.0");if(x.test(Y)||(Y=new ue("0.0.0-0"),x.test(Y)))return Y;Y=null;for(let oe=0;oe<x.set.length;++oe){let re=null;x.set[oe].forEach(he=>{const Ge=new ue(he.semver.version);switch(he.operator){case">":0===Ge.prerelease.length?Ge.patch++:Ge.prerelease.push(0),Ge.raw=Ge.format();case"":case">=":(!re||we(Ge,re))&&(re=Ge);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${he.operator}`)}}),re&&(!Y||we(Y,re))&&(Y=re)}return Y&&x.test(Y)?Y:null}},4694:($e,yt,U)=>{const ue=U(8508),fe=U(6585),{ANY:we}=fe,ie=U(3880),x=U(4138),Z=U(872),Y=U(5217),oe=U(5617),Ce=U(8613);$e.exports=(he,Ge,St,Lt)=>{let It,mt,an,De,Ot;switch(he=new ue(he,Lt),Ge=new ie(Ge,Lt),St){case">":It=Z,mt=oe,an=Y,De=">",Ot=">=";break;case"<":It=Y,mt=Ce,an=Z,De="<",Ot="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(x(he,Ge,Lt))return!1;for(let Tt=0;Tt<Ge.set.length;++Tt){let wt=null,E=null;if(Ge.set[Tt].forEach(Jt=>{Jt.semver===we&&(Jt=new fe(">=0.0.0")),wt=wt||Jt,E=E||Jt,It(Jt.semver,wt.semver,Lt)?wt=Jt:an(Jt.semver,E.semver,Lt)&&(E=Jt)}),wt.operator===De||wt.operator===Ot||(!E.operator||E.operator===De)&&mt(he,E.semver))return!1;if(E.operator===Ot&&an(he,E.semver))return!1}return!0}},7296:($e,yt,U)=>{const ue=U(4138),fe=U(3132);$e.exports=(we,ie,x)=>{const Z=[];let Y=null,oe=null;const Ce=we.sort((St,Lt)=>fe(St,Lt,x));for(const St of Ce)ue(St,ie,x)?(oe=St,Y||(Y=St)):(oe&&Z.push([Y,oe]),oe=null,Y=null);Y&&Z.push([Y,null]);const re=[];for(const[St,Lt]of Z)re.push(St===Lt?St:Lt||St!==Ce[0]?Lt?St===Ce[0]?`<=${Lt}`:`${St} - ${Lt}`:`>=${St}`:"*");const he=re.join(" || "),Ge="string"==typeof ie.raw?ie.raw:String(ie);return he.length<Ge.length?he:ie}},9179:($e,yt,U)=>{const ue=U(3880),fe=U(6585),{ANY:we}=fe,ie=U(4138),x=U(3132),Y=(re,he,Ge)=>{if(re===he)return!0;if(1===re.length&&re[0].semver===we){if(1===he.length&&he[0].semver===we)return!0;re=Ge.includePrerelease?[new fe(">=0.0.0-0")]:[new fe(">=0.0.0")]}if(1===he.length&&he[0].semver===we){if(Ge.includePrerelease)return!0;he=[new fe(">=0.0.0")]}const St=new Set;let Lt,It,mt;for(const E of re)">"===E.operator||">="===E.operator?Lt=oe(Lt,E,Ge):"<"===E.operator||"<="===E.operator?It=Ce(It,E,Ge):St.add(E.semver);if(St.size>1)return null;if(Lt&&It){if(mt=x(Lt.semver,It.semver,Ge),mt>0)return null;if(0===mt&&(">="!==Lt.operator||"<="!==It.operator))return null}for(const E of St){if(Lt&&!ie(E,String(Lt),Ge)||It&&!ie(E,String(It),Ge))return null;for(const Jt of he)if(!ie(E,String(Jt),Ge))return!1;return!0}let an,De,Ot,Tt,ye=!(!It||Ge.includePrerelease||!It.semver.prerelease.length)&&It.semver,wt=!(!Lt||Ge.includePrerelease||!Lt.semver.prerelease.length)&&Lt.semver;ye&&1===ye.prerelease.length&&"<"===It.operator&&0===ye.prerelease[0]&&(ye=!1);for(const E of he){if(Tt=Tt||">"===E.operator||">="===E.operator,Ot=Ot||"<"===E.operator||"<="===E.operator,Lt)if(wt&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===wt.major&&E.semver.minor===wt.minor&&E.semver.patch===wt.patch&&(wt=!1),">"===E.operator||">="===E.operator){if(an=oe(Lt,E,Ge),an===E&&an!==Lt)return!1}else if(">="===Lt.operator&&!ie(Lt.semver,String(E),Ge))return!1;if(It)if(ye&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===ye.major&&E.semver.minor===ye.minor&&E.semver.patch===ye.patch&&(ye=!1),"<"===E.operator||"<="===E.operator){if(De=Ce(It,E,Ge),De===E&&De!==It)return!1}else if("<="===It.operator&&!ie(It.semver,String(E),Ge))return!1;if(!E.operator&&(It||Lt)&&0!==mt)return!1}return!(Lt&&Ot&&!It&&0!==mt||It&&Tt&&!Lt&&0!==mt||wt||ye)},oe=(re,he,Ge)=>{if(!re)return he;const St=x(re.semver,he.semver,Ge);return St>0?re:St<0||">"===he.operator&&">="===re.operator?he:re},Ce=(re,he,Ge)=>{if(!re)return he;const St=x(re.semver,he.semver,Ge);return St<0?re:St>0||"<"===he.operator&&"<="===re.operator?he:re};$e.exports=(re,he,Ge={})=>{if(re===he)return!0;re=new ue(re,Ge),he=new ue(he,Ge);let St=!1;e:for(const Lt of re.set){for(const It of he.set){const mt=Y(Lt,It,Ge);if(St=St||null!==mt,mt)continue e}if(St)return!1}return!0}},7342:($e,yt,U)=>{const ue=U(3880);$e.exports=(we,ie)=>new ue(we,ie).set.map(x=>x.map(Z=>Z.value).join(" ").trim().split(" "))},6860:($e,yt,U)=>{const ue=U(3880);$e.exports=(we,ie)=>{try{return new ue(we,ie).range||"*"}catch(x){return null}}},9401:$e=>{var yt=function(){"use strict";function U(re,he){return null!=he&&re instanceof he}var ue,fe,we;try{ue=Map}catch(re){ue=function(){}}try{fe=Set}catch(re){fe=function(){}}try{we=Promise}catch(re){we=function(){}}function ie(re,he,Ge,St,Lt){"object"==typeof he&&(Ge=he.depth,St=he.prototype,Lt=he.includeNonEnumerable,he=he.circular);var It=[],mt=[],an="undefined"!=typeof Buffer;return void 0===he&&(he=!0),void 0===Ge&&(Ge=1/0),function De(Ot,Tt){if(null===Ot)return null;if(0===Tt)return Ot;var ye,wt;if("object"!=typeof Ot)return Ot;if(U(Ot,ue))ye=new ue;else if(U(Ot,fe))ye=new fe;else if(U(Ot,we))ye=new we(function(dt,jt){Ot.then(function(Mt){dt(De(Mt,Tt-1))},function(Mt){jt(De(Mt,Tt-1))})});else if(ie.__isArray(Ot))ye=[];else if(ie.__isRegExp(Ot))ye=new RegExp(Ot.source,Ce(Ot)),Ot.lastIndex&&(ye.lastIndex=Ot.lastIndex);else if(ie.__isDate(Ot))ye=new Date(Ot.getTime());else{if(an&&Buffer.isBuffer(Ot))return ye=Buffer.allocUnsafe?Buffer.allocUnsafe(Ot.length):new Buffer(Ot.length),Ot.copy(ye),ye;U(Ot,Error)?ye=Object.create(Ot):void 0===St?(wt=Object.getPrototypeOf(Ot),ye=Object.create(wt)):(ye=Object.create(St),wt=St)}if(he){var E=It.indexOf(Ot);if(-1!=E)return mt[E];It.push(Ot),mt.push(ye)}for(var Jt in U(Ot,ue)&&Ot.forEach(function(dt,jt){var Mt=De(jt,Tt-1),yn=De(dt,Tt-1);ye.set(Mt,yn)}),U(Ot,fe)&&Ot.forEach(function(dt){var jt=De(dt,Tt-1);ye.add(jt)}),Ot){var Ir;wt&&(Ir=Object.getOwnPropertyDescriptor(wt,Jt)),(!Ir||null!=Ir.set)&&(ye[Jt]=De(Ot[Jt],Tt-1))}if(Object.getOwnPropertySymbols){var Ki=Object.getOwnPropertySymbols(Ot);for(Jt=0;Jt<Ki.length;Jt++){var On=Ki[Jt];(ut=Object.getOwnPropertyDescriptor(Ot,On))&&!ut.enumerable&&!Lt||(ye[On]=De(Ot[On],Tt-1),ut.enumerable||Object.defineProperty(ye,On,{enumerable:!1}))}}if(Lt){var Je=Object.getOwnPropertyNames(Ot);for(Jt=0;Jt<Je.length;Jt++){var ut,en=Je[Jt];(ut=Object.getOwnPropertyDescriptor(Ot,en))&&ut.enumerable||(ye[en]=De(Ot[en],Tt-1),Object.defineProperty(ye,en,{enumerable:!1}))}}return ye}(re,Ge)}function x(re){return Object.prototype.toString.call(re)}function Ce(re){var he="";return re.global&&(he+="g"),re.ignoreCase&&(he+="i"),re.multiline&&(he+="m"),he}return ie.clonePrototype=function(he){if(null===he)return null;var Ge=function(){};return Ge.prototype=he,new Ge},ie.__objToStr=x,ie.__isDate=function(re){return"object"==typeof re&&"[object Date]"===x(re)},ie.__isArray=function(re){return"object"==typeof re&&"[object Array]"===x(re)},ie.__isRegExp=function(re){return"object"==typeof re&&"[object RegExp]"===x(re)},ie.__getRegExpFlags=Ce,ie}();$e.exports&&($e.exports=yt)},2316:$e=>{"use strict";$e.exports=function(yt){yt.prototype[Symbol.iterator]=function*(){for(let U=this.head;U;U=U.next)yield U.value}}},9377:($e,yt,U)=>{"use strict";function ue(Z){var Y=this;if(Y instanceof ue||(Y=new ue),Y.tail=null,Y.head=null,Y.length=0,Z&&"function"==typeof Z.forEach)Z.forEach(function(re){Y.push(re)});else if(arguments.length>0)for(var oe=0,Ce=arguments.length;oe<Ce;oe++)Y.push(arguments[oe]);return Y}function fe(Z,Y,oe){var Ce=Y===Z.head?new x(oe,null,Y,Z):new x(oe,Y,Y.next,Z);return null===Ce.next&&(Z.tail=Ce),null===Ce.prev&&(Z.head=Ce),Z.length++,Ce}function we(Z,Y){Z.tail=new x(Y,Z.tail,null,Z),Z.head||(Z.head=Z.tail),Z.length++}function ie(Z,Y){Z.head=new x(Y,null,Z.head,Z),Z.tail||(Z.tail=Z.head),Z.length++}function x(Z,Y,oe,Ce){if(!(this instanceof x))return new x(Z,Y,oe,Ce);this.list=Ce,this.value=Z,Y?(Y.next=this,this.prev=Y):this.prev=null,oe?(oe.prev=this,this.next=oe):this.next=null}$e.exports=ue,ue.Node=x,ue.create=ue,ue.prototype.removeNode=function(Z){if(Z.list!==this)throw new Error("removing node which does not belong to this list");var Y=Z.next,oe=Z.prev;return Y&&(Y.prev=oe),oe&&(oe.next=Y),Z===this.head&&(this.head=Y),Z===this.tail&&(this.tail=oe),Z.list.length--,Z.next=null,Z.prev=null,Z.list=null,Y},ue.prototype.unshiftNode=function(Z){if(Z!==this.head){Z.list&&Z.list.removeNode(Z);var Y=this.head;Z.list=this,Z.next=Y,Y&&(Y.prev=Z),this.head=Z,this.tail||(this.tail=Z),this.length++}},ue.prototype.pushNode=function(Z){if(Z!==this.tail){Z.list&&Z.list.removeNode(Z);var Y=this.tail;Z.list=this,Z.prev=Y,Y&&(Y.next=Z),this.tail=Z,this.head||(this.head=Z),this.length++}},ue.prototype.push=function(){for(var Z=0,Y=arguments.length;Z<Y;Z++)we(this,arguments[Z]);return this.length},ue.prototype.unshift=function(){for(var Z=0,Y=arguments.length;Z<Y;Z++)ie(this,arguments[Z]);return this.length},ue.prototype.pop=function(){if(this.tail){var Z=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,Z}},ue.prototype.shift=function(){if(this.head){var Z=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,Z}},ue.prototype.forEach=function(Z,Y){Y=Y||this;for(var oe=this.head,Ce=0;null!==oe;Ce++)Z.call(Y,oe.value,Ce,this),oe=oe.next},ue.prototype.forEachReverse=function(Z,Y){Y=Y||this;for(var oe=this.tail,Ce=this.length-1;null!==oe;Ce--)Z.call(Y,oe.value,Ce,this),oe=oe.prev},ue.prototype.get=function(Z){for(var Y=0,oe=this.head;null!==oe&&Y<Z;Y++)oe=oe.next;if(Y===Z&&null!==oe)return oe.value},ue.prototype.getReverse=function(Z){for(var Y=0,oe=this.tail;null!==oe&&Y<Z;Y++)oe=oe.prev;if(Y===Z&&null!==oe)return oe.value},ue.prototype.map=function(Z,Y){Y=Y||this;for(var oe=new ue,Ce=this.head;null!==Ce;)oe.push(Z.call(Y,Ce.value,this)),Ce=Ce.next;return oe},ue.prototype.mapReverse=function(Z,Y){Y=Y||this;for(var oe=new ue,Ce=this.tail;null!==Ce;)oe.push(Z.call(Y,Ce.value,this)),Ce=Ce.prev;return oe},ue.prototype.reduce=function(Z,Y){var oe,Ce=this.head;if(arguments.length>1)oe=Y;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");Ce=this.head.next,oe=this.head.value}for(var re=0;null!==Ce;re++)oe=Z(oe,Ce.value,re),Ce=Ce.next;return oe},ue.prototype.reduceReverse=function(Z,Y){var oe,Ce=this.tail;if(arguments.length>1)oe=Y;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");Ce=this.tail.prev,oe=this.tail.value}for(var re=this.length-1;null!==Ce;re--)oe=Z(oe,Ce.value,re),Ce=Ce.prev;return oe},ue.prototype.toArray=function(){for(var Z=new Array(this.length),Y=0,oe=this.head;null!==oe;Y++)Z[Y]=oe.value,oe=oe.next;return Z},ue.prototype.toArrayReverse=function(){for(var Z=new Array(this.length),Y=0,oe=this.tail;null!==oe;Y++)Z[Y]=oe.value,oe=oe.prev;return Z},ue.prototype.slice=function(Z,Y){(Y=Y||this.length)<0&&(Y+=this.length),(Z=Z||0)<0&&(Z+=this.length);var oe=new ue;if(Y<Z||Y<0)return oe;Z<0&&(Z=0),Y>this.length&&(Y=this.length);for(var Ce=0,re=this.head;null!==re&&Ce<Z;Ce++)re=re.next;for(;null!==re&&Ce<Y;Ce++,re=re.next)oe.push(re.value);return oe},ue.prototype.sliceReverse=function(Z,Y){(Y=Y||this.length)<0&&(Y+=this.length),(Z=Z||0)<0&&(Z+=this.length);var oe=new ue;if(Y<Z||Y<0)return oe;Z<0&&(Z=0),Y>this.length&&(Y=this.length);for(var Ce=this.length,re=this.tail;null!==re&&Ce>Y;Ce--)re=re.prev;for(;null!==re&&Ce>Z;Ce--,re=re.prev)oe.push(re.value);return oe},ue.prototype.splice=function(Z,Y,...oe){Z>this.length&&(Z=this.length-1),Z<0&&(Z=this.length+Z);for(var Ce=0,re=this.head;null!==re&&Ce<Z;Ce++)re=re.next;var he=[];for(Ce=0;re&&Ce<Y;Ce++)he.push(re.value),re=this.removeNode(re);for(null===re&&(re=this.tail),re!==this.head&&re!==this.tail&&(re=re.prev),Ce=0;Ce<oe.length;Ce++)re=fe(this,re,oe[Ce]);return he},ue.prototype.reverse=function(){for(var Z=this.head,Y=this.tail,oe=Z;null!==oe;oe=oe.prev){var Ce=oe.prev;oe.prev=oe.next,oe.next=Ce}return this.head=Y,this.tail=Z,this};try{U(2316)(ue)}catch(Z){}},1905:($e,yt,U)=>{"use strict";var ue={};U.r(ue),U.d(ue,{JsonPatchError:()=>Ao,_areEquals:()=>P1,applyOperation:()=>MA,applyPatch:()=>eS,applyReducer:()=>A8e,deepClone:()=>C8e,getValueByPointer:()=>J2,validate:()=>fee,validator:()=>tS});var fe={};U.r(fe),U.d(fe,{compare:()=>E8e,generate:()=>X5,observe:()=>w8e,unobserve:()=>_8e});var we={};U.r(we),U.d(we,{aggregate:()=>mC,bin:()=>OB,collect:()=>MB,compare:()=>Jne,countpattern:()=>RB,cross:()=>FB,density:()=>PB,dotbin:()=>BB,expression:()=>sie,extent:()=>jB,facet:()=>LS,field:()=>aie,filter:()=>zB,flatten:()=>HB,fold:()=>UB,formula:()=>GB,generate:()=>lie,impute:()=>WB,joinaggregate:()=>$B,kde:()=>YB,key:()=>uie,load:()=>cie,lookup:()=>ZB,multiextent:()=>gie,multivalues:()=>die,params:()=>fie,pivot:()=>KB,prefacet:()=>hie,project:()=>XB,proxy:()=>Cie,quantile:()=>QB,relay:()=>pie,sample:()=>JB,sequence:()=>e8,sieve:()=>Aie,subflow:()=>VB,timeunit:()=>t8,tupleindex:()=>mie,values:()=>vie,window:()=>n8});var ie={};U.r(ie),U.d(ie,{interpolate:()=>EC,interpolateArray:()=>T7e,interpolateBasis:()=>sre,interpolateBasisClosed:()=>are,interpolateCubehelix:()=>AVe,interpolateCubehelixLong:()=>IVe,interpolateDate:()=>dre,interpolateDiscrete:()=>eVe,interpolateHcl:()=>hVe,interpolateHclLong:()=>CVe,interpolateHsl:()=>cVe,interpolateHslLong:()=>gVe,interpolateHue:()=>tVe,interpolateLab:()=>fVe,interpolateNumber:()=>gg,interpolateNumberArray:()=>y8,interpolateObject:()=>fre,interpolateRgb:()=>v8,interpolateRgbBasis:()=>D7e,interpolateRgbBasisClosed:()=>S7e,interpolateRound:()=>C_,interpolateString:()=>hre,interpolateTransformCss:()=>rVe,interpolateTransformSvg:()=>oVe,interpolateZoom:()=>uVe,piecewise:()=>M8,quantize:()=>mVe});var x={};U.r(x),U.d(x,{bound:()=>tae,identifier:()=>oj,mark:()=>iae,overlap:()=>rae,render:()=>cae,viewlayout:()=>pae});var Z={};U.r(Z),U.d(Z,{axisticks:()=>Iae,datajoin:()=>mae,encode:()=>vae,legendentries:()=>yae,linkpath:()=>sj,pie:()=>aj,scale:()=>Dae,sortitems:()=>kae,stack:()=>uj});var Y={};U.r(Y),U.d(Y,{contour:()=>zj,geojson:()=>Gj,geopath:()=>Wj,geopoint:()=>$j,geoshape:()=>Yj,graticule:()=>qj,heatmap:()=>Zj,isocontour:()=>Bj,kde2d:()=>Vj,projection:()=>$le});var oe={};U.r(oe),U.d(oe,{force:()=>t6});var Ce={};U.r(Ce),U.d(Ce,{nest:()=>l6,pack:()=>c6,partition:()=>d6,stratify:()=>f6,tree:()=>C6,treelinks:()=>p6,treemap:()=>I6});var re={};U.r(re),U.d(re,{label:()=>x6});var he={};U.r(he),U.d(he,{loess:()=>D6,regression:()=>T6});var Ge={};U.r(Ge),U.d(Ge,{voronoi:()=>R6});var St={};U.r(St),U.d(St,{wordcloud:()=>P6});var Lt={};U.r(Lt),U.d(Lt,{crossfilter:()=>L6,resolvefilter:()=>B6});var It={};U.r(It),U.d(It,{Bounds:()=>cs,CanvasHandler:()=>L_,CanvasRenderer:()=>PT,DATE:()=>Fl,DAY:()=>ba,DAYOFYEAR:()=>dd,Dataflow:()=>Q0,Debug:()=>mee,Error:()=>eL,EventStream:()=>TS,Gradient:()=>Soe,GroupItem:()=>CT,HOURS:()=>mu,Handler:()=>RC,Info:()=>Iee,Item:()=>hT,MILLISECONDS:()=>cg,MINUTES:()=>vu,MONTH:()=>ya,Marks:()=>bu,MultiPulse:()=>aB,None:()=>pee,Operator:()=>Dr,Parameters:()=>SS,Pulse:()=>IC,QUARTER:()=>Rl,RenderType:()=>PC,Renderer:()=>wd,ResourceLoader:()=>u4,SECONDS:()=>dc,SVGHandler:()=>B4,SVGRenderer:()=>W4,SVGStringRenderer:()=>q4,Scenegraph:()=>M4,TIME_UNITS:()=>NL,Transform:()=>Ne,View:()=>tge,WEEK:()=>ls,Warn:()=>Aee,YEAR:()=>Qs,accessor:()=>Nl,accessorFields:()=>Ia,accessorName:()=>Io,array:()=>_n,ascending:()=>lS,bandwidthNRD:()=>CB,bin:()=>Rne,bootstrapCI:()=>Fne,boundClip:()=>$se,boundContext:()=>S_,boundItem:()=>O4,boundMark:()=>ase,boundStroke:()=>qf,changeset:()=>jA,clampRange:()=>Oee,codegenExpression:()=>Que,compare:()=>rL,constant:()=>va,cumulativeLogNormal:()=>yB,cumulativeNormal:()=>MS,cumulativeUniform:()=>EB,dayofyear:()=>pte,debounce:()=>oL,defaultLocale:()=>YL,definition:()=>Dne,densityLogNormal:()=>vB,densityNormal:()=>pB,densityUniform:()=>wB,domChild:()=>Ll,domClear:()=>Cg,domCreate:()=>MC,domFind:()=>R4,dotbin:()=>Pne,error:()=>Be,expressionFunction:()=>Go,extend:()=>ii,extent:()=>gd,extentIndex:()=>Mee,falsy:()=>sC,fastmap:()=>B0,field:()=>Ol,flush:()=>Ree,font:()=>DT,fontFamily:()=>M_,fontSize:()=>_d,format:()=>yS,formatLocale:()=>mS,formats:()=>tB,hasOwnProperty:()=>Sn,id:()=>L1,identity:()=>tl,inferType:()=>une,inferTypes:()=>cne,ingest:()=>sr,inherits:()=>gt,inrange:()=>j0,interpolate:()=>X8,interpolateColors:()=>uT,interpolateRange:()=>goe,intersect:()=>Hse,intersectBoxLine:()=>Cv,intersectPath:()=>p4,intersectPoint:()=>A4,intersectRule:()=>$oe,isArray:()=>rn,isBoolean:()=>sL,isDate:()=>aC,isFunction:()=>si,isIterable:()=>Fee,isNumber:()=>lC,isObject:()=>Un,isRegExp:()=>Pee,isString:()=>$i,isTuple:()=>ES,key:()=>aL,lerp:()=>Lee,lineHeight:()=>NC,loader:()=>bS,locale:()=>sne,logger:()=>vee,lruCache:()=>Bee,markup:()=>G4,merge:()=>jee,mergeConfig:()=>iS,multiLineOffset:()=>T4,one:()=>L0,pad:()=>Vee,panLinear:()=>xee,panLog:()=>Dee,panPow:()=>See,panSymlog:()=>Tee,parse:()=>int,parseExpression:()=>Zue,parseSelector:()=>cge,pathCurves:()=>i4,pathEqual:()=>Yse,pathParse:()=>dv,pathRectangle:()=>Foe,pathRender:()=>__,pathSymbols:()=>Roe,pathTrail:()=>Poe,peek:()=>Fi,point:()=>TT,projection:()=>Lj,quantileLogNormal:()=>bB,quantileNormal:()=>RS,quantileUniform:()=>xB,quantiles:()=>fB,quantizeInterpolator:()=>doe,quarter:()=>kee,quartiles:()=>hB,random:()=>fc,randomInteger:()=>R6e,randomKDE:()=>IB,randomLCG:()=>M6e,randomLogNormal:()=>Bne,randomMixture:()=>jne,randomNormal:()=>AB,randomUniform:()=>Vne,read:()=>hne,regressionExp:()=>Hne,regressionLinear:()=>DB,regressionLoess:()=>Yne,regressionLog:()=>zne,regressionPoly:()=>Gne,regressionPow:()=>Une,regressionQuad:()=>SB,renderModule:()=>BT,repeat:()=>j1,resetDefaultLocale:()=>Dje,resetSVGClipId:()=>Boe,resetSVGDefIds:()=>AUe,responseType:()=>fne,runtimeContext:()=>Fce,sampleCurve:()=>PS,sampleLogNormal:()=>mB,sampleNormal:()=>OS,sampleUniform:()=>_B,scale:()=>Ji,sceneEqual:()=>K4,sceneFromJSON:()=>use,scenePickVisit:()=>bT,sceneToJSON:()=>lse,sceneVisit:()=>hg,sceneZOrder:()=>I4,scheme:()=>Q8,serializeXML:()=>Nse,setRandom:()=>N6e,span:()=>V1,splitAccessPath:()=>nS,stringValue:()=>hn,textMetrics:()=>bd,timeBin:()=>Fte,timeFloor:()=>_te,timeFormatLocale:()=>e_,timeInterval:()=>q0,timeOffset:()=>xte,timeSequence:()=>Tte,timeUnitSpecifier:()=>Cte,timeUnits:()=>ML,toBoolean:()=>lL,toDate:()=>uL,toNumber:()=>ma,toSet:()=>ug,toString:()=>cL,transform:()=>Sne,transforms:()=>J0,truncate:()=>zee,truthy:()=>cc,tupleid:()=>cn,typeParsers:()=>QL,utcFloor:()=>wte,utcInterval:()=>Z0,utcOffset:()=>Dte,utcSequence:()=>kte,utcdayofyear:()=>mte,utcquarter:()=>Nee,utcweek:()=>vte,version:()=>ynt,visitArray:()=>uC,week:()=>Ate,writeConfig:()=>B1,zero:()=>oC,zoomLinear:()=>tL,zoomLog:()=>nL,zoomPow:()=>aS,zoomSymlog:()=>iL});var mt={};U.r(mt),U.d(mt,{accessPathDepth:()=>Wv,accessPathWithDatum:()=>u7,compile:()=>qdt,contains:()=>ai,deepEqual:()=>Nd,deleteNestedProperty:()=>SN,duplicate:()=>ei,entries:()=>ZC,every:()=>o7,fieldIntersection:()=>l7,flatAccessWithDatum:()=>mde,getFirstDefined:()=>Wo,hasIntersection:()=>s7,hash:()=>Pi,internalField:()=>bde,isBoolean:()=>Bw,isEmpty:()=>br,isEqual:()=>iit,isInternalField:()=>_de,isNullOrFalse:()=>r7,isNumeric:()=>TN,keys:()=>Ye,logicalExpr:()=>jw,mergeDeep:()=>Ade,normalize:()=>$he,normalizeAngle:()=>zw,omit:()=>Du,pick:()=>Uv,prefixGenerator:()=>a7,removePathFromField:()=>c7,replaceAll:()=>II,replacePathInField:()=>wc,resetIdCounter:()=>oit,setEqual:()=>Ide,some:()=>Gv,stringify:()=>Pr,titleCase:()=>Vw,unique:()=>Od,uniqueId:()=>yde,vals:()=>Ta,varName:()=>to,version:()=>Xdt});var an={};function De(e){return"function"==typeof e}U.r(an),U.d(an,{dark:()=>Aft,excel:()=>Ift,fivethirtyeight:()=>yft,ggplot2:()=>bft,googlecharts:()=>Rft,latimes:()=>xft,quartz:()=>Dft,urbaninstitute:()=>Mft,version:()=>Fft,vox:()=>Sft});let Ot=!1;const Tt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Ot&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ot=e},get useDeprecatedSynchronousErrorHandling(){return Ot}};function ye(e){setTimeout(()=>{throw e},0)}const wt={closed:!0,next(e){},error(e){if(Tt.useDeprecatedSynchronousErrorHandling)throw e;ye(e)},complete(){}},E=Array.isArray||(e=>e&&"number"==typeof e.length);function Jt(e){return null!==e&&"object"==typeof e}const Ki=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class On{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof On)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(De(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(s){t=s instanceof Ki?ut(s.errors):[s]}}if(E(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(Jt(l))try{l.unsubscribe()}catch(u){t=t||[],u instanceof Ki?t=t.concat(ut(u.errors)):t.push(u)}}}if(t)throw new Ki(t)}add(t){let n=t;if(!t)return On.EMPTY;switch(typeof t){case"function":n=new On(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof On)){const o=n;n=new On,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof On){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const n=this._subscriptions;if(n){const i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}var e;function ut(e){return e.reduce((t,n)=>t.concat(n instanceof Ki?n.errors:n),[])}On.EMPTY=((e=new On).closed=!0,e);const Je="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class dt extends On{constructor(t,n,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=wt;break;case 1:if(!t){this.destination=wt;break}if("object"==typeof t){t instanceof dt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new jt(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new jt(this,t,n,i)}}[Je](){return this}static create(t,n,i){const r=new dt(t,n,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class jt extends dt{constructor(t,n,i,r){super(),this._parentSubscriber=t;let o,s=this;De(n)?o=n:n&&(o=n.next,i=n.error,r=n.complete,n!==wt&&(s=Object.create(n),De(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Tt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:i}=Tt;if(this._error)i&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):ye(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;ye(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);Tt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),Tt.useDeprecatedSynchronousErrorHandling)throw i;ye(i)}}__tryOrSetError(t,n,i){if(!Tt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(r){return Tt.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(ye(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const li="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pn(e){return e}let tn=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const{operator:o}=this,s=function(e,t,n){if(e){if(e instanceof dt)return e;if(e[Je])return e[Je]()}return e||t||n?new dt(e,t,n):new dt(wt)}(n,i,r);if(s.add(o?o.call(s,this.source):this.source||Tt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Tt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){Tt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=i),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof dt?n:null}return!0}(n)?n.error(i):console.warn(i)}}forEach(n,i){return new(i=Gi(i))((r,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,r)})}_subscribe(n){const{source:i}=this;return i&&i.subscribe(n)}[li](){return this}pipe(...n){return 0===n.length?this:function(e){return 0===e.length?Pn:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=Gi(n))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function Gi(e){if(e||(e=Tt.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const vl=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class Th extends On{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const i=n.indexOf(this.subscriber);-1!==i&&n.splice(i,1)}}class Ug extends dt{constructor(t){super(t),this.destination=t}}let yi=(()=>{class e extends tn{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Je](){return new Ug(this)}lift(n){const i=new Ro(this,this);return i.operator=n,i}next(n){if(this.closed)throw new vl;if(!this.isStopped){const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].next(n)}}error(n){if(this.closed)throw new vl;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:i}=this,r=i.length,o=i.slice();for(let s=0;s<r;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new vl;this.isStopped=!0;const{observers:n}=this,i=n.length,r=n.slice();for(let o=0;o<i;o++)r[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new vl;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new vl;return this.hasError?(n.error(this.thrownError),On.EMPTY):this.isStopped?(n.complete(),On.EMPTY):(this.observers.push(n),new Th(this,n))}asObservable(){const n=new tn;return n.source=this,n}}return e.create=(t,n)=>new Ro(t,n),e})();class Ro extends yi{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):On.EMPTY}}function Lu(e){return e&&"function"==typeof e.schedule}function wn(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new kh(e,t))}}class kh{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new aa(t,this.project,this.thisArg))}}class aa extends dt{constructor(t,n,i){super(t),this.project=n,this.count=0,this.thisArg=i||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const Bu=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()},hr="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",gf=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function df(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const nu=e=>{if(e&&"function"==typeof e[li])return(e=>t=>{const n=e[li]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(gf(e))return Bu(e);if(df(e))return(e=>t=>(e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ye),t))(e);if(e&&"function"==typeof e[hr])return(e=>t=>{const n=e[hr]();for(;;){let i;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const n=`You provided ${Jt(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function la(e,t){return new tn(n=>{const i=new On;let r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function zr(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[li]}(e))return function(e,t){return new tn(n=>{const i=new On;return i.add(t.schedule(()=>{const r=e[li]();i.add(r.subscribe({next(o){i.add(t.schedule(()=>n.next(o)))},error(o){i.add(t.schedule(()=>n.error(o)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(df(e))return function(e,t){return new tn(n=>{const i=new On;return i.add(t.schedule(()=>e.then(r=>{i.add(t.schedule(()=>{n.next(r),i.add(t.schedule(()=>n.complete()))}))},r=>{i.add(t.schedule(()=>n.error(r)))}))),i})}(e,t);if(gf(e))return la(e,t);if(function(e){return e&&"function"==typeof e[hr]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new tn(n=>{const i=new On;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[hr](),i.add(t.schedule(function(){if(n.closed)return;let o,s;try{const a=r.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof tn?e:new tn(nu(e))}class ua extends dt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Vu extends dt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function lo(e,t){if(t.closed)return;if(e instanceof tn)return e.subscribe(t);let n;try{n=nu(e)(t)}catch(i){t.error(i)}return n}function Ii(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Ii((r,o)=>zr(e(r,o)).pipe(wn((s,a)=>t(r,s,o,a))),n)):("number"==typeof t&&(n=t),i=>i.lift(new hf(e,n)))}class hf{constructor(t,n=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=n}call(t,n){return n.subscribe(new Up(t,this.project,this.concurrent))}}class Up extends Vu{constructor(t,n,i=Number.POSITIVE_INFINITY){super(t),this.project=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let n;const i=this.index++;try{n=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(n)}_innerSub(t){const n=new ua(this),i=this.destination;i.add(n);const r=lo(t,n);r!==n&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function zu(e=Number.POSITIVE_INFINITY){return Ii(Pn,e)}function ca(e,t){return t?la(e,t):new tn(Bu(e))}function Cf(){return function(t){return t.lift(new L(t))}}class L{constructor(t){this.connectable=t}call(t,n){const{connectable:i}=this;i._refCount++;const r=new J(t,i),o=n.subscribe(r);return r.closed||(r.connection=i.connect()),o}}class J extends dt{constructor(t,n){super(t),this.connectable=n}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const n=t._refCount;if(n<=0)return void(this.connection=null);if(t._refCount=n-1,n>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class ge extends tn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new On,t.add(this.source.subscribe(new We(this.getSubject(),this))),t.closed&&(this._connection=null,t=On.EMPTY)),t}refCount(){return Cf()(this)}}const ve=(()=>{const e=ge.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class We extends Ug{constructor(t,n){super(t),this.connectable=n}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}}}function Ht(){return new yi}function tt(e){for(let t in e)if(e[t]===tt)return t;throw Error("Could not find renamed property on target object.")}function Mn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function En(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Cr=tt({__forward_ref__:tt});function An(e){return e.__forward_ref__=An,e.toString=function(){return pt(this())},e}function kt(e){return Hr(e)?e():e}function Hr(e){return"function"==typeof e&&e.hasOwnProperty(Cr)&&e.__forward_ref__===An}class Po extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function kn(e){return"string"==typeof e?e:null==e?"":String(e)}function wo(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():kn(e)}function pf(e,t){const n=t?` in ${t}`:"";throw new Po("201",`No provider for ${wo(e)} found${n}`)}function rr(e,t){null==e&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function it(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ba(e){return $p(e,Yg)||$p(e,qp)}function $p(e,t){return e.hasOwnProperty(t)?e[t]:null}function Mh(e){return e&&(e.hasOwnProperty(Yp)||e.hasOwnProperty(Zp))?e[Yp]:null}const Yg=tt({\u0275prov:tt}),Yp=tt({\u0275inj:tt}),qp=tt({ngInjectableDef:tt}),Zp=tt({ngInjectorDef:tt});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let mf;function uo(e){const t=mf;return mf=e,t}function ym(e,t,n){const i=Ba(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ln.Optional?null:void 0!==t?t:void pf(pt(e),"Injector")}function Uu(e){return{toString:e}.toString()}var Ps=(()=>((Ps=Ps||{})[Ps.OnPush=0]="OnPush",Ps[Ps.Default=1]="Default",Ps))(),Nr=(()=>((Nr=Nr||{})[Nr.Emulated=0]="Emulated",Nr[Nr.None=2]="None",Nr[Nr.ShadowDom=3]="ShadowDom",Nr))();const Ph="undefined"!=typeof globalThis&&globalThis,Kp="undefined"!=typeof window&&window,bm="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bi=Ph||"undefined"!=typeof global&&global||Kp||bm,qg={},_i=[],vf=tt({\u0275cmp:tt}),yf=tt({\u0275dir:tt}),_l=tt({\u0275pipe:tt}),Hc=tt({\u0275mod:tt}),Xy=tt({\u0275loc:tt}),A=tt({\u0275fac:tt}),v=tt({__NG_ELEMENT_ID__:tt});let b=0;function w(e){return Uu(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ps.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||_i,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Nr.Emulated,id:"c",styles:e.styles||_i,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,s=e.pipes;return i.id+=b++,i.inputs=xe(e.inputs,n),i.outputs=xe(e.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(F):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(P):null,i})}function F(e){return Se(e)||function(e){return e[yf]||null}(e)}function P(e){return function(e){return e[_l]||null}(e)}const X={};function G(e){return Uu(()=>{const t={type:e.type,bootstrap:e.bootstrap||_i,declarations:e.declarations||_i,imports:e.imports||_i,exports:e.exports||_i,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(X[e.id]=e.type),t})}function xe(e,t){if(null==e)return qg;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}const de=w;function Ie(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Se(e){return e[vf]||null}function Rt(e,t){const n=e[Hc]||null;if(!n&&!0===t)throw new Error(`Type ${pt(e)} does not have '\u0275mod' property.`);return n}function Bs(e){return Array.isArray(e)&&"object"==typeof e[1]}function Va(e){return Array.isArray(e)&&!0===e[1]}function Qp(e){return 0!=(8&e.flags)}function $u(e){return 2==(2&e.flags)}function wl(e){return 1==(1&e.flags)}function za(e){return null!==e.template}function Uc(e){return 0!=(512&e[2])}function js(e,t){return e.hasOwnProperty(A)?e[A]:null}class xl{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function mi(){return Ef}function Ef(e){return e.type.prototype.ngOnChanges&&(e.setInput=Q),j}function j(){const e=Re(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===qg)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Q(e,t,n,i){const r=Re(e)||function(e,t){return e[ce]=t}(e,{previous:qg,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new xl(l&&l.currentValue,t,s===qg),e[i]=t}mi.ngInherit=!0;const ce="__ngSimpleChanges__";function Re(e){return e[ce]||null}let nn;function Nt(e){return!!e.listen}const xo={createRenderer:(e,t)=>void 0!==nn?nn:"undefined"!=typeof document?document:void 0};function Vn(e){for(;Array.isArray(e);)e=e[0];return e}function Xr(e,t){return Vn(t[e])}function Dl(e,t){return Vn(t[e.index])}function xf(e,t){return e.data[t]}function Bh(e,t){return e[t]}function Ua(e,t){const n=t[e];return Bs(n)?n:n[0]}function wx(e){return 4==(4&e[2])}function tb(e){return 128==(128&e[2])}function Qg(e,t){return null==t?null:e[t]}function Ex(e){e[18]=0}function nb(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const bn={lFrame:nt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sx(){return bn.bindingsEnabled}function Ze(){return bn.lFrame.lView}function Ei(){return bn.lFrame.tView}function ui(e){return bn.lFrame.contextLView=e,e[8]}function Ur(){let e=Df();for(;null!==e&&64===e.type;)e=e.parent;return e}function Df(){return bn.lFrame.currentTNode}function Ga(e,t){const n=bn.lFrame;n.currentTNode=e,n.isParent=t}function Sf(){return bn.lFrame.isParent}function ib(){bn.lFrame.isParent=!1}function Dm(){return bn.isInCheckNoChangesMode}function Sm(e){bn.isInCheckNoChangesMode=e}function zs(){const e=bn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qu(){return bn.lFrame.bindingIndex}function Zu(){return bn.lFrame.bindingIndex++}function Ku(e){const t=bn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function RR(e,t){const n=bn.lFrame;n.bindingIndex=n.bindingRootIndex=e,be(t)}function be(e){bn.lFrame.currentDirectiveIndex=e}function K(){return bn.lFrame.currentQueryIndex}function D(e){bn.lFrame.currentQueryIndex=e}function B(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function W(e,t,n){if(n&ln.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&ln.Host||(r=B(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,e=o}const i=bn.lFrame=Fe();return i.currentTNode=t,i.lView=e,!0}function Ee(e){const t=Fe(),n=e[1];bn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fe(){const e=bn.lFrame,t=null===e?null:e.child;return null===t?nt(e):t}function nt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Nn(){const e=bn.lFrame;return bn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Oi=Nn;function xi(){const e=Nn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wr(){return bn.lFrame.selectedIndex}function Wa(e){bn.lFrame.selectedIndex=e}function Or(){const e=bn.lFrame;return xf(e.tView,e.selectedIndex)}function Ox(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Mx(e,t,n){eG(e,t,3,n)}function Rx(e,t,n,i){(3&e[2])===n&&eG(e,t,n,i)}function PR(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function eG(e,t,n,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[18]+=65536),(a<o||-1==o)&&(A1e(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function A1e(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class sb{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Fx(e,t,n){const i=Nt(e);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=n[++r];BR(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function tG(e){return 3===e||4===e||6===e}function BR(e){return 64===e.charCodeAt(0)}function Px(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||nG(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function nG(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function iG(e){return-1!==e}function km(e){return 32767&e}function Nm(e,t){let n=function(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let jR=!0;function Lx(e){const t=jR;return jR=e,t}let _1e=0;function lb(e,t){const n=zR(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,VR(i.data,e),VR(t,null),VR(i.blueprint,null));const r=Bx(e,t),o=e.injectorIndex;if(iG(r)){const s=km(r),a=Nm(r,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function VR(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zR(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Bx(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function jx(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(v)&&(i=n[v]),null==i&&(i=n[v]=_1e++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function sG(e,t,n){if(n&ln.Optional)return e;pf(t,"NodeInjector")}function aG(e,t,n,i){if(n&ln.Optional&&void 0===i&&(i=null),0==(n&(ln.Self|ln.Host))){const r=e[9],o=uo(void 0);try{return r?r.get(t,i,n&ln.Optional):ym(t,i,n&ln.Optional)}finally{uo(o)}}return sG(i,t,n)}function lG(e,t,n,i=ln.Default,r){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(v)?e[v]:void 0;return"number"==typeof t?t>=0?255&t:x1e:t}(n);if("function"==typeof o){if(!W(t,e,i))return i&ln.Host?sG(r,n,i):aG(t,n,i,r);try{const s=o(i);if(null!=s||i&ln.Optional)return s;pf(n)}finally{Oi()}}else if("number"==typeof o){let s=null,a=zR(e,t),l=-1,u=i&ln.Host?t[16][6]:null;for((-1===a||i&ln.SkipSelf)&&(l=-1===a?Bx(e,t):t[a+8],-1!==l&&gG(i,!1)?(s=t[1],a=km(l),t=Nm(l,t)):a=-1);-1!==a;){const c=t[1];if(cG(o,a,c.data)){const g=D1e(a,t,n,s,i,u);if(g!==uG)return g}l=t[a+8],-1!==l&&gG(i,t[1].data[a+8]===u)&&cG(o,a,t)?(s=c,a=km(l),t=Nm(l,t)):a=-1}}}return aG(t,n,i,r)}const uG={};function x1e(){return new Om(Ur(),Ze())}function D1e(e,t,n,i,r,o){const s=t[1],a=s.data[e+8],c=Vx(a,s,n,null==i?$u(a)&&jR:i!=s&&0!=(3&a.type),r&ln.Host&&o===a);return null!==c?ub(t,s,c,a):uG}function Vx(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,d=r?a+c:e.directiveEnd;for(let f=i?a:a+c;f<d;f++){const h=s[f];if(f<l&&n===h||f>=l&&h.type===n)return f}if(r){const f=s[l];if(f&&za(f)&&f.type===n)return l}return null}function ub(e,t,n,i){let r=e[n];const o=t.data;if(function(e){return e instanceof sb}(r)){const s=r;s.resolving&&function(e,t){throw new Po("200",`Circular dependency in DI detected for ${e}`)}(wo(o[n]));const a=Lx(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?uo(s.injectImpl):null;W(e,i,ln.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Ef(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&uo(l),Lx(a),s.resolving=!1,Oi()}}return r}function cG(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function gG(e,t){return!(e&ln.Self||e&ln.Host&&t)}class Om{constructor(t,n){this._tNode=t,this._lView=n}get(t,n){return lG(this._tNode,this._lView,t,void 0,n)}}function Hs(e){return Uu(()=>{const t=e.prototype.constructor,n=t[A]||HR(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[A]||HR(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function HR(e){return Hr(e)?()=>{const t=HR(kt(e));return t&&t()}:js(e)}const Rm="__parameters__";function iA(e,t,n){return Uu(()=>{const i=function(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,c){const g=l.hasOwnProperty(Rm)?l[Rm]:Object.defineProperty(l,Rm,{value:[]})[Rm];for(;g.length<=c;)g.push(null);return(g[c]=g[c]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class ti{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=it({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const N1e=new ti("AnalyzeForEntryComponents"),zx=Function;function Qu(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Qu(i,t)):t!==e&&t.push(i)}return t}function Jg(e,t){e.forEach(n=>Array.isArray(n)?Jg(n,t):t(n))}function Ux(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rA(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zh(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function cu(e,t,n){let i=Pm(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function GR(e,t){const n=Pm(e,t);if(n>=0)return e[1|n]}function Pm(e,t){return function(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}(e,t,1)}const fb={},$R="__NG_DI_FLAG__",Lm="ngTempTokenPath",z1e=/\n/gm,YR="__source",qR=tt({provide:String,useValue:tt});let hb;function Bm(e){const t=hb;return hb=e,t}function U1e(e,t=ln.Default){if(void 0===hb)throw new Error("inject() must be called from an injection context");return null===hb?ym(e,void 0,t):hb.get(e,t&ln.Optional?null:void 0,t)}function ke(e,t=ln.Default){return(mf||U1e)(kt(e),t)}function oA(e){const t=[];for(let n=0;n<e.length;n++){const i=kt(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,o=ln.Default;for(let s=0;s<i.length;s++){const a=i[s],l=G1e(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(ke(r,o))}else t.push(ke(i))}return t}function Cb(e,t){return e[$R]=t,e.prototype[$R]=t,e}function G1e(e){return e[$R]}function AG(e,t,n,i){const r=e[Lm];throw t[YR]&&r.unshift(t[YR]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=pt(t);if(Array.isArray(t))r=t.map(pt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):pt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(z1e,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Lm]=null,e}const jm=Cb(iA("Inject",e=>({token:e})),-1),Sl=Cb(iA("Optional"),8),Hh=Cb(iA("SkipSelf"),4);class sA{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function gu(e){return e instanceof sA?e.changingThisBreaksApplicationSecurity:e}function ed(e,t){const n=function(e){return e instanceof sA&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}const h_e=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C_e=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function Ju(e){const t=function(){const e=Ze();return e&&e[12]}();return t?t.sanitize(Er.URL,e)||"":ed(e,"URL")?gu(e):function(e){return(e=String(e)).match(h_e)||e.match(C_e)?e:"unsafe:"+e}(kn(e))}const PG="__ngContext__";function ha(e,t){e[PG]=t}function iF(e){const t=function(e){return e[PG]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Kx(e){return e.ngOriginalError}function L_e(e,...t){e.error(...t)}class aA{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=this._findContext(t),r=function(e){return e&&e.ngErrorLogger||L_e}(t);r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(e){return e.ngDebugContext}(t)||this._findContext(Kx(t)):null}_findOriginalError(t){let n=t&&Kx(t);for(;n&&Kx(n);)n=Kx(n);return n||null}}const WG=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bi))();function $G(e){return e.ownerDocument.defaultView}function nd(e){return e instanceof Function?e():e}var du=(()=>((du=du||{})[du.Important=1]="Important",du[du.DashCase=2]="DashCase",du))();function sF(e,t){return undefined(e,t)}function yb(e){const t=e[3];return Va(t)?t[3]:t}function aF(e){return XG(e[13])}function lF(e){return XG(e[4])}function XG(e){for(;null!==e&&!Va(e);)e=e[4];return e}function Um(e,t,n,i,r){if(null!=i){let o,s=!1;Va(i)?o=i:Bs(i)&&(s=!0,i=i[0]);const a=Vn(i);0===e&&null!==n?null==r?iW(t,n,a):lA(t,n,a,r||null,!0):1===e&&null!==n?lA(t,n,a,r||null,!0):2===e?function(e,t,n){const i=Qx(e,t);i&&function(e,t,n,i){Nt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){const o=n[7];o!==Vn(n)&&Um(t,e,i,o,r);for(let a=10;a<n.length;a++){const l=n[a];bb(l[1],l,e,t,i,o)}}(t,e,o,n,r)}}function cF(e,t,n){return Nt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function JG(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,nb(r,-1)),n.splice(i,1)}function gF(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&JG(r,i),t>0&&(e[n-1][4]=i[4]);const o=rA(e,10+t);!function(e,t){bb(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function eW(e,t){if(!(256&t[2])){const n=t[11];Nt(n)&&n.destroyNode&&bb(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return dF(e[1],e);for(;t;){let n=null;if(Bs(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Bs(t)&&dF(t[1],t),t=t[3];null===t&&(t=e),Bs(t)&&dF(t[1],t),n=t&&t[4]}t=n}}(t)}}function dF(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof sb)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(t):Vn(t[s]),l=i[r=n[o+2]],u=n[o+3];"boolean"==typeof u?a.removeEventListener(n[o],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const s=i[r=n[o+1]];n[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(e,t),1===t[1].type&&Nt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Va(t[3])){n!==t[3]&&JG(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function tW(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===Nr.None||r===Nr.Emulated)return null}return Dl(i,n)}(e,t.parent,n)}function lA(e,t,n,i,r){Nt(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function iW(e,t,n){Nt(e)?e.appendChild(t,n):t.appendChild(n)}function rW(e,t,n,i,r){null!==i?lA(e,t,n,i,r):iW(e,t,n)}function Qx(e,t){return Nt(e)?e.parentNode(t):t.parentNode}function oW(e,t,n){return aW(e,t,n)}let aW=function(e,t,n){return 40&e.type?Dl(e,n):null};function Jx(e,t,n,i){const r=tW(e,i,t),o=t[11],a=oW(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)rW(o,r,n[l],a,!1);else rW(o,r,n,a,!1)}function eD(e,t){if(null!==t){const n=t.type;if(3&n)return Dl(t,e);if(4&n)return hF(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return eD(e,i);{const r=e[t.index];return Va(r)?hF(-1,r):Vn(r)}}if(32&n)return sF(t,e)()||Vn(e[t.index]);{const i=uW(e,t);return null!==i?Array.isArray(i)?i[0]:eD(yb(e[16]),i):eD(e,t.next)}}return null}function uW(e,t){return null!==t?e[16][6].projection[t.projection]:null}function hF(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return eD(i,r)}return t[7]}function CF(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&ha(Vn(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)CF(e,t,n.child,i,r,o,!1),Um(t,e,r,a,o);else if(32&l){const u=sF(n,i);let c;for(;c=u();)Um(t,e,r,c,o);Um(t,e,r,a,o)}else 16&l?gW(e,t,i,n,r,o):Um(t,e,r,a,o);n=s?n.projectionNext:n.next}}function bb(e,t,n,i,r,o){CF(n,i,e.firstChild,t,r,o,!1)}function gW(e,t,n,i,r,o){const s=n[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Um(t,e,r,l[u],o);else CF(e,t,l,s[3],r,o,!0)}function dW(e,t,n){Nt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function pF(e,t,n){Nt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function fW(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}const hW="ng-template";function lwe(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==fW(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function CW(e){return 4===e.type&&e.value!==hW}function uwe(e,t,n){return t===(4!==e.type||n?e.value:hW)}function cwe(e,t,n){let i=4;const r=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(tG(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!uwe(e,l,n)||""===l&&1===t.length){if(Gc(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!lwe(e.attrs,u,n)){if(Gc(i))return!1;s=!0}continue}const g=gwe(8&i?"class":l,r,CW(e),n);if(-1===g){if(Gc(i))return!1;s=!0;continue}if(""!==u){let d;d=g>o?"":r[g+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==fW(f,u,0)||2&i&&u!==d){if(Gc(i))return!1;s=!0}}}}else{if(!s&&!Gc(i)&&!Gc(l))return!1;if(s&&Gc(l))continue;s=!1,i=l|1&i}}return Gc(i)||s}function Gc(e){return 0==(1&e)}function gwe(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function pW(e,t,n=!1){for(let i=0;i<t.length;i++)if(cwe(e,t[i],n))return!0;return!1}function Cwe(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function AW(e,t){return e?":not("+t.trim()+")":t}function pwe(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Gc(s)&&(t+=AW(o,r),r=""),i=s,o=o||!Gc(i);n++}return""!==r&&(t+=AW(o,r)),t}const Wn={};function Me(e){IW(Ei(),Ze(),wr()+e,Dm())}function IW(e,t,n,i){if(!i)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&Mx(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Rx(t,o,0,n)}Wa(n)}function tD(e,t){return e<<17|t<<2}function Wc(e){return e>>17&32767}function AF(e){return 2|e}function Tf(e){return(131068&e)>>2}function IF(e,t){return-131069&e|t<<2}function mF(e){return 1|e}function SW(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const s=e.data[o];D(r),s.contentQueries(2,t[o],o)}}}function _b(e,t,n,i,r,o,s,a,l,u){const c=t.blueprint.slice();return c[0]=r,c[2]=140|i,Ex(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function Gm(e,t,n,i,r){let o=e.data[t];if(null===o)o=function(e,t,n,i,r){const o=Df(),s=Sf(),l=e.data[t]=function(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,t,n,i,r),bn.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=function(){const e=bn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ga(o,!0),o}function Wm(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function wb(e,t,n){Ee(t);try{const i=e.viewQuery;null!==i&&FF(1,i,n);const r=e.template;null!==r&&TW(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&SW(e,t),e.staticViewQueries&&FF(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)Zwe(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,xi()}}function $m(e,t,n,i){const r=t[2];if(256==(256&r))return;Ee(t);const o=Dm();try{Ex(t),function(e){bn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&TW(e,t,n,2,i);const s=3==(3&r);if(!o)if(s){const u=e.preOrderCheckHooks;null!==u&&Mx(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Rx(t,u,0,null),PR(t,0)}if(function(e){for(let t=aF(e);null!==t;t=lF(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],o=r[3];0==(1024&r[2])&&nb(o,1),r[2]|=1024}}}(t),function(e){for(let t=aF(e);null!==t;t=lF(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];tb(i)&&$m(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&SW(e,t),!o)if(s){const u=e.contentCheckHooks;null!==u&&Mx(t,u)}else{const u=e.contentHooks;null!==u&&Rx(t,u,1),PR(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Wa(~r);else{const o=r,s=n[++i],a=n[++i];RR(s,o),a(2,t[o])}}}finally{Wa(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)qwe(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&FF(2,l,i),!o)if(s){const u=e.viewCheckHooks;null!==u&&Mx(t,u)}else{const u=e.viewHooks;null!==u&&Rx(t,u,2),PR(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,nb(t[3],-1))}finally{xi()}}function Twe(e,t,n,i){const r=t[10],o=!Dm(),s=wx(t);try{o&&!s&&r.begin&&r.begin(),s&&wb(e,t,i),$m(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function TW(e,t,n,i,r){const o=wr(),s=2&i;try{Wa(-1),s&&t.length>20&&IW(e,t,20,Dm()),n(i,r)}finally{Wa(o)}}function DF(e,t,n){!Sx()||(function(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||lb(n,t),ha(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],u=za(l);u&&Uwe(t,n,l);const c=ub(t,e,a,n);ha(c,t),null!==s&&Gwe(0,a-r,c,l,0,s),u&&(Ua(n.index,t)[8]=c)}}(e,t,n,Dl(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,a=bn.lFrame.currentDirectiveIndex;try{Wa(s);for(let l=i;l<r;l++){const u=e.data[l],c=t[l];be(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&BW(u,c)}}finally{Wa(-1),be(a)}}(e,t,n))}function SF(e,t,n=Dl){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function NW(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=rD(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function rD(e,t,n,i,r,o,s,a,l,u){const c=20+i,g=c+r,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Wn);return n}(c,g),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function RW(e,t,n,i){const r=GW(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&WW(e).push(i,r.length-1))}function FW(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function fu(e,t,n,i,r,o,s,a){const l=Dl(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[i])?(qW(e,n,c,i,r),$u(t)&&function(e,t){const n=Ua(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,Nt(o)?o.setProperty(l,i,r):BR(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function TF(e,t,n,i){let r=!1;if(Sx()){const o=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];pW(n,s.selectors,!1)&&(r||(r=[]),jx(lb(n,t),e,s.type),za(s)?(jW(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){r=!0,VW(n,e.data.length,o.length);for(let c=0;c<o.length;c++){const g=o[c];g.providersResolver&&g.providersResolver(g)}let a=!1,l=!1,u=Wm(e,t,o.length,null);for(let c=0;c<o.length;c++){const g=o[c];n.mergedAttrs=Px(n.mergedAttrs,g.hostAttrs),zW(e,n,t,u,g),Hwe(u,g,s),null!==g.contentQueries&&(n.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=128);const d=g.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),u++}!function(e,t){const i=t.directiveEnd,r=e.data,o=t.attrs,s=[];let a=null,l=null;for(let u=t.directiveStart;u<i;u++){const c=r[u],g=c.inputs,d=null===o||CW(t)?null:Wwe(g,o);s.push(d),a=FW(g,u,a),l=FW(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(e,n)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new Po("301",`Export of name '${t[r+1]}' not found!`);i.push(t[r],o)}}}(n,i,s)}return n.mergedAttrs=Px(n.mergedAttrs,n.attrs),r}function LW(e,t,n,i,r,o){const s=o.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function BW(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function jW(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Hwe(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;za(t)&&(n[""]=e)}}function VW(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function zW(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=js(r.type)),s=new sb(o,za(r),null);e.blueprint[i]=s,n[i]=s,LW(e,t,0,i,Wm(e,n,r.hostVars,Wn),r)}function Uwe(e,t,n){const i=Dl(t,e),r=NW(n),o=e[10],s=oD(e,_b(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n),null,null));e[t.index]=s}function id(e,t,n,i,r,o){const s=Dl(e,t);!function(e,t,n,i,r,o,s){if(null==o)Nt(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{const a=null==s?kn(o):s(o,i||"",r);Nt(e)?e.setAttribute(t,r,a,n):n?t.setAttributeNS(n,r,a):t.setAttribute(r,a)}}(t[11],s,o,e.value,n,i,r)}function Gwe(e,t,n,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],g=s[l++];null!==a?i.setInput(n,g,u,c):n[c]=g}}}function Wwe(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function HW(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function qwe(e,t){const n=Ua(t,e);if(tb(n)){const i=n[1];80&n[2]?$m(i,n,i.template,n[8]):n[5]>0&&NF(n)}}function NF(e){for(let i=aF(e);null!==i;i=lF(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];$m(s,o,s.template,o[8])}else o[5]>0&&NF(o)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Ua(n[i],e);tb(r)&&r[5]>0&&NF(r)}}function Zwe(e,t){const n=Ua(t,e),i=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),wb(i,n,n[8])}function oD(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function OF(e){for(;e;){e[2]|=64;const t=yb(e);if(Uc(e)&&!t)return e;e=t}return null}function RF(e,t,n){const i=t[10];i.begin&&i.begin();try{$m(e,t,e.template,n)}catch(r){throw YW(t,r),r}finally{i.end&&i.end()}}function UW(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=iF(n),r=i[1];Twe(r,i,r.template,n)}}(e[8])}function FF(e,t,n){D(0),t(e,n)}const eEe=(()=>Promise.resolve(null))();function GW(e){return e[7]||(e[7]=[])}function WW(e){return e.cleanup||(e.cleanup=[])}function YW(e,t){const n=e[9],i=n?n.get(aA,null):null;i&&i.handleError(t)}function qW(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],u=e.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Nf(e,t,n){const i=Xr(t,e);!function(e,t,n){Nt(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function sD(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=En(r,a):2==o&&(i=En(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const Wh=new ti("INJECTOR",-1);class ZW{get(t,n=fb){if(n===fb){const i=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw i.name="NullInjectorError",i}return n}}const Eb=new ti("Set Injector scope."),xb={},iEe={};let PF;function KW(){return void 0===PF&&(PF=new ZW),PF}function XW(e,t=null,n=null,i){return new oEe(e,n,t||KW(),i)}class oEe{constructor(t,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Jg(n,a=>this.processProvider(a,t,n)),Jg([t],a=>this.processInjectorType(a,[],o)),this.records.set(Wh,Ym(void 0,this));const s=this.records.get(Eb);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:pt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=fb,i=ln.Default){this.assertNotDestroyed();const r=Bm(this),o=uo(void 0);try{if(!(i&ln.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof ti}(t)&&Ba(t);a=l&&this.injectableDefInScope(l)?Ym(LF(t),xb):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ln.Self?KW():this.parent).get(t,n=i&ln.Optional&&n===fb?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Lm]=s[Lm]||[]).unshift(pt(t)),r)throw s;return AG(s,t,"R3InjectorError",this.source)}throw s}finally{uo(o),Bm(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(pt(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,i){if(!(t=kt(t)))return!1;let r=Mh(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Mh(o)),null==r)return!1;if(null!=r.imports&&!a){let c;i.push(s);try{Jg(r.imports,g=>{this.processInjectorType(g,n,i)&&(void 0===c&&(c=[]),c.push(g))})}finally{}if(void 0!==c)for(let g=0;g<c.length;g++){const{ngModule:d,providers:f}=c[g];Jg(f,h=>this.processProvider(h,d,f||_i))}}this.injectorDefTypes.add(s);const l=js(s)||(()=>new s);this.records.set(s,Ym(l,xb));const u=r.providers;if(null!=u&&!a){const c=t;Jg(u,g=>this.processProvider(g,c,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,n,i){let r=qm(t=kt(t))?t:kt(t&&t.provide);const o=function(e,t,n){return JW(e)?Ym(void 0,e.useValue):Ym(QW(e),xb)}(t);if(qm(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Ym(void 0,xb,!0),s.factory=()=>oA(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,n){return n.value===xb&&(n.value=iEe,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=kt(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function LF(e){const t=Ba(e),n=null!==t?t.factory:js(e);if(null!==n)return n;if(e instanceof ti)throw new Error(`Token ${pt(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=zh(t,"?");throw new Error(`Can't resolve all parameters for ${pt(e)}: (${i.join(", ")}).`)}const n=function(e){const t=e&&(e[Yg]||e[qp]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function QW(e,t,n){let i;if(qm(e)){const r=kt(e);return js(r)||LF(r)}if(JW(e))i=()=>kt(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...oA(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>ke(kt(e.useExisting));else{const r=kt(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return js(r)||LF(r);i=()=>new r(...oA(e.deps))}return i}function Ym(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function JW(e){return null!==e&&"object"==typeof e&&qR in e}function qm(e){return"function"==typeof e}const e$=function(e,t,n){return function(e,t=null,n=null,i){const r=XW(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let Di=(()=>{class e{static create(n,i){return Array.isArray(n)?e$(n,i,""):e$(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=fb,e.NULL=new ZW,e.\u0275prov=it({token:e,providedIn:"any",factory:()=>ke(Wh)}),e.__NG_ELEMENT_ID__=-1,e})();function xEe(e,t){Ox(iF(e)[1],Ur())}function Mr(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(za(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=UF(e.inputs),s.declaredInputs=UF(e.declaredInputs),s.outputs=UF(e.outputs);const a=r.hostBindings;a&&kEe(e,a);const l=r.viewQuery,u=r.contentQueries;if(l&&SEe(e,l),u&&TEe(e,u),Mn(e.inputs,r.inputs),Mn(e.declaredInputs,r.declaredInputs),Mn(e.outputs,r.outputs),za(r)&&r.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Mr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Px(r.hostAttrs,n=Px(n,r.hostAttrs))}}(i)}function UF(e){return e===qg?{}:e===_i?[]:e}function SEe(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function TEe(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function kEe(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let aD=null;function Zm(){if(!aD){const e=bi.Symbol;if(e&&e.iterator)aD=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(aD=i)}}}return aD}class Yc{constructor(t){this.wrapped=t}static wrap(t){return new Yc(t)}static unwrap(t){return Yc.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Yc}}function Sb(e){return!!GF(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zm()in e)}function GF(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function rd(e,t,n){return e[t]=n}function Ca(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function uA(e,t,n,i){const r=Ca(e,t,n);return Ca(e,t+1,i)||r}function ji(e,t,n,i){const r=Ze();return Ca(r,Zu(),t)&&(Ei(),id(Or(),r,e,t,n,i)),ji}function Xm(e,t,n,i){return Ca(e,Zu(),n)?t+kn(n)+i:Wn}function Jm(e,t,n,i,r,o,s,a){const u=function(e,t,n,i,r){const o=uA(e,t,n,i);return Ca(e,t+2,r)||o}(e,qu(),n,r,s);return Ku(3),u?t+kn(n)+i+kn(r)+o+kn(s)+a:Wn}function et(e,t,n,i,r,o,s,a){const l=Ze(),u=Ei(),c=e+20,g=u.firstCreatePass?function(e,t,n,i,r,o,s,a,l){const u=t.consts,c=Gm(t,e,4,s||null,Qg(u,a));TF(t,n,c,Qg(u,l)),Ox(t,c);const g=c.tViews=rD(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),g.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,r,o,s):u.data[c];Ga(g,!1);const d=l[11].createComment("");Jx(u,l,d,g),ha(d,l),oD(l,l[c]=HW(d,l,d,g)),wl(g)&&DF(u,l,g),null!=s&&SF(l,g,a)}function $(e,t=ln.Default){const n=Ze();return null===n?ke(e,t):lG(Ur(),n,kt(e),t)}function He(e,t,n){const i=Ze();return Ca(i,Zu(),t)&&fu(Ei(),Or(),i,e,t,i[11],n,!1),He}function ZF(e,t,n,i,r){const s=r?"class":"style";qW(e,n,t.inputs[s],s,i)}function S(e,t,n,i){const r=Ze(),o=Ei(),s=20+e,a=r[11],l=r[s]=cF(a,t,bn.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,i,r,o,s){const a=t.consts,u=Gm(t,e,2,r,Qg(a,o));return TF(t,n,u,Qg(a,s)),null!==u.attrs&&sD(u,u.attrs,!1),null!==u.mergedAttrs&&sD(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,r,0,t,n,i):o.data[s];Ga(u,!0);const c=u.mergedAttrs;null!==c&&Fx(a,l,c);const g=u.classes;null!==g&&pF(a,l,g);const d=u.styles;null!==d&&dW(a,l,d),64!=(64&u.flags)&&Jx(o,r,l,u),0===bn.lFrame.elementDepthCount&&ha(l,r),bn.lFrame.elementDepthCount++,wl(u)&&(DF(o,r,u),function(e,t,n){if(Qp(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,u,r)),null!==i&&SF(r,u)}function T(){let e=Ur();Sf()?ib():(e=e.parent,Ga(e,!1));const t=e;bn.lFrame.elementDepthCount--;const n=Ei();n.firstCreatePass&&(Ox(n,e),Qp(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ZF(n,t,Ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ZF(n,t,Ze(),t.stylesWithoutHost,!1)}function je(e,t,n,i){S(e,t,n,i),T()}function vr(){return Ze()}function kb(e){return!!e&&"function"==typeof e.then}const cD=function(e){return!!e&&"function"==typeof e.subscribe};function Ut(e,t,n,i){const r=Ze(),o=Ei(),s=Ur();return function(e,t,n,i,r,o,s,a){const l=wl(i),c=e.firstCreatePass&&WW(e),g=t[8],d=GW(t);let f=!0;if(3&i.type||a){const p=Dl(i,t),I=a?a(p):p,m=d.length,y=a?_=>a(Vn(_[i.index])):i.index;if(Nt(n)){let _=null;if(!a&&l&&(_=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1;else{o=QF(i,t,g,o,!1);const N=n.listen(I,r,o);d.push(o,N),c&&c.push(r,y,m,m+1)}}else o=QF(i,t,g,o,!0),I.addEventListener(r,o,s),d.push(o),c&&c.push(r,y,m,s)}else o=QF(i,t,g,o,!1);const h=i.outputs;let C;if(f&&null!==h&&(C=h[r])){const p=C.length;if(p)for(let I=0;I<p;I+=2){const O=t[C[I]][C[I+1]].subscribe(o),k=d.length;d.push(o,O),c&&c.push(r,i.index,k,-(k+1))}}}(o,r,r[11],s,e,t,!!n,i),Ut}function z$(e,t,n,i){try{return!1!==n(i)}catch(r){return YW(e,r),!1}}function QF(e,t,n,i,r){return function o(s){if(s===Function)return i;const a=2&e.flags?Ua(e.index,t):t;0==(32&t[2])&&OF(a);let l=z$(t,0,i,s),u=o.__ngNextListenerFn__;for(;u;)l=z$(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function st(e=1){return function(e){return(bn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,bn.lFrame.contextLView))[8]}(e)}function gxe(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?pW(e,o,!0):Cwe(i,o))return r}else n=r}return n}function $h(e,t,n){return Yh(e,"",t,"",n),$h}function Yh(e,t,n,i,r){const o=Ze(),s=Xm(o,t,n,i);return s!==Wn&&fu(Ei(),Or(),o,e,s,o[11],r,!1),Yh}function K$(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?Wc(o):Tf(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];hxe(e[a],t)&&(l=!0,e[a+1]=i?mF(c):AF(c)),a=i?Wc(c):Tf(c)}l&&(e[n+1]=i?AF(o):mF(o))}function hxe(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Pm(e,t)>=0}const is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X$(e){return e.substring(is.key,is.keyEnd)}function Q$(e,t){const n=is.textEnd;return n===t?-1:(t=is.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,is.key=t,n),s0(e,t,n))}function s0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function $n(e,t){return function(e,t,n,i){const r=Ze(),o=Ei(),s=Ku(2);o.firstUpdatePass&&rY(o,e,s,i),t!==Wn&&Ca(r,s,t)&&sY(o,o.data[wr()],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=pt(gu(e)))),e}(t,n),i,s)}(e,t,null,!0),$n}function qc(e){!function(e,t,n,i){const r=Ei(),o=Ku(2);r.firstUpdatePass&&rY(r,null,o,i);const s=Ze();if(n!==Wn&&Ca(s,o,n)){const a=r.data[wr()];if(lY(a,i)&&!iY(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=En(l,n||"")),ZF(r,a,s,n,i)}else!function(e,t,n,i,r,o,s,a){r===Wn&&(r=_i);let l=0,u=0,c=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;null!==c||null!==g;){const d=l<r.length?r[l+1]:void 0,f=u<o.length?o[u+1]:void 0;let C,h=null;c===g?(l+=2,u+=2,d!==f&&(h=g,C=f)):null===g||null!==c&&c<g?(l+=2,h=c):(u+=2,h=g,C=f),null!==h&&sY(e,t,n,i,h,C,s,a),c=l<r.length?r[l]:null,g=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return _i;const i=[],r=gu(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,o)}}(cu,sd,e,!0)}function sd(e,t){for(let n=function(e){return function(e){is.key=0,is.keyEnd=0,is.value=0,is.valueEnd=0,is.textEnd=e.length}(e),Q$(e,s0(e,0,is.textEnd))}(t);n>=0;n=Q$(t,n))cu(e,X$(t),!0)}function iY(e,t){return t>=e.expandoStartIndex}function rY(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[wr()],s=iY(e,n);lY(o,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const r=function(e){const t=bn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Nb(n=JF(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=JF(r,e,t,n,i),null===o){let l=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Tf(i))return e[Wc(i)]}(e,t,i);void 0!==l&&Array.isArray(l)&&(l=JF(null,e,t,l[1],i),l=Nb(l,t.attrs,i),function(e,t,n,i){e[Wc(n?t.classBindings:t.styleBindings)]=i}(e,t,i,l))}else o=function(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Nb(i,e[o].hostAttrs,n);return Nb(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Wc(s),l=Tf(s);e[i]=n;let c,u=!1;if(Array.isArray(n)){const g=n;c=g[1],(null===c||Pm(g,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const d=Wc(e[a+1]);e[i+1]=tD(d,a),0!==d&&(e[d+1]=IF(e[d+1],i)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],i)}else e[i+1]=tD(a,0),0!==a&&(e[a+1]=IF(e[a+1],i)),a=i;else e[i+1]=tD(l,0),0===a?a=i:e[l+1]=IF(e[l+1],i),l=i;u&&(e[i+1]=AF(e[i+1])),K$(e,c,i,!0),K$(e,c,i,!1),function(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Pm(o,t)>=0&&(n[i+1]=mF(n[i+1]))}(t,c,e,i,o),s=tD(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function JF(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=Nb(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function Nb(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),cu(e,s,!!n||t[++o]))}return void 0===e?null:e}function sY(e,t,n,i,r,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1];gD(function(e){return 1==(1&e)}(u)?aY(l,t,n,r,Tf(u),s):void 0)||(gD(o)||function(e){return 2==(2&e)}(u)&&(o=aY(l,null,n,r,a,s)),function(e,t,n,i,r){const o=Nt(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:du.DashCase;if(null==r)o?e.removeStyle(n,i,s):n.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=du.Important),o?e.setStyle(n,i,r,s):n.style.setProperty(i,r,a?"important":"")}}}(i,s,Xr(wr(),n),r,o))}function aY(e,t,n,i,r,o){const s=null===t;let a;for(;r>0;){const l=e[r],u=Array.isArray(l),c=u?l[1]:l,g=null===c;let d=n[r+1];d===Wn&&(d=g?_i:void 0);let f=g?GR(d,i):c===i?d:void 0;if(u&&!gD(f)&&(f=GR(l,i)),gD(f)&&(a=f,s))return a;const h=e[r+1];r=s?Wc(h):Tf(h)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=GR(l,i))}return a}function gD(e){return void 0!==e}function lY(e,t){return 0!=(e.flags&(t?16:32))}function me(e,t=""){const n=Ze(),i=Ei(),r=e+20,o=i.firstCreatePass?Gm(i,r,1,t,null):i.data[r],s=n[r]=function(e,t){return Nt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Jx(i,n,s,o),Ga(o,!1)}function jo(e){return Ya("",e,""),jo}function Ya(e,t,n){const i=Ze(),r=Xm(i,e,t,n);return r!==Wn&&Nf(i,wr(),r),Ya}function eP(e,t,n,i,r,o,s){const a=Ze(),l=Jm(a,e,t,n,i,r,o,s);return l!==Wn&&Nf(a,wr(),l),eP}function Tl(e,t,n){const i=Ze();return Ca(i,Zu(),t)&&fu(Ei(),Or(),i,e,t,i[11],n,!0),Tl}const dA=void 0;var Yxe=["en",[["a","p"],["AM","PM"],dA],[["AM","PM"],dA,dA],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dA,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dA,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dA,"{1} 'at' {0}",dA],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let l0={};function SY(e){return e in l0||(l0[e]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[e]),l0[e]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const dD="en-US";let TY=dD;function tP(e){rr(e,"Expected localeId to be defined"),"string"==typeof e&&(TY=e.toLowerCase().replace(/_/g,"-"))}function rP(e,t,n,i,r){if(e=kt(e),Array.isArray(e))for(let o=0;o<e.length;o++)rP(e[o],t,n,i,r);else{const o=Ei(),s=Ze();let a=qm(e)?e:kt(e.provide),l=QW(e);const u=Ur(),c=1048575&u.providerIndexes,g=u.directiveStart,d=u.providerIndexes>>20;if(qm(e)||!e.multi){const f=new sb(l,r,$),h=sP(a,t,r?c:c+d,g);-1===h?(jx(lb(u,s),o,a),oP(o,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(f),s.push(f)):(n[h]=f,s[h]=f)}else{const f=sP(a,t,c+d,g),h=sP(a,t,c,c+d),C=f>=0&&n[f],p=h>=0&&n[h];if(r&&!p||!r&&!C){jx(lb(u,s),o,a);const I=function(e,t,n,i,r){const o=new sb(e,n,$);return o.multi=[],o.index=t,o.componentProviders=0,QY(o,r,i&&!n),o}(r?HDe:zDe,n.length,r,i,l);!r&&p&&(n[h].providerFactory=I),oP(o,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(I),s.push(I)}else oP(o,e,f>-1?f:h,QY(n[r?h:f],l,!r&&i));!r&&i&&p&&n[h].componentProviders++}}}function oP(e,t,n,i){const r=qm(t);if(r||function(e){return!!e.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const a=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const l=a.indexOf(n);-1===l?a.push(n,[i,s]):a[l+1].push(i,s)}else a.push(n,s)}}}function QY(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sP(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function zDe(e,t,n,i){return aP(this.multi,[])}function HDe(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ub(n,n[1],this.providerFactory.index,i);o=a.slice(0,s),aP(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],aP(r,o);return o}function aP(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Xi(e,t=[]){return n=>{n.providersResolver=(i,r)=>function(e,t,n){const i=Ei();if(i.firstCreatePass){const r=za(e);rP(n,i.data,i.blueprint,r,!0),rP(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class JY{}const tq="ngComponent";class WDe{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${pt(e)}. Did you add it to @NgModule.entryComponents?`);return t[tq]=e,t}(t)}}let hu=(()=>{class e{}return e.NULL=new WDe,e})();function AD(...e){}function g0(e,t){return new ni(Dl(e,t))}const qDe=function(){return g0(Ur(),Ze())};let ni=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qDe,e})();function nq(e){return e instanceof ni?e.nativeElement:e}class Mf{}let Do=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>KDe(),e})();const KDe=function(){const e=Ze(),n=Ua(Ur().index,e);return function(e){return e[11]}(Bs(n)?n:e)};let uP=(()=>{class e{}return e.\u0275prov=it({token:e,providedIn:"root",factory:()=>null}),e})();class Lb{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const iq=new Lb("12.2.10");class rq{constructor(){}supports(t){return Sb(t)}create(t){return new e2e(t)}}const JDe=(e,t)=>t;class e2e{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JDe}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<sq(i,r,o)?n:i,a=sq(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,c=l-r;if(u!=c){for(let d=0;d<u;d++){const f=d<o.length?o[d]:o[d]=0,h=f+d;c<=h&&h<u&&(o[d]=f+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Sb(t))throw new Error(`Error trying to diff '${pt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Zm()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new t2e(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new oq),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oq),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class t2e{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n2e{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class oq{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new n2e,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sq(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class aq{constructor(){}supports(t){return t instanceof Map||GF(t)}create(){return new i2e}}class i2e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||GF(t)))throw new Error(`Error trying to diff '${pt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new r2e(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class r2e{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lq(){return new Bb([new rq])}let Bb=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||lq()),deps:[[e,new Hh,new Sl]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=it({token:e,providedIn:"root",factory:lq}),e})();function uq(){return new d0([new aq])}let d0=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||uq()),deps:[[e,new Hh,new Sl]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=it({token:e,providedIn:"root",factory:uq}),e})();function ID(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(Vn(o)),Va(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&ID(l[1],l,u,i)}const s=n.type;if(8&s)ID(e,t,n.child,i);else if(32&s){const a=sF(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=uW(t,n);if(Array.isArray(a))i.push(...a);else{const l=yb(t[16]);ID(l[1],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class jb{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return ID(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Va(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(gF(t,i),rA(n,i))}this._attachedToViewContainer=!1}eW(this._lView[1],this._lView)}onDestroy(t){RW(this._lView[1],this._lView,null,t)}markForCheck(){OF(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){RF(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Sm(!0);try{RF(e,t,n)}finally{Sm(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(e,t){bb(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class s2e extends jb{constructor(t){super(t),this._view=t}detectChanges(){UW(this._view)}checkNoChanges(){!function(e){Sm(!0);try{UW(e)}finally{Sm(!1)}}(this._view)}get context(){return null}}const l2e=function(e){return function(e,t,n){if($u(e)&&!n){const i=Ua(e.index,t);return new jb(i,i)}return 47&e.type?new jb(t[16],t):null}(Ur(),Ze(),16==(16&e))};let Ws=(()=>{class e{}return e.__NG_ELEMENT_ID__=l2e,e})();const g2e=[new aq],f2e=new Bb([new rq]),h2e=new d0(g2e),p2e=function(){return mD(Ur(),Ze())};let xr=(()=>{class e{}return e.__NG_ELEMENT_ID__=p2e,e})();const A2e=xr,I2e=class extends A2e{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=_b(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(n)),wb(n,i,t),new jb(i)}};function mD(e,t){return 4&e.type?new I2e(t,e,g0(e,t)):null}class ad{}class cq{}const y2e=function(){return fq(Ur(),Ze())};let Za=(()=>{class e{}return e.__NG_ELEMENT_ID__=y2e,e})();const _2e=Za,gq=class extends _2e{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return g0(this._hostTNode,this._hostLView)}get injector(){return new Om(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bx(this._hostTNode,this._hostLView);if(iG(t)){const n=Nm(t,this._hostLView),i=km(t);return new Om(n[1].data[i+8],n)}return new Om(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dq(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const r=t.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(t,n,i,r,o){const s=i||this.parentInjector;if(!o&&null==t.ngModule&&s){const l=s.get(ad,null);l&&(o=l)}const a=t.create(s,r,void 0,o);return this.insert(a.hostView,n),a}insert(t,n){const i=t._lView,r=i[1];if(function(e){return Va(e[3])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const g=i[3],d=new gq(g,g[6],g[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function(e,t,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],Ux(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,s,o);const a=hF(o,s),l=i[11],u=Qx(l,s[7]);return null!==u&&function(e,t,n,i,r,o){i[0]=r,i[6]=t,bb(e,i,n,1,r,o)}(r,s[6],l,i,u,a),t.attachToViewContainerRef(),Ux(cP(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dq(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=gF(this._lContainer,n);i&&(rA(cP(this._lContainer),n),eW(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=gF(this._lContainer,n);return i&&null!=rA(cP(this._lContainer),n)?new jb(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function dq(e){return e[8]}function cP(e){return e[8]||(e[8]=[])}function fq(e,t){let n;const i=t[e.index];if(Va(i))n=i;else{let r;if(8&e.type)r=Vn(i);else{const o=t[11];r=o.createComment("");const s=Dl(e,t);lA(o,Qx(o,s),r,function(e,t){return Nt(e)?e.nextSibling(t):t.nextSibling}(o,s),!1)}t[e.index]=n=HW(i,t,r,e),oD(t,n)}return new gq(n,e,t)}const p0={};class Mq extends hu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Se(t);return new Fq(n,this.ngModule)}}function Rq(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const mSe=new ti("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>WG});class Fq extends JY{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function(e){return e.map(pwe).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Rq(this.componentDef.inputs)}get outputs(){return Rq(this.componentDef.outputs)}create(t,n,i,r){const o=(r=r||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const o=e.get(n,p0,r);return o!==p0||i===p0?o:t.get(n,i,r)}}}(t,r.injector):t,s=o.get(Mf,xo),a=o.get(uP,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,n){if(Nt(e))return e.selectRootElement(t,n===Nr.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):cF(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(u)),g=this.componentDef.onPush?576:528,d=function(e,t){return{components:[],scheduler:e||WG,clean:eEe,playerHandler:t||null,flags:0}}(),f=rD(0,null,null,1,0,null,null,null,null,null),h=_b(null,f,d,g,null,null,s,l,a,o);let C,p;Ee(h);try{const I=function(e,t,n,i,r,o){const s=n[1];n[20]=e;const l=Gm(s,20,2,"#host",null),u=l.mergedAttrs=t.hostAttrs;null!==u&&(sD(l,u,!0),null!==e&&(Fx(r,e,u),null!==l.classes&&pF(r,e,l.classes),null!==l.styles&&dW(r,e,l.styles)));const c=i.createRenderer(e,t),g=_b(n,NW(t),null,t.onPush?64:16,n[20],l,i,c,o||null,null);return s.firstCreatePass&&(jx(lb(l,n),s,t.type),jW(s,l),VW(l,n.length,1)),oD(n,g),n[20]=g}(c,this.componentDef,h,s,l);if(c)if(i)Fx(l,c,["ng-version",iq.full]);else{const{attrs:m,classes:y}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Gc(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);m&&Fx(l,c,m),y&&y.length>0&&pF(l,c,y.join(" "))}if(p=xf(f,20),void 0!==n){const m=p.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const _=n[y];m.push(null!=_?Array.from(_):null)}}C=function(e,t,n,i,r){const o=n[1],s=function(e,t,n){const i=Ur();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zW(e,i,t,Wm(e,t,1,null),n));const r=ub(t,e,i.directiveStart,i);ha(r,t);const o=Dl(i,t);return o&&ha(o,t),r}(o,n,t);if(i.components.push(s),e[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=Ur();t.contentQueries(1,s,l.directiveStart)}const a=Ur();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Wa(a.index),LW(n[1],a,0,a.directiveStart,a.directiveEnd,t),BW(t,s)),s}(I,this.componentDef,h,d,[xEe]),wb(f,h,null)}finally{xi()}return new bSe(this.componentType,C,g0(p,h),h,p)}}class bSe extends class{}{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new s2e(r),this.componentType=t}get injector(){return new Om(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const A0=new Map;class ESe extends ad{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mq(this);const i=Rt(t),r=function(e){return e[Xy]||null}(t);r&&tP(r),this._bootstrapComponents=nd(i.bootstrap),this._r3Injector=XW(t,n,[{provide:ad,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],pt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Di.THROW_IF_NOT_FOUND,i=ln.Default){return t===Di||t===ad||t===Wh?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _P extends cq{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function(e){const t=new Set;!function n(i){const r=Rt(i,!0),o=r.id;null!==o&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${pt(t)} vs ${pt(t.name)}`)}(o,A0.get(o),i),A0.set(o,i));const s=nd(r.imports);for(const a of s)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new ESe(this.moduleType,t)}}function qb(e,t){const n=e[t];return n===Wn?void 0:n}function Rf(e,t){const n=Ei();let i;const r=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Po("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=js(i.type)),s=uo($);try{const a=Lx(!1),l=o();return Lx(a),function(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,Ze(),r,l),l}finally{uo(s)}}function wP(e,t,n){const i=e+20,r=Ze(),o=Bh(r,i);return Kb(r,Zb(r,i)?function(e,t,n,i,r,o){const s=t+n;return Ca(e,s,r)?rd(e,s+1,o?i.call(o,r):i(r)):qb(e,s+1)}(r,zs(),t,o.transform,n,o):o.transform(n))}function CA(e,t,n,i){const r=e+20,o=Ze(),s=Bh(o,r);return Kb(o,Zb(o,r)?function(e,t,n,i,r,o,s){const a=t+n;return uA(e,a,r,o)?rd(e,a+2,s?i.call(s,r,o):i(r,o)):qb(e,a+2)}(o,zs(),t,s.transform,n,i,s):s.transform(n,i))}function Zb(e,t){return e[1].data[t].pure}function Kb(e,t){return Yc.isWrapped(t)&&(t=Yc.unwrap(t),e[qu()]=Wn),t}function EP(e){return t=>{setTimeout(e,void 0,t)}}const $t=class extends yi{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var r,o,s;let a=t,l=n||(()=>null),u=i;if(t&&"object"==typeof t){const g=t;a=null===(r=g.next)||void 0===r?void 0:r.bind(g),l=null===(o=g.error)||void 0===o?void 0:o.bind(g),u=null===(s=g.complete)||void 0===s?void 0:s.bind(g)}this.__isAsync&&(l=EP(l),a&&(a=EP(a)),u&&(u=EP(u)));const c=super.subscribe({next:a,error:l,complete:u});return t instanceof On&&t.add(c),c}};function BSe(){return this._results[Zm()]()}class xD{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Zm(),i=xD.prototype;i[n]||(i[n]=BSe)}get changes(){return this._changes||(this._changes=new $t)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=Qu(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xP{constructor(t){this.queryList=t,this.matches=null}clone(){return new xP(this.queryList)}setDirty(){this.queryList.setDirty()}}class DP{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new DP(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Yq(t,n).matches&&this.queries[n].setDirty()}}class Uq{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class SP{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new SP(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class TP{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new TP(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,zSe(n,o)),this.matchTNodeWithReadOption(t,n,Vx(n,t,o,!1,!1))}else i===xr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Vx(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ni||r===Za||r===xr&&4&n.type)this.addMatch(n.index,-2);else{const o=Vx(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function zSe(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function USe(e,t,n,i){return-1===n?function(e,t){return 11&e.type?g0(e,t):4&e.type?mD(e,t):null}(t,e):-2===n?function(e,t,n){return n===ni?g0(t,e):n===xr?mD(t,e):n===Za?fq(t,e):void 0}(e,t,i):ub(e,e[1],n,t)}function Gq(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:USe(t,o[u],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function kP(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=Gq(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let g=10;g<c.length;g++){const d=c[g];d[17]===d[3]&&kP(d[1],d,u,i)}if(null!==c[9]){const g=c[9];for(let d=0;d<g.length;d++){const f=g[d];kP(f[1],f,u,i)}}}}}return i}function Mi(e){const t=Ze(),n=Ei(),i=K();D(i+1);const r=Yq(n,i);if(e.dirty&&wx(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?kP(n,t,i,[]):Gq(n,t,r,i);e.reset(o,nq),e.notifyOnChanges()}return!0}return!1}function rc(e,t,n){const i=Ei();i.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new SP),e.queries.track(new TP(t,n))}(i,new Uq(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function(e,t,n){const i=new xD(4==(4&n));RW(e,t,i,i.destroy),null===t[19]&&(t[19]=new DP),t[19].queries.push(new xP(i))}(i,Ze(),t)}function Ri(){return function(e,t){return e[19].queries[t].queryList}(Ze(),K())}function Yq(e,t){return e.queries.getByIndex(t)}function vs(e,t){return mD(e,t)}const Qb=new ti("Application Initializer");let m0=(()=>{class e{constructor(n){this.appInits=n,this.resolve=AD,this.reject=AD,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(kb(o))n.push(o);else if(cD(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ke(Qb,8))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const Jb=new ti("AppId"),mTe={provide:Jb,useFactory:function(){return`${PP()}${PP()}${PP()}`},deps:[]};function PP(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gZ=new ti("Platform Initializer"),e1=new ti("Platform ID"),dZ=new ti("appBootstrapListener");let TD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const oc=new ti("LocaleId"),fZ=new ti("DefaultCurrencyCode");class yTe{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const LP=function(e){return new _P(e)},bTe=LP,_Te=function(e){return Promise.resolve(LP(e))},hZ=function(e){const t=LP(e),i=nd(Rt(e).declarations).reduce((r,o)=>{const s=Se(o);return s&&r.push(new Fq(s)),r},[]);return new yTe(t,i)},wTe=hZ,ETe=function(e){return Promise.resolve(hZ(e))};let pA=(()=>{class e{constructor(){this.compileModuleSync=bTe,this.compileModuleAsync=_Te,this.compileModuleAndAllComponentsSync=wTe,this.compileModuleAndAllComponentsAsync=ETe}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const STe=(()=>Promise.resolve(0))();function BP(e){"undefined"==typeof Zone?STe.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ci{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=bi.requestAnimationFrame,t=bi.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bi,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,VP(e),e.isCheckStableRunning=!0,jP(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),VP(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return CZ(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),pZ(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return CZ(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),pZ(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,VP(e),jP(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,kTe,AD,AD);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const kTe={};function jP(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function VP(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function CZ(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pZ(e){e._nesting--,jP(e)}class MTe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t,this.onMicrotaskEmpty=new $t,this.onStable=new $t,this.onError=new $t}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}let zP=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),BP(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())BP(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(ke(ci))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),AZ=(()=>{class e{constructor(){this._applications=new Map,HP.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return HP.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class RTe{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}let HP=new RTe,IZ=!0,mZ=!1;let Jc;const yZ=new ti("AllowMultipleToken");class UP{constructor(t,n){this.name=t,this.token=n}}function bZ(e,t,n=[]){const i=`Platform: ${t}`,r=new ti(i);return(o=[])=>{let s=_Z();if(!s||s.injector.get(yZ,!1))if(e)e(n.concat(o).concat({provide:r,useValue:!0}));else{const a=n.concat(o).concat({provide:r,useValue:!0},{provide:Eb,useValue:"platform"});!function(e){if(Jc&&!Jc.destroyed&&!Jc.injector.get(yZ,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jc=e.get(wZ);const t=e.get(gZ,null);t&&t.forEach(n=>n())}(Di.create({providers:a,name:i}))}return function(e){const t=_Z();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function _Z(){return Jc&&!Jc.destroyed?Jc:null}let wZ=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function(e,t){let n;return n="noop"===e?new MTe:("zone.js"===e?void 0:e)||new ci({enableLongStackTrace:(mZ=!0,IZ),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ci,useValue:a}];return a.run(()=>{const u=Di.create({providers:l,parent:this.injector,name:n.moduleType.name}),c=n.create(u),g=c.injector.get(aA,null);if(!g)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:f=>{g.handleError(f)}});c.onDestroy(()=>{GP(this._modules,c),d.unsubscribe()})}),function(e,t,n){try{const i=n();return kb(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(g,a,()=>{const d=c.injector.get(m0);return d.runInitializers(),d.donePromise.then(()=>(tP(c.injector.get(oc,dD)||dD),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,i=[]){const r=EZ({},i);return function(e,t,n){const i=new _P(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(eg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${pt(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ke(Di))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function EZ(e,t){return Array.isArray(t)?t.reduce(EZ,e):Object.assign(Object.assign({},e),t)}let eg=(()=>{class e{constructor(n,i,r,o,s){this._zone=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new tn(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new tn(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),BP(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),g.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return Lu(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof tn?e[0]:zu(t)(ca(e,n))}(a,l.pipe(e=>Cf()(function(e,t){return function(i){let r;r="function"==typeof e?e:function(){return e};const o=Object.create(i,ve);return o.source=i,o.subjectFactory=r,o}}(Ht)(e))))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=n instanceof JY?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(r.componentType);const o=function(e){return e.isBoundToModule}(r)?void 0:this._injector.get(ad),a=r.create(Di.NULL,[],i||r.selector,o),l=a.location.nativeElement,u=a.injector.get(zP,null),c=u&&a.injector.get(AZ);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),GP(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;GP(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(dZ,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ke(ci),ke(Di),ke(aA),ke(hu),ke(m0))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function GP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ND{}class ZTe{}const KTe={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let XTe=(()=>{class e{constructor(n,i){this._compiler=n,this._config=i||KTe}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,r]=n.split("#");return void 0===r&&(r="default"),U(8255)(i).then(o=>o[r]).then(o=>TZ(o,i,r)).then(o=>this._compiler.compileModuleAsync(o))}loadFactory(n){let[i,r]=n.split("#"),o="NgFactory";return void 0===r&&(r="default",o=""),U(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(s=>s[r+o]).then(s=>TZ(s,i,r))}}return e.\u0275fac=function(n){return new(n||e)(ke(pA),ke(ZTe,8))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function TZ(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const ake=bZ(null,"core",[{provide:e1,useValue:"unknown"},{provide:wZ,deps:[Di]},{provide:AZ,deps:[]},{provide:TD,deps:[]}]),dke=[{provide:eg,useClass:eg,deps:[ci,Di,aA,hu,m0]},{provide:mSe,deps:[ci],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:m0,useClass:m0,deps:[[new Sl,Qb]]},{provide:pA,useClass:pA,deps:[]},mTe,{provide:Bb,useFactory:function(){return f2e},deps:[]},{provide:d0,useFactory:function(){return h2e},deps:[]},{provide:oc,useFactory:function(e){return tP(e=e||"undefined"!=typeof $localize&&$localize.locale||dD),e},deps:[[new jm(oc),new Sl,new Hh]]},{provide:fZ,useValue:"USD"}];let hke=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ke(eg))},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:dke}),e})(),zD=null;function ld(){return zD}const Wi=new ti("DocumentToken");let mA=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({factory:fNe,token:e,providedIn:"platform"}),e})();function fNe(){return ke(JZ)}const hNe=new ti("Location Initialized");let JZ=(()=>{class e extends mA{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ld().getBaseHref(this._doc)}onPopState(n){const i=ld().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=ld().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){eK()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){eK()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi))},e.\u0275prov=it({factory:CNe,token:e,providedIn:"platform"}),e})();function eK(){return!!window.history.pushState}function CNe(){return new JZ(ke(Wi))}function o3(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function tK(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Pf(e){return e&&"?"!==e[0]?"?"+e:e}let vA=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({factory:pNe,token:e,providedIn:"root"}),e})();function pNe(e){const t=ke(Wi).location;return new a3(ke(mA),t&&t.origin||"")}const s3=new ti("appBaseHref");let a3=(()=>{class e extends vA{constructor(n,i){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return o3(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Pf(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const s=this.prepareExternalUrl(r+Pf(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){const s=this.prepareExternalUrl(r+Pf(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return e.\u0275fac=function(n){return new(n||e)(ke(mA),ke(s3,8))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),ANe=(()=>{class e extends vA{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=o3(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Pf(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Pf(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return e.\u0275fac=function(n){return new(n||e)(ke(mA),ke(s3,8))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),HD=(()=>{class e{constructor(n,i){this._subject=new $t,this._urlChangeListeners=[],this._platformStrategy=n;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=tK(nK(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Pf(i))}normalize(n){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,nK(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._platformStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pf(i)),r)}replaceState(n,i="",r=null){this._platformStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pf(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.\u0275fac=function(n){return new(n||e)(ke(vA),ke(mA))},e.normalizeQueryParams=Pf,e.joinWithSlash=o3,e.stripTrailingSlash=tK,e.\u0275prov=it({factory:INe,token:e,providedIn:"root"}),e})();function INe(){return new HD(ke(vA),ke(mA))}function nK(e){return e.replace(/\/index.html$/,"")}var Vo=(()=>((Vo=Vo||{})[Vo.Zero=0]="Zero",Vo[Vo.One=1]="One",Vo[Vo.Two=2]="Two",Vo[Vo.Few=3]="Few",Vo[Vo.Many=4]="Many",Vo[Vo.Other=5]="Other",Vo))();const _Ne=function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=SY(t);if(n)return n;const i=t.split("-")[0];if(n=SY(i),n)return n;if("en"===i)return Yxe;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Pt.PluralCase]};class QD{}let XNe=(()=>{class e extends QD{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(_Ne(i||this.locale)(n)){case Vo.Zero:return"zero";case Vo.One:return"one";case Vo.Two:return"two";case Vo.Few:return"few";case Vo.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(ke(oc))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function hK(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class eOe{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cu=(()=>{class e{constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=[];n.forEachOperation((r,o,s)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new eOe(null,this._ngForOf,-1,-1),null===s?void 0:s),l=new CK(r,a);i.push(l)}else if(null==s)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,s);const l=new CK(r,a);i.push(l)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,o=this._viewContainer.length;r<o;r++){const s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(n,i){n.context.$implicit=i.item}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)($(Za),$(xr),$(Bb))},e.\u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class CK{constructor(t,n){this.record=t,this.view=n}}let Ho=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new nOe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pK("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pK("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)($(Za),$(xr))},e.\u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class nOe{constructor(){this.$implicit=null,this.ngIf=null}}function pK(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${pt(t)}'.`)}let pu=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:[{provide:QD,useClass:XNe}]}),e})();let a1=(()=>{class e{}return e.\u0275prov=it({token:e,providedIn:"root",factory:()=>new kOe(ke(Wi),window)}),e})();class kOe{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=yK(this.window.history)||yK(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function yK(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class bK{}class y3 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(e){zD||(zD=e)}(new y3)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=(l1=l1||document.querySelector("base"),l1?l1.getAttribute("href"):null);return null==n?null:function(e){JD=JD||document.createElement("a"),JD.setAttribute("href",e);const t=JD.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){l1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hK(document.cookie,t)}}let JD,l1=null;const _K=new ti("TRANSITION_ID"),POe=[{provide:Qb,useFactory:function(e,t,n){return()=>{n.get(m0).donePromise.then(()=>{const i=ld(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[_K,Wi,Di],multi:!0}];class b3{static init(){!function(e){HP=e}(new b3)}addToWindow(t){bi.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},bi.getAllAngularTestabilities=()=>t.getAllTestabilities(),bi.getAllAngularRootElements=()=>t.getAllRootElements(),bi.frameworkStabilizers||(bi.frameworkStabilizers=[]),bi.frameworkStabilizers.push(i=>{const r=bi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){if(null==n)return null;const r=t.getTestability(n);return null!=r?r:i?ld().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let LOe=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const u1=new ti("EventManagerPlugins");let t2=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ke(u1),ke(ci))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class _3{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=ld().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let EK=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),c1=(()=>{class e extends EK{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(xK),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(xK))}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function xK(e){ld().remove(e)}const w3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},E3=/%COMP%/g;function n2(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?n2(e,r,n):(r=r.replace(E3,e),n.push(r))}return n}function TK(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let i2=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new x3(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Nr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new QOe(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case Nr.ShadowDom:return new JOe(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=n2(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ke(t2),ke(c1),ke(Jb))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class x3{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,n){return n?document.createElementNS(w3[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,i){t&&t.insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=w3[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=w3[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(du.DashCase|du.Important)?t.style.setProperty(n,i,r&du.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&du.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,TK(i)):this.eventManager.addEventListener(t,n,TK(i))}}class QOe extends x3{constructor(t,n,i,r){super(t),this.component=i;const o=n2(r+"-"+i.id,i.styles,[]);n.addStyles(o),this.contentAttr=function(e){return"_ngcontent-%COMP%".replace(E3,e)}(r+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(E3,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class JOe extends x3{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=n2(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let eMe=(()=>{class e extends _3{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const OK=["alt","control","meta","shift"],aMe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MK={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lMe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let uMe=(()=>{class e extends _3{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ld().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="";if(OK.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(n){let i="",r=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&MK.hasOwnProperty(t)&&(t=MK[t]))}return aMe[t]||t}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),OK.forEach(o=>{o!=r&&lMe[o](n)&&(i+=o+".")}),i+=r,i}static eventCallback(n,i,r){return o=>{e.getEventFullKey(o)===n&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const AMe=bZ(ake,"browser",[{provide:e1,useValue:"browser"},{provide:gZ,useValue:function(){y3.makeCurrent(),b3.init()},multi:!0},{provide:Wi,useFactory:function(){return function(e){nn=e}(document),document},deps:[]}]),IMe=[[],{provide:Eb,useValue:"root"},{provide:aA,useFactory:function(){return new aA},deps:[]},{provide:u1,useClass:eMe,multi:!0,deps:[Wi,ci,e1]},{provide:u1,useClass:uMe,multi:!0,deps:[Wi]},[],{provide:i2,useClass:i2,deps:[t2,c1,Jb]},{provide:Mf,useExisting:i2},{provide:EK,useExisting:c1},{provide:c1,useClass:c1,deps:[Wi]},{provide:zP,useClass:zP,deps:[ci]},{provide:t2,useClass:t2,deps:[u1,ci]},{provide:bK,useClass:LOe,deps:[]},[]];let r2=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Jb,useValue:n.appId},{provide:_K,useExisting:Jb},POe]}}}return e.\u0275fac=function(n){return new(n||e)(ke(e,12))},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:IMe,imports:[pu,hke]}),e})();function Fn(...e){let t=e[e.length-1];return Lu(t)?(e.pop(),la(e,t)):ca(e)}"undefined"!=typeof window&&window;class os extends yi{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return n&&!n.closed&&t.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new vl;return this._value}next(t){super.next(this._value=t)}}class N3 extends dt{notifyNext(t,n,i,r,o){this.destination.next(n)}notifyError(t,n){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xMe extends dt{constructor(t,n,i){super(),this.parent=t,this.outerValue=n,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function O3(e,t,n,i,r=new xMe(e,n,i)){if(!r.closed)return t instanceof tn?t.subscribe(r):nu(t)(r)}const FK={};class DMe{constructor(t){this.resultSelector=t}call(t,n){return n.subscribe(new SMe(t,this.resultSelector))}}class SMe extends N3{constructor(t,n){super(t),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(FK),this.observables.push(t)}_complete(){const t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let i=0;i<n;i++)this.add(O3(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,n,i){const r=this.values,s=this.toRespond?r[i]===FK?--this.toRespond:this.toRespond:0;r[i]=n,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let n;try{n=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const o2=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function s2(...e){return zu(1)(Fn(...e))}const yA=new tn(e=>e.complete());function a2(e){return e?function(e){return new tn(t=>e.schedule(()=>t.complete()))}(e):yA}function PK(e){return new tn(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?zr(n):a2()).subscribe(t)})}function sg(e,t){return"function"==typeof t?n=>n.pipe(sg((i,r)=>zr(e(i,r)).pipe(wn((o,s)=>t(i,o,r,s))))):n=>n.lift(new NMe(e))}class NMe{constructor(t){this.project=t}call(t,n){return n.subscribe(new OMe(t,this.project))}}class OMe extends Vu{constructor(t,n){super(t),this.project=n,this.index=0}_next(t){let n;const i=this.index++;try{n=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(n)}_innerSub(t){const n=this.innerSubscription;n&&n.unsubscribe();const i=new ua(this),r=this.destination;r.add(i),this.innerSubscription=lo(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const LK=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Qa(e){return t=>0===e?a2():t.lift(new MMe(e))}class MMe{constructor(t){if(this.total=t,this.total<0)throw new LK}call(t,n){return n.subscribe(new RMe(t,this.total))}}class RMe extends dt{constructor(t,n){super(t),this.total=n,this.count=0}_next(t){const n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))}}function BK(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new FMe(e,t,n))}}class FMe{constructor(t,n,i=!1){this.accumulator=t,this.seed=n,this.hasSeed=i}call(t,n){return n.subscribe(new PMe(t,this.accumulator,this.seed,this.hasSeed))}}class PMe extends dt{constructor(t,n,i,r){super(t),this.accumulator=n,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const n=this.index++;let i;try{i=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Uo(e,t){return function(i){return i.lift(new LMe(e,t))}}class LMe{constructor(t,n){this.predicate=t,this.thisArg=n}call(t,n){return n.subscribe(new BMe(t,this.predicate,this.thisArg))}}class BMe extends dt{constructor(t,n,i){super(t),this.predicate=n,this.thisArg=i,this.count=0}_next(t){let n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}n&&this.destination.next(t)}}function bA(e){return function(n){const i=new jMe(e),r=n.lift(i);return i.caught=r}}class jMe{constructor(t){this.selector=t}call(t,n){return n.subscribe(new VMe(t,this.selector,this.caught))}}class VMe extends Vu{constructor(t,n,i){super(t),this.selector=n,this.caught=i}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new ua(this);this.add(i);const r=lo(n,i);r!==i&&this.add(r)}}}function b0(e,t){return Ii(e,t,1)}function R3(e){return function(n){return 0===e?a2():n.lift(new zMe(e))}}class zMe{constructor(t){if(this.total=t,this.total<0)throw new LK}call(t,n){return n.subscribe(new HMe(t,this.total))}}class HMe extends dt{constructor(t,n){super(t),this.total=n,this.ring=new Array,this.count=0}_next(t){const n=this.ring,i=this.total,r=this.count++;n.length<i?n.push(t):n[r%i]=t}_complete(){const t=this.destination;let n=this.count;if(n>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const s=n++%i;t.next(r[s])}}t.complete()}}function jK(e=WMe){return t=>t.lift(new UMe(e))}class UMe{constructor(t){this.errorFactory=t}call(t,n){return n.subscribe(new GMe(t,this.errorFactory))}}class GMe extends dt{constructor(t,n){super(t),this.errorFactory=n,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)}}}function WMe(){return new o2}function VK(e=null){return t=>t.lift(new $Me(e))}class $Me{constructor(t){this.defaultValue=t}call(t,n){return n.subscribe(new YMe(t,this.defaultValue))}}class YMe extends dt{constructor(t,n){super(t),this.defaultValue=n,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function _0(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Uo((r,o)=>e(r,o,i)):Pn,Qa(1),n?VK(t):jK(()=>new o2))}function Bf(){}function $s(e,t,n){return function(r){return r.lift(new ZMe(e,t,n))}}class ZMe{constructor(t,n,i){this.nextOrObserver=t,this.error=n,this.complete=i}call(t,n){return n.subscribe(new KMe(t,this.nextOrObserver,this.error,this.complete))}}class KMe extends dt{constructor(t,n,i,r){super(t),this._tapNext=Bf,this._tapError=Bf,this._tapComplete=Bf,this._tapError=i||Bf,this._tapComplete=r||Bf,De(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Bf,this._tapError=n.error||Bf,this._tapComplete=n.complete||Bf)}_next(t){try{this._tapNext.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class QMe{constructor(t){this.callback=t}call(t,n){return n.subscribe(new JMe(t,this.callback))}}class JMe extends dt{constructor(t,n){super(t),this.add(new On(n))}}class jf{constructor(t,n){this.id=t,this.url=n}}class F3 extends jf{constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class g1 extends jf{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zK extends jf{constructor(t,n,i){super(t,n),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eRe extends jf{constructor(t,n,i){super(t,n),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tRe extends jf{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nRe extends jf{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iRe extends jf{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rRe extends jf{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oRe extends jf{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HK{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class UK{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sRe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aRe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lRe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uRe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GK{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pi="primary";class cRe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function w0(e){return new cRe(e)}const WK="ngNavigationCancelingError";function P3(e){const t=Error("NavigationCancelingError: "+e);return t[WK]=!0,t}function dRe(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function ud(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!$K(e[r],t[r]))return!1;return!0}function $K(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function YK(e){return Array.prototype.concat.apply([],e)}function qK(e){return e.length>0?e[e.length-1]:null}function Ys(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function cd(e){return cD(e)?e:kb(e)?zr(Promise.resolve(e)):Fn(e)}const CRe={exact:function XK(e,t,n){if(!wA(e.segments,t.segments)||!u2(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!XK(e.children[i],t.children[i],n))return!1;return!0},subset:QK},ZK={exact:function(e,t){return ud(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>$K(e[n],t[n]))},ignored:()=>!0};function KK(e,t,n){return CRe[n.paths](e.root,t.root,n.matrixParams)&&ZK[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function QK(e,t,n){return JK(e,t,t.segments,n)}function JK(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!wA(r,n)||t.hasChildren()||!u2(r,n,i))}if(e.segments.length===n.length){if(!wA(e.segments,n)||!u2(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!QK(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(wA(e.segments,r)&&u2(e.segments,r,i)&&e.children[pi])&&JK(e.children[pi],t,o,i)}}function u2(e,t,n){return t.every((i,r)=>ZK[n](e[r].parameters,i.parameters))}class _A{constructor(t,n,i){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=w0(this.queryParams)),this._queryParamMap}toString(){return vRe.serialize(this)}}class Si{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Ys(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c2(this)}}class d1{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=w0(this.parameters)),this._parameterMap}toString(){return iX(this)}}function wA(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}class L3{}class eX{parse(t){const n=new TRe(t);return new _A(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){return`${`/${f1(t.root,!0)}`}${function(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${g2(n)}=${g2(r)}`).join("&"):`${g2(n)}=${g2(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(e){return encodeURI(e)}(t.fragment)}`:""}`}}const vRe=new eX;function c2(e){return e.segments.map(t=>iX(t)).join("/")}function f1(e,t){if(!e.hasChildren())return c2(e);if(t){const n=e.children[pi]?f1(e.children[pi],!1):"",i=[];return Ys(e.children,(r,o)=>{o!==pi&&i.push(`${o}:${f1(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function(e,t){let n=[];return Ys(e.children,(i,r)=>{r===pi&&(n=n.concat(t(i,r)))}),Ys(e.children,(i,r)=>{r!==pi&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===pi?[f1(e.children[pi],!1)]:[`${r}:${f1(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[pi]?`${c2(e)}/${n[0]}`:`${c2(e)}/(${n.join("//")})`}}function tX(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g2(e){return tX(e).replace(/%3B/gi,";")}function B3(e){return tX(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d2(e){return decodeURIComponent(e)}function nX(e){return d2(e.replace(/\+/g,"%20"))}function iX(e){return`${B3(e.path)}${function(e){return Object.keys(e).map(t=>`;${B3(t)}=${B3(e[t])}`).join("")}(e.parameters)}`}const wRe=/^[^\/()?;=#]+/;function f2(e){const t=e.match(wRe);return t?t[0]:""}const ERe=/^[^=?&#]+/,DRe=/^[^?&#]+/;class TRe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Si([],{}):new Si([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[pi]=new Si(t,n)),i}parseSegment(){const t=f2(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new d1(d2(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=f2(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=f2(this.remaining);r&&(i=r,this.capture(i))}t[d2(n)]=d2(i)}parseQueryParam(t){const n=function(e){const t=e.match(ERe);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=function(e){const t=e.match(DRe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=nX(n),o=nX(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=f2(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pi);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[pi]:new Si([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class rX{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=j3(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=j3(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=V3(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return V3(t,this._root).map(n=>n.value)}}function j3(e,t){if(e===t.value)return t;for(const n of t.children){const i=j3(e,n);if(i)return i}return null}function V3(e,t){if(e===t.value)return[t];for(const n of t.children){const i=V3(e,n);if(i.length)return i.unshift(t),i}return[]}class Vf{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function h1(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class oX extends rX{constructor(t,n){super(t),this.snapshot=n,z3(this,t)}toString(){return this.snapshot.toString()}}function sX(e,t){const n=function(e,t){const s=new h2([],{},{},"",{},pi,t,null,e.root,-1,{});return new lX("",new Vf(s,[]))}(e,t),i=new os([new d1("",{})]),r=new os({}),o=new os({}),s=new os({}),a=new os(""),l=new Au(i,r,s,a,o,pi,t,n.root);return l.snapshot=n.root,new oX(new Vf(l,[]),n)}class Au{constructor(t,n,i,r,o,s,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(wn(t=>w0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(wn(t=>w0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aX(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class h2{constructor(t,n,i,r,o,s,a,l,u,c,g){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=w0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=w0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lX extends rX{constructor(t,n){super(n),this.url=t,z3(this,n)}toString(){return uX(this._root)}}function z3(e,t){t.value._routerState=e,t.children.forEach(n=>z3(e,n))}function uX(e){const t=e.children.length>0?` { ${e.children.map(uX).join(", ")} } `:"";return`${e.value}${t}`}function H3(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ud(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ud(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ud(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ud(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function U3(e,t){return ud(e.params,t.params)&&function(e,t){return wA(e,t)&&e.every((n,i)=>ud(n.parameters,t[i].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||U3(e.parent,t.parent))}function C2(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return C2(e,i,r);return C2(e,i)})}(e,t,n);return new Vf(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return cX(t,s),s}}const i=function(e){return new Au(new os(e.url),new os(e.params),new os(e.queryParams),new os(e.fragment),new os(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>C2(e,o));return new Vf(i,r)}}function cX(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)cX(e.children[n],t.children[n])}function p2(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function C1(e){return"object"==typeof e&&null!=e&&e.outlets}function G3(e,t,n,i,r){let o={};return i&&Ys(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new _A(n.root===e?t:gX(n.root,e,t),o,r)}function gX(e,t,n){const i={};return Ys(e.children,(r,o)=>{i[o]=r===t?n:gX(r,t,n)}),new Si(e.segments,i)}class dX{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&p2(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(C1);if(r&&r!==qK(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W3{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function fX(e,t,n){if(e||(e=new Si([],{})),0===e.segments.length&&e.hasChildren())return A2(e,t,n);const i=function(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const s=e.segments[r],a=n[i];if(C1(a))break;const l=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!CX(l,u,s))return o;i+=2}else{if(!CX(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new Si(e.segments.slice(0,i.pathIndex),{});return o.children[pi]=new Si(e.segments.slice(i.pathIndex),e.children),A2(o,0,r)}return i.match&&0===r.length?new Si(e.segments,{}):i.match&&!e.hasChildren()?$3(e,t,n):i.match?A2(e,0,r):$3(e,t,n)}function A2(e,t,n){if(0===n.length)return new Si(e.segments,{});{const i=function(e){return C1(e[0])?e[0].outlets:{[pi]:e}}(n),r={};return Ys(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=fX(e.children[s],t,o))}),Ys(e.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Si(e.segments,r)}}function $3(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(C1(o)){const l=zRe(o.outlets);return new Si(i,l)}if(0===r&&p2(n[0])){i.push(new d1(e.segments[t].path,hX(n[0]))),r++;continue}const s=C1(o)?o.outlets[pi]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&p2(a)?(i.push(new d1(s,hX(a))),r+=2):(i.push(new d1(s,{})),r++)}return new Si(i,{})}function zRe(e){const t={};return Ys(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=$3(new Si([],{}),0,n))}),t}function hX(e){const t={};return Ys(e,(n,i)=>t[i]=`${n}`),t}function CX(e,t,n){return e==n.path&&ud(t,n.parameters)}class URe{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),H3(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=h1(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Ys(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=h1(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=h1(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new uRe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new aRe(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(H3(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pX(a.route)}else{const a=function(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}function pX(e){H3(e.value),e.children.forEach(pX)}class Y3{constructor(t,n){this.routes=t,this.module=n}}function Xh(e){return"function"==typeof e}function EA(e){return e instanceof _A}const p1=Symbol("INITIAL_VALUE");function A1(){return sg(e=>function(...e){let t,n;return Lu(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&E(e[0])&&(e=e[0]),ca(e,n).lift(new DMe(t))}(e.map(t=>t.pipe(Qa(1),function(...e){const t=e[e.length-1];return Lu(t)?(e.pop(),n=>s2(e,n,t)):n=>s2(e,n)}(p1)))).pipe(BK((t,n)=>{let i=!1;return n.reduce((r,o,s)=>r!==p1?r:(o===p1&&(i=!0),i||!1!==o&&s!==n.length-1&&!EA(o)?r:o),t)},p1),Uo(t=>t!==p1),wn(t=>EA(t)?t:!0===t),Qa(1)))}let AX=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){1&n&&je(0,"router-outlet")},directives:function(){return[J3]},encapsulation:2}),e})();function IX(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];KRe(i,XRe(t,i))}}function KRe(e,t){e.children&&IX(e.children,t)}function XRe(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function q3(e){const t=e.children&&e.children.map(q3),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==pi&&(n.component=AX),n}function lc(e){return e.outlet||pi}function mX(e,t){const n=e.filter(i=>lc(i)===t);return n.push(...e.filter(i=>lc(i)!==t)),n}const vX={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function I2(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},vX):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||dRe)(n,e,t);if(!o)return Object.assign({},vX);const s={};Ys(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function m2(e,t,n,i,r="corrected"){if(n.length>0&&function(e,t,n){return n.some(i=>v2(e,t,i)&&lc(i)!==pi)}(e,n,i)){const s=new Si(t,function(e,t,n,i){const r={};r[pi]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&lc(o)!==pi){const s=new Si([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,r[lc(o)]=s}return r}(e,t,i,new Si(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(i=>v2(e,t,i))}(e,n,i)){const s=new Si(e.segments,function(e,t,n,i,r,o){const s={};for(const a of i)if(v2(e,n,a)&&!r[lc(a)]){const l=new Si([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[lc(a)]=l}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const o=new Si(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function v2(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function yX(e,t,n,i){return!!(lc(e)===i||i!==pi&&v2(t,n,e))&&("**"===e.path||I2(t,e,n).matched)}function bX(e,t,n){return 0===t.length&&!e.children[n]}class I1{constructor(t){this.segmentGroup=t||null}}class _X{constructor(t){this.urlTree=t}}function y2(e){return new tn(t=>t.error(new I1(e)))}function wX(e){return new tn(t=>t.error(new _X(e)))}function nFe(e){return new tn(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class oFe{constructor(t,n,i,r,o){this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ad)}apply(){const t=m2(this.urlTree.root,[],[],this.config).segmentGroup,n=new Si(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,pi).pipe(wn(o=>this.createUrlTree(Z3(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bA(o=>{if(o instanceof _X)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof I1?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pi).pipe(wn(r=>this.createUrlTree(Z3(r),t.queryParams,t.fragment))).pipe(bA(r=>{throw r instanceof I1?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,i){const r=t.segments.length>0?new Si([],{[pi]:t}):t;return new _A(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(wn(o=>new Si([],o))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return zr(r).pipe(b0(o=>{const s=i.children[o],a=mX(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(wn(l=>({segment:l,outlet:o})))}),BK((o,s)=>(o[s.outlet]=s.segment,o),{}),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Uo((r,o)=>e(r,o,i)):Pn,R3(1),n?VK(t):jK(()=>new o2))}())}expandSegment(t,n,i,r,o,s){return zr(i).pipe(b0(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,o,s).pipe(bA(u=>{if(u instanceof I1)return Fn(null);throw u}))),_0(a=>!!a),bA((a,l)=>{if(a instanceof o2||"EmptyError"===a.name){if(bX(n,r,o))return Fn(new Si([],{}));throw new I1(n)}throw a}))}expandSegmentAgainstRoute(t,n,i,r,o,s,a){return yX(r,n,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s):y2(n):y2(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?wX(o):this.lineralizeSegments(i,o).pipe(Ii(s=>{const a=new Si(s,{});return this.expandSegment(t,a,n,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:c}=I2(n,r,o);if(!a)return y2(n);const g=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?wX(g):this.lineralizeSegments(r,g).pipe(Ii(d=>this.expandSegment(t,n,i,d.concat(o.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,n,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Fn(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(wn(d=>(i._loadedConfig=d,new Si(r,{})))):Fn(new Si(r,{}));const{matched:s,consumedSegments:a,lastChild:l}=I2(n,i,r);if(!s)return y2(n);const u=r.slice(l);return this.getChildConfig(t,i,r).pipe(Ii(g=>{const d=g.module,f=g.routes,{segmentGroup:h,slicedSegments:C}=m2(n,a,u,f),p=new Si(h.segments,h.children);if(0===C.length&&p.hasChildren())return this.expandChildren(d,f,p).pipe(wn(_=>new Si(a,_)));if(0===f.length&&0===C.length)return Fn(new Si(a,{}));const I=lc(i)===o;return this.expandSegment(d,p,f,C,I?pi:o,!0).pipe(wn(y=>new Si(a.concat(y.segments),y.children)))}))}getChildConfig(t,n,i){return n.children?Fn(new Y3(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Fn(n._loadedConfig):this.runCanLoadGuards(t.injector,n,i).pipe(Ii(r=>r?this.configLoader.load(t.injector,n).pipe(wn(o=>(n._loadedConfig=o,o))):function(e){return new tn(t=>t.error(P3(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(n))):Fn(new Y3([],t))}runCanLoadGuards(t,n,i){const r=n.canLoad;return r&&0!==r.length?Fn(r.map(s=>{const a=t.get(s);let l;if(function(e){return e&&Xh(e.canLoad)}(a))l=a.canLoad(n,i);else{if(!Xh(a))throw new Error("Invalid CanLoad guard");l=a(n,i)}return cd(l)})).pipe(A1(),$s(s=>{if(!EA(s))return;const a=P3(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),wn(s=>!0===s)):Fn(!0)}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Fn(i);if(r.numberOfChildren>1||!r.children[pi])return nFe(t.redirectTo);r=r.children[pi]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreatreUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new _A(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Ys(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=n[a]}else i[o]=r}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let s={};return Ys(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new Si(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}function Z3(e){const t={};for(const i of Object.keys(e.children)){const o=Z3(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children[pi]){const t=e.children[pi];return new Si(e.segments.concat(t.segments),t.children)}return e}(new Si(e.segments,t))}class EX{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class b2{constructor(t,n){this.component=t,this.route=n}}function lFe(e,t,n){const i=e._root;return m1(i,t?t._root:null,n,[i.value])}function _2(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function m1(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=h1(t);return e.children.forEach(s=>{(function(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!wA(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wA(e.url,t.url)||!ud(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U3(e,t)||!ud(e.queryParams,t.queryParams);case"paramsChange":default:return!U3(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new EX(i)):(o.data=s.data,o._resolvedData=s._resolvedData),m1(e,t,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new b2(a.outlet.component,s))}else s&&v1(t,a,r),r.canActivateChecks.push(new EX(i)),m1(e,null,o.component?a?a.children:null:n,i,r)})(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Ys(o,(s,a)=>v1(s,n.getContext(a),r)),r}function v1(e,t,n){const i=h1(e),r=e.value;Ys(i,(o,s)=>{v1(o,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new b2(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class yFe{}function xX(e){return new tn(t=>t.error(e))}class _Fe{constructor(t,n,i,r,o,s){this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=m2(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,pi);if(null===n)return null;const i=new h2([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pi,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vf(i,n),o=new lX(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const n=t.value,i=aX(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,i)}processChildren(t,n){const i=[];for(const o of Object.keys(n.children)){const s=n.children[o],a=mX(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=DX(i);return function(e){e.sort((t,n)=>t.value.outlet===pi?-1:n.value.outlet===pi?1:t.value.outlet.localeCompare(n.value.outlet))}(r),r}processSegment(t,n,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,n,i,r);if(null!==s)return s}return bX(n,i,r)?[]:null}processSegmentAgainstRoute(t,n,i,r){if(t.redirectTo||!yX(t,n,i,r))return null;let o,s=[],a=[];if("**"===t.path){const f=i.length>0?qK(i).parameters:{};o=new h2(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kX(t),lc(t),t.component,t,SX(n),TX(n)+i.length,NX(t))}else{const f=I2(n,t,i);if(!f.matched)return null;s=f.consumedSegments,a=i.slice(f.lastChild),o=new h2(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kX(t),lc(t),t.component,t,SX(n),TX(n)+s.length,NX(t))}const l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=m2(n,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Vf(o,f)]}if(0===l.length&&0===c.length)return[new Vf(o,[])];const g=lc(t)===r,d=this.processSegment(l,u,c,g?pi:r);return null===d?null:[new Vf(o,d)]}}function xFe(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function DX(e){const t=[],n=new Set;for(const i of e){if(!xFe(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=DX(i.children);t.push(new Vf(i.value,r))}return t.filter(i=>!n.has(i))}function SX(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function TX(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function kX(e){return e.data||{}}function NX(e){return e.resolve||{}}function K3(e){return sg(t=>{const n=e(t);return n?zr(n).pipe(wn(()=>t)):Fn(t)})}class RFe extends class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const X3=new ti("ROUTES");class OX{constructor(t,n,i,r){this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const r=this.loadModuleFactory(n.loadChildren).pipe(wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const s=o.create(t);return new Y3(YK(s.injector.get(X3,void 0,ln.Self|ln.Optional)).map(q3),s)}),bA(o=>{throw n._loader$=void 0,o}));return n._loader$=new ge(r,()=>new yi).pipe(Cf()),n._loader$}loadModuleFactory(t){return"string"==typeof t?zr(this.loader.load(t)):cd(t()).pipe(Ii(n=>n instanceof cq?Fn(n):zr(this.compiler.compileModuleAsync(n))))}}class FFe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new E0,this.attachRef=null}}class E0{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new FFe,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}class LFe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function BFe(e){throw e}function jFe(e,t,n){return t.parse("/")}function MX(e,t){return Fn(null)}const VFe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zFe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ja=(()=>{class e{constructor(n,i,r,o,s,a,l,u){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yi,this.errorHandler=BFe,this.malformedUriErrorHandler=jFe,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MX,afterPreactivation:MX},this.urlHandlingStrategy=new LFe,this.routeReuseStrategy=new RFe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(ad),this.console=s.get(TD);const d=s.get(ci);this.isNgZoneEnabled=d instanceof ci&&ci.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new _A(new Si([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OX(a,l,f=>this.triggerEvent(new HK(f)),f=>this.triggerEvent(new UK(f))),this.routerState=sX(this.currentUrlTree,this.rootComponentType),this.transitions=new os({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe(Uo(r=>0!==r.id),wn(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),sg(r=>{let o=!1,s=!1;return Fn(r).pipe($s(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sg(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return w2(a.source)&&(this.browserUrlTree=a.extractedUrl),Fn(a).pipe(sg(g=>{const d=this.transitions.getValue();return i.next(new F3(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),d!==this.transitions.getValue()?yA:Promise.resolve(g)}),function(e,t,n,i){return sg(r=>function(e,t,n,i,r){return new oFe(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(wn(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),$s(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function(e,t,n,i,r){return Ii(o=>function(e,t,n,i,r="emptyOnly",o="legacy"){try{const s=new _Fe(e,t,n,i,r,o).recognize();return null===s?xX(new yFe):Fn(s)}catch(s){return xX(s)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(wn(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),$s(g=>{"eager"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(g.urlAfterRedirects,g),this.browserUrlTree=g.urlAfterRedirects);const d=new tRe(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);i.next(d)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:h,restoredState:C,extras:p}=a,I=new F3(d,this.serializeUrl(f),h,C);i.next(I);const m=sX(f,this.rootComponentType).snapshot;return Fn(Object.assign(Object.assign({},a),{targetSnapshot:m,urlAfterRedirects:f,extras:Object.assign(Object.assign({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),yA}),K3(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:g,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:g,skipLocationChange:!!d,replaceUrl:!!f})}),$s(a=>{const l=new nRe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),wn(a=>Object.assign(Object.assign({},a),{guards:lFe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(e,t){return Ii(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Fn(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return zr(e).pipe(Ii(r=>function(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Fn(o.map(a=>{const l=_2(a,t,r);let u;if(function(e){return e&&Xh(e.canDeactivate)}(l))u=cd(l.canDeactivate(e,t,n,i));else{if(!Xh(l))throw new Error("Invalid CanDeactivate guard");u=cd(l(e,t,n,i))}return u.pipe(_0())})).pipe(A1()):Fn(!0)}(r.component,r.route,n,t,i)),_0(r=>!0!==r,!0))}(s,i,r,e).pipe(Ii(a=>a&&function(e){return"boolean"==typeof e}(a)?function(e,t,n,i){return zr(t).pipe(b0(r=>s2(function(e,t){return null!==e&&t&&t(new sRe(e)),Fn(!0)}(r.route.parent,i),function(e,t){return null!==e&&t&&t(new lRe(e)),Fn(!0)}(r.route,i),function(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>PK(()=>Fn(s.guards.map(l=>{const u=_2(l,s.node,n);let c;if(function(e){return e&&Xh(e.canActivateChild)}(u))c=cd(u.canActivateChild(i,e));else{if(!Xh(u))throw new Error("Invalid CanActivateChild guard");c=cd(u(i,e))}return c.pipe(_0())})).pipe(A1())));return Fn(o).pipe(A1())}(e,r.path,n),function(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?Fn(i.map(o=>PK(()=>{const s=_2(o,t,n);let a;if(function(e){return e&&Xh(e.canActivate)}(s))a=cd(s.canActivate(t,e));else{if(!Xh(s))throw new Error("Invalid CanActivate guard");a=cd(s(t,e))}return a.pipe(_0())}))).pipe(A1()):Fn(!0)}(e,r.route,n))),_0(r=>!0!==r,!0))}(i,o,e,t):Fn(a)),wn(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),$s(a=>{if(EA(a.guardsResult)){const u=P3(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new iRe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Uo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),K3(a=>{if(a.guards.canActivateChecks.length)return Fn(a).pipe($s(l=>{const u=new rRe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),sg(l=>{let u=!1;return Fn(l).pipe(function(e,t){return Ii(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Fn(n);let o=0;return zr(r).pipe(b0(s=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return Fn({});const o={};return zr(r).pipe(Ii(s=>function(e,t,n,i){const r=_2(e,t,i);return cd(r.resolve?r.resolve(t,n):r(t,n))}(e[s],t,n,i).pipe($s(a=>{o[s]=a}))),R3(1),Ii(()=>Object.keys(o).length===r.length?Fn(o):yA))}(e._resolve,e,t,i).pipe(wn(o=>(e._resolvedData=o,e.data=Object.assign(Object.assign({},e.data),aX(e,n).resolve),null)))}(s.route,i,e,t)),$s(()=>o++),R3(1),Ii(s=>o===r.length?Fn(n):yA))})}(this.paramsInheritanceStrategy,this.ngModule.injector),$s({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),$s(l=>{const u=new oRe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),K3(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:g,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:g,skipLocationChange:!!d,replaceUrl:!!f})}),wn(a=>{const l=function(e,t,n){const i=C2(e,t._root,n?n._root:void 0);return new oX(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),$s(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>wn(i=>(new URe(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),$s({next(){o=!0},complete(){o=!0}}),function(e){return t=>t.lift(new QMe(e))}(()=>{if(!o&&!s){const a=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,a)):this.cancelNavigationTransition(r,a)}this.currentNavigation=null}),bA(a=>{if(s=!0,function(e){return e&&e[WK]}(a)){const l=EA(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const u=new zK(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||w2(r.source)};this.scheduleNavigation(c,"imperative",null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new eRe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(u){r.reject(u)}}return yA}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:o,urlTree:s}=i,a={replaceUrl:!0};if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(s,r,o,a)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(n){var i;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,i){if(!n)return!0;const r=i.urlTree.toString()===n.urlTree.toString();return i.transitionId!==n.transitionId||!r||!("hashchange"===i.source&&"popstate"===n.source||"popstate"===i.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){IX(n),this.config=n.map(q3),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=r||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let g=null;switch(a){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}return null!==g&&(g=this.removeEmptyProps(g)),function(e,t,n,i,r){if(0===n.length)return G3(t.root,t.root,t,i,r);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dX(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Ys(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new dX(n,t,i)}(n);if(o.toRoot())return G3(t.root,new Si([],{}),t,i,r);const s=function(e,t,n){if(e.isAbsolute)return new W3(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new W3(o,o===t.root,0)}const i=p2(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new W3(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?A2(s.segmentGroup,s.index,o.commands):fX(s.segmentGroup,s.index,o.commands);return G3(s.segmentGroup,a,t,i,r)}(u,this.currentUrlTree,n,g,null!=c?c:null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=EA(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?Object.assign({},VFe):!1===i?Object.assign({},zFe):i,EA(n))return KK(this.currentUrlTree,n,r);const o=this.parseUrl(n);return KK(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new g1(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);const u=this.getTransition(),c=w2(i)&&u&&!w2(u.source),f=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===n.toString();if(c&&f)return Promise.resolve(!0);let h,C,p;s?(h=s.resolve,C=s.reject,p=s.promise):p=new Promise((y,_)=>{h=y,C=_});const I=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),m=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):m=0,this.setTransition({id:I,targetPageId:m,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:h,reject:C,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(n,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i){const r=new zK(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(r),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)(ke(zx),ke(L3),ke(E0),ke(HD),ke(Di),ke(ND),ke(pA),ke(void 0))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function w2(e){return"imperative"!==e}let E2=(()=>{class e{constructor(n,i,r){this.router=n,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new yi,this.subscription=n.events.subscribe(o=>{o instanceof g1&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,i,r,o,s){if(0!==n||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:x0(this.skipLocationChange),replaceUrl:x0(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:x0(this.preserveFragment)})}}return e.\u0275fac=function(n){return new(n||e)($(Ja),$(Au),$(vA))},e.\u0275dir=de({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,i){1&n&&Ut("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&(Tl("href",i.href,Ju),ji("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[mi]}),e})();function x0(e){return""===e||!!e}let J3=(()=>{class e{constructor(n,i,r,o,s){this.parentContexts=n,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new $t,this.deactivateEvents=new $t,this.name=o||pi,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const s=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new WFe(n,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)($(E0),$(Za),$(hu),function(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(tG(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===t)return n[r+1];r+=2}}}return null}(Ur(),e)}("name"),$(Ws))},e.\u0275dir=de({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class WFe{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Au?this.route:t===E0?this.childContexts:this.parent.get(t,n)}}class RX{}class FX{preload(t,n){return Fn(null)}}let PX=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=new OX(i,r,u=>n.triggerEvent(new HK(u)),u=>n.triggerEvent(new UK(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Uo(n=>n instanceof g1),b0(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ad);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(n,o)):o.children&&r.push(this.processRoutes(n,o.children));return zr(r).pipe(zu(),wn(o=>{}))}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Fn(i._loadedConfig):this.loader.load(n.injector,i)).pipe(Ii(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(ke(Ja),ke(ND),ke(pA),ke(Di),ke(RX))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),e5=(()=>{class e{constructor(n,i,r={}){this.router=n,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof F3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof g1&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof GK&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new GK(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(ke(Ja),ke(a1),ke(void 0))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const xA=new ti("ROUTER_CONFIGURATION"),LX=new ti("ROUTER_FORROOT_GUARD"),YFe=[HD,{provide:L3,useClass:eX},{provide:Ja,useFactory:function(e,t,n,i,r,o,s,a={},l,u){const c=new Ja(null,e,t,n,i,r,o,YK(s));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(g=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[L3,E0,HD,Di,ND,pA,X3,xA,[class{},new Sl],[class{},new Sl]]},E0,{provide:Au,useFactory:function(e){return e.routerState.root},deps:[Ja]},{provide:ND,useClass:XTe},PX,FX,class{preload(t,n){return n().pipe(bA(()=>Fn(null)))}},{provide:xA,useValue:{enableTracing:!1}}];function qFe(){return new UP("Router",Ja)}let t5=(()=>{class e{constructor(n,i){}static forRoot(n,i){return{ngModule:e,providers:[YFe,BX(n),{provide:LX,useFactory:XFe,deps:[[Ja,new Sl,new Hh]]},{provide:xA,useValue:i||{}},{provide:vA,useFactory:KFe,deps:[mA,[new jm(s3),new Sl],xA]},{provide:e5,useFactory:ZFe,deps:[Ja,a1,xA]},{provide:RX,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:FX},{provide:UP,multi:!0,useFactory:qFe},[n5,{provide:Qb,multi:!0,useFactory:tPe,deps:[n5]},{provide:jX,useFactory:nPe,deps:[n5]},{provide:dZ,multi:!0,useExisting:jX}]]}}static forChild(n){return{ngModule:e,providers:[BX(n)]}}}return e.\u0275fac=function(n){return new(n||e)(ke(LX,8),ke(Ja,8))},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})();function ZFe(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new e5(e,t,n)}function KFe(e,t,n={}){return n.useHash?new ANe(e,t):new a3(e,t)}function XFe(e){return"guarded"}function BX(e){return[{provide:N1e,multi:!0,useValue:e},{provide:X3,multi:!0,useValue:e}]}let n5=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yi}appInitializer(){return this.injector.get(hNe,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(Ja),s=this.injector.get(xA);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Fn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(n){const i=this.injector.get(xA),r=this.injector.get(PX),o=this.injector.get(e5),s=this.injector.get(Ja),a=this.injector.get(eg);n===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(ke(Di))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function tPe(e){return e.appInitializer.bind(e)}function nPe(e){return e.bootstrapListener.bind(e)}const jX=new ti("Router Initializer");class VX{}const zf="*";function y1(e,t){return{type:7,name:e,definitions:t,options:{}}}function b1(e,t=null){return{type:4,styles:t,timings:e}}function zX(e,t=null){return{type:2,steps:e,options:t}}function uc(e){return{type:6,styles:e,offset:null}}function _1(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function HX(e){Promise.resolve(null).then(e)}class D0{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HX(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class UX{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0;const o=this.players.length;0==o?HX(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}const oPe=JSON.parse('{"U":["assets/logos/abercrombieandfitch.jpg","assets/logos/adidas.png","assets/logos/Aditya.jpg","assets/logos/arvind.png","assets/logos/asics.png","assets/logos/asos.png","assets/logos/boohoo.jpg","assets/logos/buckle.svg","assets/logos/burberry.jpg","assets/logos/burlington.png","assets/logos/canada-goose.png","assets/logos/capri_holdings.png","assets/logos/esprit.png","assets/logos/fast-retail.png","assets/logos/footlocker.jpg","assets/logos/gap.png","assets/logos/havaianas.png","assets/logos/nike.png","assets/logos/vf.svg","assets/logos/zalando.png"]}'),sPe=JSON.parse('[{"id":0,"name":"overview"},{"id":5590,"name":"H&M","url":"https://wikirate.org/H_M","headquarters":"Sweden"},{"id":5505,"name":"Gap inc.","url":"https://wikirate.org/Gap_inc","headquarters":"California (United States)"},{"id":5301,"name":"Inditex","url":"https://wikirate.org/Inditex","headquarters":"Spain"},{"id":9269,"name":"Marks and Spencer Group plc","url":"https://wikirate.org/Marks_and_Spencer_Group_plc","headquarters":"United Kingdom"},{"id":7217,"name":"Adidas AG","url":"https://wikirate.org/Adidas_AG","headquarters":"Germany"},{"id":1829050,"name":"Asos","url":"https://wikirate.org/Asos","headquarters":"United Kingdom"},{"id":9139,"name":"Burberry Group plc","url":"https://wikirate.org/Burberry_Group_plc","headquarters":"United Kingdom"},{"id":8979,"name":"Louis Vuitton Malletier SA (LVMH)","url":"https://wikirate.org/Louis_Vuitton_Malletier_SA_LVMH","headquarters":"France"},{"id":5800,"name":"Nike Inc.","url":"https://wikirate.org/Nike_Inc","headquarters":"Oregon (United States)"},{"id":49386,"name":"Tapestry Inc","url":"https://wikirate.org/Tapestry_Inc","headquarters":"New York (United States)"},{"id":18109,"name":"Puma","url":"https://wikirate.org/Puma","headquarters":"Germany"},{"id":776737,"name":"Tiffany & Co.","url":"https://wikirate.org/Tiffany_Co","headquarters":"New York (United States)"},{"id":56584,"name":"Fast Retailing","url":"https://wikirate.org/Fast_Retailing","headquarters":"Japan"},{"id":61104,"name":"VF","url":"https://wikirate.org/VF","headquarters":"North Carolina (United States)"},{"id":61050,"name":"PVH","url":"https://wikirate.org/PVH","headquarters":"New York (United States)"},{"id":2608717,"name":"Zalando SE","url":"https://wikirate.org/Zalando_SE","headquarters":"Germany"},{"id":866194,"name":"Guess? Inc","url":"https://wikirate.org/Guess_Inc","headquarters":"California (United States)"},{"id":116498,"name":"Under Armour","url":"https://wikirate.org/Under_Armour","headquarters":"Maryland (United States)"},{"id":8362,"name":"Kering","url":"https://wikirate.org/Kering","headquarters":"France"},{"id":61065,"name":"Prada","url":"https://wikirate.org/Prada","headquarters":"Italy"},{"id":56597,"name":"L Brands","url":"https://wikirate.org/L_Brands","headquarters":"Ohio (United States)"},{"id":42714,"name":"Hugo Boss AG","url":"https://wikirate.org/Hugo_Boss_AG","headquarters":"Germany"},{"id":56618,"name":"Nordstrom","url":"https://wikirate.org/Nordstrom","headquarters":"Washington (United States)"},{"id":861862,"name":"Columbia Sportswear","url":"https://wikirate.org/Columbia_Sportswear","headquarters":"Oregon (United States)"},{"id":859389,"name":"Urban Outfitters","url":"https://wikirate.org/Urban_Outfitters","headquarters":"Pennsylvania (United States)"},{"id":2265395,"name":"Ralph Lauren Corporation","url":"https://wikirate.org/Ralph_Lauren_Corporation","headquarters":"New York (United States)"},{"id":858415,"name":"Fossil Group, Inc.","url":"https://wikirate.org/Fossil_Group_Inc","headquarters":"Texas (United States)"},{"id":866417,"name":"Skechers USA Inc","url":"https://wikirate.org/Skechers_USA_Inc","headquarters":"California (United States)"},{"id":862441,"name":"American Eagle Outfitters","url":"https://wikirate.org/American_Eagle_Outfitters","headquarters":"Pennsylvania (United States)"},{"id":60982,"name":"Hanesbrands","url":"https://wikirate.org/Hanesbrands","headquarters":"North Carolina (United States)"},{"id":945115,"name":"Lojas Renner S.A.","url":"https://wikirate.org/Lojas_Renner_S_A","headquarters":"Brazil"},{"id":58500,"name":"Foot Locker Inc.","url":"https://wikirate.org/Foot_Locker_Inc","headquarters":"New York (United States)"},{"id":957395,"name":"TJX","url":"https://wikirate.org/TJX","headquarters":"Massachusetts (United States)"},{"id":776749,"name":"G-III Apparel Group, LTD.","url":"https://wikirate.org/G_III_Apparel_Group_LTD","headquarters":"New York (United States)"},{"id":866117,"name":"Deckers Outdoor Corporation","url":"https://wikirate.org/Deckers_Outdoor_Corporation","headquarters":"California (United States)"},{"id":57653,"name":"Ross Stores","url":"https://wikirate.org/Ross_Stores","headquarters":"California (United States)"},{"id":861719,"name":"Wolverine World Wide","url":"https://wikirate.org/Wolverine_World_Wide","headquarters":"Michigan (United States)"},{"id":865187,"name":"Caleres Inc","url":"https://wikirate.org/Caleres_Inc","headquarters":"Missouri (United States)"},{"id":49209,"name":"Next","url":"https://wikirate.org/Next","headquarters":"United Kingdom"},{"id":866341,"name":"Oxford Industries Inc","url":"https://wikirate.org/Oxford_Industries_Inc","headquarters":"Georgia (United States)"},{"id":2274181,"name":"Genesco Inc.","url":"https://wikirate.org/Genesco_Inc","headquarters":"Tennessee (United States)"},{"id":2632311,"name":"Chico\'s FAS Inc","url":"https://wikirate.org/Chico_s_FAS_Inc","headquarters":"Florida (United States)"},{"id":61176,"name":"Macy\'s","url":"https://wikirate.org/Macy_s","headquarters":"Ohio (United States)"},{"id":792992,"name":"Moncler","url":"https://wikirate.org/Moncler","headquarters":"Italy"},{"id":2241782,"name":"DSW Inc.","url":"https://wikirate.org/DSW_Inc","headquarters":"Ohio (United States)"},{"id":60914,"name":"Abercrombie & Fitch","url":"https://wikirate.org/Abercrombie_Fitch","headquarters":"New York (United States)"},{"id":57485,"name":"Luxottica Group SpA","url":"https://wikirate.org/Luxottica_Group_SpA","headquarters":"Italy"},{"id":2632233,"name":"Ascena Retail Group Inc","url":"https://wikirate.org/Ascena_Retail_Group_Inc","headquarters":"New Jersey (United States)"},{"id":776665,"name":"Dillard\'s, Inc.","url":"https://wikirate.org/Dillard_s_Inc","headquarters":"Arkansas (United States)"},{"id":50638,"name":"Dick\'s Sporting Goods","url":"https://wikirate.org/Dick_s_Sporting_Goods","headquarters":"Pennsylvania (United States)"},{"id":2605005,"name":"Carter\'s Inc","url":"https://wikirate.org/Carter_s_Inc","headquarters":"Georgia (United States)"},{"id":2632164,"name":"Express Inc","url":"https://wikirate.org/Express_Inc","headquarters":"Ohio (United States)"},{"id":2979682,"name":"Vera Bradley Inc.","url":"https://wikirate.org/Vera_Bradley_Inc","headquarters":"Indiana (United States)"},{"id":170564,"name":"Asics Corporation","url":"https://wikirate.org/Asics_Corporation","headquarters":"Japan"},{"id":116138,"name":"Gildan Activewear Inc.","url":"https://wikirate.org/Gildan_Activewear_Inc","headquarters":"Canada"},{"id":2632287,"name":"Burlington Stores Inc","url":"https://wikirate.org/Burlington_Stores_Inc","headquarters":"New Jersey (United States)"},{"id":2980808,"name":"Buckle Inc","url":"https://wikirate.org/Buckle_Inc","headquarters":"Nebraska (United States)"},{"id":1825510,"name":"lululemon athletica","url":"https://wikirate.org/lululemon_athletica","headquarters":"Quebec (Canada)"},{"id":2632400,"name":"Francesca\'s","url":"https://wikirate.org/Francesca_s","headquarters":"Texas (United States)"},{"id":9127,"name":"Esprit Holdings Limited","url":"https://wikirate.org/Esprit_Holdings_Limited","headquarters":"Hong Kong"},{"id":3052157,"name":"Cato Corp","url":"https://wikirate.org/Cato_Corp","headquarters":"North Carolina (United States)"},{"id":48305,"name":"Christian Dior","url":"https://wikirate.org/Christian_Dior","headquarters":"France"},{"id":2931751,"name":"Arvind Limited","url":"https://wikirate.org/Arvind_Limited","headquarters":"India"},{"id":3081310,"name":"Mulberry Group Plc","url":"https://wikirate.org/Mulberry_Group_Plc","headquarters":"United Kingdom"},{"id":3151635,"name":"Ted Baker","url":"https://wikirate.org/Ted_Baker","headquarters":"United Kingdom"},{"id":3152073,"name":"Capri Holdings Ltd (formerly Michael Kors)","url":"https://wikirate.org/Capri_Holdings_Ltd_formerly_Michael_Kors","headquarters":"United Kingdom"},{"id":48284,"name":"Hermes International","url":"https://wikirate.org/Hermes_International","headquarters":"France"},{"id":2608722,"name":"Salvatore Ferragamo SpA","url":"https://wikirate.org/Salvatore_Ferragamo_SpA","headquarters":"Italy"},{"id":56413,"name":"Richemont","url":"https://wikirate.org/Richemont","headquarters":"Switzerland"},{"id":3075761,"name":"Boot Barn Holdings Inc.","url":"https://wikirate.org/Boot_Barn_Holdings_Inc","headquarters":"California (United States)"},{"id":2624117,"name":"Geox SpA","url":"https://wikirate.org/Geox_SpA","headquarters":"Italy"},{"id":3098198,"name":"Hudson\'s Bay Company","url":"https://wikirate.org/Hudson_s_Bay_Company","headquarters":"Ontario, Canada"},{"id":57272,"name":"Swatch Group","url":"https://wikirate.org/Swatch_Group","headquarters":"Switzerland"},{"id":3624592,"name":"JD Sports Fashion plc","url":"https://wikirate.org/JD_Sports_Fashion_plc","headquarters":"United Kingdom"},{"id":44618,"name":"Sports Direct","url":"https://wikirate.org/Sports_Direct","headquarters":"United Kingdom"},{"id":3624482,"name":"Superdry plc","url":"https://wikirate.org/Superdry_plc","headquarters":"United Kingdom"},{"id":2632436,"name":"Children\'s Place Inc","url":"https://wikirate.org/Children_s_Place_Inc","headquarters":"New Jersey (United States)"},{"id":2623713,"name":"YOOX NET-A-PORTER Group SpA","url":"https://wikirate.org/YOOX_NET_A_PORTER_Group_SpA","headquarters":"Italy"},{"id":3624475,"name":"Brunello Cucinelli","url":"https://wikirate.org/Brunello_Cucinelli","headquarters":"Italy"},{"id":1173485,"name":"Li-Ning","url":"https://wikirate.org/Li_Ning","headquarters":"Beijing (China)"},{"id":3624461,"name":"TOD\'S","url":"https://wikirate.org/TOD_S","headquarters":"Italy"},{"id":3624440,"name":"Boohoo.com","url":"https://wikirate.org/Boohoo_com","headquarters":"United Kingdom"},{"id":3624468,"name":"Alpargatas - Havaianas","url":"https://wikirate.org/Alpargatas_Havaianas","headquarters":"Brazil"},{"id":3624718,"name":"Gerry Weber","url":"https://wikirate.org/Gerry_Weber","headquarters":"Germany"},{"id":3624454,"name":"Grendene","url":"https://wikirate.org/Grendene","headquarters":"Brazil"},{"id":48991,"name":"Chow Tai Fook","url":"https://wikirate.org/Chow_Tai_Fook","headquarters":"Hong Kong"},{"id":3624510,"name":"Cia Hering","url":"https://wikirate.org/Cia_Hering","headquarters":"Brazil"},{"id":3624496,"name":"United Arrows","url":"https://wikirate.org/United_Arrows","headquarters":"Japan"},{"id":3624517,"name":"Van de Velde","url":"https://wikirate.org/Van_de_Velde","headquarters":"Belgium"},{"id":2631100,"name":"Vipshop Holdings","url":"https://wikirate.org/Vipshop_Holdings","headquarters":"Guangdong (China)"},{"id":51397,"name":"JC Penney","url":"https://wikirate.org/JC_Penney","headquarters":"Texas (United States)"},{"id":3624433,"name":"Lao Feng Xiang Jewelry","url":"https://wikirate.org/Lao_Feng_Xiang_Jewelry","headquarters":"China"},{"id":3624447,"name":"Steve Madden","url":"https://wikirate.org/Steve_Madden","headquarters":"New York (United States)"},{"id":5294114,"name":"Onward Holdings","url":"https://wikirate.org/Onward_Holdings","headquarters":"Japan"},{"id":3624503,"name":"Metersbonwe","url":"https://wikirate.org/Metersbonwe","headquarters":"Shanghai (China)"},{"id":3624489,"name":"Aditya Birla Fashion & Retail Ltd","url":"https://wikirate.org/Aditya_Birla_Fashion_Retail_Ltd","headquarters":"India"},{"id":3624425,"name":"Semir","url":"https://wikirate.org/Semir","headquarters":"China"},{"id":5294189,"name":"Bosideng International Holdings Limited","url":"https://wikirate.org/Bosideng_International_Holdings_Limited","headquarters":"Shanghai (China)"},{"id":5408890,"name":"Canada Goose","url":"https://wikirate.org/Canada_Goose","headquarters":"Ontario, Canada"},{"id":5424735,"name":"Anta Sports Products","url":"https://wikirate.org/Anta_Sports_Products","headquarters":"Fujian (China)"}]');let S0=(()=>{class e{constructor(){this.companies=sPe,this.exploreMore=new $t(!1)}getCompany(n){return this.companies.find(r=>r.id===n)}getCompanies(){return this.companies.slice().sort((n,i)=>this.compare(n,i))}compare(n,i){return"overview"==n.name?-1:"overview"==i.name?1:n.name.localeCompare(i.name)}setExploreMore(){this.exploreMore.emit(!0),setTimeout(()=>{this.unsetExploreMore()},3e3)}unsetExploreMore(){this.exploreMore.emit(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();function qs(e,t,n,i){return De(n)&&(i=n,n=void 0),i?qs(e,t,n).pipe(wn(r=>E(r)?i(...r):i(r))):new tn(r=>{GX(e,t,function(s){r.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},r,n)})}function GX(e,t,n,i,r){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const s=e;e.addEventListener(t,n,r),o=()=>s.removeEventListener(t,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const s=e;e.on(t,n),o=()=>s.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const s=e;e.addListener(t,n),o=()=>s.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)GX(e[s],t,n,i,r)}i.add(o)}class cPe extends On{constructor(t,n){super()}schedule(t,n=0){return this}}let WX=(()=>{class e{constructor(n,i=e.now){this.SchedulerAction=n,this.now=i}schedule(n,i=0,r){return new this.SchedulerAction(this,n).schedule(r,i)}}return e.now=()=>Date.now(),e})();class Qh extends WX{constructor(t,n=WX.now){super(t,()=>Qh.delegate&&Qh.delegate!==this?Qh.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,n=0,i){return Qh.delegate&&Qh.delegate!==this?Qh.delegate.schedule(t,n,i):super.schedule(t,n,i)}flush(t){const{actions:n}=this;if(this.active)return void n.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}}const $X=new Qh(class extends cPe{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(r,this.id,n),this}requestAsyncId(t,n,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return n;clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,n=this.scheduler,i=n.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null}});function YX(e){return!E(e)&&e-parseFloat(e)+1>=0}function dPe(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}class fPe{call(t,n){return n.subscribe(new hPe(t))}}class hPe extends N3{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,n=t.length;if(0===n)this.destination.complete();else{for(let i=0;i<n&&!this.hasFirst;i++){const o=O3(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(let r=0;r<this.subscriptions.length;r++)if(r!==i){let o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)}}function x2(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),ca(e,void 0).lift(new CPe(t))}new tn(Bf);class CPe{constructor(t){this.resultSelector=t}call(t,n){return n.subscribe(new pPe(t,this.resultSelector))}}class pPe extends dt{constructor(t,n,i=Object.create(null)){super(t),this.resultSelector=n,this.iterators=[],this.active=0,this.resultSelector="function"==typeof n?n:void 0}_next(t){const n=this.iterators;E(t)?n.push(new IPe(t)):n.push("function"==typeof t[hr]?new APe(t[hr]()):new mPe(this.destination,this,t))}_complete(){const t=this.iterators,n=t.length;if(this.unsubscribe(),0!==n){this.active=n;for(let i=0;i<n;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,n=t.length,i=this.destination;for(let s=0;s<n;s++){let a=t[s];if("function"==typeof a.hasValue&&!a.hasValue())return}let r=!1;const o=[];for(let s=0;s<n;s++){let a=t[s],l=a.next();if(a.hasCompleted()&&(r=!0),l.done)return void i.complete();o.push(l.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),r&&i.complete()}_tryresultSelector(t){let n;try{n=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}class APe{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class IPe{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[hr](){return this}next(t){const n=this.index++;return n<this.length?{value:this.array[n],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class mPe extends Vu{constructor(t,n,i){super(t),this.parent=n,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[hr](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return lo(this.observable,new ua(this))}}function Co(e){return t=>t.lift(new yPe(e))}class yPe{constructor(t){this.notifier=t}call(t,n){const i=new bPe(t),r=lo(this.notifier,new ua(i));return r&&!i.seenValue?(i.add(r),n.subscribe(i)):i}}class bPe extends Vu{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function o5(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new EPe(e,n))}}class EPe{constructor(t,n){this.observables=t,this.project=n}call(t,n){return n.subscribe(new xPe(t,this.observables,this.project))}}class xPe extends N3{constructor(t,n,i){super(t),this.observables=n,this.project=i,this.toRespond=[];const r=n.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(O3(this,n[o],void 0,o))}notifyNext(t,n,i){this.values[i]=n;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const n=[t,...this.values];this.project?this._tryProject(n):this.destination.next(n)}}_tryProject(t){let n;try{n=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}class ag{constructor(t,n,i){this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,n,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return i&&i()}}accept(t,n,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,n,i)}toObservable(){switch(this.kind){case"N":return Fn(this.value);case"E":return function(e,t){return new tn(n=>n.error(e))}(this.error);case"C":return a2()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new ag("N",t):ag.undefinedValueNotification}static createError(t){return new ag("E",void 0,t)}static createComplete(){return ag.completeNotification}}function D2(e,t){return new tn(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=zr(e[a]);let u=!1;n.add(l.subscribe({next:c=>{u||(u=!0,s++),r[a]=c},error:c=>n.error(c),complete:()=>{o++,(o===i||!u)&&(s===i&&n.next(t?t.reduce((c,g,d)=>(c[g]=r[d],c),{}):r),n.complete())}}))}})}ag.completeNotification=new ag("C"),ag.undefinedValueNotification=new ag("N",void 0);let QX=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)($(Do),$(ni))},e.\u0275dir=de({type:e}),e})(),DA=(()=>{class e extends QX{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Hs(e)))(i||e)}}(),e.\u0275dir=de({type:e,features:[Mr]}),e})();const Zs=new ti("NgValueAccessor"),LPe={provide:Zs,useExisting:An(()=>S2),multi:!0},jPe=new ti("CompositionEventMode");let S2=(()=>{class e extends QX{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=ld()?ld().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)($(Do),$(ni),$(jPe,8))},e.\u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&Ut("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Xi([LPe]),Mr]}),e})();const Ks=new ti("NgValidators"),eC=new ti("NgAsyncValidators");function uQ(e){return null!=e}function cQ(e){const t=kb(e)?zr(e):e;return cD(t),t}function gQ(e){let t={};return e.forEach(n=>{t=null!=n?Object.assign(Object.assign({},t),n):t}),0===Object.keys(t).length?null:t}function dQ(e,t){return t.map(n=>n(e))}function fQ(e){return e.map(t=>function(e){return!e.validate}(t)?t:n=>t.validate(n))}function a5(e){return null!=e?function(e){if(!e)return null;const t=e.filter(uQ);return 0==t.length?null:function(n){return gQ(dQ(n,t))}}(fQ(e)):null}function l5(e){return null!=e?function(e){if(!e)return null;const t=e.filter(uQ);return 0==t.length?null:function(n){return function(...e){if(1===e.length){const t=e[0];if(E(t))return D2(t,null);if(Jt(t)&&Object.getPrototypeOf(t)===Object.prototype){const n=Object.keys(t);return D2(n.map(i=>t[i]),n)}}if("function"==typeof e[e.length-1]){const t=e.pop();return D2(e=1===e.length&&E(e[0])?e[0]:e,null).pipe(wn(n=>t(...n)))}return D2(e,null)}(dQ(n,t).map(cQ)).pipe(wn(gQ))}}(fQ(e)):null}function pQ(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function u5(e){return e?Array.isArray(e)?e:[e]:[]}function T2(e,t){return Array.isArray(e)?e.includes(t):e===t}function mQ(e,t){const n=u5(t);return u5(e).forEach(r=>{T2(n,r)||n.push(r)}),n}function vQ(e,t){return u5(t).filter(n=>!T2(e,n))}let yQ=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=a5(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=l5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=de({type:e}),e})(),el=(()=>{class e extends yQ{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Hs(e)))(i||e)}}(),e.\u0275dir=de({type:e,features:[Mr]}),e})();class nC extends yQ{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let _Q=(()=>{class e extends class{constructor(t){this._cd=t}is(t){var n,i,r;return"submitted"===t?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)($(nC,2))},e.\u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&$n("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Mr]}),e})();function w1(e,t){(function(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(pQ(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(pQ(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();M2(t._rawValidators,r),M2(t._rawAsyncValidators,r)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&wQ(e,t)})}(e,t),function(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&wQ(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function M2(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function wQ(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function F2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const E1="VALID",P2="INVALID",T0="PENDING",x1="DISABLED";function C5(e){return(A5(e)?e.validators:e)||null}function DQ(e){return Array.isArray(e)?a5(e):e||null}function p5(e,t){return(A5(t)?t.asyncValidators:e)||null}function SQ(e){return Array.isArray(e)?l5(e):e||null}function A5(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class I5{constructor(t,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=DQ(this._rawValidators),this._composedAsyncValidatorFn=SQ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===E1}get invalid(){return this.status===P2}get pending(){return this.status==T0}get disabled(){return this.status===x1}get enabled(){return this.status!==x1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=DQ(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=SQ(t)}addValidators(t){this.setValidators(mQ(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mQ(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vQ(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vQ(t,this._rawAsyncValidators))}hasValidator(t){return T2(this._rawValidators,t)}hasAsyncValidator(t){return T2(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=T0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=x1,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=E1,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===E1||this.status===T0)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x1:E1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=T0,this._hasOwnPendingAsyncValidator=!0;const n=cQ(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=e;return t.forEach(r=>{i=i instanceof m5?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof e3e&&i.at(r)||null}),i}(this,t)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?x1:this.errors?P2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T0)?T0:this._anyControlsHaveStatus(P2)?P2:E1}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A5(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class L2 extends I5{constructor(t=null,n,i){super(C5(n),p5(i,n)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=null,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){F2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){F2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class m5 extends I5{constructor(t,n,i){super(C5(n),p5(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n instanceof L2?n.value:n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const n of Object.keys(this.controls)){const i=this.controls[n];if(this.contains(n)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,n,i)=>((n.enabled||this.disabled)&&(t[i]=n.value),t))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((n,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class e3e extends I5{constructor(t,n,i){super(C5(n),p5(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),n&&(this.controls.splice(t,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t instanceof L2?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((n,i)=>!!i._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((n,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const i3e={provide:nC,useExisting:An(()=>y5)},NQ=(()=>Promise.resolve(null))();let y5=(()=>{class e extends nC{constructor(n,i,r,o){super(),this.control=new L2,this._registered=!1,this.update=new $t,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===S2?n=o:function(e){return Object.getPrototypeOf(e.constructor)===DA}(o)?i=o:r=o}),r||i||n||null}(0,o)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(e,t){return[...t.path,e]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){w1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){NQ.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const i=n.isDisabled.currentValue,r=""===i||i&&"false"!==i;NQ.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(n){return new(n||e)($(el,9),$(Ks,10),$(eC,10),$(Zs,10))},e.\u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xi([i3e]),Mr,mi]}),e})(),MQ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})();const h3e={provide:Zs,useExisting:An(()=>B2),multi:!0};function jQ(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let B2=(()=>{class e extends DA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=this._getOptionId(n);null==i&&this.setProperty("selectedIndex",-1);const r=jQ(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){const i=function(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i):n}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Hs(e)))(i||e)}}(),e.\u0275dir=de({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,i){1&n&&Ut("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xi([h3e]),Mr]}),e})(),x5=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(jQ(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)($(ni),$(Do),$(B2,9))},e.\u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const p3e={provide:Zs,useExisting:An(()=>D5),multi:!0};function VQ(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let D5=(()=>{class e extends DA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let i;if(this.value=n,Array.isArray(n)){const r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{const r=[];if(void 0!==i.selectedOptions){const o=i.selectedOptions;for(let s=0;s<o.length;s++){const a=o.item(s),l=this._getOptionValue(a.value);r.push(l)}}else{const o=i.options;for(let s=0;s<o.length;s++){const a=o.item(s);if(a.selected){const l=this._getOptionValue(a.value);r.push(l)}}}this.value=r,n(r)}}_registerOption(n){const i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){const i=function(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=Hs(e)))(i||e)}}(),e.\u0275dir=de({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,i){1&n&&Ut("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xi([p3e]),Mr]}),e})(),S5=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(VQ(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(VQ(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)($(ni),$(Do),$(D5,9))},e.\u0275dir=de({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),KQ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[MQ]]}),e})(),k5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[KQ]}),e})();const k0=["*"],f5e=["dialog"];function iC(e){return null!=e}function O0(e){return(e||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const JQ={animation:!0,transitionTimerDelayMs:5};let _s=(()=>{class e{constructor(){this.animation=JQ.animation}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ELe=()=>{},{transitionTimerDelayMs:xLe}=JQ,T1=new Map,ss=(e,t,n,i)=>{let r=i.context||{};const o=T1.get(t);if(o)switch(i.runningTransition){case"continue":return yA;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),T1.delete(t)}const s=n(t,i.animation,r)||ELe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>s()),Fn(void 0).pipe(function(e){return t=>new tn(n=>t.subscribe(s=>e.run(()=>n.next(s)),s=>e.run(()=>n.error(s)),()=>e.run(()=>n.complete())))}(e));const a=new yi,l=new yi,u=a.pipe(function(...e){return t=>s2(t,Fn(...e))}(!0));T1.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const c=function(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const g=qs(t,"transitionend").pipe(Co(u),Uo(({target:f})=>f===t));(function(...e){if(1===e.length){if(!E(e[0]))return e[0];e=e[0]}return ca(e,void 0).lift(new fPe)})(function(e=0,t,n){let i=-1;return YX(t)?i=Number(t)<1?1:Number(t):Lu(t)&&(n=t),Lu(n)||(n=$X),new tn(r=>{const o=YX(e)?e:+e-n.now();return n.schedule(dPe,o,{index:0,period:i,subscriber:r})})}(c+xLe).pipe(Co(u)),g,l).pipe(Co(u)).subscribe(()=>{T1.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let rJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),oJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),aJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})(),cJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),gJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})();var gi=(()=>(function(e){e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown"}(gi||(gi={})),gi))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const pJ=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AJ(e){const t=Array.from(e.querySelectorAll(pJ)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,n){return this.getAllStyles(t)[n]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let n=t.offsetParent||document.documentElement;for(;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement}position(t,n=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,n&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,n=!0){const i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return n&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,n,i,r){const[o="top",s="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(n),u=parseFloat(l.marginTop),c=parseFloat(l.marginBottom),g=parseFloat(l.marginLeft),d=parseFloat(l.marginRight);let f=0,h=0;switch(o){case"top":f=a.top-(n.offsetHeight+u+c);break;case"bottom":f=a.top+a.height;break;case"left":h=a.left-(n.offsetWidth+g+d);break;case"right":h=a.left+a.width}switch(s){case"top":f=a.top;break;case"bottom":f=a.top+a.height-n.offsetHeight;break;case"left":h=a.left;break;case"right":h=a.left+a.width-n.offsetWidth;break;case"center":"top"===o||"bottom"===o?h=a.left+a.width/2-n.offsetWidth/2:f=a.top+a.height/2-n.offsetHeight/2}n.style.transform=`translate(${Math.round(h)}px, ${Math.round(f)}px)`;const C=n.getBoundingClientRect(),p=document.documentElement,I=window.innerHeight||p.clientHeight,m=window.innerWidth||p.clientWidth;return C.left>=0&&C.top>=0&&C.right<=m&&C.bottom<=I}},new Date(1882,10,12),new Date(2174,10,25);let DJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu,k5]]}),e})(),Z2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=de({type:e,selectors:[["",8,"navbar"]]}),e})(),kJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})(),NJ=(()=>{class e{constructor(n){this._ngbConfig=n,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(n){this._animation=n}}return e.\u0275fac=function(n){return new(n||e)(ke(_s))},e.\u0275prov=it({factory:function(){return new e(ke(_s))},token:e,providedIn:"root"}),e})();class OA{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}}const _Be=()=>{};let OJ=(()=>{class e{constructor(n){this._document=n}compensate(){const n=this._getWidth();return this._isPresent(n)?this._adjustBody(n):_Be}_adjustBody(n){const i=this._document.body,r=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+n}px`,()=>i.style["padding-right"]=r}_isPresent(n){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=n-.1*n}_getWidth(){const n=this._document.createElement("div");n.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(n);const r=n.getBoundingClientRect().width-n.clientWidth;return i.removeChild(n),r}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi))},e.\u0275prov=it({factory:function(){return new e(ke(Wi))},token:e,providedIn:"root"}),e})(),wBe=(()=>{class e{constructor(n,i){this._el=n,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Qa(1)).subscribe(()=>{ss(this._zone,this._el.nativeElement,(n,i)=>{i&&O0(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ss(this._zone,this._el.nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(n){return new(n||e)($(ni),$(ci))},e.\u0275cmp=w({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(n,i){2&n&&(qc("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),$n("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})();class MJ{close(t){}dismiss(t){}}class EBe{constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new yi,this._dismissed=new yi,this._hidden=new yi,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Co(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Co(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();n&&n.then?n.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Fn(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),x2(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var F1=(()=>(function(e){e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC"}(F1||(F1={})),F1))();let xBe=(()=>{class e{constructor(n,i,r){this._document=n,this._elRef=i,this._zone=r,this._closed$=new yi,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new $t,this.shown=new yi,this.hidden=new yi}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Qa(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=x2(ss(this._zone,n,()=>n.classList.remove("show"),i),ss(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const n={animation:this.animation,runningTransition:"continue"};x2(ss(this._zone,this._elRef.nativeElement,(o,s)=>{s&&O0(o),o.classList.add("show")},n),ss(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{qs(n,"keydown").pipe(Co(this._closed$),Uo(r=>r.which===gi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(F1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;qs(this._dialogEl.nativeElement,"mousedown").pipe(Co(this._closed$),$s(()=>i=!1),sg(()=>qs(n,"mouseup").pipe(Co(this._closed$),Qa(1))),Uo(({target:r})=>n===r)).subscribe(()=>{i=!0}),qs(n,"click").pipe(Co(this._closed$)).subscribe(({target:r})=>{n===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(F1.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const i=n.querySelector("[ngbAutofocus]"),r=AJ(n)[0];(i||r||n).focus()}}_restoreFocus(){const n=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ss(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(n){return new(n||e)($(Wi),$(ni),$(ci))},e.\u0275cmp=w({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,i){if(1&n&&rc(f5e,7),2&n){let r;Mi(r=Ri())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,i){2&n&&(ji("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),qc("modal d-block"+(i.windowClass?" "+i.windowClass:"")),$n("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:k0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,i){1&n&&(function(e){const t=Ze()[16][6];if(!t.projection){const i=t.projection=zh(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?gxe(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),S(0,"div",0,1),S(2,"div",2),function(e,t=0,n){const i=Ze(),r=Ei(),o=Gm(r,20+e,16,null,n||null);null===o.projection&&(o.projection=t),ib(),64!=(64&o.flags)&&function(e,t,n){gW(t[11],0,t,n,tW(e,n,t),oW(n.parent||t[6],n,t))}(r,i,o)}(3),T(),T()),2&n&&qc("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),RJ=(()=>{class e{constructor(n,i,r,o,s,a){this._applicationRef=n,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new yi,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new $t,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{e.runOutsideAngular(()=>{const r=qs(t,"focusin").pipe(Co(n),wn(o=>o.target));qs(t,"keydown").pipe(Co(n),Uo(o=>o.which===gi.Tab),o5(r)).subscribe(([o,s])=>{const[a,l]=AJ(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&qs(t,"click").pipe(Co(n),o5(r),wn(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(n,i,r,o){const s=o.container instanceof HTMLElement?o.container:iC(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const c=new MJ,g=this._getContentRef(n,o.injector||i,r,c,o);let d=!1!==o.backdrop?this._attachBackdrop(n,s):void 0,f=this._attachWindowComponent(n,s,g),h=new EBe(f,g,d,o.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(f),h.result.then(l,l),h.result.then(u,u),c.close=C=>{h.close(C)},c.dismiss=C=>{h.dismiss(C)},this._applyWindowOptions(f.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),d&&d.instance&&(this._applyBackdropOptions(d.instance,o),d.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n,i){let o=n.resolveComponentFactory(wBe).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(n,i,r){let s=n.resolveComponentFactory(xBe).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(n,i){this._windowAttributes.forEach(r=>{iC(i[r])&&(n[r]=i[r])})}_applyBackdropOptions(n,i){this._backdropAttributes.forEach(r=>{iC(i[r])&&(n[r]=i[r])})}_getContentRef(n,i,r,o,s){return r?r instanceof xr?this._createFromTemplateRef(r,o):function(e){return"string"==typeof e}(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new OA([])}_createFromTemplateRef(n,i){const o=n.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new OA([o.rootNodes],o)}_createFromString(n){const i=this._document.createTextNode(`${n}`);return new OA([[i]])}_createFromComponent(n,i,r,o,s){const a=n.resolveComponentFactory(r),l=Di.create({providers:[{provide:MJ,useValue:o}],parent:i}),u=a.create(l),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new OA([[c]],u.hostView,u)}_setAriaHidden(n){const i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const i=()=>{const r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(n){return new(n||e)(ke(eg),ke(Di),ke(Wi),ke(OJ),ke(Mf),ke(ci))},e.\u0275prov=it({factory:function(){return new e(ke(eg),ke(Wh),ke(Wi),ke(OJ),ke(Mf),ke(ci))},token:e,providedIn:"root"}),e})(),FJ=(()=>{class e{constructor(n,i,r,o){this._moduleCFR=n,this._injector=i,this._modalStack=r,this._config=o}open(n,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(n){return new(n||e)(ke(hu),ke(Di),ke(RJ),ke(NJ))},e.\u0275prov=it({factory:function(){return new e(ke(hu),ke(Wh),ke(RJ),ke(NJ))},token:e,providedIn:"root"}),e})(),PJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:[FJ]}),e})(),VJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),qJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),XJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),QJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),JJ=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),iee=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),ree=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})(),oee=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({}),e})();new ti("live announcer delay",{providedIn:"root",factory:function(){return 100}});let lee=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[[pu]]}),e})();const u8e=[rJ,oJ,aJ,cJ,gJ,DJ,kJ,PJ,VJ,qJ,XJ,QJ,JJ,iee,ree,oee,lee];let c8e=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({imports:[u8e,rJ,oJ,aJ,cJ,gJ,DJ,kJ,PJ,VJ,qJ,XJ,QJ,JJ,iee,ree,oee,lee]}),e})();function g8e(e,t){if(1&e){const n=vr();S(0,"div",21),S(1,"h4",22),me(2,"Explore the Data!"),T(),S(3,"button",23),Ut("click",function(){return ui(n).dismiss()}),S(4,"span",24),me(5,"\xd7"),T(),T(),T(),S(6,"div",25),S(7,"h1"),je(8,"i",26),T(),S(9,"p"),me(10,"To explore more how the biggest apparel companies are behaving, you can search by company name and year from the top right menu. "),T(),T(),S(11,"div",27),S(12,"button",28),Ut("click",function(){const o=ui(n).dismiss,s=st();return o(),s.onExploreMore()}),me(13,"OK"),T(),T()}}let d8e=(()=>{class e{constructor(n,i){this.apparelService=n,this.modalService=i,this.logos=oPe.U,this.selectedLogos=[]}ngOnInit(){this.selectedLogos=[];for(var n=0;n<=5;n++){let i="";do{i=this.logos[this.getRandomInt(20)]}while(this.selectedLogos.includes(i));this.selectedLogos.push(i)}}open(n){this.modalService.open(n)}onExploreMore(){this.apparelService.setExploreMore()}getRandomInt(n){return Math.floor(Math.random()*n)}}return e.\u0275fac=function(n){return new(n||e)($(S0),$(FJ))},e.\u0275cmp=w({type:e,selectors:[["intro"]],decls:37,vars:10,consts:[[1,"intro","wikirate-creme-tile-box"],[1,"wikirate-container"],[1,"row"],[1,"col-md-8","nopadding"],[1,"subtitle","call-to-action-title"],[1,"main-text"],[1,"menu-button","mt-3"],[1,"btn","btn-highlight","m-1","btn-lg",3,"click"],["mymodal",""],[1,"col-md-4"],[1,"wikirate-box"],[1,"wikirate-container","align-content-center"],[1,"row","justify-content-md-center"],[1,"mini-title","mb-2","col-8"],[1,"mini-text","col-8"],[1,"logo-1","d-block","corporate-logo-xl","rounded-circle","p-3","bg-white","shadow-lg","ml-auto"],[1,"logo-img",3,"src"],[1,"logo-2","d-block","corporate-logo-xl","bg-white","rounded-circle","shadow-lg","p-3","ms-auto"],[1,"logo-3","d-block","corporate-logo-xl","rounded-circle","p-3","bg-white","shadow-lg","ml-auto"],[1,"logo-4","d-block","corporate-logo-xl","rounded-circle","p-3","bg-white","shadow-lg","ml-auto"],[1,"logo-5","d-block","corporate-logo-xl","bg-white","rounded-circle","shadow-lg","p-3","ms-auto"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center","m-2"],[1,"bi","bi-clipboard-data"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(n,i){if(1&n){const r=vr();S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),S(4,"div",4),me(5," What does transparency mean for the largest 100 apparel companies? "),T(),je(6,"br"),S(7,"div",5),me(8," This case study compiles new and existing information on the top 100 Apparel companies' supply chain transparency and ESG data. It builds a picture of what we know and what we don't. "),T(),S(9,"div",6),S(10,"button",7),Ut("click",function(){ui(r);const s=function(e){return Bh(bn.lFrame.contextLView,20+e)}(13);return i.open(s)}),me(11,"Explore the Data"),T(),et(12,g8e,14,0,"ng-template",null,8,vs),T(),T(),je(14,"div",9),T(),je(15,"br"),je(16,"br"),T(),T(),S(17,"div",10),S(18,"div",11),S(19,"div",12),S(20,"div",13),me(21,"The top 100 apparel companies: a case study"),T(),S(22,"div",14),S(23,"p"),me(24,"Apparel is a sector that has made significant steps in terms of transparency over the past decades. It's one of the sectors that shares comparatively a lot of sustainability data."),T(),S(25,"p"),me(26,"But, given the sector's size and worldwide impact, we know relatively little. To achieve the SDGs, for example, we need to know more; much more."),T(),T(),T(),T(),T(),S(27,"div",15),je(28,"img",16),T(),S(29,"div",17),je(30,"img",16),T(),S(31,"div",18),je(32,"img",16),T(),S(33,"div",19),je(34,"img",16),T(),S(35,"div",20),je(36,"img",16),T()}2&n&&(Me(27),He("@slide-in",void 0),Me(1),$h("src",i.selectedLogos[0],Ju),Me(1),He("@slide-in-delay-sm",void 0),Me(1),$h("src",i.selectedLogos[1],Ju),Me(1),He("@slide-in-delay-md",void 0),Me(1),$h("src",i.selectedLogos[2],Ju),Me(1),He("@slide-in-delay-lg",void 0),Me(1),$h("src",i.selectedLogos[3],Ju),Me(1),He("@slide-in-delay-xl",void 0),Me(1),$h("src",i.selectedLogos[4],Ju))},styles:[".intro[_ngcontent-%COMP%]{min-height:600px;display:flex;align-items:center}.subtitle[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:2.75rem;line-height:135%;color:#484c9d;max-width:600px}.main-text[_ngcontent-%COMP%]{font-style:normal;font-weight:normal;font-size:1.25rem;color:#34343b;line-height:155%;margin-bottom:30px;max-width:600px}.corporate-logo-xl[_ngcontent-%COMP%]{height:5.25rem;width:5.25rem;position:relative}.corporate-logo-sm[_ngcontent-%COMP%]{height:4.25rem;width:4.25rem;position:relative}.logo-1[_ngcontent-%COMP%]{position:absolute;left:80%;right:20%;top:10em}.logo-2[_ngcontent-%COMP%]{position:absolute;left:62%;right:38%;top:15em}.logo-3[_ngcontent-%COMP%]{position:absolute;left:75%;right:25%;top:25em}.logo-4[_ngcontent-%COMP%]{position:absolute;left:82%;right:18%;top:34em}.logo-5[_ngcontent-%COMP%]{position:absolute;left:65%;right:35%;top:40em}"],data:{animation:[y1("slide-in",[_1(":enter",[uc({opacity:0,transform:"translateY(50px)"}),b1("600ms 50ms",uc({opacity:1,transform:"translateY(0)"}))])]),y1("slide-in-delay-sm",[_1(":enter",[uc({opacity:0,transform:"translateY(50px)"}),b1("600ms 150ms",uc({opacity:1,transform:"translateY(0)"}))])]),y1("slide-in-delay-md",[_1(":enter",[uc({opacity:0,transform:"translateY(50px)"}),b1("600ms 250ms",uc({opacity:1,transform:"translateY(0)"}))])]),y1("slide-in-delay-lg",[_1(":enter",[uc({opacity:0,transform:"translateY(50px)"}),b1("600ms 350ms",uc({opacity:1,transform:"translateY(0)"}))])]),y1("slide-in-delay-xl",[_1(":enter",[uc({opacity:0,transform:"translateY(50px)"}),b1("600ms 450ms",uc({opacity:1,transform:"translateY(0)"}))])])]}}),e})();var f8e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h8e=Object.prototype.hasOwnProperty;function Q2(e,t){return h8e.call(e,t)}function Y5(e){if(Array.isArray(e)){for(var n=new Array(e.length),t=0;t<n.length;t++)n[t]=""+t;return n}if(Object.keys)return Object.keys(e);for(var i in n=[],e)Q2(e,i)&&n.push(i);return n}function Iu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function q5(e){for(var i,t=0,n=e.length;t<n;){if(!((i=e.charCodeAt(t))>=48&&i<=57))return!1;t++}return!0}function Hf(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function uee(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Z5(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Z5(e[t]))return!0}else if("object"==typeof e){var i=Y5(e),r=i.length;for(t=0;t<r;t++)if(Z5(e[i[t]]))return!0}return!1}function gee(e,t){var n=[e];for(var i in t){var r="object"==typeof t[i]?JSON.stringify(t[i],null,2):t[i];void 0!==r&&n.push(i+": "+r)}return n.join("\n")}var dee=function(e){function t(n,i,r,o,s){var a=this.constructor,l=e.call(this,gee(n,{name:i,index:r,operation:o,tree:s}))||this;return l.name=i,l.index=r,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=gee(n,{name:i,index:r,operation:o,tree:s}),l}return f8e(t,e),t}(Error),Ao=dee,C8e=Iu,P0={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,t,n){var i=J2(n,this.path);i&&(i=Iu(i));var r=MA(n,{op:"remove",path:this.from}).removed;return MA(n,{op:"add",path:this.path,value:r}),{newDocument:n,removed:i}},copy:function(e,t,n){var i=J2(n,this.from);return MA(n,{op:"add",path:this.path,value:Iu(i)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:P1(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},p8e={add:function(e,t,n){return q5(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:P0.move,copy:P0.copy,test:P0.test,_get:P0._get};function J2(e,t){if(""==t)return e;var n={op:"_get",path:t};return MA(e,n),n.value}function MA(e,t,n,i,r,o){if(void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):tS(t,0)),""===t.path){var s={newDocument:e};if("add"===t.op)return s.newDocument=t.value,s;if("replace"===t.op)return s.newDocument=t.value,s.removed=e,s;if("move"===t.op||"copy"===t.op)return s.newDocument=J2(e,t.from),"move"===t.op&&(s.removed=e),s;if("test"===t.op){if(s.test=P1(e,t.value),!1===s.test)throw new Ao("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}if("remove"===t.op)return s.removed=e,s.newDocument=null,s;if("_get"===t.op)return t.value=e,s;if(n)throw new Ao("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}i||(e=Iu(e));var l=(t.path||"").split("/"),u=e,c=1,g=l.length,d=void 0,f=void 0,h=void 0;for(h="function"==typeof n?n:tS;;){if((f=l[c])&&-1!=f.indexOf("~")&&(f=uee(f)),r&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===d&&(void 0===u[f]?d=l.slice(0,c).join("/"):c==g-1&&(d=t.path),void 0!==d&&h(t,0,e,d)),c++,Array.isArray(u)){if("-"===f)f=u.length;else{if(n&&!q5(f))throw new Ao("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);q5(f)&&(f=~~f)}if(c>=g){if(n&&"add"===t.op&&f>u.length)throw new Ao("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(s=p8e[t.op].call(t,u,f,e)).test)throw new Ao("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=g){if(!1===(s=P0[t.op].call(t,u,f,e)).test)throw new Ao("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[f],n&&c<g&&(!u||"object"!=typeof u))throw new Ao("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function eS(e,t,n,i,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),n&&!Array.isArray(t))throw new Ao("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=Iu(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=MA(e,t[s],n,!0,r,s),e=o[s].newDocument;return o.newDocument=e,o}function A8e(e,t,n){var i=MA(e,t);if(!1===i.test)throw new Ao("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return i.newDocument}function tS(e,t,n,i){if("object"!=typeof e||null===e||Array.isArray(e))throw new Ao("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!P0[e.op])throw new Ao("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new Ao("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Ao('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Ao("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Ao("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Z5(e.value))throw new Ao("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var r=e.path.split("/").length,o=i.split("/").length;if(r!==o+1&&r!==o)throw new Ao("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new Ao("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=fee([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new Ao("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function fee(e,t,n){try{if(!Array.isArray(e))throw new Ao("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)eS(Iu(t),Iu(e),n||!0);else{n=n||tS;for(var i=0;i<e.length;i++)n(e[i],i,t,void 0)}}catch(r){if(r instanceof Ao)return r;throw r}}function P1(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,o,s,n=Array.isArray(e),i=Array.isArray(t);if(n&&i){if((o=e.length)!=t.length)return!1;for(r=o;0!=r--;)if(!P1(e[r],t[r]))return!1;return!0}if(n!=i)return!1;var a=Object.keys(e);if((o=a.length)!==Object.keys(t).length)return!1;for(r=o;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=o;0!=r--;)if(!P1(e[s=a[r]],t[s]))return!1;return!0}return e!=e&&t!=t}var K5=new WeakMap,I8e=function(t){this.observers=new Map,this.obj=t},m8e=function(t,n){this.callback=t,this.observer=n};function _8e(e,t){t.unobserve()}function w8e(e,t){var i,r=function(e){return K5.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);i=o&&o.observer}else r=new I8e(e),K5.set(e,r);if(i)return i;if(i={},r.value=Iu(e),t){i.callback=t,i.next=null;var s=function(){X5(i)},a=function(){clearTimeout(i.next),i.next=setTimeout(s)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return i.patches=[],i.object=e,i.unobserve=function(){X5(i),clearTimeout(i.next),function(e,t){e.observers.delete(t.callback)}(r,i),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new m8e(t,i)),i}function X5(e,t){void 0===t&&(t=!1);var n=K5.get(e.object);Q5(n.value,e.object,e.patches,"",t),e.patches.length&&eS(n.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function Q5(e,t,n,i,r){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=Y5(t),s=Y5(e),l=!1,u=s.length-1;u>=0;u--){var g=e[c=s[u]];if(!Q2(t,c)||void 0===t[c]&&void 0!==g&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:"test",path:i+"/"+Hf(c),value:Iu(g)}),n.push({op:"remove",path:i+"/"+Hf(c)}),l=!0):(r&&n.push({op:"test",path:i,value:e}),n.push({op:"replace",path:i,value:t}));else{var d=t[c];"object"==typeof g&&null!=g&&"object"==typeof d&&null!=d&&Array.isArray(g)===Array.isArray(d)?Q5(g,d,n,i+"/"+Hf(c),r):g!==d&&(r&&n.push({op:"test",path:i+"/"+Hf(c),value:Iu(g)}),n.push({op:"replace",path:i+"/"+Hf(c),value:Iu(d)}))}}if(l||o.length!=s.length)for(u=0;u<o.length;u++){var c;!Q2(e,c=o[u])&&void 0!==t[c]&&n.push({op:"add",path:i+"/"+Hf(c),value:Iu(t[c])})}}}function E8e(e,t,n){void 0===n&&(n=!1);var i=[];return Q5(e,t,i,"",n),i}Object.assign({},ue,fe,{JsonPatchError:dee,deepClone:Iu,escapePathComponent:Hf,unescapePathComponent:uee});var x8e=U(5328),J5=U.n(x8e),hee=U(8772);function Nl(e,t,n){return e.fields=t||[],e.fname=n,e}function Io(e){return null==e?null:e.fname}function Ia(e){return null==e?null:e.fields}function Cee(e){return 1===e.length?D8e(e[0]):S8e(e)}const D8e=e=>function(t){return t[e]},S8e=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};function Be(e){throw Error(e)}function nS(e){const t=[],n=e.length;let s,a,l,i=null,r=0,o="";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(e+="",s=a=0;a<n;++a)if(l=e[a],"\\"===l)o+=e.substring(s,a),o+=e.substring(++a,++a),s=a;else if(l===i)u(),i=null,r=-1;else{if(i)continue;s===r&&'"'===l||s===r&&"'"===l?(s=a+1,i=l):"."!==l||r?"["===l?(a>s&&u(),r=s=a+1):"]"===l&&(r||Be("Access path missing open bracket: "+e),r>0&&u(),r=0,s=a+1):a>s?u():s=a+1}return r&&Be("Access path missing closing bracket: "+e),i&&Be("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Ol(e,t,n){const i=nS(e);return e=1===i.length?i[0]:e,Nl((n&&n.get||Cee)(i),[e],t||e)}const L1=Ol("id"),tl=Nl(e=>e,[],"identity"),oC=Nl(()=>0,[],"zero"),L0=Nl(()=>1,[],"one"),cc=Nl(()=>!0,[],"true"),sC=Nl(()=>!1,[],"false");function T8e(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}const pee=0,eL=1,Aee=2,Iee=3,mee=4;function vee(e,t,n=T8e){let i=e||pee;return{level(r){return arguments.length?(i=+r,this):i},error(){return i>=eL&&n(t||"error","ERROR",arguments),this},warn(){return i>=Aee&&n(t||"warn","WARN",arguments),this},info(){return i>=Iee&&n(t||"log","INFO",arguments),this},debug(){return i>=mee&&n(t||"log","DEBUG",arguments),this}}}var rn=Array.isArray;function Un(e){return e===Object(e)}const yee=e=>"__proto__"!==e;function iS(...e){return e.reduce((t,n)=>{for(const i in n)"signals"===i?t.signals=k8e(t.signals,n.signals):B1(t,i,n[i],"legend"===i?{layout:1}:"style"===i||null);return t},{})}function B1(e,t,n,i){if(!yee(t))return;let r,o;if(Un(n)&&!rn(n))for(r in o=Un(e[t])?e[t]:e[t]={},n)i&&(!0===i||i[r])?B1(o,r,n[r]):yee(r)&&(o[r]=n[r]);else e[t]=n}function k8e(e,t){if(null==e)return t;const n={},i=[];function r(o){n[o.name]||(n[o.name]=1,i.push(o))}return t.forEach(r),e.forEach(r),i}function Fi(e){return e[e.length-1]}function ma(e){return null==e||""===e?null:+e}const bee=e=>t=>e*Math.exp(t),_ee=e=>t=>Math.log(e*t),wee=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),Eee=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,rS=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function oS(e,t,n,i){const r=n(e[0]),o=n(Fi(e)),s=(o-r)*t;return[i(r-s),i(o-s)]}function xee(e,t){return oS(e,t,ma,tl)}function Dee(e,t){var n=Math.sign(e[0]);return oS(e,t,_ee(n),bee(n))}function See(e,t,n){return oS(e,t,rS(n),rS(1/n))}function Tee(e,t,n){return oS(e,t,wee(n),Eee(n))}function sS(e,t,n,i,r){const o=i(e[0]),s=i(Fi(e)),a=null!=t?i(t):(o+s)/2;return[r(a+(o-a)*n),r(a+(s-a)*n)]}function tL(e,t,n){return sS(e,t,n,ma,tl)}function nL(e,t,n){const i=Math.sign(e[0]);return sS(e,t,n,_ee(i),bee(i))}function aS(e,t,n,i){return sS(e,t,n,rS(i),rS(1/i))}function iL(e,t,n,i){return sS(e,t,n,wee(i),Eee(i))}function kee(e){return 1+~~(new Date(e).getMonth()/3)}function Nee(e){return 1+~~(new Date(e).getUTCMonth()/3)}function _n(e){return null!=e?rn(e)?e:[e]:[]}function Oee(e,t,n){let o,i=e[0],r=e[1];return r<i&&(o=r,r=i,i=o),o=r-i,o>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-o),i+o]}function si(e){return"function"==typeof e}function rL(e,t,n){n=n||{},t=_n(t)||[];const i=[],r=[],o={},s=n.comparator||O8e;return _n(e).forEach((a,l)=>{null!=a&&(i.push("descending"===t[l]?-1:1),r.push(a=si(a)?a:Ol(a,null,n)),(Ia(a)||[]).forEach(u=>o[u]=1))}),0===r.length?null:Nl(s(r,i),Object.keys(o))}const lS=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),O8e=(e,t)=>1===e.length?M8e(e[0],t[0]):R8e(e,t,e.length),M8e=(e,t)=>function(n,i){return lS(e(n),e(i))*t},R8e=(e,t,n)=>(t.push(0),function(i,r){let o,s=0,a=-1;for(;0===s&&++a<n;)o=e[a],s=lS(o(i),o(r));return s*t[a]});function va(e){return si(e)?e:()=>e}function oL(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout(()=>(t(i),n=null),e)}}function ii(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e}function gd(e,t){let i,r,o,s,n=0;if(e&&(i=e.length))if(null==t){for(r=e[n];n<i&&(null==r||r!=r);r=e[++n]);for(o=s=r;n<i;++n)r=e[n],null!=r&&(r<o&&(o=r),r>s&&(s=r))}else{for(r=t(e[n]);n<i&&(null==r||r!=r);r=t(e[++n]));for(o=s=r;n<i;++n)r=t(e[n]),null!=r&&(r<o&&(o=r),r>s&&(s=r))}return[o,s]}function Mee(e,t){const n=e.length;let r,o,s,a,l,i=-1;if(null==t){for(;++i<n;)if(o=e[i],null!=o&&o>=o){r=s=o;break}if(i===n)return[-1,-1];for(a=l=i;++i<n;)o=e[i],null!=o&&(r>o&&(r=o,a=i),s<o&&(s=o,l=i))}else{for(;++i<n;)if(o=t(e[i],i,e),null!=o&&o>=o){r=s=o;break}if(i===n)return[-1,-1];for(a=l=i;++i<n;)o=t(e[i],i,e),null!=o&&(r>o&&(r=o,a=i),s<o&&(s=o,l=i))}return[a,l]}const F8e=Object.prototype.hasOwnProperty;function Sn(e,t){return F8e.call(e,t)}const uS={};function B0(e){let n,t={};function i(o){return Sn(t,o)&&t[o]!==uS}const r={size:0,empty:0,object:t,has:i,get:o=>i(o)?t[o]:void 0,set(o,s){return i(o)||(++r.size,t[o]===uS&&--r.empty),t[o]=s,this},delete(o){return i(o)&&(--r.size,++r.empty,t[o]=uS),this},clear(){r.size=r.empty=0,r.object=t={}},test(o){return arguments.length?(n=o,r):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==uS&&(!n||!n(l))&&(o[a]=l,++s)}r.size=s,r.empty=0,r.object=t=o}};return e&&Object.keys(e).forEach(o=>{r.set(o,e[o])}),r}function Ree(e,t,n,i,r,o){if(!n&&0!==n)return o;const s=+n;let u,a=e[0],l=Fi(e);l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?i:c<=s?r:o}function gt(e,t,n){const i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ii(i,n)}function j0(e,t,n,i){let s,r=t[0],o=t[t.length-1];return r>o&&(s=r,r=o,o=s),i=void 0===i||i,((n=void 0===n||n)?r<=e:r<e)&&(i?e<=o:e<o)}function sL(e){return"boolean"==typeof e}function aC(e){return"[object Date]"===Object.prototype.toString.call(e)}function Fee(e){return e&&si(e[Symbol.iterator])}function lC(e){return"number"==typeof e}function Pee(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function $i(e){return"string"==typeof e}function aL(e,t,n){e&&(e=t?_n(e).map(a=>a.replace(/\\(.)/g,"$1")):_n(e));const i=e&&e.length,r=n&&n.get||Cee,o=a=>r(t?[a]:nS(a));let s;if(i)if(1===i){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<i;)u+="|"+a[c](l);return u}}else s=function(){return""};return Nl(s,e,"key")}function Lee(e,t){const n=e[0],i=Fi(e),r=+t;return r?1===r?i:n+r*(i-n):n}function Bee(e){let t,n,i;e=+e||1e4;const r=()=>{t={},n={},i=0},o=(s,a)=>(++i>e&&(n=t,t={},i=1),t[s]=a);return r(),{clear:r,has:s=>Sn(t,s)||Sn(n,s),get:s=>Sn(t,s)?t[s]:Sn(n,s)?o(s,n[s]):void 0,set:(s,a)=>Sn(t,s)?t[s]=a:o(s,a)}}function jee(e,t,n,i){const r=t.length,o=n.length;if(!o)return t;if(!r)return n;const s=i||new t.constructor(r+o);let a=0,l=0,u=0;for(;a<r&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<r;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function j1(e,t){let n="";for(;--t>=0;)n+=e;return n}function Vee(e,t,n,i){const r=n||" ",o=e+"",s=t-o.length;return s<=0?o:"left"===i?j1(r,s)+o:"center"===i?j1(r,~~(s/2))+o+j1(r,Math.ceil(s/2)):o+j1(r,s)}function V1(e){return e&&Fi(e)-e[0]||0}function hn(e){return rn(e)?"["+e.map(hn)+"]":Un(e)||$i(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function lL(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const L8e=e=>lC(e)||aC(e)?e:Date.parse(e);function uL(e,t){return t=t||L8e,null==e||""===e?null:t(e)}function cL(e){return null==e||""===e?null:e+""}function ug(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}function zee(e,t,n,i){const r=null!=i?i:"\u2026",o=e+"",s=o.length,a=Math.max(0,t-r.length);return s<=t?o:"left"===n?r+o.slice(s-a):"center"===n?o.slice(0,Math.ceil(a/2))+r+o.slice(s-~~(a/2)):o.slice(0,a)+r}function uC(e,t,n){if(e)if(t){const i=e.length;for(let r=0;r<i;++r){const o=t(e[r]);o&&n(o,r,e)}}else e.forEach(n)}function Hee(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(i,r)}function nl(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(l){Hee(o,i,r,s,a,"next",l)}function a(l){Hee(o,i,r,s,a,"throw",l)}s(void 0)})}}var Uee={},gL={};function Gee(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Wee(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function Ml(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function z8e(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(g,d){var I,f=[],h=g.length,C=0,p=0,m=h<=0,y=!1;function _(){if(m)return gL;if(y)return y=!1,Uee;var O,M,k=C;if(34===g.charCodeAt(k)){for(;C++<h&&34!==g.charCodeAt(C)||34===g.charCodeAt(++C););return(O=C)>=h?m=!0:10===(M=g.charCodeAt(C++))?y=!0:13===M&&(y=!0,10===g.charCodeAt(C)&&++C),g.slice(k+1,O-1).replace(/""/g,'"')}for(;C<h;){if(10===(M=g.charCodeAt(O=C++)))y=!0;else if(13===M)y=!0,10===g.charCodeAt(C)&&++C;else if(M!==n)continue;return g.slice(k,O)}return m=!0,g.slice(k,h)}for(10===g.charCodeAt(h-1)&&--h,13===g.charCodeAt(h-1)&&--h;(I=_())!==gL;){for(var N=[];I!==Uee&&I!==gL;)N.push(I),I=_();d&&null==(N=d(N,p++))||f.push(N)}return f}function o(g,d){return g.map(function(f){return d.map(function(h){return c(f[h])}).join(e)})}function u(g){return g.map(c).join(e)}function c(g){return null==g?"":g instanceof Date?function(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Ml(-e,6):e>9999?"+"+Ml(e,6):Ml(e,4)}(e.getUTCFullYear())+"-"+Ml(e.getUTCMonth()+1,2)+"-"+Ml(e.getUTCDate(),2)+(r?"T"+Ml(t,2)+":"+Ml(n,2)+":"+Ml(i,2)+"."+Ml(r,3)+"Z":i?"T"+Ml(t,2)+":"+Ml(n,2)+":"+Ml(i,2)+"Z":n||t?"T"+Ml(t,2)+":"+Ml(n,2)+"Z":"")}(g):t.test(g+="")?'"'+g.replace(/"/g,'""')+'"':g}return{parse:function(g,d){var f,h,C=r(g,function(p,I){if(f)return f(p,I-1);h=p,f=d?function(e,t){var n=Gee(e);return function(i,r){return t(n(i),r,e)}}(p,d):Gee(p)});return C.columns=h||[],C},parseRows:r,format:function(g,d){return null==d&&(d=Wee(g)),[d.map(c).join(e)].concat(o(g,d)).join("\n")},formatBody:function(g,d){return null==d&&(d=Wee(g)),o(g,d).join("\n")},formatRows:function(g){return g.map(u).join("\n")},formatRow:u,formatValue:c}}function U8e(e){return e}function W8e(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(n){return $ee(e,n)})}:$ee(e,t)}function $ee(e,t){var n=t.id,i=t.bbox,r=null==t.properties?{}:t.properties,o=Yee(e,t);return null==n&&null==i?{type:"Feature",properties:r,geometry:o}:null==i?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:i,properties:r,geometry:o}}function Yee(e,t){var n=function(e){if(null==e)return U8e;var t,n,i=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,g=new Array(c);for(g[0]=(t+=a[0])*i+o,g[1]=(n+=a[1])*r+s;u<c;)g[u]=a[u],++u;return g}}(e.transform),i=e.arcs;function r(c,g){g.length&&g.pop();for(var d=i[c<0?~c:c],f=0,h=d.length;f<h;++f)g.push(n(d[f],f));c<0&&function(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}(g,h)}function o(c){return n(c)}function s(c){for(var g=[],d=0,f=c.length;d<f;++d)r(c[d],g);return g.length<2&&g.push(g[0]),g}function a(c){for(var g=s(c);g.length<4;)g.push(g[0]);return g}function l(c){return c.map(a)}return function u(c){var d,g=c.type;switch(g){case"GeometryCollection":return{type:g,geometries:c.geometries.map(u)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=l(c.arcs);break;case"MultiPolygon":d=c.arcs.map(l);break;default:return null}return{type:g,coordinates:d}}(t)}function $8e(e,t){var n={},i={},r={},o=[],s=-1;function l(u,c){for(var g in u){var d=u[g];delete c[d.start],delete d.start,delete d.end,d.forEach(function(f){n[f<0?~f:f]=1}),o.push(d)}}return t.forEach(function(u,c){var d,g=e.arcs[u<0?~u:u];g.length<3&&!g[1][0]&&!g[1][1]&&(d=t[++s],t[s]=u,t[c]=d)}),t.forEach(function(u){var f,h,c=function(u){var d,c=e.arcs[u<0?~u:u],g=c[0];return e.transform?(d=[0,0],c.forEach(function(f){d[0]+=f[0],d[1]+=f[1]})):d=c[c.length-1],u<0?[d,g]:[g,d]}(u),g=c[0],d=c[1];if(f=r[g])if(delete r[f.end],f.push(u),f.end=d,h=i[d]){delete i[h.start];var C=h===f?f:f.concat(h);i[C.start=f.start]=r[C.end=h.end]=C}else i[f.start]=r[f.end]=f;else if(f=i[d])if(delete i[f.start],f.unshift(u),f.start=g,h=r[g]){delete r[h.end];var p=h===f?f:h.concat(f);i[p.start=h.start]=r[p.end=f.end]=p}else i[f.start]=r[f.end]=f;else i[(f=[u]).start=g]=r[f.end=d]=f}),l(r,i),l(i,r),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function Y8e(e){return Yee(e,q8e.apply(this,arguments))}function q8e(e,t,n){var i,r,o;if(arguments.length>1)i=Z8e(0,t,n);else for(r=0,i=new Array(o=e.arcs.length);r<o;++r)i[r]=r;return{type:"MultiLineString",arcs:$8e(e,i)}}function Z8e(e,t,n){var o,i=[],r=[];function s(g){var d=g<0?~g:g;(r[d]||(r[d]=[])).push({i:g,g:o})}function a(g){g.forEach(s)}function l(g){g.forEach(a)}return function c(g){switch(o=g,g.type){case"GeometryCollection":g.geometries.forEach(c);break;case"LineString":a(g.arcs);break;case"MultiLineString":case"Polygon":l(g.arcs);break;case"MultiPolygon":!function(g){g.forEach(l)}(g.arcs)}}(t),r.forEach(null==n?function(g){i.push(g[0].i)}:function(g){n(g[0].g,g[g.length-1].g)&&i.push(g[0].i)}),i}var hL=Math.sqrt(50),CL=Math.sqrt(10),pL=Math.sqrt(2);function AL(e,t,n){var i,o,s,a,r=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(a=qee(e,t,n))||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),u=Math.round(t/a);for(l*a<e&&++l,u*a>t&&--u,s=new Array(o=u-l+1);++r<o;)s[r]=(l+r)*a}else{a=-a;let l=Math.round(e*a),u=Math.round(t*a);for(l/a<e&&++l,u/a>t&&--u,s=new Array(o=u-l+1);++r<o;)s[r]=(l+r)/a}return i&&s.reverse(),s}function qee(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=hL?10:o>=CL?5:o>=pL?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=hL?10:o>=CL?5:o>=pL?2:1)}function cC(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=hL?r*=10:o>=CL?r*=5:o>=pL&&(r*=2),t<e?-r:r}var Qee,K8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function V0(e){if(!(t=K8e.exec(e)))throw new Error("invalid format: "+e);var t;return new IL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function IL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function z0(e){return(e=cS(Math.abs(e)))?e[1]:NaN}function Zee(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(z0(t)/3)))-z0(Math.abs(e)))}function Kee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,z0(t)-z0(e))+1}function Xee(e){return Math.max(0,-z0(Math.abs(e)))}function Jee(e,t){var n=cS(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}V0.prototype=IL.prototype,IL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ete={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Jee(100*e,t),r:Jee,s:function(e,t){var n=cS(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Qee=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+cS(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tte(e){return e}var gS,dS,mL,nte=Array.prototype.map,ite=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rte(e){var t=void 0===e.grouping||void 0===e.thousands?tte:function(e,t){return function(n,i){for(var r=n.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}(nte.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?tte:function(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}(nte.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function u(g){var d=(g=V0(g)).fill,f=g.align,h=g.sign,C=g.symbol,p=g.zero,I=g.width,m=g.comma,y=g.precision,_=g.trim,N=g.type;"n"===N?(m=!0,N="g"):ete[N]||(void 0===y&&(y=12),_=!0,N="g"),(p||"0"===d&&"="===f)&&(p=!0,d="0",f="=");var O="$"===C?n:"#"===C&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k="$"===C?i:/[%p]/.test(N)?s:"",M=ete[N],V=/[defgprs%]/.test(N);function z(H){var _e,ae,le,ee=O,se=k;if("c"===N)se=M(H)+se,H="";else{var q=(H=+H)<0||1/H<0;if(H=isNaN(H)?l:M(Math.abs(H),y),_&&(H=function(e){e:for(var r,t=e.length,n=1,i=-1;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":0===i&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(r+1):e}(H)),q&&0==+H&&"+"!==h&&(q=!1),ee=(q?"("===h?h:a:"-"===h||"("===h?"":h)+ee,se=("s"===N?ite[8+Qee/3]:"")+se+(q&&"("===h?")":""),V)for(_e=-1,ae=H.length;++_e<ae;)if(48>(le=H.charCodeAt(_e))||le>57){se=(46===le?r+H.slice(_e+1):H.slice(_e))+se,H=H.slice(0,_e);break}}m&&!p&&(H=t(H,1/0));var te=ee.length+H.length+se.length,Te=te<I?new Array(I-te+1).join(d):"";switch(m&&p&&(H=t(Te+H,Te.length?I-se.length:1/0),Te=""),f){case"<":H=ee+H+se+Te;break;case"=":H=ee+Te+H+se;break;case"^":H=Te.slice(0,te=Te.length>>1)+ee+H+se+Te.slice(te);break;default:H=Te+ee+H+se}return o(H)}return y=void 0===y?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),z.toString=function(){return g+""},z}return{format:u,formatPrefix:function(g,d){var f=u(((g=V0(g)).type="f",g)),h=3*Math.max(-8,Math.min(8,Math.floor(z0(d)/3))),C=Math.pow(10,-h),p=ite[8+h/3];return function(I){return f(C*I)+p}}}}gS=rte({thousands:",",grouping:[3],currency:["$",""]}),dS=gS.format,mL=gS.formatPrefix;var vL=new Date,yL=new Date;function ws(e,t,n,i){function r(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return r.floor=function(o){return e(o=new Date(+o)),o},r.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},r.round=function(o){var s=r(o),a=r.ceil(o);return o-s<a-o?s:a},r.offset=function(o,s){return t(o=new Date(+o),null==s?1:Math.floor(s)),o},r.range=function(o,s,a){var u,l=[];if(o=r.ceil(o),a=null==a?1:Math.floor(a),!(o<s&&a>0))return l;do{l.push(u=new Date(+o)),t(o,a),e(o)}while(u<o&&o<s);return l},r.filter=function(o){return ws(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(r.count=function(o,s){return vL.setTime(+o),yL.setTime(+s),e(vL),e(yL),Math.floor(n(vL,yL))},r.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?r.filter(i?function(s){return i(s)%o==0}:function(s){return r.count(0,s)%o==0}):r:null}),r}const Uf=1e3,gc=6e4,Gf=60*gc,RA=24*Gf,bL=7*RA,_L=365*RA;const gC=ws(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gc)/RA,e=>e.getDate()-1);function FA(e){return ws(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*gc)/bL})}var H0=FA(0),fS=FA(1),U0=(FA(2),FA(3),FA(4));const dC=(FA(5),FA(6),ws(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/RA},function(e){return e.getUTCDate()-1}));function PA(e){return ws(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/bL})}var G0=PA(0),hS=PA(1),W0=(PA(2),PA(3),PA(4)),wL=(PA(5),PA(6),ws(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));wL.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const fC=wL;const CS=ws(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const EL=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uf-e.getMinutes()*gc)},function(e,t){e.setTime(+e+t*Gf)},function(e,t){return(t-e)/Gf},function(e){return e.getHours()});const xL=ws(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uf)},function(e,t){e.setTime(+e+t*gc)},function(e,t){return(t-e)/gc},function(e){return e.getMinutes()});const hC=ws(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*Uf)},function(e,t){return(t-e)/Uf},function(e){return e.getUTCSeconds()});var pS=ws(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});pS.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?ws(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):pS:null};const DL=pS;var SL=ws(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});SL.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ws(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const CC=SL;const AS=ws(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const TL=ws(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Gf)},function(e,t){return(t-e)/Gf},function(e){return e.getUTCHours()});const kL=ws(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*gc)},function(e,t){return(t-e)/gc},function(e){return e.getUTCMinutes()});function $0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function H1(e){let t=e,n=e;function i(s,a,l,u){for(null==l&&(l=0),null==u&&(u=s.length);l<u;){const c=l+u>>>1;n(s[c],a)<0?l=c+1:u=c}return l}return 1===e.length&&(t=(s,a)=>e(s)-a,n=function(e){return(t,n)=>$0(e(t),n)}(e)),{left:i,center:function(s,a,l,u){null==l&&(l=0),null==u&&(u=s.length);const c=i(s,a,l,u-1);return c>l&&t(s[c-1],a)>-t(s[c],a)?c-1:c},right:function(s,a,l,u){for(null==l&&(l=0),null==u&&(u=s.length);l<u;){const c=l+u>>>1;n(s[c],a)>0?u=c:l=c+1}return l}}}const Qs="year",Rl="quarter",ya="month",ls="week",Fl="date",ba="day",dd="dayofyear",mu="hours",vu="minutes",dc="seconds",cg="milliseconds",NL=[Qs,Rl,ya,ls,Fl,ba,dd,mu,vu,dc,cg],OL=NL.reduce((e,t,n)=>(e[t]=1+n,e),{});function ML(e){const t=_n(e).slice(),n={};return t.length||Be("Missing time unit."),t.forEach(r=>{Sn(OL,r)?n[r]=1:Be("Invalid time unit: ".concat(r,"."))}),(n[ls]||n[ba]?1:0)+(n[Rl]||n[ya]||n[Fl]?1:0)+(n[dd]?1:0)>1&&Be("Incompatible time units: ".concat(e)),t.sort((r,o)=>OL[r]-OL[o]),t}const d4e={[Qs]:"%Y ",[Rl]:"Q%q ",[ya]:"%b ",[Fl]:"%d ",[ls]:"W%U ",[ba]:"%a ",[dd]:"%j ",[mu]:"%H:00",[vu]:"00:%M",[dc]:":%S",[cg]:".%L",["".concat(Qs,"-").concat(ya)]:"%Y-%m ",["".concat(Qs,"-").concat(ya,"-").concat(Fl)]:"%Y-%m-%d ",["".concat(mu,"-").concat(vu)]:"%H:%M"};function Cte(e,t){const n=ii({},d4e,t),i=ML(e),r=i.length;let a,l,o="",s=0;for(s=0;s<r;)for(a=i.length;a>s;--a)if(l=i.slice(s,a).join("-"),null!=n[l]){o+=n[l],s=a;break}return o.trim()}const LA=new Date;function RL(e){return LA.setFullYear(e),LA.setMonth(0),LA.setDate(1),LA.setHours(0,0,0,0),LA}function pte(e){return Ite(new Date(e))}function Ate(e){return FL(new Date(e))}function Ite(e){return gC.count(RL(e.getFullYear())-1,e)}function FL(e){return H0.count(RL(e.getFullYear())-1,e)}function PL(e){return RL(e).getDay()}function f4e(e,t,n,i,r,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,i,r,o,s);return a.setFullYear(e),a}return new Date(e,t,n,i,r,o,s)}function mte(e){return yte(new Date(e))}function vte(e){return LL(new Date(e))}function yte(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return dC.count(t-1,e)}function LL(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return G0.count(t-1,e)}function BL(e){return LA.setTime(Date.UTC(e,0,1)),LA.getUTCDay()}function h4e(e,t,n,i,r,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,i,r,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,i,r,o,s))}function bte(e,t,n,i,r){const o=t||1,s=Fi(e),a=(I,m,y)=>function(e,t,n,i){const r=n<=1?e:i?(o,s)=>i+n*Math.floor((e(o,s)-i)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(r(o,s),s):r}(n[y=y||I],i[y],I===s&&o,m),l=new Date,u=ug(e),c=u[Qs]?a(Qs):va(2012),g=u[ya]?a(ya):u[Rl]?a(Rl):oC,d=u[ls]&&u[ba]?a(ba,1,ls+ba):u[ls]?a(ls,1):u[ba]?a(ba,1):u[Fl]?a(Fl,1):u[dd]?a(dd,1):L0,f=u[mu]?a(mu):oC,h=u[vu]?a(vu):oC,C=u[dc]?a(dc):oC,p=u[cg]?a(cg):oC;return function(I){l.setTime(+I);const m=c(l);return r(m,g(l),d(l,m),f(l),h(l),C(l),p(l))}}function Y0(e,t,n){return t+7*e-(n+6)%7}const p4e={[Qs]:e=>e.getFullYear(),[Rl]:e=>Math.floor(e.getMonth()/3),[ya]:e=>e.getMonth(),[Fl]:e=>e.getDate(),[mu]:e=>e.getHours(),[vu]:e=>e.getMinutes(),[dc]:e=>e.getSeconds(),[cg]:e=>e.getMilliseconds(),[dd]:e=>Ite(e),[ls]:e=>FL(e),[ls+ba]:(e,t)=>Y0(FL(e),e.getDay(),PL(t)),[ba]:(e,t)=>Y0(1,e.getDay(),PL(t))},A4e={[Rl]:e=>3*e,[ls]:(e,t)=>Y0(e,0,PL(t))};function _te(e,t){return bte(e,t||1,p4e,A4e,f4e)}const I4e={[Qs]:e=>e.getUTCFullYear(),[Rl]:e=>Math.floor(e.getUTCMonth()/3),[ya]:e=>e.getUTCMonth(),[Fl]:e=>e.getUTCDate(),[mu]:e=>e.getUTCHours(),[vu]:e=>e.getUTCMinutes(),[dc]:e=>e.getUTCSeconds(),[cg]:e=>e.getUTCMilliseconds(),[dd]:e=>yte(e),[ls]:e=>LL(e),[ba]:(e,t)=>Y0(1,e.getUTCDay(),BL(t)),[ls+ba]:(e,t)=>Y0(LL(e),e.getUTCDay(),BL(t))},m4e={[Rl]:e=>3*e,[ls]:(e,t)=>Y0(e,0,BL(t))};function wte(e,t){return bte(e,t||1,I4e,m4e,h4e)}const v4e={[Qs]:fC,[Rl]:CS.every(3),[ya]:CS,[ls]:H0,[Fl]:gC,[ba]:gC,[dd]:gC,[mu]:EL,[vu]:xL,[dc]:hC,[cg]:DL},y4e={[Qs]:CC,[Rl]:AS.every(3),[ya]:AS,[ls]:G0,[Fl]:dC,[ba]:dC,[dd]:dC,[mu]:TL,[vu]:kL,[dc]:hC,[cg]:DL};function q0(e){return v4e[e]}function Z0(e){return y4e[e]}function Ete(e,t,n){return e?e.offset(t,n):void 0}function xte(e,t,n){return Ete(q0(e),t,n)}function Dte(e,t,n){return Ete(Z0(e),t,n)}function Ste(e,t,n,i){return e?e.range(t,n,i):void 0}function Tte(e,t,n,i){return Ste(q0(e),t,n,i)}function kte(e,t,n,i){return Ste(Z0(e),t,n,i)}const G1=6e4,W1=60*G1,jL=31536e6,Ote=[Qs,ya,Fl,mu,vu,dc,cg],$1=Ote.slice(0,-1),Y1=$1.slice(0,-1),q1=Y1.slice(0,-1),_4e=q1.slice(0,-1),Mte=[Qs,ya],Rte=[Qs],Z1=[[$1,1,1e3],[$1,5,5e3],[$1,15,15e3],[$1,30,3e4],[Y1,1,G1],[Y1,5,5*G1],[Y1,15,15*G1],[Y1,30,30*G1],[q1,1,W1],[q1,3,3*W1],[q1,6,6*W1],[q1,12,12*W1],[_4e,1,864e5],[[Qs,ls],1,6048e5],[Mte,1,2592e6],[Mte,3,7776e6],[Rte,1,jL]];function Fte(e){const t=e.extent,n=e.maxbins||40,i=Math.abs(V1(t))/n;let o,s,r=H1(a=>a[2]).right(Z1,i);return r===Z1.length?(o=Rte,s=cC(t[0]/jL,t[1]/jL,n)):r?(r=Z1[i/Z1[r-1][2]<Z1[r][2]/i?r-1:r],o=r[0],s=r[1]):(o=Ote,s=Math.max(cC(t[0],t[1],n),1)),{units:o,step:s}}function VL(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zL(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function K1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pte(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=X1(r),c=Q1(r),g=X1(o),d=Q1(o),f=X1(s),h=Q1(s),C=X1(a),p=Q1(a),I=X1(l),m=Q1(l),y={a:function(_t){return s[_t.getDay()]},A:function(_t){return o[_t.getDay()]},b:function(_t){return l[_t.getMonth()]},B:function(_t){return a[_t.getMonth()]},c:null,d:Hte,e:Hte,f:Y4e,g:ije,G:oje,H:G4e,I:W4e,j:$4e,L:Ute,m:q4e,M:Z4e,p:function(_t){return r[+(_t.getHours()>=12)]},q:function(_t){return 1+~~(_t.getMonth()/3)},Q:Zte,s:Kte,S:K4e,u:X4e,U:Q4e,V:J4e,w:eje,W:tje,x:null,X:null,y:nje,Y:rje,Z:sje,"%":qte},_={a:function(_t){return s[_t.getUTCDay()]},A:function(_t){return o[_t.getUTCDay()]},b:function(_t){return l[_t.getUTCMonth()]},B:function(_t){return a[_t.getUTCMonth()]},c:null,d:Wte,e:Wte,f:cje,g:vje,G:bje,H:aje,I:lje,j:uje,L:$te,m:gje,M:dje,p:function(_t){return r[+(_t.getUTCHours()>=12)]},q:function(_t){return 1+~~(_t.getUTCMonth()/3)},Q:Zte,s:Kte,S:fje,u:hje,U:Cje,V:pje,w:Aje,W:Ije,x:null,X:null,y:mje,Y:yje,Z:_je,"%":qte},N={a:function(_t,pn,Xn){var Qe=f.exec(pn.slice(Xn));return Qe?(_t.w=h.get(Qe[0].toLowerCase()),Xn+Qe[0].length):-1},A:function(_t,pn,Xn){var Qe=g.exec(pn.slice(Xn));return Qe?(_t.w=d.get(Qe[0].toLowerCase()),Xn+Qe[0].length):-1},b:function(_t,pn,Xn){var Qe=I.exec(pn.slice(Xn));return Qe?(_t.m=m.get(Qe[0].toLowerCase()),Xn+Qe[0].length):-1},B:function(_t,pn,Xn){var Qe=C.exec(pn.slice(Xn));return Qe?(_t.m=p.get(Qe[0].toLowerCase()),Xn+Qe[0].length):-1},c:function(_t,pn,Xn){return M(_t,t,pn,Xn)},d:Vte,e:Vte,f:V4e,g:jte,G:Bte,H:zte,I:zte,j:P4e,L:j4e,m:F4e,M:L4e,p:function(_t,pn,Xn){var Qe=u.exec(pn.slice(Xn));return Qe?(_t.p=c.get(Qe[0].toLowerCase()),Xn+Qe[0].length):-1},q:R4e,Q:H4e,s:U4e,S:B4e,u:T4e,U:k4e,V:N4e,w:S4e,W:O4e,x:function(_t,pn,Xn){return M(_t,n,pn,Xn)},X:function(_t,pn,Xn){return M(_t,i,pn,Xn)},y:jte,Y:Bte,Z:M4e,"%":z4e};function O(_t,pn){return function(Xn){var _o,uf,Sh,Qe=[],Ko=-1,Li=0,Mo=_t.length;for(Xn instanceof Date||(Xn=new Date(+Xn));++Ko<Mo;)37===_t.charCodeAt(Ko)&&(Qe.push(_t.slice(Li,Ko)),null!=(uf=Lte[_o=_t.charAt(++Ko)])?_o=_t.charAt(++Ko):uf="e"===_o?" ":"0",(Sh=pn[_o])&&(_o=Sh(Xn,uf)),Qe.push(_o),Li=Ko+1);return Qe.push(_t.slice(Li,Ko)),Qe.join("")}}function k(_t,pn){return function(Xn){var Li,Mo,Qe=K1(1900,void 0,1);if(M(Qe,_t,Xn+="",0)!=Xn.length)return null;if("Q"in Qe)return new Date(Qe.Q);if("s"in Qe)return new Date(1e3*Qe.s+("L"in Qe?Qe.L:0));if(pn&&!("Z"in Qe)&&(Qe.Z=0),"p"in Qe&&(Qe.H=Qe.H%12+12*Qe.p),void 0===Qe.m&&(Qe.m="q"in Qe?Qe.q:0),"V"in Qe){if(Qe.V<1||Qe.V>53)return null;"w"in Qe||(Qe.w=1),"Z"in Qe?(Mo=(Li=zL(K1(Qe.y,0,1))).getUTCDay(),Li=Mo>4||0===Mo?hS.ceil(Li):hS(Li),Li=dC.offset(Li,7*(Qe.V-1)),Qe.y=Li.getUTCFullYear(),Qe.m=Li.getUTCMonth(),Qe.d=Li.getUTCDate()+(Qe.w+6)%7):(Mo=(Li=VL(K1(Qe.y,0,1))).getDay(),Li=Mo>4||0===Mo?fS.ceil(Li):fS(Li),Li=gC.offset(Li,7*(Qe.V-1)),Qe.y=Li.getFullYear(),Qe.m=Li.getMonth(),Qe.d=Li.getDate()+(Qe.w+6)%7)}else("W"in Qe||"U"in Qe)&&("w"in Qe||(Qe.w="u"in Qe?Qe.u%7:"W"in Qe?1:0),Mo="Z"in Qe?zL(K1(Qe.y,0,1)).getUTCDay():VL(K1(Qe.y,0,1)).getDay(),Qe.m=0,Qe.d="W"in Qe?(Qe.w+6)%7+7*Qe.W-(Mo+5)%7:Qe.w+7*Qe.U-(Mo+6)%7);return"Z"in Qe?(Qe.H+=Qe.Z/100|0,Qe.M+=Qe.Z%100,zL(Qe)):VL(Qe)}}function M(_t,pn,Xn,Qe){for(var _o,uf,Ko=0,Li=pn.length,Mo=Xn.length;Ko<Li;){if(Qe>=Mo)return-1;if(37===(_o=pn.charCodeAt(Ko++))){if(_o=pn.charAt(Ko++),!(uf=N[_o in Lte?pn.charAt(Ko++):_o])||(Qe=uf(_t,Xn,Qe))<0)return-1}else if(_o!=Xn.charCodeAt(Qe++))return-1}return Qe}return y.x=O(n,y),y.X=O(i,y),y.c=O(t,y),_.x=O(n,_),_.X=O(i,_),_.c=O(t,_),{format:function(_t){var pn=O(_t+="",y);return pn.toString=function(){return _t},pn},parse:function(_t){var pn=k(_t+="",!1);return pn.toString=function(){return _t},pn},utcFormat:function(_t){var pn=O(_t+="",_);return pn.toString=function(){return _t},pn},utcParse:function(_t){var pn=k(_t+="",!0);return pn.toString=function(){return _t},pn}}}var K0,HL,Xte,UL,Qte,Lte={"-":"",_:" ",0:"0"},Es=/^\s*\d+/,E4e=/^%/,x4e=/[\\^$*+?|[\]().{}]/g;function Qi(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function D4e(e){return e.replace(x4e,"\\$&")}function X1(e){return new RegExp("^(?:"+e.map(D4e).join("|")+")","i")}function Q1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function S4e(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function T4e(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function k4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function N4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function O4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function Bte(e,t,n){var i=Es.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function jte(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function M4e(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function R4e(e,t,n){var i=Es.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function F4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Vte(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function P4e(e,t,n){var i=Es.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function zte(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function L4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function B4e(e,t,n){var i=Es.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function j4e(e,t,n){var i=Es.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function V4e(e,t,n){var i=Es.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function z4e(e,t,n){var i=E4e.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function H4e(e,t,n){var i=Es.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function U4e(e,t,n){var i=Es.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function Hte(e,t){return Qi(e.getDate(),t,2)}function G4e(e,t){return Qi(e.getHours(),t,2)}function W4e(e,t){return Qi(e.getHours()%12||12,t,2)}function $4e(e,t){return Qi(1+gC.count(fC(e),e),t,3)}function Ute(e,t){return Qi(e.getMilliseconds(),t,3)}function Y4e(e,t){return Ute(e,t)+"000"}function q4e(e,t){return Qi(e.getMonth()+1,t,2)}function Z4e(e,t){return Qi(e.getMinutes(),t,2)}function K4e(e,t){return Qi(e.getSeconds(),t,2)}function X4e(e){var t=e.getDay();return 0===t?7:t}function Q4e(e,t){return Qi(H0.count(fC(e)-1,e),t,2)}function Gte(e){var t=e.getDay();return t>=4||0===t?U0(e):U0.ceil(e)}function J4e(e,t){return e=Gte(e),Qi(U0.count(fC(e),e)+(4===fC(e).getDay()),t,2)}function eje(e){return e.getDay()}function tje(e,t){return Qi(fS.count(fC(e)-1,e),t,2)}function nje(e,t){return Qi(e.getFullYear()%100,t,2)}function ije(e,t){return Qi((e=Gte(e)).getFullYear()%100,t,2)}function rje(e,t){return Qi(e.getFullYear()%1e4,t,4)}function oje(e,t){var n=e.getDay();return Qi((e=n>=4||0===n?U0(e):U0.ceil(e)).getFullYear()%1e4,t,4)}function sje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qi(t/60|0,"0",2)+Qi(t%60,"0",2)}function Wte(e,t){return Qi(e.getUTCDate(),t,2)}function aje(e,t){return Qi(e.getUTCHours(),t,2)}function lje(e,t){return Qi(e.getUTCHours()%12||12,t,2)}function uje(e,t){return Qi(1+dC.count(CC(e),e),t,3)}function $te(e,t){return Qi(e.getUTCMilliseconds(),t,3)}function cje(e,t){return $te(e,t)+"000"}function gje(e,t){return Qi(e.getUTCMonth()+1,t,2)}function dje(e,t){return Qi(e.getUTCMinutes(),t,2)}function fje(e,t){return Qi(e.getUTCSeconds(),t,2)}function hje(e){var t=e.getUTCDay();return 0===t?7:t}function Cje(e,t){return Qi(G0.count(CC(e)-1,e),t,2)}function Yte(e){var t=e.getUTCDay();return t>=4||0===t?W0(e):W0.ceil(e)}function pje(e,t){return e=Yte(e),Qi(W0.count(CC(e),e)+(4===CC(e).getUTCDay()),t,2)}function Aje(e){return e.getUTCDay()}function Ije(e,t){return Qi(hS.count(CC(e)-1,e),t,2)}function mje(e,t){return Qi(e.getUTCFullYear()%100,t,2)}function vje(e,t){return Qi((e=Yte(e)).getUTCFullYear()%100,t,2)}function yje(e,t){return Qi(e.getUTCFullYear()%1e4,t,4)}function bje(e,t){var n=e.getUTCDay();return Qi((e=n>=4||0===n?W0(e):W0.ceil(e)).getUTCFullYear()%1e4,t,4)}function _je(){return"+0000"}function qte(){return"%"}function Zte(e){return+e}function Kte(e){return Math.floor(+e/1e3)}function J1(e){const t={};return n=>t[n]||(t[n]=e(n))}function Jte(e){const t=J1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(i){const r=V0(i||",");if(null==r.precision){switch(r.precision=12,r.type){case"%":r.precision-=2;break;case"e":r.precision-=1}return function(e,t){return n=>{const i=e(n),r=i.indexOf(t);if(r<0)return i;let o=function(e,t){let i,n=e.lastIndexOf("e");if(n>0)return n;for(n=e.length;--n>t;)if(i=e.charCodeAt(n),i>=48&&i<=57)return n+1}(i,r);const s=o<i.length?i.slice(o):"";for(;--o>r;)if("0"!==i[o]){++o;break}return i.slice(0,o)+s}}(t(r),t(".1f")(1)[1])}return t(r)},formatSpan(i,r,o,s){s=V0(null==s?",f":s);const a=cC(i,r,o),l=Math.max(Math.abs(i),Math.abs(r));let u;if(null==s.precision)switch(s.type){case"s":return isNaN(u=Zee(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":isNaN(u=Kee(a,l))||(s.precision=u-("e"===s.type));break;case"f":case"%":isNaN(u=Xee(a))||(s.precision=u-2*("%"===s.type))}return t(s)}}}let GL,WL;function ene(){return GL=Jte({format:dS,formatPrefix:mL})}function tne(e){return Jte(rte(e))}function mS(e){return arguments.length?GL=tne(e):GL}function nne(e,t,n){Un(n=n||{})||Be("Invalid time multi-format specifier: ".concat(n));const i=t(dc),r=t(vu),o=t(mu),s=t(Fl),a=t(ls),l=t(ya),u=t(Rl),c=t(Qs),g=e(n[cg]||".%L"),d=e(n[dc]||":%S"),f=e(n[vu]||"%I:%M"),h=e(n[mu]||"%I %p"),C=e(n[Fl]||n[ba]||"%a %d"),p=e(n[ls]||"%b %d"),I=e(n[ya]||"%B"),m=e(n[Rl]||"%B"),y=e(n[Qs]||"%Y");return _=>(i(_)<_?g:r(_)<_?d:o(_)<_?f:s(_)<_?h:l(_)<_?a(_)<_?C:p:c(_)<_?u(_)<_?I:m:y)(_)}function ine(e){const t=J1(e.format),n=J1(e.utcFormat);return{timeFormat:i=>$i(i)?t(i):nne(t,q0,i),utcFormat:i=>$i(i)?n(i):nne(n,Z0,i),timeParse:J1(e.parse),utcParse:J1(e.utcParse)}}function rne(){return WL=ine({format:HL,parse:Xte,utcFormat:UL,utcParse:Qte})}function one(e){return ine(Pte(e))}function e_(e){return arguments.length?WL=one(e):WL}K0=Pte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),HL=K0.format,Xte=K0.parse,UL=K0.utcFormat,Qte=K0.utcParse,ene(),rne();const $L=(e,t)=>ii({},e,t);function sne(e,t){const n=e?tne(e):mS(),i=t?one(t):e_();return $L(n,i)}function YL(e,t){const n=arguments.length;return n&&2!==n&&Be("defaultLocale expects either zero or two arguments."),n?$L(mS(e),e_(t)):$L(mS(),e_())}function Dje(){return ene(),rne(),YL()}const Sje=/^(data:|([A-Za-z]+:)?\/\/)/,Tje=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,kje=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ane="file://";function Oje(e,t){return qL.apply(this,arguments)}function qL(){return(qL=nl(function*(e,t){const n=yield this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)})).apply(this,arguments)}function Mje(e,t){return ZL.apply(this,arguments)}function ZL(){return(ZL=nl(function*(e,t){t=ii({},this.options,t);const n=this.fileAccess,i={href:null};let r,o,s;const a=Tje.test(e.replace(kje,""));(null==e||"string"!=typeof e||!a)&&Be("Sanitize failure, invalid URI: "+hn(e));const l=Sje.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(r=e.startsWith(ane))||"file"===t.mode||"http"!==t.mode&&!l&&n,r?e=e.slice(ane.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!o}),i.href=e,t.target&&(i.target=t.target+""),t.rel&&(i.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(i.crossOrigin=t.crossOrigin+""),i})).apply(this,arguments)}function Rje(e){return e?t=>new Promise((n,i)=>{e.readFile(t,(r,o)=>{r?i(r):n(o)})}):Fje}function Fje(){return KL.apply(this,arguments)}function KL(){return(KL=nl(function*(){Be("No file system access.")})).apply(this,arguments)}function Pje(e){return e?function(){var t=nl(function*(n,i){const r=ii({},this.options.http,i),o=i&&i.response,s=yield e(n,r);return s.ok?si(s[o])?s[o]():s.text():Be(s.status+""+s.statusText)});return function(n,i){return t.apply(this,arguments)}}():Lje}function Lje(){return XL.apply(this,arguments)}function XL(){return(XL=nl(function*(){Be("No HTTP fetch method available.")})).apply(this,arguments)}const Bje=e=>null!=e&&e==e,lne=e=>!(Number.isNaN(+e)||e instanceof Date),QL={boolean:lL,integer:ma,number:ma,date:uL,string:cL,unknown:tl},vS=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>lne(e)&&Number.isInteger(+e),lne,e=>!Number.isNaN(Date.parse(e))],Hje=["boolean","integer","number","date"];function une(e,t){if(!e||!e.length)return"unknown";const n=e.length,i=vS.length,r=vS.map((o,s)=>s+1);for(let a,l,o=0,s=0;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<i;++a)if(r[a]&&Bje(l)&&!vS[a](l)&&(r[a]=0,++s,s===vS.length))return"string";return Hje[r.reduce((o,s)=>0===o?s:o,0)-1]}function cne(e,t){return t.reduce((n,i)=>(n[i]=une(e,i),n),{})}function gne(e){const t=function(n,i){const r={delimiter:e};return JL(n,i?ii(i,r):r)};return t.responseType="text",t}function JL(e,t){return t.header&&(e=t.header.map(hn).join(t.delimiter)+"\n"+e),z8e(t.delimiter).parse(e+"")}function eB(e,t){const n=t&&t.property?Ol(t.property):tl;return Un(e)&&!function(e){return!("function"!=typeof Buffer||!si(Buffer.isBuffer))&&Buffer.isBuffer(e)}(e)?function(e,t){return!rn(e)&&Fee(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t):n(JSON.parse(e))}JL.responseType="text",eB.responseType="json";const Wje={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function dne(e,t){let n,i,r,o;return e=eB(e,t),t&&t.feature?(n=W8e,r=t.feature):t&&t.mesh?(n=Y8e,r=t.mesh,o=Wje[t.filter]):Be("Missing TopoJSON feature or mesh parameter."),i=(i=e.objects[r])?n(e,i,o):Be("Invalid TopoJSON object: "+r),i&&i.features||[i]}dne.responseType="json";const yS={dsv:JL,csv:gne(","),tsv:gne("\t"),json:eB,topojson:dne};function tB(e,t){return arguments.length>1?(yS[e]=t,this):Sn(yS,e)?yS[e]:null}function fne(e){const t=tB(e);return t&&t.responseType||"text"}function hne(e,t,n,i){const r=tB((t=t||{}).type||"json");return r||Be("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const r=e_();n=n||r.timeParse,i=i||r.utcParse;let s,a,l,u,c,g,o=e.columns||Object.keys(e[0]);"auto"===t&&(t=cne(e,o)),o=Object.keys(t);const d=o.map(f=>{const h=t[f];let C,p;if(h&&(h.startsWith("date:")||h.startsWith("utc:")))return C=h.split(/:(.+)?/,2),p=C[1],("'"===p[0]&&"'"===p[p.length-1]||'"'===p[0]&&'"'===p[p.length-1])&&(p=p.slice(1,-1)),("utc"===C[0]?i:n)(p);if(!QL[h])throw Error("Illegal format pattern: "+f+":"+h);return QL[h]});for(l=0,c=e.length,g=o.length;l<c;++l)for(s=e[l],u=0;u<g;++u)a=o[u],s[a]=d[u](s[a])}(e,t.parse,n,i),Sn(e,"columns")&&delete e.columns,e}const bS=function(e,t){return n=>({options:n||{},sanitize:Mje,load:Oje,fileAccess:!1,file:Rje(null),http:Pje(e)})}("undefined"!=typeof fetch&&fetch);function _S(e){const t=e||tl,n=[],i={};return n.add=r=>{const o=t(r);return i[o]||(i[o]=1,n.push(r)),n},n.remove=r=>{const o=t(r);if(i[o]){i[o]=0;const s=n.indexOf(r);s>=0&&n.splice(s,1)}return n},n}function wS(e,t){return nB.apply(this,arguments)}function nB(){return(nB=nl(function*(e,t){try{yield t(e)}catch(n){e.error(n)}})).apply(this,arguments)}const Cne=Symbol("vega_id");let Yje=1;function ES(e){return!(!e||!cn(e))}function cn(e){return e[Cne]}function pne(e,t){return e[Cne]=t,e}function sr(e){const t=e===Object(e)?e:{data:e};return cn(t)?t:pne(t,Yje++)}function iB(e){return xS(e,sr({}))}function xS(e,t){for(const n in e)t[n]=e[n];return t}function Ane(e,t){return pne(t,cn(e))}function BA(e,t){return e?t?(n,i)=>e(n,i)||cn(t(n))-cn(t(i)):(n,i)=>e(n,i)||cn(n)-cn(i):null}function Ine(e){return e&&e.constructor===jA}function jA(){const e=[],t=[],n=[],i=[],r=[];let o=null,s=!1;return{constructor:jA,insert(a){const l=_n(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=si(a)?i:t,u=_n(a),c=u.length;for(let g=0;g<c;++g)l.push(u[g]);return this},modify(a,l,u){const c={field:l,value:va(u)};return si(a)?(c.filter=a,r.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return si(a)?r.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let g,d,f,h,C,p;for(g=0,d=l.length;g<d;++g)u[cn(l[g])]=1;for(g=0,d=t.length;g<d;++g)C=t[g],u[cn(C)]=-1;for(g=0,d=i.length;g<d;++g)h=i[g],l.forEach(m=>{h(m)&&(u[cn(m)]=-1)});for(g=0,d=e.length;g<d;++g)C=e[g],p=cn(C),u[p]?u[p]=1:a.add.push(sr(e[g]));for(g=0,d=l.length;g<d;++g)C=l[g],u[cn(C)]<0&&a.rem.push(C);function I(m,y,_){_?m[y]=_(m):a.encode=y,s||(c[cn(m)]=m)}for(g=0,d=n.length;g<d;++g)f=n[g],C=f.tuple,h=f.field,p=u[cn(C)],p>0&&(I(C,h,f.value),a.modifies(h));for(g=0,d=r.length;g<d;++g)f=r[g],h=f.filter,l.forEach(m=>{h(m)&&u[cn(m)]>0&&I(m,f.field,f.value)}),a.modifies(f.field);if(s)a.mod=t.length||i.length?l.filter(m=>u[cn(m)]>0):l.slice();else for(p in c)a.mod.push(c[p]);return(o||null==o&&(t.length||i.length))&&a.clean(!0),a}}}const DS="_:mod:_";function SS(){Object.defineProperty(this,DS,{writable:!0,value:{}})}SS.prototype={set(e,t,n,i){const r=this,o=r[e],s=r[DS];return null!=t&&t>=0?(o[t]!==n||i)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||i)&&(r[e]=n,s[e]=rn(n)?1+n.length:-1),r},modified(e,t){const n=this[DS];if(!arguments.length){for(const i in n)if(n[i])return!0;return!1}if(rn(e)){for(let i=0;i<e.length;++i)if(n[e[i]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[DS]={},this}};let qje=0;const Kje=new SS;function Dr(e,t,n,i){this.id=++qje,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function mne(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Dr.prototype={targets(){return this._targets||(this._targets=_S(L1))},set(e){return this.value!==e?(this.value=e,1):0},skip:mne(1),modified:mne(2),parameters(e,t,n){t=!1!==t;const i=this._argval=this._argval||new SS,r=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(g,d,f)=>{f instanceof Dr?(f!==this&&(t&&f.targets().add(this),o.push(f)),r.push({op:f,name:g,index:d})):i.set(g,d,f)};for(s in e)if(a=e[s],"pulse"===s)_n(a).forEach(g=>{g instanceof Dr?g!==this&&(g.targets().add(this),o.push(g)):Be("Pulse parameters must be operator instances.")}),this.source=a;else if(rn(a))for(i.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(r.initonly=!0),o},marshall(e){const t=this._argval||Kje,n=this._argops;let i,r,o,s;if(n){const a=n.length;for(r=0;r<a;++r)i=n[r],o=i.op,s=o.modified()&&o.stamp===e,t.set(i.name,i.index,o.value,s);if(n.initonly){for(r=0;r<a;++r)i=n[r],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,r;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],r=i.op,r._targets&&r._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let t6e=0;function TS(e,t,n){this.id=++t6e,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function pC(e,t,n){return new TS(e,t,n)}function rB(){return(rB=nl(function*(e,t){const n=this;let r,i=0;try{r=yield n.loader().load(e,{context:"dataflow",response:fne(t&&t.type)});try{r=n.parse(r,t)}catch(o){i=-2,n.warn("Data ingestion failed",e,o)}}catch(o){i=-1,n.warn("Loading failed",e,o)}return{data:r,status:i}})).apply(this,arguments)}function oB(){return(oB=nl(function*(e,t,n){const i=this,r=i._pending||a6e(i);r.requests+=1;const o=yield i.request(t,n);return i.pulse(e,i.changeset().remove(cc).insert(o.data||[])),r.done(),o})).apply(this,arguments)}function a6e(e){let t;const n=new Promise(i=>t=i);return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}TS.prototype={_filter:cc,_apply:tl,targets(){return this._targets||(this._targets=_S(L1))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let r=0;r<i;++r)n[r].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=pC(e);return this.targets().add(t),t},apply(e){const t=pC(null,e);return this.targets().add(t),t},merge(){const e=pC();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=pC();return this.targets().add(pC(null,null,oL(e,n=>{const i=n.dataflow;t.receive(n),i&&i.run&&i.run()}))),t},between(e,t){let n=!1;return e.targets().add(pC(null,null,()=>n=!0)),t.targets().add(pC(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=cc,this._targets=null}};const l6e={skip:!0};function c6e(e,t,n,i,r,o){const s=ii({},o,l6e);let a,l;si(n)||(n=va(n)),void 0===i?a=u=>e.touch(n(u)):si(i)?(l=new Dr(null,i,r,!1),a=u=>{l.evaluate(u);const c=n(u),g=l.value;Ine(g)?e.pulse(c,g,o):e.update(c,g,s)}):a=u=>e.update(n(u),i,s),t.apply(a)}function g6e(e,t,n,i,r,o){if(void 0===i)t.targets().add(n);else{const s=o||{},a=new Dr(null,function(e,t){return t=si(t)?t:va(t),e?function(n,i){const r=t(n,i);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,i),r,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}const kS={};function IC(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function sB(e,t){const n=[];return uC(e,t,i=>n.push(i)),n}function wne(e,t){const n={};return e.visit(t,i=>{n[cn(i)]=1}),i=>n[cn(i)]?null:i}function NS(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}function aB(e,t,n,i){const r=this,o=n.length;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(let a=0;a<o;++a){const l=n[a];if(l.stamp===t){if(l.fields){const u=r.fields||(r.fields={});for(const c in l.fields)u[c]=1}l.changed(r.ADD)&&(s|=r.ADD),l.changed(r.REM)&&(s|=r.REM),l.changed(r.MOD)&&(s|=r.MOD)}}this.changes=s}function lB(){return(lB=nl(function*(e,t,n){const i=this,r=[];if(i._pulse)return Ene(i);if(i._pending&&(yield i._pending),t&&(yield wS(i,t)),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const o=++i._clock;i._pulse=new IC(i,o,e),i._touched.forEach(c=>i._enqueue(c,!0)),i._touched=_S(L1);let a,l,u,s=0;try{for(;i._heap.size()>0;)a=i._heap.pop(),a.rank===a.qrank?(l=a.run(i._getPulse(a,e)),l.then?l=yield l:l.async&&(r.push(l.async),l=kS),l!==kS&&a._targets&&a._targets.forEach(c=>i._enqueue(c)),++s):i._enqueue(a,!0)}catch(c){i._heap.clear(),u=c}if(i._input={},i._pulse=null,i.debug(`Pulse ${o}: ${s} operators`),u&&(i._postrun=[],i.error(u)),i._postrun.length){const c=i._postrun.sort((g,d)=>d.priority-g.priority);i._postrun=[];for(let g=0;g<c.length;++g)yield wS(i,c[g].callback)}return n&&(yield wS(i,n)),r.length&&Promise.all(r).then(c=>i.runAsync(null,()=>{c.forEach(g=>{try{g(i)}catch(d){i.error(d)}})})),i})).apply(this,arguments)}function uB(){return(uB=nl(function*(e,t,n){for(;this._running;)yield this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running})).apply(this,arguments)}function Ene(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}IC.prototype={StopPropagation:kS,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new IC(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new IC(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(64&t)&&(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,wne(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return rn(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?rn(e)?e.some(i=>n[i]):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=NS(n.addF,t)),2&e&&(n.remF=NS(n.remF,t)),4&e&&(n.modF=NS(n.modF,t)),16&e&&(n.srcF=NS(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=sB(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=sB(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=sB(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,i=t;if(16&e)return uC(n.source,n.srcF,i),n;1&e&&uC(n.add,n.addF,i),2&e&&uC(n.rem,n.remF,i),4&e&&uC(n.mod,n.modF,i);const r=n.source;if(8&e&&r){const o=n.add.length+n.mod.length;o===r.length||uC(r,o?wne(n,5):n.srcF,i)}return n}},gt(aB,IC,{fork(e){const t=new IC(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?rn(e)?e.some(i=>n[i]):n[e]:0},filter(){Be("MultiPulse does not support filtering.")},materialize(){Be("MultiPulse does not support materialization.")},visit(e,t){const n=this,i=n.pulses,r=i.length;let o=0;if(e&n.SOURCE)for(;o<r;++o)i[o].visit(e,t);else for(;o<r;++o)i[o].stamp===n.stamp&&i[o].visit(e,t);return n}});const cB={skip:!1,force:!1};function xne(e,t,n,i){let r,o;const s=e[n];for(;n>t&&(o=n-1>>1,r=e[o],i(s,r)<0);)e[n]=r,n=o;return e[n]=s}function Q0(){this.logger(vee()),this.logLevel(eL),this._clock=0,this._rank=0,this._locale=YL();try{this._loader=bS()}catch(e){}this._touched=_S(L1),this._input={},this._pulse=null,this._heap=function(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),xne(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,function(e,t,n){const i=t,r=e.length,o=e[t];let a,s=1+(t<<1);for(;s<r;)a=s+1,a<r&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,xne(e,i,t,n)}(t,0,e)):i=n,i}}}((e,t)=>e.qrank-t.qrank),this._postrun=[]}function n_(e){return function(){return this._log[e].apply(this,arguments)}}function Ne(e,t){Dr.call(this,e,null,t)}Q0.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:n_("error"),warn:n_("warn"),info:n_("info"),debug:n_("debug"),logLevel:n_("level"),cleanThreshold:1e4,add:function(e,t,n,i){let o,r=1;return e instanceof Dr?o=e:e&&e.prototype instanceof Dr?o=new e:si(e)?o=new Dr(null,e):(r=0,o=new Dr(e,t)),this.rank(o),r&&(i=n,n=t),n&&this.connect(o,o.parameters(n,i)),this.touch(o),o},connect:function(e,t){const n=e.rank,i=t.length;for(let r=0;r<i;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,i,r;for(;t.length;)if(this.rank(n=t.pop()),i=n._targets)for(r=i.length;--r>=0;)t.push(n=i[r]),n===e&&Be("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||cB);const i=new IC(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,r),this},touch:function(e,t){const n=t||cB;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const i=n||cB;return(e.set(t)||i.force)&&this.touch(e,i),this},changeset:jA,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return hne(e,t,n.timeParse,n.utcParse)},preload:function(e,t,n){return oB.apply(this,arguments)},request:function(e,t){return rB.apply(this,arguments)},events:function(e,t,n,i){const r=this,o=pC(n,i),s=function(u){u.dataflow=r;try{o.receive(u)}catch(c){r.error(c)}finally{r.run()}};let a;a="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):_n(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o},on:function(e,t,n,i,r){return(e instanceof Dr?g6e:c6e)(this,e,t,n,i,r),this},evaluate:function(e,t,n){return lB.apply(this,arguments)},run:function(e,t,n){return this._pulse?Ene(this):(this.evaluate(e,t,n),this)},runAsync:function(e,t,n){return uB.apply(this,arguments)},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(i){this.error(i)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,i=this._clock;return n&&rn(n)?new aB(this,i,n.map(r=>r.pulse),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==kS&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},gt(Ne,Dr,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const J0={};function Dne(e){const t=Sne(e);return t&&t.Definition||null}function Sne(e){return e=e&&e.toLowerCase(),Sn(J0,e)?J0[e]:null}function VA(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function gB(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function Tne(e,t,n=0,i=e.length-1,r=$0){for(;i>n;){if(i-n>600){const l=i-n+1,u=t-n+1,c=Math.log(l),g=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*g*(l-g)/l)*(u-l/2<0?-1:1);Tne(e,t,Math.max(n,Math.floor(t-u*g/l+d)),Math.min(i,Math.floor(t+(l-u)*g/l+d)),r)}const o=e[t];let s=n,a=i;for(i_(e,n,t),r(e[i],o)>0&&i_(e,n,i);s<a;){for(i_(e,s,a),++s,--a;r(e[s],o)<0;)++s;for(;r(e[a],o)>0;)--a}0===r(e[n],o)?i_(e,n,a):(++a,i_(e,a,i)),a<=t&&(n=a+1),t<=a&&(i=a-1)}return e}function i_(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function kne(e){return null===e?NaN:+e}function dB(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}(e,n)),i=e.length){if((t=+t)<=0||i<2)return gB(e);if(t>=1)return VA(e);var i,r=(i-1)*t,o=Math.floor(r),s=VA(Tne(e,o).subarray(0,o+1));return s+(gB(e.subarray(o+1))-s)*(r-o)}}function Nne(e,t,n=kne){if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(r-o)}}function One(e,t){return dB(e,.5,t)}function*Mne(e,t){if(null==t)for(let n of e)null!=n&&""!==n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)i=t(i,++n,e),null!=i&&""!==i&&(i=+i)>=i&&(yield i)}}function fB(e,t,n){const i=Float64Array.from(Mne(e,n));return i.sort($0),t.map(r=>Nne(i,r))}function hB(e,t){return fB(e,[.25,.5,.75],t)}function CB(e,t){const n=e.length,i=function(e,t){const n=function(e,t){let i,n=0,r=0,o=0;if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(i=s-r,r+=i/++n,o+=i*(s-r));else{let s=-1;for(let a of e)null!=(a=t(a,++s,e))&&(a=+a)>=a&&(i=a-r,r+=i/++n,o+=i*(a-r))}if(n>1)return o/(n-1)}(e,t);return n&&Math.sqrt(n)}(e,t),r=hB(e,t);return 1.06*(Math.min(i,(r[2]-r[0])/1.34)||i||Math.abs(r[0])||1)*Math.pow(n,-.2)}function Rne(e){const t=e.maxbins||20,n=e.base||10,i=Math.log(n),r=e.divide||[5,2];let a,l,u,c,g,d,o=e.extent[0],s=e.extent[1];const f=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=f/t,g=0,d=e.steps.length;g<d&&e.steps[g]<c;++g);a=e.steps[Math.max(0,g-1)]}else{for(l=Math.ceil(Math.log(t)/i),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(f)/i)-l));Math.ceil(f/a)>t;)a*=n;for(g=0,d=r.length;g<d;++g)c=a/r[g],c>=u&&f/c<=t&&(a=c)}c=Math.log(a);const C=Math.pow(n,-(c>=0?0:1+~~(-c/i))-1);return(e.nice||void 0===e.nice)&&(c=Math.floor(o/a+C)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var fc=Math.random;function N6e(e){fc=e}function Fne(e,t,n,i){if(!e.length)return[void 0,void 0];const r=Float64Array.from(Mne(e,i)),o=r.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=r[~~(fc()*o)];c[u]=a/o}return c.sort($0),[dB(c,n/2),dB(c,1-n/2)]}function Pne(e,t,n,i){i=i||(d=>d);const r=e.length,o=new Float64Array(r);let g,s=0,a=1,l=i(e[0]),u=l,c=l+t;for(;a<r;++a){if(g=i(e[a]),g>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=g+t,l=g}u=g}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?function(e,t){const n=e.length;let o,s,i=0,r=1;for(;e[i]===e[r];)++r;for(;r<n;){for(o=r+1;e[r]===e[o];)++o;if(e[r]-e[r-1]<t){for(s=r+(i+o-r-r>>1);s<r;)e[s++]=e[r];for(;s>r;)e[s--]=e[i]}i=r,r=o}return e}(o,t+t/4):o}function M6e(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function R6e(e,t){let n,i,r;null==t&&(t=e,e=0);const o={min(s){return arguments.length?(n=s||0,r=i-n,o):n},max(s){return arguments.length?(i=s||0,r=i-n,o):i},sample:()=>n+Math.floor(r*fc()),pdf:s=>s===Math.floor(s)&&s>=n&&s<i?1/r:0,cdf(s){const a=Math.floor(s);return a<n?0:a>=i?1:(a-n+1)/r},icdf:s=>s>=0&&s<=1?n-1+Math.floor(s*r):NaN};return o.min(e).max(t)}const Lne=Math.sqrt(2*Math.PI),F6e=Math.SQRT2;let r_=NaN;function OS(e,t){e=e||0,t=null==t?1:t;let r,o,n=0,i=0;if(r_==r_)n=r_,r_=NaN;else{do{n=2*fc()-1,i=2*fc()-1,r=n*n+i*i}while(0===r||r>1);o=Math.sqrt(-2*Math.log(r)/r),n*=o,r_=i*o}return e+n*t}function pB(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*Lne)}function MS(e,t,n){const i=(e-(t=t||0))/(n=null==n?1:n),r=Math.abs(i);let o;if(r>37)o=0;else{const s=Math.exp(-r*r/2);let a;r<7.07106781186547?(a=.0352624965998911*r+.700383064443688,a=a*r+6.37396220353165,a=a*r+33.912866078383,a=a*r+112.079291497871,a=a*r+221.213596169931,a=a*r+220.206867912376,o=s*a,a=.0883883476483184*r+1.75566716318264,a=a*r+16.064177579207,a=a*r+86.7807322029461,a=a*r+296.564248779674,a=a*r+637.333633378831,a=a*r+793.826512519948,a=a*r+440.413735824752,o/=a):(a=r+.65,a=r+4/a,a=r+3/a,a=r+2/a,a=r+1/a,o=s/a/2.506628274631)}return i>0?1-o:o}function RS(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*F6e*function(e){let n,t=-Math.log((1-e)*(1+e));return t<6.25?(t-=3.125,n=-364441206401782e-35,n=n*t-16850591381820166e-35,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=n*t-1333171662854621e-31,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=n*t-4054566272975207e-29,n=n*t-8151934197605472e-29,n=26335093153082323e-28+n*t,n=n*t-12975133253453532e-27,n=n*t-5415412054294628e-26,n=1.0512122733215323e-9+n*t,n=n*t-4.112633980346984e-9,n=n*t-2.9070369957882005e-8,n=4.2347877827932404e-7+n*t,n=n*t-13654692000834679e-22,n=n*t-13882523362786469e-21,n=.00018673420803405714+n*t,n=n*t-.000740702534166267,n=n*t-.006033670871430149,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=2.2137376921775787e-9,n=9.075656193888539e-8+n*t,n=n*t-2.7517406297064545e-7,n=1.8239629214389228e-8+n*t,n=15027403968909828e-22+n*t,n=n*t-4013867526981546e-21,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=n*t-47318229009055734e-21,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=n*t-.0003550375203628475,n=.0009532893797373805+n*t,n=n*t-.0016882755560235047,n=.002491442096107851+n*t,n=n*t-.003751208507569241,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=n*t-2.555641816996525e-10,n=1.5076572693500548e-9+n*t,n=n*t-3.789465440126737e-9,n=7.61570120807834e-9+n*t,n=n*t-1.496002662714924e-8,n=2.914795345090108e-8+n*t,n=n*t-6.771199775845234e-8,n=2.2900482228026655e-7+n*t,n=n*t-9.9298272942317e-7,n=4526062597223154e-21+n*t,n=n*t-1968177810553167e-20,n=7599527703001776e-20+n*t,n=n*t-.00021503011930044477,n=n*t-.00013871931833623122,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}(2*e-1)}function AB(e,t){let n,i;const r={mean(o){return arguments.length?(n=o||0,r):n},stdev(o){return arguments.length?(i=null==o?1:o,r):i},sample:()=>OS(n,i),pdf:o=>pB(o,n,i),cdf:o=>MS(o,n,i),icdf:o=>RS(o,n,i)};return r.mean(e).stdev(t)}function IB(e,t){const n=AB();let i=0;const r={data(o){return arguments.length?(e=o,i=o?o.length:0,r.bandwidth(t)):e},bandwidth(o){return arguments.length?(!(t=o)&&e&&(t=CB(e)),r):t},sample:()=>e[~~(fc()*i)]+t*n.sample(),pdf(o){let s=0,a=0;for(;a<i;++a)s+=n.pdf((o-e[a])/t);return s/t/i},cdf(o){let s=0,a=0;for(;a<i;++a)s+=n.cdf((o-e[a])/t);return s/i},icdf(){throw Error("KDE icdf not supported.")}};return r.data(e)}function mB(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+OS()*t)}function vB(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*Lne*e)}function yB(e,t,n){return MS(Math.log(e),t,n)}function bB(e,t,n){return Math.exp(RS(e,t,n))}function Bne(e,t){let n,i;const r={mean(o){return arguments.length?(n=o||0,r):n},stdev(o){return arguments.length?(i=null==o?1:o,r):i},sample:()=>mB(n,i),pdf:o=>vB(o,n,i),cdf:o=>yB(o,n,i),icdf:o=>bB(o,n,i)};return r.mean(e).stdev(t)}function jne(e,t){let i,n=0;const o={weights(s){return arguments.length?(i=function(s){const a=[];let u,l=0;for(u=0;u<n;++u)l+=a[u]=null==s[u]?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=fc();let a=e[n-1],l=i[0],u=0;for(;u<n-1;l+=i[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=i[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=i[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function _B(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*fc()}function wB(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function EB(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function xB(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Vne(e,t){let n,i;const r={min(o){return arguments.length?(n=o||0,r):n},max(o){return arguments.length?(i=null==o?1:o,r):i},sample:()=>_B(n,i),pdf:o=>wB(o,n,i),cdf:o=>EB(o,n,i),icdf:o=>xB(o,n,i)};return null==t&&(t=null==e?1:e,e=0),r.min(e).max(t)}function o_(e,t,n,i){const r=i-e*e,o=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-o*e,o]}function FS(e,t,n,i){e=e.filter(f=>{let h=t(f),C=n(f);return null!=h&&(h=+h)>=h&&null!=C&&(C=+C)>=C}),i&&e.sort((f,h)=>t(f)-t(h));const r=e.length,o=new Float64Array(r),s=new Float64Array(r);let c,g,d,a=0,l=0,u=0;for(d of e)o[a]=c=+t(d),s[a]=g=+n(d),++a,l+=(c-l)/a,u+=(g-u)/a;for(a=0;a<r;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function s_(e,t,n,i){let o,s,r=-1;for(const a of e)o=t(a),s=n(a),null!=o&&(o=+o)>=o&&null!=s&&(s=+s)>=s&&i(o,s,++r)}function ev(e,t,n,i,r){let o=0,s=0;return s_(e,t,n,(a,l)=>{const u=l-r(a),c=l-i;o+=u*u,s+=c*c}),1-o/s}function DB(e,t,n){let i=0,r=0,o=0,s=0,a=0;s_(e,t,n,(c,g)=>{++a,i+=(c-i)/a,r+=(g-r)/a,o+=(c*g-o)/a,s+=(c*c-s)/a});const l=o_(i,r,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:ev(e,t,n,r,u)}}function zne(e,t,n){let i=0,r=0,o=0,s=0,a=0;s_(e,t,n,(c,g)=>{++a,c=Math.log(c),i+=(c-i)/a,r+=(g-r)/a,o+=(c*g-o)/a,s+=(c*c-s)/a});const l=o_(i,r,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:ev(e,t,n,r,u)}}function Hne(e,t,n){const[i,r,o,s]=FS(e,t,n);let d,f,h,a=0,l=0,u=0,c=0,g=0;s_(e,t,n,(m,y)=>{d=i[g++],f=Math.log(y),h=d*y,a+=(y*f-a)/g,l+=(h-l)/g,u+=(h*f-u)/g,c+=(d*h-c)/g});const[C,p]=o_(l/s,a/s,u/s,c/s),I=m=>Math.exp(C+p*(m-o));return{coef:[Math.exp(C-p*o),p],predict:I,rSquared:ev(e,t,n,s,I)}}function Une(e,t,n){let i=0,r=0,o=0,s=0,a=0,l=0;s_(e,t,n,(g,d)=>{const f=Math.log(g),h=Math.log(d);++l,i+=(f-i)/l,r+=(h-r)/l,o+=(f*h-o)/l,s+=(f*f-s)/l,a+=(d-a)/l});const u=o_(i,r,o,s),c=g=>u[0]*Math.pow(g,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:ev(e,t,n,a,c)}}function SB(e,t,n){const[i,r,o,s]=FS(e,t,n),a=i.length;let f,h,C,p,l=0,u=0,c=0,g=0,d=0;for(f=0;f<a;)h=i[f],C=r[f++],p=h*h,l+=(p-l)/f,u+=(p*h-u)/f,c+=(p*p-c)/f,g+=(h*C-g)/f,d+=(p*C-d)/f;const I=c-l*l,m=l*I-u*u,y=(d*l-g*u)/m,_=(g*I-d*u)/m,N=-y*l,O=k=>y*(k-=o)*k+_*k+N+s;return{coef:[N-_*o+y*o*o+s,_-2*y*o,y],predict:O,rSquared:ev(e,t,n,s,O)}}function Gne(e,t,n,i){if(1===i)return DB(e,t,n);if(2===i)return SB(e,t,n);const[r,o,s,a]=FS(e,t,n),l=r.length,u=[],c=[],g=i+1;let d,f,h,C,p;for(d=0;d<g;++d){for(h=0,C=0;h<l;++h)C+=Math.pow(r[h],d)*o[h];for(u.push(C),p=new Float64Array(g),f=0;f<g;++f){for(h=0,C=0;h<l;++h)C+=Math.pow(r[h],d+f);p[f]=C}c.push(p)}c.push(u);const I=function(e){const t=e.length-1,n=[];let i,r,o,s,a;for(i=0;i<t;++i){for(s=i,r=i+1;r<t;++r)Math.abs(e[i][r])>Math.abs(e[i][s])&&(s=r);for(o=i;o<t+1;++o)a=e[o][i],e[o][i]=e[o][s],e[o][s]=a;for(r=i+1;r<t;++r)for(o=t;o>=i;o--)e[o][r]-=e[o][i]*e[i][r]/e[i][i]}for(r=t-1;r>=0;--r){for(a=0,o=r+1;o<t;++o)a+=e[o][r]*n[o];n[r]=(e[t][r]-a)/e[r][r]}return n}(c),m=y=>{let _=a+I[0]+I[1]*(y-=s)+I[2]*y*y;for(d=3;d<g;++d)_+=I[d]*Math.pow(y,d);return _};return{coef:L6e(g,I,-s,a),predict:m,rSquared:ev(e,t,n,a,m)}}function L6e(e,t,n,i){const r=Array(e);let o,s,a,l;for(o=0;o<e;++o)r[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,r[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,r[o-s]+=a*Math.pow(n,s)*l;return r[0]+=i,r}function Yne(e,t,n,i){const[r,o,s,a]=FS(e,t,n,!0),l=r.length,u=Math.max(2,~~(i*l)),c=new Float64Array(l),g=new Float64Array(l),d=new Float64Array(l).fill(1);for(let f=-1;++f<=2;){const h=[0,u-1];for(let p=0;p<l;++p){const I=r[p],m=h[0],y=h[1];let N=0,O=0,k=0,M=0,V=0;const z=1/Math.abs(r[I-r[m]>r[y]-I?m:y]-I||1);for(let se=m;se<=y;++se){const _e=r[se],ae=o[se],le=j6e(Math.abs(I-_e)*z)*d[se],q=_e*le;N+=le,O+=q,k+=ae*le,M+=ae*q,V+=_e*q}const[H,ee]=o_(O/N,k/N,M/N,V/N);c[p]=H+ee*I,g[p]=Math.abs(o[p]-c[p]),V6e(r,p+1,h)}if(2===f)break;const C=One(g);if(Math.abs(C)<1e-12)break;for(let I,m,p=0;p<l;++p)I=g[p]/(6*C),d[p]=I>=1?1e-12:(m=1-I*I)*m}return function(e,t,n,i){const r=e.length,o=[];let u,s=0,a=0,l=[];for(;s<r;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=i,l=[u,t[s]],o.push(l));return l[1]+=i,o}(r,c,s,a)}function j6e(e){return(e=1-e*e*e)*e*e}function V6e(e,t,n){const i=e[t];let r=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>r&&e[o]-i<=i-e[r];)n[0]=++r,n[1]=o,++o}const H6e=.5*Math.PI/180;function PS(e,t,n,i){n=n||25,i=Math.max(n,i||200);const r=C=>[C,e(C)],o=t[0],s=t[1],a=s-o,l=a/i,u=[r(o)],c=[];if(n===i){for(let C=1;C<i;++C)u.push(r(o+C/n*a));return u.push(r(s)),u}c.push(r(s));for(let C=n;--C>0;)c.push(r(o+C/n*a));let g=u[0],d=c[c.length-1];const f=1/a,h=function(e,t){let n=e,i=e;const r=t.length;for(let o=0;o<r;++o){const s=t[o][1];s<n&&(n=s),s>i&&(i=s)}return 1/(i-n)}(g[1],c);for(;d;){const C=r((g[0]+d[0])/2);C[0]-g[0]>=l&&G6e(g,C,d,f,h)>H6e?c.push(C):(g=d,u.push(d),c.pop()),d=c[c.length-1]}return u}function G6e(e,t,n,i,r){const o=Math.atan2(r*(n[1]-e[1]),i*(n[0]-e[0])),s=Math.atan2(r*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(o-s)}function yu(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}function TB(e){return e&&e.length?1===e.length?e[0]:function(e){return t=>{const n=e.length;let i=1,r=String(e[0](t));for(;i<n;++i)r+="|"+e[i](t);return r}}(e):function(){return""}}function qne(e,t,n){return n||e+(t?"_"+t:"")}const kB=()=>{},Y6e={init:kB,add:kB,rem:kB,idx:0},a_={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},l_=Object.keys(a_);function Zne(e,t){return a_[e](t)}function Kne(e,t){return e.idx-t.idx}function K6e(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function X6e(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t))):++this.missing}function Q6e(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t))):--this.missing}function J6e(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function Xne(e,t){const n=t||tl,i=function(e){const t={};e.forEach(i=>t[i.name]=i);const n=i=>{!i.req||i.req.forEach(r=>{t[r]||n(t[r]=a_[r]())})};return e.forEach(n),Object.values(t).sort(Kne)}(e),r=e.slice().sort(Kne);function o(s){this._ops=i,this._out=r,this.cell=s,this.init()}return o.prototype.init=K6e,o.prototype.add=X6e,o.prototype.rem=Q6e,o.prototype.set=J6e,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function NB(e){this._key=e?Ol(e):cn,this.reset()}l_.forEach(e=>{a_[e]=function(e,t){return n=>ii({name:e,out:n||e},Y6e,t)}(e,a_[e])});const Js=NB.prototype;function mC(e){Ne.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function OB(e){Ne.call(this,null,e)}function Qne(e,t,n){const i=e;let r=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[i(l)]=++a,size:()=>r.length,data:(l,u)=>(a&&(r=r.filter(c=>!s[i(c)]),s={},a=0),u&&l&&r.sort(l),o.length&&(r=l?jee(l,r,o.sort(l)):r.concat(o),o=[]),r)}}function MB(e){Ne.call(this,[],e)}function Jne(e){Dr.call(this,null,t9e,e)}function t9e(e){return this.value&&!e.modified()?this.value:rL(e.fields,e.orders)}function RB(e){Ne.call(this,null,e)}function FB(e){Ne.call(this,null,e)}Js.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Js.add=function(e){this._add.push(e)},Js.rem=function(e){this._rem.push(e)},Js.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,i=e.length,r=t.length,o=Array(i-r),s={};let a,l,u;for(a=0;a<r;++a)s[n(t[a])]=1;for(a=0,l=0;a<i;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o},Js.distinct=function(e){const t=this.values(),n={};let o,i=t.length,r=0;for(;--i>=0;)o=e(t[i])+"",Sn(n,o)||(n[o]=1,++r);return r},Js.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=Mee(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},Js.argmin=function(e){return this.extent(e)[0]||{}},Js.argmax=function(e){return this.extent(e)[1]||{}},Js.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},Js.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},Js.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=hB(this.values(),e),this._get=e),this._q},Js.q1=function(e){return this.quartile(e)[0]},Js.q2=function(e){return this.quartile(e)[1]},Js.q3=function(e){return this.quartile(e)[2]},Js.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=Fne(this.values(),1e3,.05,e),this._get=e),this._ci},Js.ci0=function(e){return this.ci(e)[0]},Js.ci1=function(e){return this.ci(e)[1]},mC.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:l_},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},gt(mC,Ne,{transform(e,t){const n=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.modified();return n.stamp=i.stamp,n.value&&(r||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),i.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&i.clean(!0).runAfter(()=>this.clean()),n.changes(i)},cross(){const e=this,t=e.value,n=e._dnames,i=n.map(()=>({})),r=n.length;function o(a){let l,u,c,g;for(l in a)for(c=a[l].tuple,u=0;u<r;++u)i[u][g=c[n[u]]]=g}o(e._prev),o(t),function s(a,l,u){const c=n[u],g=i[u++];for(const d in g){const f=a?a+"|"+d:d;l[c]=g[d],u<r?s(f,l,u):t[f]||e.cell(f,l)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],i={};function r(p){const I=_n(Ia(p)),m=I.length;let _,y=0;for(;y<m;++y)i[_=I[y]]||(i[_]=1,t.push(_))}this._dims=_n(e.groupby),this._dnames=this._dims.map(p=>{const I=Io(p);return r(p),n.push(I),I}),this.cellkey=e.key?e.key:TB(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.as||[],l=o.length,u={};let c,g,d,f,h,C;for(l!==s.length&&Be("Unmatched number of fields and aggregate ops."),C=0;C<l;++C)c=o[C],g=s[C],null==c&&"count"!==g&&Be("Null aggregate field specified."),f=Io(c),h=qne(g,f,a[C]),n.push(h),"count"!==g?(d=u[f],d||(r(c),d=u[f]=[],d.field=c,this._measures.push(d)),"count"!==g&&(this._countOnly=!1),d.push(Zne(g,h))):this._counts.push(h);return this._measures=this._measures.map(p=>Xne(p,p.field)),{}},cellkey:TB(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const i=this._measures,r=i.length;n.agg=Array(r);for(let o=0;o<r;++o)n.agg[o]=new i[o](n)}return n.store&&(n.data=new NB),n},newtuple(e,t){const n=this._dnames,i=this._dims,r=i.length,o={};for(let s=0;s<r;++s)o[n[s]]=i[s](e);return t?Ane(t.tuple,o):sr(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const i=n.agg;for(let r=0,o=i.length;r<o;++r)i[r].add(i[r].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const i=n.agg;for(let r=0,o=i.length;r<o;++r)i[r].rem(i[r].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,r=n.length;i<r;++i)t[n[i]]=e.num;if(!this._countOnly){const i=e.agg;for(let r=0,o=i.length;r<o;++r)i[r].set(t)}return t},changes(e){const t=this._adds,n=this._mods,i=this._prev,r=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,g;if(i)for(u in i)l=i[u],(!r||l.num)&&s.push(l.tuple);for(c=0,g=this._alen;c<g;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,g=this._mlen;c<g;++c)l=n[c],(0===l.num&&r?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}}),OB.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},gt(OB,Ne,{transform(e,t){const n=!1!==e.interval,i=this._bins(e),r=i.start,o=i.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return u=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Ia(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const g=i(c);c[a]=g,c[l]=null==g?null:r+o*(1+(g-r)/o)}:c=>c[a]=i(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=Rne(e),i=n.step;let s,a,r=n.start,o=r+Math.ceil((n.stop-r)/i)*i;null!=(s=e.anchor)&&(a=s-(r+i*Math.floor((s-r)/i)),r+=a,o+=a);const l=function(u){let c=ma(t(u));return null==c?null:c<r?-1/0:c>o?1/0:(c=Math.max(r,Math.min(c,o-i)),r+i*Math.floor(1e-14+(c-r)/i))};return l.start=r,l.stop=n.stop,l.step=i,this.value=Nl(l,Ia(t),e.name||"bin_"+Io(t))}}),MB.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},gt(MB,Ne,{transform(e,t){const n=t.fork(t.ALL),i=Qne(cn,this.value,n.materialize(n.ADD).add),r=e.sort,o=t.changed()||r&&(e.modified("sort")||t.modified(r.fields));return n.visit(n.REM,i.remove),this.modified(o),this.value=n.source=i.data(BA(r),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),gt(Jne,Dr),RB.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},gt(RB,Ne,{transform(e,t){const n=g=>d=>{for(var h,f=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(a(d),e.case,o)||[],C=0,p=f.length;C<p;++C)s.test(h=f[C])||g(h)},i=this._parameterCheck(e,t),r=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(g=>r[g]=1+(r[g]||0)),c=n(g=>r[g]-=1);return i?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,i=this._tuples||(this._tuples={}),r=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=i[a],u=n[a]||0,!l&&u?(i[a]=l=sr({}),l[r]=a,l[o]=u,s.add.push(l)):0===u?(l&&s.rem.push(l),n[a]=null,i[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}}),FB.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},gt(FB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.as||["a","b"],r=i[0],o=i[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var l,u,r=[],o={},s=e.length,a=0;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],i(o)&&(r.push(sr(o)),(o={})[t]=u);return r}(a,r,o,e.filter||cc)):n.mod=a,n.source=this.value,n.modifies(i)}});const eie={kde:IB,mixture:jne,normal:AB,lognormal:Bne,uniform:Vne};function nie(e,t){const n=e.function;Sn(eie,n)||Be("Unknown distribution function: "+n);const i=eie[n]();for(const r in e)"field"===r?i.data((e.from||t()).map(e[r])):"distributions"===r?i[r](e[r].map(o=>nie(o,t))):"function"==typeof i[r]&&i[r](e[r]);return i}function PB(e){Ne.call(this,null,e)}const iie=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];function rie(e,t){return e?e.map((n,i)=>t[i]||Io(n)):null}function LB(e,t,n){const i=[],r=g=>g(l);let o,s,a,l,u,c;if(null==t)i.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(r),c=o[u],c||(o[u]=c=[],c.dims=u,i.push(c)),c.push(n(l));return i}function BB(e){Ne.call(this,null,e)}function sie(e){Dr.call(this,null,u9e,e),this.modified(!0)}function u9e(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Nl(n=>t(n,e),Ia(t),Io(t))}function jB(e){Ne.call(this,[void 0,void 0],e)}function VB(e,t){Dr.call(this,e),this.parent=t,this.count=0}function LS(e){Ne.call(this,{},e),this._keys=B0();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let i=0,r=t.active;i<r;++i)n(t[i],i,t)}}function aie(e){Dr.call(this,null,c9e,e)}function c9e(e){return this.value&&!e.modified()?this.value:rn(e.name)?_n(e.name).map(t=>Ol(t)):Ol(e.name,e.as)}function zB(e){Ne.call(this,B0(),e)}function HB(e){Ne.call(this,[],e)}function UB(e){Ne.call(this,[],e)}function GB(e){Ne.call(this,null,e)}function lie(e){Ne.call(this,[],e)}PB.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:iie.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:iie},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]},gt(PB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=nie(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),r=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";"pdf"!==s&&"cdf"!==s&&Be("Invalid density method: "+s),!e.extent&&!i.data&&Be("Missing density extent parameter."),s=i[s];const a=e.as||["value","density"],u=PS(s,e.extent||gd(i.data()),r,o).map(c=>{const g={};return g[a[0]]=c[0],g[a[1]]=c[1],sr(g)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),BB.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},gt(BB,Ne,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,i=LB(t.source,e.groupby,tl),r=e.smooth||!1,o=e.field,s=e.step||((e,t)=>V1(gd(e,t))/30)(n,o),a=BA((h,C)=>o(h)-o(C)),l=e.as||"bin",u=i.length;let f,c=1/0,g=-1/0,d=0;for(;d<u;++d){const h=i[d].sort(a);f=-1;for(const C of Pne(h,s,r,o))C<c&&(c=C),C>g&&(g=C),h[++f][l]=C}return this.value={start:c,stop:g,step:s},t.reflow(!0).modifies(l)}}),gt(sie,Dr),jB.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},gt(jB,Ne,{transform(e,t){const n=this.value,i=e.field,r=t.changed()||t.modified(i.fields)||e.modified("field");let o=n[0],s=n[1];if((r||null==o)&&(o=1/0,s=-1/0),t.visit(r?t.SOURCE:t.ADD,a=>{const l=ma(i(a));null!=l&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Io(i);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}}),gt(VB,Dr,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),gt(LS,Ne,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,i){const r=this.value;let s,a,o=Sn(r,e)&&r[e];return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=i||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new VB(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),r[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(0===e[n].count){const i=e[n].detachSubflow;i&&i(),delete e[n],++t}if(t){const n=this._targets.filter(i=>i&&i.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,i=e?e.length:0;let r=0;for(;r<i;++r)t[r]=e[r];for(;r<n&&null!=t[r];++r)t[r]=null;t.active=i},transform(e,t){const n=t.dataflow,i=e.key,r=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,r,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=cn(l),c=o.get(u);void 0!==c&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=i(l);o.set(cn(l),u),a(u).add(l)}),s||t.modified(i.fields)?t.visit(t.MOD,l=>{const u=cn(l),c=o.get(u),g=i(l);c===g?a(g).mod(l):(o.set(u,g),a(c).rem(l),a(g).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(cn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=cn(l),c=o.get(u),g=i(l);c!==g&&(o.set(u,g),a(c).rem(l),a(g).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),gt(aie,Dr),zB.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},gt(zB,Ne,{transform(e,t){const n=t.dataflow,i=this.value,r=t.fork(),o=r.add,s=r.rem,a=r.mod,l=e.expr;let u=!0;function c(g){const d=cn(g),f=l(g,e),h=i.get(d);f&&h?(i.delete(d),o.push(g)):f||h?u&&f&&!h&&a.push(g):(i.set(d,1),s.push(g))}return t.visit(t.REM,g=>{const d=cn(g);i.has(d)?i.delete(d):s.push(g)}),t.visit(t.ADD,g=>{l(g,e)?o.push(g):i.set(cn(g),1)}),t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),r}}),HB.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},gt(HB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=rie(i,e.as||[]),o=e.index||null,s=r.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=i.map(h=>h(a)),u=l.reduce((h,C)=>Math.max(h,C.length),0);let g,d,f,c=0;for(;c<u;++c){for(d=iB(a),g=0;g<s;++g)d[r[g]]=null==(f=l[g][c])?null:f;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(r)}}),UB.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},gt(UB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=i.map(Io),o=e.as||["key","value"],s=o[0],a=o[1],l=i.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let g,c=0;c<l;++c)g=iB(u),g[s]=r[c],g[a]=i[c](u),n.add.push(g)}),this.value=n.source=n.add,n.modifies(o)}}),GB.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},gt(GB,Ne,{transform(e,t){const n=e.expr,i=e.as,r=e.modified(),o=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,s=>s[i]=n(s,e))}}),gt(lie,Ne,{transform(e,t){const n=t.fork(t.ALL),i=e.generator;let s,a,l,r=this.value,o=e.size-r.length;if(o>0){for(s=[];--o>=0;)s.push(l=sr(i(e))),r.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=r.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,r=r.slice(-o);return n.source=this.value=r,n}});const BS={value:"value",median:One,mean:function(e,t){let n=0,i=0;if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n},min:gB,max:VA},g9e=[];function WB(e){Ne.call(this,[],e)}function $B(e){mC.call(this,e)}function YB(e){Ne.call(this,null,e)}function uie(e){Dr.call(this,null,C9e,e)}function C9e(e){return this.value&&!e.modified()?this.value:aL(e.fields,e.flat)}function cie(e){Ne.call(this,[],e),this._pending=null}function qB(e,t,n){n.forEach(sr);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}function ZB(e){Ne.call(this,{},e)}function gie(e){Dr.call(this,null,A9e,e)}function A9e(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let o,s,i=1/0,r=-1/0;for(o=0;o<n;++o)s=t[o],s[0]<i&&(i=s[0]),s[1]>r&&(r=s[1]);return[i,r]}function die(e){Dr.call(this,null,I9e,e)}function I9e(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function fie(e){Ne.call(this,null,e)}function KB(e){mC.call(this,e)}function hie(e){LS.call(this,e)}function XB(e){Ne.call(this,null,e)}function Cie(e){Ne.call(this,null,e)}function QB(e){Ne.call(this,null,e)}function pie(e){Ne.call(this,null,e)}function JB(e){Ne.call(this,[],e),this.count=0}function e8(e){Ne.call(this,null,e)}function Aie(e){Ne.call(this,null,e),this.modified(!0)}function t8(e){Ne.call(this,null,e)}WB.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},gt(WB,Ne,{transform(e,t){var d,f,h,C,p,I,m,y,_,N,n=t.fork(t.ALL),i=function(e){var n,t=e.method||BS.value;if(null!=BS[t])return t===BS.value?(n=void 0!==e.value?e.value:0,()=>n):BS[t];Be("Unrecognized imputation method: "+t)}(e),r=function(e){const t=e.field;return n=>n?t(n):NaN}(e),o=Io(e.field),s=Io(e.key),a=(e.groupby||[]).map(Io),l=function(e,t,n,i){var u,c,g,d,f,h,C,p,r=I=>I(p),o=[],s=i?i.slice():[],a={},l={};for(s.forEach((I,m)=>a[I]=m+1),d=0,C=e.length;d<C;++d)h=n(p=e[d]),f=a[h]||(a[h]=s.push(h)),(g=l[c=(u=t?t.map(r):g9e)+""])||(g=l[c]=[],o.push(g),g.values=u),g[f-1]=p;return o.domain=s,o}(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,g=l.domain.length;for(p=0,y=l.length;p<y;++p)for(h=(d=l[p]).values,f=NaN,m=0;m<g;++m)if(null==d[m]){for(C=l.domain[m],N={_impute:!0},I=0,_=h.length;I<_;++I)N[a[I]]=h[I];N[s]=C,N[o]=Number.isNaN(f)?f=i(d,r):f,u.push(sr(N))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}}),$B.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:l_},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},gt($B,mC,{transform(e,t){const n=this,i=e.modified();let r;return n.value&&(i||t.modified(n._inputs,!0))?(r=n.value=i?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(r=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{ii(o,r[n.cellkey(o)].tuple)}),t.reflow(i).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(e[n]),e[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),YB.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},gt(YB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,r=LB(i,e.groupby,e.field),o=(e.groupby||[]).map(Io),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,g=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==a&&"cdf"!==a&&Be("Invalid density method: "+a),"shared"===e.resolve&&(c||(c=gd(i,e.field)),g=d=e.steps||d),r.forEach(f=>{const h=IB(f,s)[a],C=e.counts?f.length:1;PS(h,c||gd(f),g,d).forEach(I=>{const m={};for(let y=0;y<o.length;++y)m[o[y]]=f.dims[y];m[l[0]]=I[0],m[l[1]]=I[1]*C,u.push(sr(m))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),gt(uie,Dr),gt(cie,Ne,{transform(e,t){const n=t.dataflow;return this._pending?qB(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?qB(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(r=>(this._pending=_n(r.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(i=>qB(this,t,_n(i.data)))}}),ZB.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},gt(ZB,Ne,{transform(e,t){const n=e.fields,i=e.index,r=e.values,o=null==e.default?null:e.default,s=e.modified(),a=n.length;let g,d,f,l=s?t.SOURCE:t.ADD,u=t,c=e.as;return r?(d=r.length,a>1&&!c&&Be('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&Be('The "as" parameter has too few output field names.'),c=c||r.map(Io),g=function(h){for(var I,m,C=0,p=0;C<a;++C)if(null==(m=i.get(n[C](h))))for(I=0;I<d;++I,++p)h[c[p]]=o;else for(I=0;I<d;++I,++p)h[c[p]]=r[I](m)}):(c||Be("Missing output field names."),g=function(h){for(var p,C=0;C<a;++C)p=i.get(n[C](h)),h[c[C]]=null==p?o:p}),s?u=t.reflow(!0):(f=n.some(h=>t.modified(h.fields)),l|=f?t.MOD:0),t.visit(l,g),u.modifies(c)}}),gt(gie,Dr),gt(die,Dr),gt(fie,Ne,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),KB.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:l_,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},gt(KB,mC,{_transform:mC.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,i=e.value,r=("count"===e.op?"__count__":e.op)||"sum",o=Ia(n).concat(Ia(i)),s=function(e,t,n){const i={},r=[];return n.visit(n.SOURCE,o=>{const s=e(o);i[s]||(i[s]=1,r.push(s))}),r.sort(lS),t?r.slice(0,t):r}(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>r),fields:s.map(a=>function(e,t,n,i){return Nl(r=>t(r)===e?n(r):NaN,i,e+"")}(a,n,i,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}(e,t),t)}}),gt(hie,LS,{transform(e,t){const n=e.subflow,i=e.field,r=o=>this.subflow(cn(o),n,t,o);return(e.modified("field")||i&&t.modified(Ia(i)))&&Be("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,o=>{const s=r(o);i(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=r(o);i(o).forEach(a=>s.add(sr(a)))}),t.visit(t.REM,o=>{const s=r(o);i(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>r(o).mod(o)),t.visit(t.ADD,o=>r(o).add(o)),t.visit(t.REM,o=>r(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}}),XB.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},gt(XB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=rie(e.fields,e.as||[]),o=i?(a,l)=>function(e,t,n,i){for(let r=0,o=n.length;r<o;++r)t[i[r]]=n[r](e);return t}(a,l,i,r):xS;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=cn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,sr({}));s[cn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[cn(a)]))}),n}}),gt(Cie,Ne,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),QB.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},gt(QB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const o=LB(t.materialize(t.SOURCE).source,e.groupby,e.field),s=(e.groupby||[]).map(Io),a=[],l=e.step||.01,u=e.probs||yu(l/2,1-1e-14,l),c=u.length;return o.forEach(g=>{const d=fB(g,u);for(let f=0;f<c;++f){const h={};for(let C=0;C<s.length;++C)h[s[C]]=g.dims[C];h[i[0]]=u[f],h[i[1]]=d[f],a.push(sr(h))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),gt(pie,Ne,{transform(e,t){let n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,r=>{const o=cn(r);n.rem.push(i[o]),i[o]=null}),t.visit(t.ADD,r=>{const o=iB(r);i[cn(r)]=o,n.add.push(o)}),t.visit(t.MOD,r=>{const o=i[cn(r)];for(const s in r)o[s]=r[s],n.modifies(s);n.mod.push(o)})),n}}),JB.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},gt(JB,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.modified("size"),r=e.size,o=this.value.reduce((c,g)=>(c[cn(g)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let g,d;s.length<r?s.push(c):(d=~~((a+1)*fc()),d<s.length&&d>=l&&(g=s[d],o[cn(g)]&&n.rem.push(g),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const g=cn(c);o[g]&&(o[g]=-1,n.rem.push(c)),--a}),s=s.filter(c=>-1!==o[cn(c)])),(t.rem.length||i)&&s.length<r&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[cn(c)]||u(c)}),l=-1),i&&s.length>r){const c=s.length-r;for(let g=0;g<c;++g)o[cn(s[g])]=-1,n.rem.push(s[g]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[cn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[cn(c)])),this.count=a,this.value=n.source=s,n}}),e8.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},gt(e8,Ne,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=yu(e.start,e.stop,e.step||1).map(r=>{const o={};return o[i]=r,sr(o)}),n.add=t.add.concat(this.value),n}}),gt(Aie,Ne,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const Iie=["unit0","unit1"];function mie(e){Ne.call(this,B0(),e)}function vie(e){Ne.call(this,null,e)}t8.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:NL,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Iie}]},gt(t8,Ne,{transform(e,t){const n=e.field,i=!1!==e.interval,r="utc"===e.timezone,o=this._floor(e,t),s=(r?Z0:q0)(o.unit).offset,a=e.as||Iie,l=a[0],u=a[1],c=o.step;let g=o.start||1/0,d=o.stop||-1/0,f=t.ADD;return(e.modified()||t.modified(Ia(n)))&&(f=(t=t.reflow(!0)).SOURCE,g=1/0,d=-1/0),t.visit(f,h=>{const C=n(h);let p,I;null==C?(h[l]=null,i&&(h[u]=null)):(h[l]=p=I=o(C),i&&(h[u]=I=s(p,c)),p<g&&(g=p),I>d&&(d=I))}),o.start=g,o.stop=d,t.modifies(i?a:l)},_floor(e,t){const n="utc"===e.timezone,{units:i,step:r}=e.units?{units:e.units,step:e.step||1}:Fte({extent:e.extent||gd(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=ML(i),s=this.value||{},a=(n?wte:_te)(o,r);return a.unit=Fi(o),a.units=o,a.step=r,a.start=s.start,a.stop=s.stop,this.value=a}}),gt(mie,Ne,{transform(e,t){const n=t.dataflow,i=e.field,r=this.value,o=a=>r.set(i(a),a);let s=!0;return e.modified("field")||t.modified(i.fields)?(r.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>r.delete(i(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),gt(vie,Ne,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(BA(e.sort)):t.source).map(e.field))}});const u_={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?++e:e}}},percent_rank:function(){const e=u_.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,i=t.compare;let r=t.index;if(e<r){for(;r+1<n.length&&!i(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Be("ntile num must be greater than zero.");const n=u_.cume_dist(),i=n.next;return{init:n.init,next:r=>Math.ceil(t*i(r))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,r=n.data;return i<r.length?e(r[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Be("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const i=e(n.data[n.index]);return null!=i?t=i:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:i=>{const r=i.data;return i.index<=n?t:(n=function(e,t,n){for(let i=t.length;n<i;++n)if(null!=e(t[n]))return n;return-1}(e,r,i.index))<0?(n=r.length,t=null):t=e(r[n])}}}},x9e=Object.keys(u_);function yie(e){const t=_n(e.ops),n=_n(e.fields),i=_n(e.params),r=_n(e.as),o=this.outputs=[],s=this.windows=[],a={},l={},u=[],c=[];let g=!0;function d(f){_n(Ia(f)).forEach(h=>a[h]=1)}d(e.sort),t.forEach((f,h)=>{const C=n[h],p=Io(C),I=qne(f,p,r[h]);if(d(C),o.push(I),Sn(u_,f))s.push(function(e,t,n,i){const r=u_[e](t,n);return{init:r.init||oC,update:function(o,s){s[i]=r.next(o)}}}(f,n[h],i[h],I));else{if(null==C&&"count"!==f&&Be("Null aggregate field specified."),"count"===f)return void u.push(I);g=!1;let m=l[p];m||(m=l[p]=[],m.field=C,c.push(m)),m.push(Zne(f,I))}}),(u.length||c.length)&&(this.cell=function(e,t,n){e=e.map(l=>Xne(l,l.field));const i={num:0,agg:null,store:!1,count:t};if(!n)for(var r=e.length,o=i.agg=Array(r),s=0;s<r;++s)o[s]=new e[s](i);if(i.store)var a=i.data=new NB;return i.add=function(l){if(i.num+=1,!n){a&&a.add(l);for(let u=0;u<r;++u)o[u].add(o[u].get(l),l)}},i.rem=function(l){if(i.num-=1,!n){a&&a.rem(l);for(let u=0;u<r;++u)o[u].rem(o[u].get(l),l)}},i.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=i.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},i.init=function(){i.num=0,a&&a.reset();for(let l=0;l<r;++l)o[l].init()},i}(c,u,g)),this.inputs=Object.keys(a)}const bie=yie.prototype;function n8(e){Ne.call(this,{},e),this._mlen=0,this._mods=[]}function S9e(e,t,n,i){const r=i.sort,o=r&&!i.ignorePeers,s=i.frame||[null,0],a=e.data(n),l=a.length,u=o?H1(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:r||va(-1)};t.init();for(let g=0;g<l;++g)T9e(c,s,g,l),o&&k9e(c,u),t.update(c,a[g])}function T9e(e,t,n,i){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?i:Math.min(i,n+Math.abs(t[1])+1),e.index=n}function k9e(e,t){const n=e.i0,i=e.i1-1,r=e.compare,o=e.data,s=o.length-1;n>0&&!r(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),i<s&&!r(o[i],o[i+1])&&(e.i1=t.right(o,o[i]))}function jS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function VS(e){this._context=e}function vC(){}function _ie(e){this._context=e}function wie(e){this._context=e}function Eie(e,t){this._basis=new VS(e),this._beta=t}bie.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},bie.update=function(e,t){const n=this.cell,i=this.windows,r=e.data,o=i&&i.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(r[s]);for(s=e.p1;s<e.i1;++s)n.add(r[s]);n.set(t)}for(s=0;s<o;++s)i[s].update(e,t)},n8.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:x9e.concat(l_)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},gt(n8,Ne,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),i=BA(e.sort),r=TB(e.groupby),o=a=>this.group(r(a));let s=this.state;(!s||n)&&(s=this.state=new yie(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)S9e(this._mods[a],s,i,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Qne(cn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}}),VS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},_ie.prototype={areaStart:vC,areaEnd:vC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},wie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:jS(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Eie.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var l,i=e[0],r=t[0],o=e[n]-i,s=t[n]-r,a=-1;++a<=n;)this._basis.point(this._beta*e[a]+(1-this._beta)*(i+(l=a/n)*o),this._beta*t[a]+(1-this._beta)*(r+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const R9e=function e(t){function n(i){return 1===t?new VS(i):new Eie(i,t)}return n.beta=function(i){return e(+i)},n}(.85);function zS(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i8(e,t){this._context=e,this._k=(1-t)/6}i8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zS(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:zS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const F9e=function e(t){function n(i){return new i8(i,t)}return n.tension=function(i){return e(+i)},n}(0);function r8(e,t){this._context=e,this._k=(1-t)/6}r8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const P9e=function e(t){function n(i){return new r8(i,t)}return n.tension=function(i){return e(+i)},n}(0);function o8(e,t){this._context=e,this._k=(1-t)/6}o8.prototype={areaStart:vC,areaEnd:vC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zS(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const L9e=function e(t){function n(i){return new o8(i,t)}return n.tension=function(i){return e(+i)},n}(0);var xie=Math.abs,_a=Math.atan2,zA=Math.cos,B9e=Math.max,s8=Math.min,hd=Math.sin,tv=Math.sqrt,wa=1e-12,yC=Math.PI,HS=yC/2,c_=2*yC;function j9e(e){return e>1?0:e<-1?yC:Math.acos(e)}function Die(e){return e>=1?HS:e<=-1?-HS:Math.asin(e)}function a8(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>wa){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>wa){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}function Sie(e,t){this._context=e,this._alpha=t}Sie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a8(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V9e=function e(t){function n(i){return t?new Sie(i,t):new i8(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function Tie(e,t){this._context=e,this._alpha=t}Tie.prototype={areaStart:vC,areaEnd:vC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:a8(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const z9e=function e(t){function n(i){return t?new Tie(i,t):new o8(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function kie(e,t){this._context=e,this._alpha=t}kie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:a8(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const H9e=function e(t){function n(i){return t?new kie(i,t):new r8(i,0)}return n.alpha=function(i){return e(+i)},n}(.5);function Nie(e){this._context=e}function l8(e){return new Nie(e)}function Oie(e){this._context=e}function Mie(e){return e<0?-1:1}function Rie(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Mie(o)+Mie(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Fie(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function u8(e,t,n){var i=e._x0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,e._y0+a*t,o-a,s-a*n,o,s)}function US(e){this._context=e}function Pie(e){this._context=new Lie(e)}function Lie(e){this._context=e}function Bie(e){this._context=e}function jie(e){var t,i,n=e.length-1,r=new Array(n),o=new Array(n),s=new Array(n);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)o[t]-=i=r[t]/o[t-1],s[t]-=i*s[t-1];for(r[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(o[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function GS(e,t){this._context=e,this._t=t}Nie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Oie.prototype={areaStart:vC,areaEnd:vC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},US.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u8(this,this._t0,Fie(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,u8(this,Fie(this,n=Rie(this,e,t)),n);break;default:u8(this,this._t0,n=Rie(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Pie.prototype=Object.create(US.prototype)).point=function(e,t){US.prototype.point.call(this,t,e)},Lie.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},Bie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=jie(e),r=jie(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},GS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const c8=Math.PI,g8=2*c8,HA=1e-6,K9e=g8-HA;function d8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vie(){return new d8}d8.prototype=Vie.prototype={constructor:d8,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){var o=this._x1,s=this._y1,a=(n=+n)-(e=+e),l=(i=+i)-(t=+t),u=o-e,c=s-t,g=u*u+c*c;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(g>HA)if(Math.abs(c*a-l*u)>HA&&r){var d=n-o,f=i-s,h=a*a+l*l,C=d*d+f*f,p=Math.sqrt(h),I=Math.sqrt(g),m=r*Math.tan((c8-Math.acos((h+g-C)/(2*p*I)))/2),y=m/I,_=m/p;Math.abs(y-1)>HA&&(this._+="L"+(e+y*u)+","+(t+y*c)),this._+="A"+r+","+r+",0,0,"+ +(c*d>u*f)+","+(this._x1=e+_*a)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=e+s,u=t+a,c=1^o,g=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>HA||Math.abs(this._y1-u)>HA)&&(this._+="L"+l+","+u),n&&(g<0&&(g=g%g8+g8),g>K9e?this._+="A"+n+","+n+",0,1,"+c+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):g>HA&&(this._+="A"+n+","+n+",0,"+ +(g>=c8)+","+c+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const nv=Vie;function gr(e){return function(){return e}}function X9e(e){return e.innerRadius}function Q9e(e){return e.outerRadius}function J9e(e){return e.startAngle}function e7e(e){return e.endAngle}function t7e(e){return e&&e.padAngle}function n7e(e,t,n,i,r,o,s,a){var l=n-e,u=i-t,c=s-r,g=a-o,d=g*l-c*u;if(!(d*d<wa))return[e+(d=(c*(t-o)-g*(e-r))/d)*l,t+d*u]}function WS(e,t,n,i,r,o,s){var a=e-n,l=t-i,u=(s?o:-o)/tv(a*a+l*l),c=u*l,g=-u*a,d=e+c,f=t+g,h=n+c,C=i+g,p=(d+h)/2,I=(f+C)/2,m=h-d,y=C-f,_=m*m+y*y,N=r-o,O=d*C-h*f,k=(y<0?-1:1)*tv(B9e(0,N*N*_-O*O)),M=(O*y-m*k)/_,V=(-O*m-y*k)/_,z=(O*y+m*k)/_,H=(-O*m+y*k)/_,ee=M-p,se=V-I,_e=z-p,ae=H-I;return ee*ee+se*se>_e*_e+ae*ae&&(M=z,V=H),{cx:M,cy:V,x01:-c,y01:-g,x11:M*(r/N-1),y11:V*(r/N-1)}}function zie(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Hie(e){return e[0]}function Uie(e){return e[1]}function Gie(e,t){var n=gr(!0),i=null,r=l8,o=null;function s(a){var l,c,d,u=(a=zie(a)).length,g=!1;for(null==i&&(o=r(d=nv())),l=0;l<=u;++l)!(l<u&&n(c=a[l],l,a))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(c,l,a),+t(c,l,a));if(d)return o=null,d+""||null}return e="function"==typeof e?e:void 0===e?Hie:gr(e),t="function"==typeof t?t:void 0===t?Uie:gr(t),s.x=function(a){return arguments.length?(e="function"==typeof a?a:gr(+a),s):e},s.y=function(a){return arguments.length?(t="function"==typeof a?a:gr(+a),s):t},s.defined=function(a){return arguments.length?(n="function"==typeof a?a:gr(!!a),s):n},s.curve=function(a){return arguments.length?(r=a,null!=i&&(o=r(i)),s):r},s.context=function(a){return arguments.length?(null==a?i=o=null:o=r(i=a),s):i},s}function Wie(e,t,n){var i=null,r=gr(!0),o=null,s=l8,a=null;function l(c){var g,d,f,C,I,h=(c=zie(c)).length,p=!1,m=new Array(h),y=new Array(h);for(null==o&&(a=s(I=nv())),g=0;g<=h;++g){if(!(g<h&&r(C=c[g],g,c))===p)if(p=!p)d=g,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=g-1;f>=d;--f)a.point(m[f],y[f]);a.lineEnd(),a.areaEnd()}p&&(m[g]=+e(C,g,c),y[g]=+t(C,g,c),a.point(i?+i(C,g,c):m[g],n?+n(C,g,c):y[g]))}if(I)return a=null,I+""||null}function u(){return Gie().defined(r).curve(s).context(o)}return e="function"==typeof e?e:void 0===e?Hie:gr(+e),t="function"==typeof t?t:gr(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Uie:gr(+n),l.x=function(c){return arguments.length?(e="function"==typeof c?c:gr(+c),i=null,l):e},l.x0=function(c){return arguments.length?(e="function"==typeof c?c:gr(+c),l):e},l.x1=function(c){return arguments.length?(i=null==c?null:"function"==typeof c?c:gr(+c),l):i},l.y=function(c){return arguments.length?(t="function"==typeof c?c:gr(+c),n=null,l):t},l.y0=function(c){return arguments.length?(t="function"==typeof c?c:gr(+c),l):t},l.y1=function(c){return arguments.length?(n=null==c?null:"function"==typeof c?c:gr(+c),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(i).y(t)},l.defined=function(c){return arguments.length?(r="function"==typeof c?c:gr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,null!=o&&(a=s(o)),l):s},l.context=function(c){return arguments.length?(null==c?o=a=null:a=s(o=c),l):o},l}const $ie={draw:function(e,t){var n=Math.sqrt(t/yC);e.moveTo(n,0),e.arc(0,0,n,0,c_)}};Math.sqrt(1/3);Math.sin(yC/10),Math.sin(7*yC/10);function iv(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}Math.sin(c_/10),Math.cos(c_/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);const Zie=H1($0),$S=Zie.right,p7e=Zie.left,g_=(H1(kne),$S);function Cd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function bC(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const C8=Symbol("implicit");function p8(){var e=new Map,t=[],n=[],i=C8;function r(o){var s=o+"",a=e.get(s);if(!a){if(i!==C8)return i;e.set(s,a=t.push(o))}return n[(a-1)%n.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const s of o){const a=s+"";e.has(a)||e.set(a,t.push(s))}return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return p8(t,n).unknown(i)},Cd.apply(r,arguments),r}function Kie(e,t,n,i){var o,r=cC(e,t,n);switch((i=V0(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==i.precision&&!isNaN(o=Zee(r,s))&&(i.precision=o),mL(i,s);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=Kee(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=Xee(r))&&(i.precision=o-2*("%"===i.type))}return dS(i)}function rv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function d_(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function _C(){}var ov=1/.7,sv="\\s*([+-]?\\d+)\\s*",f_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A7e=/^#([0-9a-f]{3,8})$/,I7e=new RegExp("^rgb\\("+[sv,sv,sv]+"\\)$"),m7e=new RegExp("^rgb\\("+[pd,pd,pd]+"\\)$"),v7e=new RegExp("^rgba\\("+[sv,sv,sv,f_]+"\\)$"),y7e=new RegExp("^rgba\\("+[pd,pd,pd,f_]+"\\)$"),b7e=new RegExp("^hsl\\("+[f_,pd,pd]+"\\)$"),_7e=new RegExp("^hsla\\("+[f_,pd,pd,f_]+"\\)$"),Xie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qie(){return this.rgb().formatHex()}function Jie(){return this.rgb().formatRgb()}function h_(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=A7e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ere(t):3===n?new ea(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?YS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?YS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=I7e.exec(e))?new ea(t[1],t[2],t[3],1):(t=m7e.exec(e))?new ea(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=v7e.exec(e))?YS(t[1],t[2],t[3],t[4]):(t=y7e.exec(e))?YS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=b7e.exec(e))?ire(t[1],t[2]/100,t[3]/100,1):(t=_7e.exec(e))?ire(t[1],t[2]/100,t[3]/100,t[4]):Xie.hasOwnProperty(e)?ere(Xie[e]):"transparent"===e?new ea(NaN,NaN,NaN,0):null}function ere(e){return new ea(e>>16&255,e>>8&255,255&e,1)}function YS(e,t,n,i){return i<=0&&(e=t=n=NaN),new ea(e,t,n,i)}function A8(e){return e instanceof _C||(e=h_(e)),e?new ea((e=e.rgb()).r,e.g,e.b,e.opacity):new ea}function wC(e,t,n,i){return 1===arguments.length?A8(e):new ea(e,t,n,null==i?1:i)}function ea(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function tre(){return"#"+I8(this.r)+I8(this.g)+I8(this.b)}function nre(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function I8(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ire(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ad(e,t,n,i)}function rre(e){if(e instanceof Ad)return new Ad(e.h,e.s,e.l,e.opacity);if(e instanceof _C||(e=h_(e)),!e)return new Ad;if(e instanceof Ad)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ad(s,a,l,e.opacity)}function qS(e,t,n,i){return 1===arguments.length?rre(e):new Ad(e,t,n,null==i?1:i)}function Ad(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function m8(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ore(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}function sre(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1];return ore((n-i/t)*t,i>0?e[i-1]:2*r-o,r,o,i<t-1?e[i+2]:2*o-r)}}function are(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t);return ore((n-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}rv(_C,h_,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Qie,formatHex:Qie,formatHsl:function(){return rre(this).formatHsl()},formatRgb:Jie,toString:Jie}),rv(ea,wC,d_(_C,{brighter:function(e){return e=null==e?ov:Math.pow(ov,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tre,formatHex:tre,formatRgb:nre,toString:nre})),rv(Ad,qS,d_(_C,{brighter:function(e){return e=null==e?ov:Math.pow(ov,e),new Ad(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ad(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ea(m8(e>=240?e-240:e+120,r,i),m8(e,r,i),m8(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const ZS=e=>()=>e;function lre(e,t){return function(n){return e+n*t}}function KS(e,t){var n=t-e;return n?lre(e,n>180||n<-180?n-360*Math.round(n/360):n):ZS(isNaN(e)?t:e)}function xs(e,t){var n=t-e;return n?lre(e,n):ZS(isNaN(e)?t:e)}const v8=function e(t){var n=function(e){return 1==(e=+e)?xs:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):ZS(isNaN(t)?n:t)}}(t);function i(r,o){var s=n((r=wC(r)).r,(o=wC(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),u=xs(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return i.gamma=e,i}(1);function ure(e){return function(t){var s,a,n=t.length,i=new Array(n),r=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=wC(t[s]),i[s]=a.r||0,r[s]=a.g||0,o[s]=a.b||0;return i=e(i),r=e(r),o=e(o),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=o(l),a+""}}}var D7e=ure(sre),S7e=ure(are);function y8(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}function cre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T7e(e,t){return(cre(t)?y8:gre)(e,t)}function gre(e,t){var s,n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),o=new Array(n);for(s=0;s<i;++s)r[s]=EC(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<i;++s)o[s]=r[s](a);return o}}function dre(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function gg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fre(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=EC(e[r],t[r]):i[r]=t[r];return function(o){for(r in n)i[r]=n[r](o);return i}}var b8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_8=new RegExp(b8.source,"g");function hre(e,t){var i,r,o,n=b8.lastIndex=_8.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(i=b8.exec(e))&&(r=_8.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:gg(i,r)})),n=_8.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(u){for(var g,c=0;c<t;++c)a[(g=l[c]).i]=g.x(u);return a.join("")})}function EC(e,t){var i,n=typeof t;return null==t||"boolean"===n?ZS(t):("number"===n?gg:"string"===n?(i=h_(t))?(t=i,v8):hre:t instanceof h_?v8:t instanceof Date?dre:cre(t)?y8:Array.isArray(t)?gre:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?fre:gg)(e,t)}function C_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function w8(e){return+e}var Cre=[0,1];function Pl(e){return e}function E8(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function R7e(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=E8(r,i),o=n(s,o)):(i=E8(i,r),o=n(o,s)),function(a){return o(i(a))}}function F7e(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=E8(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=g_(e,a,1,i)-1;return o[l](r[l](a))}}function p_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function XS(){var i,r,o,a,l,u,e=Cre,t=Cre,n=EC,s=Pl;function c(){var d=Math.min(e.length,t.length);return s!==Pl&&(s=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}(e[0],e[d-1])),a=d>2?F7e:R7e,l=u=null,g}function g(d){return null==d||isNaN(d=+d)?o:(l||(l=a(e.map(i),t,n)))(i(s(d)))}return g.invert=function(d){return s(r((u||(u=a(t,e.map(i),gg)))(d)))},g.domain=function(d){return arguments.length?(e=Array.from(d,w8),c()):e.slice()},g.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},g.rangeRound=function(d){return t=Array.from(d),n=C_,c()},g.clamp=function(d){return arguments.length?(s=!!d||Pl,c()):s!==Pl},g.interpolate=function(d){return arguments.length?(n=d,c()):n},g.unknown=function(d){return arguments.length?(o=d,g):o},function(d,f){return i=d,r=f,c()}}function pre(){return XS()(Pl,Pl)}function GA(e){var t=e.domain;return e.ticks=function(n){var i=t();return AL(i[0],i[i.length-1],null==n?10:n)},e.tickFormat=function(n,i){var r=t();return Kie(r[0],r[r.length-1],null==n?10:n,i)},e.nice=function(n){null==n&&(n=10);var l,u,i=t(),r=0,o=i.length-1,s=i[r],a=i[o],c=10;for(a<s&&(u=s,s=a,a=u,u=r,r=o,o=u);c-- >0;){if((u=qee(s,a,n))===l)return i[r]=s,i[o]=a,t(i);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else{if(!(u<0))break;s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u}l=u}return e},e}function mre(e,t){var s,n=0,i=(e=e.slice()).length-1,r=e[n],o=e[i];return o<r&&(s=n,n=i,i=s,s=r,r=o,o=s),e[n]=t.floor(r),e[i]=t.ceil(o),e}function vre(e){return Math.log(e)}function yre(e){return Math.exp(e)}function P7e(e){return-Math.log(-e)}function L7e(e){return-Math.exp(-e)}function B7e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bre(e){return function(t){return-e(-t)}}function x8(e){var r,o,t=e(vre,yre),n=t.domain,i=10;function s(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(i),o=function(e){return 10===e?B7e:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(i),n()[0]<0?(r=bre(r),o=bre(o),e(P7e,L7e)):e(vre,yre),t}return t.base=function(a){return arguments.length?(i=+a,s()):i},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=function(a){var g,l=n(),u=l[0],c=l[l.length-1];(g=c<u)&&(d=u,u=c,c=d);var h,C,p,d=r(u),f=r(c),I=null==a?10:+a,m=[];if(!(i%1)&&f-d<I){if(d=Math.floor(d),f=Math.ceil(f),u>0){for(;d<=f;++d)for(C=1,h=o(d);C<i;++C)if(!((p=h*C)<u)){if(p>c)break;m.push(p)}}else for(;d<=f;++d)for(C=i-1,h=o(d);C>=1;--C)if(!((p=h*C)<u)){if(p>c)break;m.push(p)}2*m.length<I&&(m=AL(u,c,I))}else m=AL(d,f,Math.min(f-d,I)).map(o);return g?m.reverse():m},t.tickFormat=function(a,l){if(null==l&&(l=10===i?".0e":","),"function"!=typeof l&&(l=dS(l)),a===1/0)return l;null==a&&(a=10);var u=Math.max(1,i*a/t.ticks().length);return function(c){var g=c/o(Math.round(r(c)));return g*i<i-.5&&(g*=i),g<=u?l(c):""}},t.nice=function(){return n(mre(n(),{floor:function(a){return o(Math.floor(r(a)))},ceil:function(a){return o(Math.ceil(r(a)))}}))},t}function wre(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function z7e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function H7e(e){return e<0?-e*e:e*e}function D8(e){var t=e(Pl,Pl),n=1;function i(){return 1===n?e(Pl,Pl):.5===n?e(z7e,H7e):e(wre(n),wre(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},GA(t)}function S8(){var e=D8(XS());return e.copy=function(){return p_(e,S8()).exponent(e.exponent())},Cd.apply(e,arguments),e}function Ere(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xre(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T8(e){var t=1,n=e(Ere(t),xre(t));return n.constant=function(i){return arguments.length?e(Ere(t=+i),xre(t)):t},GA(n)}function Sre(e,t,n,i,r,o){const s=[[hC,1,Uf],[hC,5,5e3],[hC,15,15e3],[hC,30,3e4],[o,1,gc],[o,5,5*gc],[o,15,15*gc],[o,30,30*gc],[r,1,Gf],[r,3,3*Gf],[r,6,6*Gf],[r,12,12*Gf],[i,1,RA],[i,2,2*RA],[n,1,bL],[t,1,2592e6],[t,3,7776e6],[e,1,_L]];function l(u,c,g){const d=Math.abs(c-u)/g,f=H1(([,,p])=>p).right(s,d);if(f===s.length)return e.every(cC(u/_L,c/_L,g));if(0===f)return DL.every(Math.max(cC(u,c,g),1));const[h,C]=s[d/s[f-1][2]<s[f][2]/d?f-1:f];return h.every(C)}return[function(u,c,g){const d=c<u;d&&([u,c]=[c,u]);const f=g&&"function"==typeof g.range?g:l(u,c,g),h=f?f.range(u,+c+1):[];return d?h.reverse():h},l]}const[G7e,W7e]=Sre(CC,AS,G0,dC,TL,kL),[$7e,Y7e]=Sre(fC,CS,H0,gC,EL,xL);function q7e(e){return new Date(e)}function Z7e(e){return e instanceof Date?+e:+new Date(+e)}function k8(e,t,n,i,r,o,s,a,l,u){var c=pre(),g=c.invert,d=c.domain,f=u(".%L"),h=u(":%S"),C=u("%I:%M"),p=u("%I %p"),I=u("%a %d"),m=u("%b %d"),y=u("%B"),_=u("%Y");function N(O){return(l(O)<O?f:a(O)<O?h:s(O)<O?C:o(O)<O?p:i(O)<O?r(O)<O?I:m:n(O)<O?y:_)(O)}return c.invert=function(O){return new Date(g(O))},c.domain=function(O){return arguments.length?d(Array.from(O,Z7e)):d().map(q7e)},c.ticks=function(O){var k=d();return e(k[0],k[k.length-1],null==O?10:O)},c.tickFormat=function(O,k){return null==k?N:u(k)},c.nice=function(O){var k=d();return(!O||"function"!=typeof O.range)&&(O=t(k[0],k[k.length-1],null==O?10:O)),O?d(mre(k,O)):c},c.copy=function(){return p_(c,k8(e,t,n,i,r,o,s,a,l,u))},c}function QS(){var n,i,r,o,l,e=0,t=1,s=Pl,a=!1;function u(g){return null==g||isNaN(g=+g)?l:s(0===r?.5:(g=(o(g)-n)*r,a?Math.max(0,Math.min(1,g)):g))}function c(g){return function(d){var f,h;return arguments.length?([f,h]=d,s=g(f,h),u):[s(0),s(1)]}}return u.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),i=o(t=+t),r=n===i?0:1/(i-n),u):[e,t]},u.clamp=function(g){return arguments.length?(a=!!g,u):a},u.interpolator=function(g){return arguments.length?(s=g,u):s},u.range=c(EC),u.rangeRound=c(C_),u.unknown=function(g){return arguments.length?(l=g,u):l},function(g){return o=g,n=g(e),i=g(t),r=n===i?0:1/(i-n),u}}function xC(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function N8(){var e=GA(QS()(Pl));return e.copy=function(){return xC(e,N8())},bC.apply(e,arguments)}function O8(){var e=D8(QS());return e.copy=function(){return xC(e,O8()).exponent(e.exponent())},bC.apply(e,arguments)}function M8(e,t){void 0===t&&(t=e,e=EC);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return function(s){var a=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return o[a](s-a)}}function JS(){var r,o,s,a,l,c,d,e=0,t=.5,n=1,i=1,u=Pl,g=!1;function f(C){return isNaN(C=+C)?d:(C=.5+((C=+c(C))-o)*(i*C<i*o?a:l),u(g?Math.max(0,Math.min(1,C)):C))}function h(C){return function(p){var I,m,y;return arguments.length?([I,m,y]=p,u=M8(C,[I,m,y]),f):[u(0),u(.5),u(1)]}}return f.domain=function(C){return arguments.length?([e,t,n]=C,r=c(e=+e),o=c(t=+t),s=c(n=+n),a=r===o?0:.5/(o-r),l=o===s?0:.5/(s-o),i=o<r?-1:1,f):[e,t,n]},f.clamp=function(C){return arguments.length?(g=!!C,f):g},f.interpolator=function(C){return arguments.length?(u=C,f):u},f.range=h(EC),f.rangeRound=h(C_),f.unknown=function(C){return arguments.length?(d=C,f):d},function(C){return c=C,r=C(e),o=C(t),s=C(n),a=r===o?0:.5/(o-r),l=o===s?0:.5/(s-o),i=o<r?-1:1,f}}function R8(){var e=D8(JS());return e.copy=function(){return xC(e,R8()).exponent(e.exponent())},bC.apply(e,arguments)}function eVe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function tVe(e,t){var n=KS(+e,+t);return function(i){var r=n(i);return r-360*Math.floor(r/360)}}var eT,Lre=180/Math.PI,F8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bre(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Lre,skewX:Math.atan(l)*Lre,scaleX:s,scaleY:a}}function jre(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}return function(u,c){var g=[],d=[];return u=e(u),c=e(c),function(u,c,g,d,f,h){if(u!==g||c!==d){var C=f.push("translate(",null,t,null,n);h.push({i:C-4,x:gg(u,g)},{i:C-2,x:gg(c,d)})}else(g||d)&&f.push("translate("+g+t+d+n)}(u.translateX,u.translateY,c.translateX,c.translateY,g,d),function(u,c,g,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:g.push(r(g)+"rotate(",null,i)-2,x:gg(u,c)})):c&&g.push(r(g)+"rotate("+c+i)}(u.rotate,c.rotate,g,d),function(u,c,g,d){u!==c?d.push({i:g.push(r(g)+"skewX(",null,i)-2,x:gg(u,c)}):c&&g.push(r(g)+"skewX("+c+i)}(u.skewX,c.skewX,g,d),function(u,c,g,d,f,h){if(u!==g||c!==d){var C=f.push(r(f)+"scale(",null,",",null,")");h.push({i:C-4,x:gg(u,g)},{i:C-2,x:gg(c,d)})}else(1!==g||1!==d)&&f.push(r(f)+"scale("+g+","+d+")")}(u.scaleX,u.scaleY,c.scaleX,c.scaleY,g,d),u=c=null,function(f){for(var p,h=-1,C=d.length;++h<C;)g[(p=d[h]).i]=p.x(f);return g.join("")}}}var rVe=jre(function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?F8:Bre(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),oVe=jre(function(e){return null!=e&&(eT||(eT=document.createElementNS("http://www.w3.org/2000/svg","g")),eT.setAttribute("transform",e),e=eT.transform.baseVal.consolidate())?Bre((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):F8},", ",")",")");function Vre(e){return((e=Math.exp(e))+1/e)/2}const uVe=function e(t,n,i){function r(o,s){var p,I,a=o[0],l=o[1],u=o[2],d=s[2],f=s[0]-a,h=s[1]-l,C=f*f+h*h;if(C<1e-12)I=Math.log(d/u)/t,p=function(k){return[a+k*f,l+k*h,u*Math.exp(t*k*I)]};else{var m=Math.sqrt(C),y=(d*d-u*u+i*C)/(2*u*n*m),_=(d*d-u*u-i*C)/(2*d*n*m),N=Math.log(Math.sqrt(y*y+1)-y),O=Math.log(Math.sqrt(_*_+1)-_);I=(O-N)/t,p=function(k){var M=k*I,V=Vre(N),z=u/(n*m)*(V*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*M+N)-function(e){return((e=Math.exp(e))-1/e)/2}(N));return[a+z*f,l+z*h,u*V/Vre(t*M+N)]}}return p.duration=1e3*I*t/Math.SQRT2,p}return r.rho=function(o){var s=Math.max(.001,+o),a=s*s;return e(s,a,a*a)},r}(Math.SQRT2,2,4);function zre(e){return function(t,n){var i=e((t=qS(t)).h,(n=qS(n)).h),r=xs(t.s,n.s),o=xs(t.l,n.l),s=xs(t.opacity,n.opacity);return function(a){return t.h=i(a),t.s=r(a),t.l=o(a),t.opacity=s(a),t+""}}}const cVe=zre(KS);var gVe=zre(xs);const Hre=Math.PI/180,Ure=180/Math.PI,Yre=4/29,av=6/29,qre=3*av*av;function Zre(e){if(e instanceof dg)return new dg(e.l,e.a,e.b,e.opacity);if(e instanceof Id)return Xre(e);e instanceof ea||(e=A8(e));var o,s,t=j8(e.r),n=j8(e.g),i=j8(e.b),r=P8((.2225045*t+.7168786*n+.0606169*i)/1);return t===n&&n===i?o=s=r:(o=P8((.4360747*t+.3850649*n+.1430804*i)/.96422),s=P8((.0139322*t+.0971045*n+.7141733*i)/.82521)),new dg(116*r-16,500*(o-r),200*(r-s),e.opacity)}function nT(e,t,n,i){return 1===arguments.length?Zre(e):new dg(e,t,n,null==i?1:i)}function dg(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function P8(e){return e>.008856451679035631?Math.pow(e,1/3):e/qre+Yre}function L8(e){return e>av?e*e*e:qre*(e-Yre)}function B8(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function j8(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Kre(e){if(e instanceof Id)return new Id(e.h,e.c,e.l,e.opacity);if(e instanceof dg||(e=Zre(e)),0===e.a&&0===e.b)return new Id(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ure;return new Id(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function iT(e,t,n,i){return 1===arguments.length?Kre(e):new Id(e,t,n,null==i?1:i)}function Id(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function Xre(e){if(isNaN(e.h))return new dg(e.l,0,0,e.opacity);var t=e.h*Hre;return new dg(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function fVe(e,t){var n=xs((e=nT(e)).l,(t=nT(t)).l),i=xs(e.a,t.a),r=xs(e.b,t.b),o=xs(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=i(s),e.b=r(s),e.opacity=o(s),e+""}}function Qre(e){return function(t,n){var i=e((t=iT(t)).h,(n=iT(n)).h),r=xs(t.c,n.c),o=xs(t.l,n.l),s=xs(t.opacity,n.opacity);return function(a){return t.h=i(a),t.c=r(a),t.l=o(a),t.opacity=s(a),t+""}}}rv(dg,nT,d_(_C,{brighter:function(e){return new dg(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new dg(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new ea(B8(3.1338561*(t=.96422*L8(t))-1.6168667*(e=1*L8(e))-.4906146*(n=.82521*L8(n))),B8(-.9787684*t+1.9161415*e+.033454*n),B8(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),rv(Id,iT,d_(_C,{brighter:function(e){return new Id(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Id(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Xre(this).rgb()}}));const hVe=Qre(KS);var CVe=Qre(xs),V8=1.78277,z8=-.29227,rT=-.90649,A_=1.97294,eoe=A_*rT,toe=A_*V8,noe=V8*z8- -.14861*rT;function pVe(e){if(e instanceof WA)return new WA(e.h,e.s,e.l,e.opacity);e instanceof ea||(e=A8(e));var n=e.g/255,i=e.b/255,r=(noe*i+eoe*(e.r/255)-toe*n)/(noe+eoe-toe),o=i-r,s=(A_*(n-r)-z8*o)/rT,a=Math.sqrt(s*s+o*o)/(A_*r*(1-r)),l=a?Math.atan2(s,o)*Ure-120:NaN;return new WA(l<0?l+360:l,a,r,e.opacity)}function H8(e,t,n,i){return 1===arguments.length?pVe(e):new WA(e,t,n,null==i?1:i)}function WA(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function ioe(e){return function t(n){function i(r,o){var s=e((r=H8(r)).h,(o=H8(o)).h),a=xs(r.s,o.s),l=xs(r.l,o.l),u=xs(r.opacity,o.opacity);return function(c){return r.h=s(c),r.s=a(c),r.l=l(Math.pow(c,n)),r.opacity=u(c),r+""}}return n=+n,i.gamma=t,i}(1)}rv(WA,H8,d_(_C,{brighter:function(e){return e=null==e?ov:Math.pow(ov,e),new WA(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new WA(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Hre,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new ea(255*(t+n*(-.14861*i+V8*r)),255*(t+n*(z8*i+rT*r)),255*(t+n*(A_*i)),this.opacity)}}));const AVe=ioe(KS);var IVe=ioe(xs);function mVe(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}function U8(e,t,n){const i=e-t+2*n;return e?i>0?i:1:0}const lv="linear",$f="log",I_="pow",m_="sqrt",oT="symlog",$A="time",YA="utc",md="sequential",uv="diverging",cv="quantile",sT="quantize",aT="threshold",G8="ordinal",W8="point",$8="bin-ordinal",us="continuous",v_="discrete",y_="discretizing",pc="interpolating",Y8="temporal";function q8(){const e=p8().unknown(void 0),t=e.domain,n=e.range;let r,o,i=[0,1],s=!1,a=0,l=0,u=.5;function c(){const g=t().length,d=i[1]<i[0],f=i[1-d],h=U8(g,a,l);let C=i[d-0];r=(f-C)/(h||1),s&&(r=Math.floor(r)),C+=(f-C-r*(g-a))*u,o=r*(1-a),s&&(C=Math.round(C),o=Math.round(o));const p=yu(g).map(I=>C+r*I);return n(d?p.reverse():p)}return delete e.unknown,e.domain=function(g){return arguments.length?(t(g),c()):t()},e.range=function(g){return arguments.length?(i=[+g[0],+g[1]],c()):i.slice()},e.rangeRound=function(g){return i=[+g[0],+g[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(g){return arguments.length?(s=!!g,c()):s},e.padding=function(g){return arguments.length?(l=Math.max(0,Math.min(1,g)),a=l,c()):a},e.paddingInner=function(g){return arguments.length?(a=Math.max(0,Math.min(1,g)),c()):a},e.paddingOuter=function(g){return arguments.length?(l=Math.max(0,Math.min(1,g)),c()):l},e.align=function(g){return arguments.length?(u=Math.max(0,Math.min(1,g)),c()):u},e.invertRange=function(g){if(null==g[0]||null==g[1])return;const d=i[1]<i[0],f=d?n().reverse():n(),h=f.length-1;let I,m,y,C=+g[0],p=+g[1];return C!=C||p!=p||(p<C&&(y=C,C=p,p=y),p<f[0]||C>i[1-d])?void 0:(I=Math.max(0,$S(f,C)-1),m=C===p?I:$S(f,p)-1,C-f[I]>o+1e-10&&++I,d&&(y=I,I=h-m,m=h-y),I>m?void 0:t().slice(I,m+1))},e.invert=function(g){const d=e.invertRange([g,g]);return d&&d[0]},e.copy=function(){return q8().domain(t()).range(i).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function ooe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ooe(t())},e}var wVe=Array.prototype.map;function EVe(e){return wVe.call(e,ma)}const xVe=Array.prototype.slice,lT={};function DVe(e,t,n){const i=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?function(e){return function(t){let r,n=t[0],i=t[1];return i<n&&(r=n,n=i,i=r),[e.invert(n),e.invert(i)]}}(o):o.invertExtent?function(e){return function(t){const n=e.range();let s,a,l,u,i=t[0],r=t[1],o=-1;for(r<i&&(a=i,i=r,r=a),l=0,u=n.length;l<u;++l)n[l]>=i&&n[l]<=r&&(o<0&&(o=l),s=l);if(!(o<0))return i=e.invertExtent(n[o]),r=e.invertExtent(n[s]),[void 0===i[0]?i[1]:i[0],void 0===r[1]?r[0]:r[1]]}}(o):void 0),o.type=e,o};return i.metadata=ug(_n(n)),i}function Ji(e,t,n){return arguments.length>1?(lT[e]=DVe(e,t,n),this):aoe(e)?lT[e]:void 0}function aoe(e){return Sn(lT,e)}function qA(e,t){const n=lT[e];return n&&n.metadata[t]}function Z8(e){return qA(e,us)}function gv(e){return qA(e,v_)}function K8(e){return qA(e,y_)}function loe(e){return qA(e,$f)}function uoe(e){return qA(e,pc)}function coe(e){return qA(e,cv)}Ji("identity",function Ire(e){var t;function n(i){return null==i||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,w8),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return Ire(e).unknown(t)},e=arguments.length?Array.from(e,w8):[0,1],GA(n)}),Ji(lv,function Are(){var e=pre();return e.copy=function(){return p_(e,Are())},Cd.apply(e,arguments),GA(e)},us),Ji($f,function _re(){var e=x8(XS()).domain([1,10]);return e.copy=function(){return p_(e,_re()).base(e.base())},Cd.apply(e,arguments),e},[us,$f]),Ji(I_,S8,us),Ji(m_,function(){return S8.apply(null,arguments).exponent(.5)},us),Ji(oT,function Dre(){var e=T8(XS());return e.copy=function(){return p_(e,Dre()).constant(e.constant())},Cd.apply(e,arguments)},us),Ji($A,function(){return Cd.apply(k8($7e,Y7e,fC,CS,H0,gC,EL,xL,hC,HL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[us,Y8]),Ji(YA,function(){return Cd.apply(k8(G7e,W7e,CC,AS,G0,dC,TL,kL,hC,UL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[us,Y8]),Ji(md,N8,[us,pc]),Ji("".concat(md,"-").concat(lv),N8,[us,pc]),Ji("".concat(md,"-").concat($f),function Tre(){var e=x8(QS()).domain([1,10]);return e.copy=function(){return xC(e,Tre()).base(e.base())},bC.apply(e,arguments)},[us,pc,$f]),Ji("".concat(md,"-").concat(I_),O8,[us,pc]),Ji("".concat(md,"-").concat(m_),function(){return O8.apply(null,arguments).exponent(.5)},[us,pc]),Ji("".concat(md,"-").concat(oT),function kre(){var e=T8(QS());return e.copy=function(){return xC(e,kre()).constant(e.constant())},bC.apply(e,arguments)},[us,pc]),Ji("".concat(uv,"-").concat(lv),function Nre(){var e=GA(JS()(Pl));return e.copy=function(){return xC(e,Nre())},bC.apply(e,arguments)},[us,pc]),Ji("".concat(uv,"-").concat($f),function Ore(){var e=x8(JS()).domain([.1,1,10]);return e.copy=function(){return xC(e,Ore()).base(e.base())},bC.apply(e,arguments)},[us,pc,$f]),Ji("".concat(uv,"-").concat(I_),R8,[us,pc]),Ji("".concat(uv,"-").concat(m_),function(){return R8.apply(null,arguments).exponent(.5)},[us,pc]),Ji("".concat(uv,"-").concat(oT),function Mre(){var e=T8(JS());return e.copy=function(){return xC(e,Mre()).constant(e.constant())},bC.apply(e,arguments)},[us,pc]),Ji(cv,function Rre(){var i,e=[],t=[],n=[];function r(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=Nne(e,s/a);return o}function o(s){return null==s||isNaN(s=+s)?i:t[g_(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)null!=a&&!isNaN(a=+a)&&e.push(a);return e.sort($0),r()},o.range=function(s){return arguments.length?(t=Array.from(s),r()):t.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.quantiles=function(){return n.slice()},o.copy=function(){return Rre().domain(e).range(t).unknown(i)},Cd.apply(o,arguments)},[y_,cv]),Ji(sT,function Fre(){var o,e=0,t=1,n=1,i=[.5],r=[0,1];function s(l){return null!=l&&l<=l?r[g_(i,l,0,n)]:o}function a(){var l=-1;for(i=new Array(n);++l<n;)i[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(r=Array.from(l)).length-1,a()):r.slice()},s.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,i[0]]:u>=n?[i[n-1],t]:[i[u-1],i[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return i.slice()},s.copy=function(){return Fre().domain([e,t]).range(r).unknown(o)},Cd.apply(GA(s),arguments)},y_),Ji(aT,function Pre(){var n,e=[.5],t=[0,1],i=1;function r(o){return null!=o&&o<=o?t[g_(e,o,0,i)]:n}return r.domain=function(o){return arguments.length?(e=Array.from(o),i=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(o){return arguments.length?(t=Array.from(o),i=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},r.unknown=function(o){return arguments.length?(n=o,r):n},r.copy=function(){return Pre().domain(e).range(t).unknown(n)},Cd.apply(r,arguments)},y_),Ji($8,function soe(){let e=[],t=[];function n(i){return null==i||i!=i?void 0:t[(g_(e,i)-1)%t.length]}return n.domain=function(i){return arguments.length?(e=EVe(i),n):e.slice()},n.range=function(i){return arguments.length?(t=xVe.call(i),n):t.slice()},n.tickFormat=function(i,r){return Kie(e[0],Fi(e),null==i?10:i,r)},n.copy=function(){return soe().domain(n.domain()).range(n.range())},n},[v_,y_]),Ji(G8,p8,v_),Ji("band",q8,v_),Ji(W8,function(){return ooe(q8().paddingInner(1))},v_);const TVe=["clamp","base","constant","exponent"];function goe(e,t){const n=t[0],i=Fi(t)-n;return function(r){return e(n+r*i)}}function uT(e,t,n){return M8(X8(t||"rgb",n),e)}function doe(e,t){const n=new Array(t),i=t+1;for(let r=0;r<t;)n[r]=e(++r/i);return n}function foe(e,t,n){const i=n-t;let r,o,s;return i&&Number.isFinite(i)?(r=(o=e.type).indexOf("-"),o=r<0?o:o.slice(r+1),s=Ji(o)().domain([t,n]).range([0,1]),TVe.forEach(a=>e[a]?s[a](e[a]()):0),s):va(.5)}function X8(e,t){const n=ie[function(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function hoe(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}function Coe(e,t){for(const n in e)Q8(n,t(e[n]))}const poe={};function Q8(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(poe[e]=t,this):poe[e]}Coe({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},hoe),Coe({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>uT(hoe(e)));const cT="symbol",FVe=e=>rn(e)?e.map(t=>String(t)):String(e),PVe=(e,t)=>e[1]-t[1],LVe=(e,t)=>t[1]-e[1];function J8(e,t,n){let i;return lC(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(V1(e.domain())/n||1)))),Un(t)&&(i=t.step,t=t.interval),$i(t)&&(t=e.type===$A?q0(t):e.type==YA?Z0(t):Be("Only time and utc scales accept interval strings."),i&&(t=t.every(i))),t}function Aoe(e,t,n){let i=e.range(),r=i[0],o=Fi(i),s=PVe;if(r>o&&(i=o,o=r,r=i,s=LVe),r=Math.floor(r),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>r<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Fi(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function e4(e,t){return e.bins?Aoe(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Ioe(e,t,n,i,r,o){const s=t.type;let a=FVe;if(s===$A||r===$A)a=e.timeFormat(i);else if(s===YA||r===YA)a=e.utcFormat(i);else if(loe(s)){const l=e.formatFloat(i);if(o||t.bins)a=l;else{const u=moe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,i)}else i&&(a=e.format(i));return a}function moe(e,t,n){const i=e4(e,t),r=e.base(),o=Math.log(r),s=Math.max(1,r*t/i.length),a=l=>{let u=l/Math.pow(r,Math.round(Math.log(l)/o));return u*r<r-.5&&(u*=r),u<=s};return n?i.filter(a):a}const t4={[cv]:"quantiles",[sT]:"thresholds",[aT]:"domain"},voe={[cv]:"quantiles",[sT]:"domain"};function yoe(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Fi(e),t}(e.bins):e.type===$f?moe(e,t,!0):t4[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[t4[e.type]]()):e4(e,t)}function boe(e,t,n,i,r,o,s){const a=voe[t.type]&&o!==$A&&o!==YA?function(e,t,n){const i=t[voe[t.type]](),r=i.length;let s,o=r>1?i[1]-i[0]:i[0];for(s=1;s<r;++s)o=Math.min(o,i[s]-i[s-1]);return e.formatSpan(0,o,30,n)}(e,t,r):Ioe(e,t,n,r,o,s);return i===cT&&(e=>t4[e.type]||e.bins)(t)?HVe(a):"discrete"===i?UVe(a):GVe(a)}const HVe=e=>(t,n,i)=>{const r=_oe(i[n+1],_oe(i.max,1/0)),o=woe(t,e),s=woe(r,e);return o&&s?o+" \u2013 "+s:s?"< "+s:"\u2265 "+o},_oe=(e,t)=>null!=e?e:t,UVe=e=>(t,n)=>n?e(t):null,GVe=e=>t=>e(t),woe=(e,t)=>Number.isFinite(e)?t(e):null;function Eoe(e,t,n){n=n||{};const i=Math.max(3,n.maxlen||7),r=function(e,t,n,i){const r=i||t.type;return $i(n)&&function(e){return qA(e,Y8)}(r)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||r!==$A?n||r!==YA?boe(e,t,5,null,n,i,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(K8(t.type)){const o=yoe(t).slice(1).map(r),s=o.length;return"".concat(s," boundar").concat(1===s?"y":"ies",": ").concat(o.join(", "))}if(gv(t.type)){const o=t.domain(),s=o.length,a=s>i?o.slice(0,i-2).map(r).join(", ")+", ending with "+o.slice(-1).map(r):o.map(r).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(a)}{const o=t.domain();return"values from ".concat(r(o[0])," to ").concat(r(Fi(o)))}}let xoe=0;function n4(e){return e&&e.gradient}function Doe(e,t,n){const i=e.gradient;let r=e.id,o="radial"===i?"p_":"";return r||(r=e.id="gradient_"+xoe++,"radial"===i?(e.x1=vd(e.x1,.5),e.y1=vd(e.y1,.5),e.r1=vd(e.r1,0),e.x2=vd(e.x2,.5),e.y2=vd(e.y2,.5),e.r2=vd(e.r2,.5),o="p_"):(e.x1=vd(e.x1,0),e.y1=vd(e.y1,0),e.x2=vd(e.x2,1),e.y2=vd(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+o+r+")"}function vd(e,t){return null!=e?e:t}function Soe(e,t){var i,n=[];return i={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(r,o){return n.push({offset:r,color:o}),i}}}const Toe={basis:{curve:function(e){return new VS(e)}},"basis-closed":{curve:function(e){return new _ie(e)}},"basis-open":{curve:function(e){return new wie(e)}},bundle:{curve:R9e,tension:"beta",value:.85},cardinal:{curve:F9e,tension:"tension",value:0},"cardinal-open":{curve:P9e,tension:"tension",value:0},"cardinal-closed":{curve:L9e,tension:"tension",value:0},"catmull-rom":{curve:V9e,tension:"alpha",value:.5},"catmull-rom-closed":{curve:z9e,tension:"alpha",value:.5},"catmull-rom-open":{curve:H9e,tension:"alpha",value:.5},linear:{curve:l8},"linear-closed":{curve:function(e){return new Oie(e)}},monotone:{horizontal:function(e){return new Pie(e)},vertical:function(e){return new US(e)}},natural:{curve:function(e){return new Bie(e)}},step:{curve:function(e){return new GS(e,.5)}},"step-after":{curve:function(e){return new GS(e,1)}},"step-before":{curve:function(e){return new GS(e,0)}}};function i4(e,t,n){var i=Sn(Toe,e)&&Toe[e],r=null;return i&&(r=i.curve||i[t||"vertical"],i.tension&&null!=n&&(r=r[i.tension](n))),r}const qVe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},b_=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function dv(e){const t=[];let n,i,r,o,s,a,l,u,c,g;const d=e.slice().replace(b_[0],"###$1").split(b_[1]).slice(1);for(l=0,c=d.length;l<c;++l){for(n=d[l],i=n.slice(1).trim().replace(b_[2],"$1###$2").replace(b_[3],"$1###$2").split(b_[4]),s=n.charAt(0),r=[s],u=0,g=i.length;u<g;++u)(o=+i[u])===o&&r.push(o);if(a=qVe[s.toLowerCase()],r.length-1>a){const f=r.length;for(u=1,t.push([s].concat(r.slice(u,u+=a))),s="M"===s?"L":"m"===s?"l":s;u<f;u+=a)t.push([s].concat(r.slice(u,u+a)))}else t.push(r)}return t}const DC=Math.PI/180,ZA=Math.PI/2,yd=2*Math.PI,fv=Math.sqrt(3)/2;var r4={},o4={},koe=[].join;function XVe(e){const t=koe.call(e);if(o4[t])return o4[t];var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,g=-l*a,d=l*s,f=u*a,h=Math.cos(r),C=Math.sin(r),p=Math.cos(o),I=Math.sin(o),m=.5*(o-r),y=Math.sin(.5*m),_=8/3*y*y/Math.sin(m),N=n+h-_*C,O=i+C+_*h,k=n+p,M=i+I,V=k+_*I,z=M-_*p;return o4[t]=[c*N+g*O,d*N+f*O,c*V+g*z,d*V+f*z,c*k+g*M,d*k+f*M]}const Ac=["l",0,0,0,0,0,0,0];function QVe(e,t,n){const i=Ac[0]=e[0];if("a"===i||"A"===i)Ac[1]=t*e[1],Ac[2]=n*e[2],Ac[3]=e[3],Ac[4]=e[4],Ac[5]=e[5],Ac[6]=t*e[6],Ac[7]=n*e[7];else if("h"===i||"H"===i)Ac[1]=t*e[1];else if("v"===i||"V"===i)Ac[1]=n*e[1];else for(var r=1,o=e.length;r<o;++r)Ac[r]=(r%2==1?t:n)*e[r];return Ac}function __(e,t,n,i,r,o){var s,d,f,h,C,a=null,l=0,u=0,c=0,g=0;null==n&&(n=0),null==i&&(i=0),null==r&&(r=1),null==o&&(o=r),e.beginPath&&e.beginPath();for(var p=0,I=t.length;p<I;++p){switch(s=t[p],(1!==r||1!==o)&&(s=QVe(s,r,o)),s[0]){case"l":e.lineTo((l+=s[1])+n,(u+=s[2])+i);break;case"L":e.lineTo((l=s[1])+n,(u=s[2])+i);break;case"h":e.lineTo((l+=s[1])+n,u+i);break;case"H":e.lineTo((l=s[1])+n,u+i);break;case"v":e.lineTo(l+n,(u+=s[1])+i);break;case"V":e.lineTo(l+n,(u=s[1])+i);break;case"m":e.moveTo((l+=s[1])+n,(u+=s[2])+i);break;case"M":e.moveTo((l=s[1])+n,(u=s[2])+i);break;case"c":e.bezierCurveTo(l+s[1]+n,u+s[2]+i,(c=l+s[3])+n,(g=u+s[4])+i,(d=l+s[5])+n,(f=u+s[6])+i),l=d,u=f;break;case"C":e.bezierCurveTo(s[1]+n,s[2]+i,(c=s[3])+n,(g=s[4])+i,(l=s[5])+n,(u=s[6])+i);break;case"s":e.bezierCurveTo((c=2*l-c)+n,(g=2*u-g)+i,l+s[1]+n,u+s[2]+i,(d=l+s[3])+n,(f=u+s[4])+i),c=l+s[1],g=u+s[2],l=d,u=f;break;case"S":e.bezierCurveTo((c=2*l-c)+n,(g=2*u-g)+i,s[1]+n,s[2]+i,(d=s[3])+n,(f=s[4])+i),l=d,u=f,c=s[1],g=s[2];break;case"q":e.quadraticCurveTo((c=l+s[1])+n,(g=u+s[2])+i,(d=l+s[3])+n,(f=u+s[4])+i),l=d,u=f;break;case"Q":e.quadraticCurveTo(s[1]+n,s[2]+i,(d=s[3])+n,(f=s[4])+i),l=d,u=f,c=s[1],g=s[2];break;case"t":d=l+s[1],f=u+s[2],null===a[0].match(/[QqTt]/)?(c=l,g=u):"t"===a[0]?(c=2*l-h,g=2*u-C):"q"===a[0]&&(c=2*l-c,g=2*u-g),h=c,C=g,e.quadraticCurveTo(c+n,g+i,d+n,f+i),c=(l=d)+s[1],g=(u=f)+s[2];break;case"T":e.quadraticCurveTo((c=2*l-c)+n,(g=2*u-g)+i,(d=s[1])+n,(f=s[2])+i),l=d,u=f;break;case"a":Noe(e,l+n,u+i,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+i]),l+=s[6],u+=s[7];break;case"A":Noe(e,l+n,u+i,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+i]),l=s[6],u=s[7];break;case"z":case"Z":e.closePath()}a=s}}function Noe(e,t,n,i){const r=function(e,t,n,i,r,o,s,a,l){const u=koe.call(arguments);if(r4[u])return r4[u];const c=s*DC,g=Math.sin(c),d=Math.cos(c),f=d*(a-e)*.5+g*(l-t)*.5,h=d*(l-t)*.5-g*(a-e)*.5;let C=f*f/((n=Math.abs(n))*n)+h*h/((i=Math.abs(i))*i);C>1&&(C=Math.sqrt(C),n*=C,i*=C);const p=d/n,I=g/n,m=-g/i,y=d/i,_=p*a+I*l,N=m*a+y*l,O=p*e+I*t,k=m*e+y*t;let V=1/((O-_)*(O-_)+(k-N)*(k-N))-.25;V<0&&(V=0);let z=Math.sqrt(V);o==r&&(z=-z);const H=.5*(_+O)-z*(k-N),ee=.5*(N+k)+z*(O-_),se=Math.atan2(N-ee,_-H);let ae=Math.atan2(k-ee,O-H)-se;ae<0&&1===o?ae+=yd:ae>0&&0===o&&(ae-=yd);const le=Math.ceil(Math.abs(ae/(ZA+.001))),q=[];for(let te=0;te<le;++te)q[te]=[H,ee,se+te*ae/le,se+(te+1)*ae/le,n,i,g,d];return r4[u]=q}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n);for(let o=0;o<r.length;++o){const s=XVe(r[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const Ooe=.5773502691896257,Moe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,yd)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,r=n/2.5,o=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-o),e.lineTo(r,-o),e.lineTo(0,-n),e.lineTo(-r,-o),e.lineTo(-i,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n,r=i-n*Ooe,o=n/4;e.moveTo(0,-i-r),e.lineTo(-o,i-r),e.lineTo(o,i-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n,r=i-n*Ooe;e.moveTo(0,-i-r),e.lineTo(-n,i-r),e.lineTo(n,i-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,i=fv*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Roe(e){return Sn(Moe,e)?Moe[e]:function(e){if(!Sn(s4,e)){const t=dv(e);s4[e]={draw:function(n,i){__(n,t,0,0,Math.sqrt(i)/2)}}}return s4[e]}(e)}var s4={};const SC=.448084975506;function eze(e){return e.x}function tze(e){return e.y}function nze(e){return e.width}function ize(e){return e.height}function Yf(e){return"function"==typeof e?e:()=>+e}function dT(e,t,n){return Math.max(t,Math.min(e,n))}function Foe(){var e=eze,t=tze,n=nze,i=ize,r=Yf(0),o=r,s=r,a=r,l=null;function u(c,g,d){var f,h=null!=g?g:+e.call(this,c),C=null!=d?d:+t.call(this,c),p=+n.call(this,c),I=+i.call(this,c),m=Math.min(p,I)/2,y=dT(+r.call(this,c),0,m),_=dT(+o.call(this,c),0,m),N=dT(+s.call(this,c),0,m),O=dT(+a.call(this,c),0,m);if(l||(l=f=nv()),y<=0&&_<=0&&N<=0&&O<=0)l.rect(h,C,p,I);else{var k=h+p,M=C+I;l.moveTo(h+y,C),l.lineTo(k-_,C),l.bezierCurveTo(k-SC*_,C,k,C+SC*_,k,C+_),l.lineTo(k,M-O),l.bezierCurveTo(k,M-SC*O,k-SC*O,M,k-O,M),l.lineTo(h+N,M),l.bezierCurveTo(h+SC*N,M,h,M-SC*N,h,M-N),l.lineTo(h,C+y),l.bezierCurveTo(h,C+SC*y,h+SC*y,C,h+y,C),l.closePath()}if(f)return l=null,f+""||null}return u.x=function(c){return arguments.length?(e=Yf(c),u):e},u.y=function(c){return arguments.length?(t=Yf(c),u):t},u.width=function(c){return arguments.length?(n=Yf(c),u):n},u.height=function(c){return arguments.length?(i=Yf(c),u):i},u.cornerRadius=function(c,g,d,f){return arguments.length?(r=Yf(c),o=null!=g?Yf(g):r,a=null!=d?Yf(d):r,s=null!=f?Yf(f):o,u):r},u.context=function(c){return arguments.length?(l=null==c?null:c,u):l},u}function Poe(){var e,t,n,i,o,s,a,l,r=null;function u(g,d,f){const h=f/2;if(o){var C=a-d,p=g-s;if(C||p){var I=Math.sqrt(C*C+p*p),m=(C/=I)*l,y=(p/=I)*l,_=Math.atan2(p,C);r.moveTo(s-m,a-y),r.lineTo(g-C*h,d-p*h),r.arc(g,d,h,_-Math.PI,_),r.lineTo(s+m,a+y),r.arc(s,a,l,_,_+Math.PI)}else r.arc(g,d,h,0,yd);r.closePath()}else o=1;s=g,a=d,l=h}function c(g){var d,h,p,f=g.length,C=!1;for(null==r&&(r=p=nv()),d=0;d<=f;++d)!(d<f&&i(h=g[d],d,g))===C&&(C=!C)&&(o=0),C&&u(+e(h,d,g),+t(h,d,g),+n(h,d,g));if(p)return r=null,p+""||null}return c.x=function(g){return arguments.length?(e=g,c):e},c.y=function(g){return arguments.length?(t=g,c):t},c.size=function(g){return arguments.length?(n=g,c):n},c.defined=function(g){return arguments.length?(i=g,c):i},c.context=function(g){return arguments.length?(r=null==g?null:g,c):r},c}function w_(e,t){return null!=e?e:t}const E_=e=>e.x||0,x_=e=>e.y||0,fT=e=>!1!==e.defined,yze=function(){var e=X9e,t=Q9e,n=gr(0),i=null,r=J9e,o=e7e,s=t7e,a=null;function l(){var u,c,g=+e.apply(this,arguments),d=+t.apply(this,arguments),f=r.apply(this,arguments)-HS,h=o.apply(this,arguments)-HS,C=xie(h-f),p=h>f;if(a||(a=u=nv()),d<g&&(c=d,d=g,g=c),d>wa)if(C>c_-wa)a.moveTo(d*zA(f),d*hd(f)),a.arc(0,0,d,f,h,!p),g>wa&&(a.moveTo(g*zA(h),g*hd(h)),a.arc(0,0,g,h,f,p));else{var ee,se,I=f,m=h,y=f,_=h,N=C,O=C,k=s.apply(this,arguments)/2,M=k>wa&&(i?+i.apply(this,arguments):tv(g*g+d*d)),V=s8(xie(d-g)/2,+n.apply(this,arguments)),z=V,H=V;if(M>wa){var _e=Die(M/g*hd(k)),ae=Die(M/d*hd(k));(N-=2*_e)>wa?(y+=_e*=p?1:-1,_-=_e):(N=0,y=_=(f+h)/2),(O-=2*ae)>wa?(I+=ae*=p?1:-1,m-=ae):(O=0,I=m=(f+h)/2)}var le=d*zA(I),q=d*hd(I),te=g*zA(_),Te=g*hd(_);if(V>wa){var Xt,Xe=d*zA(m),at=d*hd(m),zt=g*zA(y),Bn=g*hd(y);if(C<yC&&(Xt=n7e(le,q,zt,Bn,Xe,at,te,Te))){var Zi=le-Xt[0],mn=q-Xt[1],ar=Xe-Xt[0],kr=at-Xt[1],_t=1/hd(j9e((Zi*ar+mn*kr)/(tv(Zi*Zi+mn*mn)*tv(ar*ar+kr*kr)))/2),pn=tv(Xt[0]*Xt[0]+Xt[1]*Xt[1]);z=s8(V,(g-pn)/(_t-1)),H=s8(V,(d-pn)/(_t+1))}}O>wa?H>wa?(ee=WS(zt,Bn,le,q,d,H,p),se=WS(Xe,at,te,Te,d,H,p),a.moveTo(ee.cx+ee.x01,ee.cy+ee.y01),H<V?a.arc(ee.cx,ee.cy,H,_a(ee.y01,ee.x01),_a(se.y01,se.x01),!p):(a.arc(ee.cx,ee.cy,H,_a(ee.y01,ee.x01),_a(ee.y11,ee.x11),!p),a.arc(0,0,d,_a(ee.cy+ee.y11,ee.cx+ee.x11),_a(se.cy+se.y11,se.cx+se.x11),!p),a.arc(se.cx,se.cy,H,_a(se.y11,se.x11),_a(se.y01,se.x01),!p))):(a.moveTo(le,q),a.arc(0,0,d,I,m,!p)):a.moveTo(le,q),g>wa&&N>wa?z>wa?(ee=WS(te,Te,Xe,at,g,-z,p),se=WS(le,q,zt,Bn,g,-z,p),a.lineTo(ee.cx+ee.x01,ee.cy+ee.y01),z<V?a.arc(ee.cx,ee.cy,z,_a(ee.y01,ee.x01),_a(se.y01,se.x01),!p):(a.arc(ee.cx,ee.cy,z,_a(ee.y01,ee.x01),_a(ee.y11,ee.x11),!p),a.arc(0,0,g,_a(ee.cy+ee.y11,ee.cx+ee.x11),_a(se.cy+se.y11,se.cx+se.x11),p),a.arc(se.cx,se.cy,z,_a(se.y11,se.x11),_a(se.y01,se.x01),!p))):a.arc(0,0,g,_,y,p):a.lineTo(te,Te)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return l.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-yC/2;return[zA(c)*u,hd(c)*u]},l.innerRadius=function(u){return arguments.length?(e="function"==typeof u?u:gr(+u),l):e},l.outerRadius=function(u){return arguments.length?(t="function"==typeof u?u:gr(+u),l):t},l.cornerRadius=function(u){return arguments.length?(n="function"==typeof u?u:gr(+u),l):n},l.padRadius=function(u){return arguments.length?(i=null==u?null:"function"==typeof u?u:gr(+u),l):i},l.startAngle=function(u){return arguments.length?(r="function"==typeof u?u:gr(+u),l):r},l.endAngle=function(u){return arguments.length?(o="function"==typeof u?u:gr(+u),l):o},l.padAngle=function(u){return arguments.length?(s="function"==typeof u?u:gr(+u),l):s},l.context=function(u){return arguments.length?(a=null==u?null:u,l):a},l}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),bze=Wie().x(E_).y1(x_).y0(e=>(e.y||0)+(e.height||0)).defined(fT),_ze=Wie().y(x_).x1(E_).x0(e=>(e.x||0)+(e.width||0)).defined(fT),wze=Gie().x(E_).y(x_).defined(fT),Eze=Foe().x(E_).y(x_).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>w_(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>w_(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>w_(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>w_(e.cornerRadiusBottomLeft,e.cornerRadius)||0),xze=function(e,t){var n=null;function i(){var r;if(n||(n=r=nv()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:gr(e||$ie),t="function"==typeof t?t:gr(void 0===t?64:+t),i.type=function(r){return arguments.length?(e="function"==typeof r?r:gr(r),i):e},i.size=function(r){return arguments.length?(t="function"==typeof r?r:gr(+r),i):t},i.context=function(r){return arguments.length?(n=null==r?null:r,i):n},i}().type(e=>Roe(e.shape||"circle")).size(e=>w_(e.size,64)),Dze=Poe().x(E_).y(x_).defined(fT).size(e=>e.size||1);function a4(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function hv(e,t,n,i){return Eze.context(e)(t,n,i)}var Loe=1;function Boe(){Loe=1}function l4(e,t,n){var i=t.clip,r=e._defs,o=t.clip_id||(t.clip_id="clip"+Loe++),s=r.clipping[o]||(r.clipping[o]={id:o});return si(i)?s.path=i(null):a4(n)?s.path=hv(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function cs(e){this.clear(),e&&this.union(e)}function hT(e){this.mark=e,this.bounds=this.bounds||new cs}function CT(e){hT.call(this,e),this.items=this.items||[]}function u4(e){this._pending=0,this._loader=e||bS()}function joe(e){e._pending+=1}function D_(e){e._pending-=1}function qf(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,i):0))}return e}cs.prototype={clone(){return new cs(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:r,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*i-l*r+u,l*i+a*r+c,a*i-l*s+u,l*i+a*s+c,a*o-l*r+u,l*o+a*r+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},gt(CT,hT),u4.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return joe(t),t._loader.sanitize(e,{context:"href"}).then(n=>(D_(t),n)).catch(()=>(D_(t),null))},loadImage(e){const t=this,n="undefined"!=typeof Image?Image:null;return joe(t),t._loader.sanitize(e,{context:"image"}).then(i=>{const r=i.href;if(!r||!n)throw{url:r};const o=new n,s=Sn(i,"crossOrigin")?i.crossOrigin:"anonymous";return null!=s&&(o.crossOrigin=s),o.onload=()=>D_(t),o.onerror=()=>D_(t),o.src=r,o}).catch(i=>(D_(t),{complete:!1,width:0,height:0,src:i&&i.url||""}))},ready(){const e=this;return new Promise(t=>{!function n(i){e.pending()?setTimeout(()=>{n(!0)},10):t(i)}(!1)})}};const Fze=yd-1e-8;let pT,AT,IT,KA,c4,mT,g4,d4;const TC=(e,t)=>pT.add(e,t),vT=(e,t)=>TC(AT=e,IT=t),Voe=e=>TC(e,pT.y1),zoe=e=>TC(pT.x1,e),XA=(e,t)=>c4*e+g4*t,QA=(e,t)=>mT*e+d4*t,f4=(e,t)=>TC(XA(e,t),QA(e,t)),h4=(e,t)=>vT(XA(e,t),QA(e,t));function S_(e,t){return pT=e,t?(KA=t*DC,c4=d4=Math.cos(KA),mT=Math.sin(KA),g4=-mT):(c4=d4=1,KA=mT=g4=0),Pze}const Pze={beginPath(){},closePath(){},moveTo:h4,lineTo:h4,rect(e,t,n,i){KA?(f4(e+n,t),f4(e+n,t+i),f4(e,t+i),h4(e,t)):(TC(e+n,t+i),vT(e,t))},quadraticCurveTo(e,t,n,i){const r=XA(e,t),o=QA(e,t),s=XA(n,i),a=QA(n,i);Hoe(AT,r,s,Voe),Hoe(IT,o,a,zoe),vT(s,a)},bezierCurveTo(e,t,n,i,r,o){const s=XA(e,t),a=QA(e,t),l=XA(n,i),u=QA(n,i),c=XA(r,o),g=QA(r,o);Uoe(AT,s,l,c,Voe),Uoe(IT,a,u,g,zoe),vT(c,g)},arc(e,t,n,i,r,o){if(i+=KA,r+=KA,AT=n*Math.cos(r)+e,IT=n*Math.sin(r)+t,Math.abs(r-i)>Fze)TC(e-n,t-n),TC(e+n,t+n);else{const s=u=>TC(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(i),s(r),r!==i)if((i%=yd)<0&&(i+=yd),(r%=yd)<0&&(r+=yd),r<i&&(o=!o,a=i,i=r,r=a),o)for(r-=yd,a=i-i%ZA,l=0;l<4&&a>r;++l,a-=ZA)s(a);else for(a=i-i%ZA+ZA,l=0;l<4&&a<r;++l,a+=ZA)s(a)}}};function Hoe(e,t,n,i){const r=(e-t)/(e+n-2*t);0<r&&r<1&&i(e+(t-e)*r)}function Uoe(e,t,n,i,r){const o=i-e+3*t-3*n,s=e+n-2*t,a=e-t;let c,l=0,u=0;Math.abs(o)>1e-14?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&r(Goe(l,e,t,n,i)),0<u&&u<1&&r(Goe(u,e,t,n,i))}function Goe(e,t,n,i,r){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*i+a*e*r}var kC=(kC=iv(1,1))?kC.getContext("2d"):null;const C4=new cs;function p4(e){return function(t,n){if(!kC)return!0;e(kC,t),C4.clear().union(t.bounds).intersect(n).round();const{x1:i,y1:r,x2:o,y2:s}=C4;for(let a=r;a<=s;++a)for(let l=i;l<=o;++l)if(kC.isPointInPath(l,a))return!0;return!1}}function A4(e,t){return t.contains(e.x||0,e.y||0)}function Woe(e,t){const n=e.x||0,i=e.y||0;return t.intersects(C4.set(n,i,n+(e.width||0),i+(e.height||0)))}function $oe(e,t){const n=e.x||0,i=e.y||0;return Cv(t,n,i,null!=e.x2?e.x2:n,null!=e.y2?e.y2:i)}function Cv(e,t,n,i,r){const{x1:o,y1:s,x2:a,y2:l}=e,u=i-t,c=r-n;let f,h,C,p,g=0,d=1;for(p=0;p<4;++p){if(0===p&&(f=-u,h=-(o-t)),1===p&&(f=u,h=a-t),2===p&&(f=-c,h=-(s-n)),3===p&&(f=c,h=l-n),Math.abs(f)<1e-10&&h<0)return!1;if(C=h/f,f<0){if(C>d)return!1;C>g&&(g=C)}else if(f>0){if(C<g)return!1;C<d&&(d=C)}}return!0}function pv(e,t){e.globalCompositeOperation=t.blend||"source-over"}function fg(e,t){return null==e?t:e}function Yoe(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function qoe(e,t,n){return n4(n)?function(e,t,n){const i=n.width(),r=n.height();let o;if("radial"===t.gradient)o=e.createRadialGradient(n.x1+fg(t.x1,.5)*i,n.y1+fg(t.y1,.5)*r,Math.max(i,r)*fg(t.r1,0),n.x1+fg(t.x2,.5)*i,n.y1+fg(t.y2,.5)*r,Math.max(i,r)*fg(t.r2,.5));else{const s=fg(t.x1,0),a=fg(t.y1,0),l=fg(t.x2,1),u=fg(t.y2,0);if(s!==l&&a!==u&&i!==r){const c=iv(Math.ceil(i),Math.ceil(r)),g=c.getContext("2d");return g.scale(i,r),g.fillStyle=Yoe(g.createLinearGradient(s,a,l,u),t.stops),g.fillRect(0,0,i,r),e.createPattern(c,"no-repeat")}o=e.createLinearGradient(n.x1+s*i,n.y1+a*r,n.x1+l*i,n.y1+u*r)}return Yoe(o,t.stops)}(e,n,t.bounds):n}function yT(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=qoe(e,t,t.fill),!0)}var Bze=[];function Av(e,t,n){var i=null!=(i=t.strokeWidth)?i:1;return!(i<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=qoe(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Bze),e.lineDashOffset=t.strokeDashOffset||0),!0)}function jze(e,t){return e.zindex-t.zindex||e.index-t.index}function I4(e){if(!e.zdirty)return e.zitems;var i,r,o,t=e.items,n=[];for(r=0,o=t.length;r<o;++r)(i=t[r]).index=r,i.zindex&&n.push(i);return e.zdirty=!1,e.zitems=n.sort(jze)}function hg(e,t){var i,r,n=e.items;if(!n||!n.length)return;const o=I4(e);if(o&&o.length){for(i=0,r=n.length;i<r;++i)n[i].zindex||t(n[i]);n=o}for(i=0,r=n.length;i<r;++i)t(n[i])}function bT(e,t){var i,r,n=e.items;if(!n||!n.length)return null;const o=I4(e);for(o&&o.length&&(n=o),r=n.length;--r>=0;)if(i=t(n[r]))return i;if(n===o)for(r=(n=e.items).length;--r>=0;)if(!n[r].zindex&&(i=t(n[r])))return i;return null}function m4(e){return function(t,n,i){hg(n,r=>{(!i||i.intersects(r.bounds))&&Zoe(e,t,r,r)})}}function Vze(e){return function(t,n,i){n.items.length&&(!i||i.intersects(n.bounds))&&Zoe(e,t,n.items[0],n.items)}}function Zoe(e,t,n,i){var r=null==n.opacity?1:n.opacity;0!==r&&(e(t,i)||(pv(t,n),n.fill&&yT(t,n,r)&&t.fill(),n.stroke&&Av(t,n,r)&&t.stroke()))}function _T(e){return e=e||cc,function(t,n,i,r,o,s){return i*=t.pixelRatio,r*=t.pixelRatio,bT(n,a=>{const l=a.bounds;if((!l||l.contains(o,s))&&l&&e(t,a,i,r,o,s))return a})}}function T_(e,t){return function(n,i,r,o){var u,c,s=Array.isArray(i)?i[0]:i,a=null==t?s.fill:t,l=s.stroke&&n.isPointInStroke;return l&&(c=s.strokeCap,n.lineWidth=null!=(u=s.strokeWidth)?u:1,n.lineCap=null!=c?c:"butt"),!e(n,i)&&(a&&n.isPointInPath(r,o)||l&&n.isPointInStroke(r,o))}}function v4(e){return _T(T_(e))}function JA(e,t){return"translate("+e+","+t+")"}function y4(e){return"rotate("+e+")"}function Koe(e){return JA(e.x||0,e.y||0)}function b4(e,t,n){function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=DC),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:function(s,a){s("transform",function(e){return JA(e.x||0,e.y||0)+(e.angle?" "+y4(e.angle):"")}(a)),s("d",t(null,a))},bound:function(s,a){return t(S_(s,a.angle),a),qf(s,a).translate(a.x||0,a.y||0)},draw:m4(o),pick:v4(o),isect:n||p4(o)}}var Gze=b4("arc",function(e,t){return yze.context(e)(t)});function _4(e,t,n){function o(l,u){l.beginPath(),t(l,u)}const s=T_(o);return{type:e,tag:"path",nested:!0,attr:function(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))},bound:function(l,u){var c=u.items;return 0===c.length?l:(t(S_(l),c),qf(l,c[0]))},draw:Vze(o),pick:function(l,u,c,g,d,f){var h=u.items,C=u.bounds;return!h||!h.length||C&&!C.contains(d,f)?null:s(l,h,c*=l.pixelRatio,g*=l.pixelRatio)?h[0]:null},isect:A4,tip:n}}var qze=_4("area",function(e,t){const n=t[0];return("horizontal"===n.orient?_ze:bze).curve(i4(n.interpolate||"linear",n.orient,n.tension)).context(e)(t)},function(e,t){for(var s,a,n="horizontal"===e[0].orient?t[1]:t[0],i="horizontal"===e[0].orient?"y":"x",r=e.length,o=1/0;--r>=0;)!1!==e[r].defined&&(a=Math.abs(e[r][i]-n))<o&&(o=a,s=e[r]);return s});function Xoe(e,t){e.beginPath(),a4(t)?hv(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Qoe(e){const t=fg(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Joe(e,t){const n=Qoe(t);e("d",hv(null,t,n,n))}function k_(e,t,n,i){const r=Qoe(t);e.beginPath(),hv(e,t,(n||0)+r,(i||0)+r)}const tHe=T_(k_),nHe=T_(k_,!1),iHe=T_(k_,!0);var aHe={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Koe(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let r=0;r<i;++r)e.union(n[r].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),qf(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){hg(t,i=>{const r=i.x||0,o=i.y||0,s=i.strokeForeground,a=null==i.opacity?1:i.opacity;(i.stroke||i.fill)&&a&&(k_(e,i,r,o),pv(e,i),i.fill&&yT(e,i,a)&&e.fill(),i.stroke&&!s&&Av(e,i,a)&&e.stroke()),e.save(),e.translate(r,o),i.clip&&Xoe(e,i),n&&n.translate(-r,-o),hg(i,l=>{this.draw(e,l,n)}),n&&n.translate(r,o),e.restore(),s&&i.stroke&&a&&(k_(e,i,r,o),pv(e,i),Av(e,i,a)&&e.stroke())})},pick:function(e,t,n,i,r,o){if(t.bounds&&!t.bounds.contains(r,o)||!t.items)return null;const s=n*e.pixelRatio,a=i*e.pixelRatio;return bT(t,l=>{let u,c,g;const d=l.bounds;if(d&&!d.contains(r,o))return;c=l.x||0,g=l.y||0;const C=l.clip;if(C&&(r<c||r>c+(l.width||0)||o<g||o>g+(l.height||0)))return;if(e.save(),e.translate(c,g),c=r-c,g=o-g,C&&a4(l)&&!iHe(e,l,s,a))return e.restore(),null;const p=l.strokeForeground,I=!1!==t.interactive;return I&&p&&l.stroke&&nHe(e,l,s,a)?(e.restore(),l):(u=bT(l,m=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(m,c,g)?this.pick(m,n,i,c,g):null),!u&&I&&(l.fill||!p&&l.stroke)&&tHe(e,l,s,a)&&(u=l),e.restore(),u||null)})},isect:Woe,content:function(e,t,n){e("clip-path",t.clip?l4(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Joe(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Joe(e,t):e("d","")}},N_={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function w4(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(i=>{e.image=i,e.image.url=e.url})),n}function E4(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function x4(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function wT(e,t){return"center"===e?t/2:"right"===e?t:0}function ET(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var gHe={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const i=w4(t,n),r=E4(t,i),o=x4(t,i),s=(t.x||0)-wT(t.align,r),a=(t.y||0)-ET(t.baseline,o);e("href",!i.src&&i.toDataURL?i.toDataURL():i.src||"",N_["xmlns:xlink"],"xlink:href"),e("transform",JA(s,a)),e("width",r),e("height",o),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,i=E4(t,n),r=x4(t,n),o=(t.x||0)-wT(t.align,i),s=(t.y||0)-ET(t.baseline,r);return e.set(o,s,o+i,s+r)},draw:function(e,t,n){hg(t,i=>{if(n&&!n.intersects(i.bounds))return;const r=w4(i,this);let o=E4(i,r),s=x4(i,r);if(0===o||0===s)return;let u,c,g,d,a=(i.x||0)-wT(i.align,o),l=(i.y||0)-ET(i.baseline,s);!1!==i.aspect&&(c=r.width/r.height,g=i.width/i.height,c==c&&g==g&&c!==g&&(g<c?(d=o/c,l+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(r.complete||r.toDataURL)&&(pv(e,i),e.globalAlpha=null!=(u=i.opacity)?u:1,e.imageSmoothingEnabled=!1!==i.smooth,e.drawImage(r,a,l,o,s))})},pick:_T(),isect:cc,get:w4,xOffset:wT,yOffset:ET},dHe=_4("line",function(e,t){const n=t[0];return wze.curve(i4(n.interpolate||"linear",n.orient,n.tension)).context(e)(t)},function(e,t){for(var r,o,n=Math.pow(e[0].strokeWidth||1,2),i=e.length;--i>=0;)if(!1!==e[i].defined&&(r=e[i].x-t[0])*r+(o=e[i].y-t[1])*o<n)return e[i];return null});function xT(e,t){var n=t.path;if(null==n)return!0;var i=t.x||0,r=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*DC,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=dv(n)).path=n),a&&e.rotate&&e.translate?(e.translate(i,r),e.rotate(a),__(e,l,0,0,o,s),e.rotate(-a),e.translate(-i,-r)):__(e,l,i,r,o,s)}var CHe={type:"path",tag:"path",nested:!1,attr:function(e,t){(1!==(t.scaleX||1)||1!==(t.scaleY||1))&&e("vector-effect","non-scaling-stroke"),e("transform",function(e){return JA(e.x||0,e.y||0)+(e.angle?" "+y4(e.angle):"")+(e.scaleX||e.scaleY?" "+function(e,t){return"scale("+e+","+t+")"}(e.scaleX||1,e.scaleY||1):"")}(t)),e("d",t.path)},bound:function(e,t){return xT(S_(e,t.angle),t)?e.set(0,0,0,0):qf(e,t,!0)},draw:m4(xT),pick:v4(xT),isect:p4(xT)};function ese(e,t){e.beginPath(),hv(e,t)}var IHe={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",hv(null,t))},bound:function(e,t){var n,i;return qf(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:m4(ese),pick:v4(ese),isect:Woe};function tse(e,t,n){var i,r,o,s;return!(!t.stroke||!Av(e,t,n)||(i=t.x||0,r=t.y||0,o=null!=t.x2?t.x2:i,s=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(i,r),e.lineTo(o,s),0))}var _He={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Koe(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return qf(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){hg(t,i=>{if(!n||n.intersects(i.bounds)){var r=null==i.opacity?1:i.opacity;r&&tse(e,i,r)&&(pv(e,i),e.stroke())}})},pick:_T(function(e,t,n,i){return!!e.isPointInStroke&&tse(e,t,1)&&e.isPointInStroke(n,i)}),isect:$oe},wHe=b4("shape",function(e,t){return(t.mark.shape||t.shape).context(e)(t)}),EHe=b4("symbol",function(e,t){return xze.context(e)(t)},A4);const nse=Bee();var bd={height:_d,measureWidth:S4,estimateWidth:D4,width:D4,canvas:ise};function ise(e){bd.width=e&&kC?S4:D4}function D4(e,t){return rse(OC(e,t),_d(e))}function rse(e,t){return~~(.8*e.length*t)}function S4(e,t){return _d(e)<=0||!(t=OC(e,t))?0:ose(t,DT(e))}function ose(e,t){const n=`(${t}) ${e}`;let i=nse.get(n);return void 0===i&&(kC.font=t,i=kC.measureText(e).width,nse.set(n,i)),i}function _d(e){return null!=e.fontSize?+e.fontSize||0:11}function NC(e){return null!=e.lineHeight?e.lineHeight:_d(e)+2}function O_(e){return function(e){return rn(e)?e.length>1?e:e[0]:e}(e.lineBreak&&e.text&&!rn(e.text)?e.text.split(e.lineBreak):e.text)}function T4(e){const t=O_(e);return(rn(t)?t.length-1:0)*NC(e)}function OC(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,i=function(e){if(bd.width===S4){const t=DT(e);return n=>ose(n,t)}{const t=_d(e);return n=>rse(n,t)}}(e);if(i(t)<n)return t;var l,r=e.ellipsis||"\u2026",o="rtl"===e.dir,s=0,a=t.length;if(n-=i(r),o){for(;s<a;)i(t.slice(l=s+a>>>1))>n?s=l+1:a=l;return r+t.slice(s)}for(;s<a;)i(t.slice(0,l=1+(s+a>>>1)))<n?s=l:a=l-1;return t.slice(0,s)+r}(e,n):n}function M_(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function DT(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+_d(e)+"px "+M_(e,t)}function k4(e){var t=e.baseline,n=_d(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*NC(e):"line-bottom"===t?.29*n-.5*NC(e):0)}ise(!0);const THe={left:"start",center:"middle",right:"end"},R_=new cs;function ST(e){var r,t=e.x||0,n=e.y||0,i=e.radius||0;return i&&(r=(e.theta||0)-ZA,t+=i*Math.cos(r),n+=i*Math.sin(r)),R_.x1=t,R_.y1=n,R_}function N4(e,t,n){var g,i=bd.height(t),r=t.align,o=ST(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+k4(t)-Math.round(.8*i),c=O_(t);if(rn(c)?(i+=NC(t)*(c.length-1),g=c.reduce((d,f)=>Math.max(d,bd.width(t,f)),0)):g=bd.width(t,c),"center"===r?l-=g/2:"right"===r&&(l-=g),e.set(l+=s,u+=a,l+g,u+i),t.angle&&!n)e.rotate(t.angle*DC,s,a);else if(2===n)return e.rotatedPoints(t.angle*DC,s,a);return e}var bu={arc:Gze,area:qze,group:aHe,image:gHe,line:dHe,path:CHe,rect:IHe,rule:_He,shape:wHe,symbol:EHe,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var l,n=t.dx||0,i=(t.dy||0)+k4(t),r=ST(t),o=r.x1,s=r.y1,a=t.angle||0;e("text-anchor",THe[t.align]||"start"),a?(l=JA(o,s)+" "+y4(a),(n||i)&&(l+=" "+JA(n,i))):l=JA(o+n,s+i),e("transform",l)},bound:N4,draw:function(e,t,n){hg(t,i=>{var o,s,a,l,u,c,g,r=null==i.opacity?1:i.opacity;if(!(n&&!n.intersects(i.bounds)||0===r||i.fontSize<=0||null==i.text||0===i.text.length)){if(e.font=DT(i),e.textAlign=i.align||"left",s=(o=ST(i)).x1,a=o.y1,i.angle&&(e.save(),e.translate(s,a),e.rotate(i.angle*DC),s=a=0),s+=i.dx||0,a+=(i.dy||0)+k4(i),c=O_(i),pv(e,i),rn(c))for(u=NC(i),l=0;l<c.length;++l)g=OC(i,c[l]),i.fill&&yT(e,i,r)&&e.fillText(g,s,a),i.stroke&&Av(e,i,r)&&e.strokeText(g,s,a),a+=u;else g=OC(i,c),i.fill&&yT(e,i,r)&&e.fillText(g,s,a),i.stroke&&Av(e,i,r)&&e.strokeText(g,s,a);i.angle&&e.restore()}})},pick:_T(function(e,t,n,i,r,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=ST(t),a=s.x1,l=s.y1,u=N4(R_,t,1),c=-t.angle*DC,g=Math.cos(c),d=Math.sin(c);return u.contains(g*r-d*o+(a-g*a+d*l),d*r+g*o+(l-d*a-g*l))}),isect:function(e,t){const n=N4(R_,e,2);return Cv(t,n[0],n[1],n[2],n[3])||Cv(t,n[0],n[1],n[4],n[5])||Cv(t,n[4],n[5],n[6],n[7])||Cv(t,n[2],n[3],n[6],n[7])}},trail:_4("trail",function(e,t){return Dze.context(e)(t)},function(e,t){for(var i,r,n=e.length;--n>=0;)if(!1!==e[n].defined&&(i=e[n].x-t[0])*i+(r=e[n].y-t[1])*r<(i=e[n].size||1)*i)return e[n];return null})};function O4(e,t,n){var i=bu[e.mark.marktype];return i.nested&&(e=e.mark),(t||i.bound)(e.bounds||(e.bounds=new cs),e,n)}var sse={mark:null};function ase(e,t,n){var a,l,u,c,i=bu[e.marktype],r=i.bound,o=e.items,s=o&&o.length;if(i.nested)return s?u=o[0]:(sse.mark=e,u=sse),c=O4(u,r,n),t&&t.union(c)||c;if(t=t||e.bounds&&e.bounds.clear()||new cs,s)for(a=0,l=o.length;a<l;++a)t.union(O4(o[a],r,n));return e.bounds=t}const PHe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function lse(e,t){return JSON.stringify(e,PHe,t)}function use(e){return cse("string"==typeof e?JSON.parse(e):e)}function cse(e){var i,r,o,t=e.marktype,n=e.items;if(n)for(r=0,o=n.length;r<o;++r)n[r][i=t?"mark":"group"]=e,n[r].zindex&&(n[r][i].zdirty=!0),"group"===(t||i)&&cse(n[r]);return t&&ase(e),e}function M4(e){arguments.length?this.root=use(e):(this.root=gse({marktype:"group",name:"root",role:"frame"}),this.root.items=[new CT(this.root)])}function gse(e,t){const n={bounds:new cs,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function MC(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function R4(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function Ll(e,t,n,i){var o,r=e.childNodes[t];return(!r||r.tagName.toLowerCase()!==n.toLowerCase())&&(o=r||null,r=MC(e.ownerDocument,n,i),e.insertBefore(r,o)),r}function Cg(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function dse(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function TT(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function RC(e,t){this._active=null,this._handlers={},this._loader=e||bS(),this._tooltip=t||BHe}function BHe(e,t,n,i){e.element().setAttribute("title",i||"")}function wd(e){this._el=null,this._bgcolor=null,this._loader=new u4(e)}M4.prototype={toJSON(e){return lse(this.root,e||0)},mark(e,t,n){const i=gse(e,t=t||this.root.items[0]);return t.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}},RC.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const i in t)n.push(...t[i]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(i=>{const r=new MouseEvent(e.type,e),o=MC(null,"a");for(const s in i)o.setAttribute(s,i[s]);o.dispatchEvent(r)}).catch(()=>{})},handleTooltip(e,t,n){t&&null!=t.tooltip&&(t=function(e,t,n,i){var o,s,r=e&&e.mark;if(r&&(o=bu[r.marktype]).tip){for((s=TT(t,n))[0]-=i[0],s[1]-=i[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(r.items,s)}return e}(t,e,this.canvas(),this._origin),this._tooltip.call(this._obj,this,e,t,n&&t&&t.tooltip||null))},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,r=e.bounds,o=r.width(),s=r.height();let a=r.x1+i[0]+n.left,l=r.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:s,left:a,top:l,right:a+o,bottom:l+s}}},wd.prototype={initialize(e,t,n,i,r){return this._el=e,this.resize(t,n,i,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){const r=n._call;n._ready=n._loader.ready().then(o=>{o&&r(),n._ready=null})}return i},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const kT="dragleave",F4="mousedown",NT="mousemove",F_="mouseout",OT="click",pse="mousewheel",MT="touchstart",RT="touchmove",FT="touchend",P4=NT,P_=F_,L4=OT;function L_(e,t){RC.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Ase(e,t){(e=>e===MT||e===RT||e===FT?[MT,RT,FT]:[e])(t).forEach(n=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?i=>e[t](i):i=>e.fire(t,i)))}(e,n))}function Ise(e,t,n){return function(i){const r=this._active,o=this.pickEvent(i);o===r||((!r||!r.exit)&&this.fire(n,i),this._active=o,this.fire(t,i)),this.fire(e,i)}}function mse(e){return function(t){this.fire(e,t),this._active=null}}gt(L_,RC,{initialize(e,t,n){return this._canvas=e&&R4(e,"canvas"),[OT,F4,NT,F_,kT].forEach(i=>Ase(this,i)),RC.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:["keydown","keypress","keyup","dragenter",kT,"dragover",F4,"mouseup",NT,F_,"mouseover",OT,"dblclick","wheel",pse,MT,RT,FT],DOMMouseScroll(e){this.fire(pse,e)},mousemove:Ise(NT,"mouseover",F_),dragover:Ise("dragover","dragenter",kT),mouseout:mse(F_),dragleave:mse(kT),mousedown(e){this._down=this._active,this.fire(F4,e)},click(e){this._down===this._active&&(this.fire(OT,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(MT,e,!0)},touchmove(e){this.fire(RT,e,!0)},touchend(e){this.fire(FT,e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===L4&&i&&i.href?this.handleHref(t,i,i.href):(e===P4||e===P_)&&this.handleTooltip(t,i,e!==P_),r)for(let o=0,s=r.length;o<s;++o)r[o].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(Ase(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&i.splice(r,1),this},pickEvent(e){const t=TT(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,r){const o=this.context();return bu[e.marktype].pick.call(this,o,e,t,n,i,r)}});var ZHe="undefined"!=typeof window&&window.devicePixelRatio||1;function PT(e){wd.call(this,e),this._options={},this._redraw=!1,this._dirty=new cs,this._tempb=new cs}const vse=wd.prototype;function B4(e,t){RC.call(this,e,t);const n=this;n._hrefHandler=j4(n,(i,r)=>{r&&r.href&&n.handleHref(i,r,r.href)}),n._tooltipHandler=j4(n,(i,r)=>{n.handleTooltip(i,r,i.type!==P_)})}gt(PT,wd,{initialize(e,t,n,i,r,o){return this._options=o||{},this._canvas=this._options.externalContext?null:iv(1,1),e&&this._canvas&&(Cg(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),vse.initialize.call(this,e,t,n,i,r)},resize(e,t,n,i){if(vse.resize.call(this,e,t,n,i),this._canvas)!function(e,t,n,i,r,o){const s="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,a=e.getContext("2d"),l=s?ZHe:r;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];s&&1!==l&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*i[0],l*i[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const r=this._options.externalContext;r||Be("CanvasRenderer is missing a valid canvas or context"),r.scale(this._scale,this._scale),r.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,r=this._height,o=this._dirty,s=((e,t,n)=>(new cs).set(0,0,t,n).translate(-e[0],-e[1]))(n,i,r);t.save();const a=this._redraw||o.empty()?(this._redraw=!1,s.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,s.intersect(o),n);return this.clear(-n[0],-n[1],i,r),this.draw(t,e,a),t.restore(),o.clear(),this},draw(e,t,n){const i=bu[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),si(n)?(e.beginPath(),n(e),e.clip()):Xoe(e,t.group)}(e,t),i.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const r=this._options,o=this.context();"pdf"!==r.type&&!r.externalContext&&o.clearRect(e,t,n,i),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,i))}});const j4=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};gt(B4,RC,{initialize(e,t,n){let i=this._svg;return i&&(i.removeEventListener(L4,this._hrefHandler),i.removeEventListener(P4,this._tooltipHandler),i.removeEventListener(P_,this._tooltipHandler)),this._svg=i=e&&R4(e,"svg"),i&&(i.addEventListener(L4,this._hrefHandler),i.addEventListener(P4,this._tooltipHandler),i.addEventListener(P_,this._tooltipHandler)),RC.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const o={type:e,handler:t,listener:j4(this,t)};(i[n]||(i[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,i[r].listener),i.splice(r,1)),this}});const yse="aria-hidden",V4="aria-label",z4="role",H4="aria-roledescription",bse="graphics-object",U4="graphics-symbol",_se=(e,t,n)=>({[z4]:e,[H4]:t,[V4]:n||void 0}),JHe=ug(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),wse={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,i=t.title?Tse(e):null,r=e.context,o=r.scales[t.scale].value,s=r.dataflow.locale(),a=o.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${gv(a)?"discrete":a} scale with ${Eoe(s,o,e)}`}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?Tse(e):null,i=`${t.type||""} legend`.trim(),r=t.scales,o=Object.keys(r),s=e.context,a=s.scales[r[o[0]]].value,l=s.dataflow.locale();return function(e){return e.length?e[0].toUpperCase()+e.slice(1):e}(i)+(n?` titled '${n}'`:"")+` for ${function(e){return(e=e.map(t=>t+("fill"===t||"stroke"===t?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Fi(e)}(o)} with ${Eoe(l,a,e)}`}},"title-text":{desc:"title",caption:e=>`Title text '${Sse(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Sse(e)}'`}},Ese={ariaRole:z4,ariaRoleDescription:H4,description:V4};function xse(e,t){const n=!1===t.aria;if(e(yse,n||void 0),n||null==t.description)for(const i in Ese)e(Ese[i],void 0);else{const i=t.mark.marktype;e(V4,t.description),e(z4,t.ariaRole||("group"===i?bse:U4)),e(H4,t.ariaRoleDescription||`${i} mark`)}}function Dse(e){return!1===e.aria?{[yse]:!0}:JHe[e.role]?null:wse[e.role]?function(e,t){try{const n=e.items[0],i=t.caption||(()=>"");return _se(t.role||U4,t.desc,n.description||i(n))}catch(n){return null}}(e,wse[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some(i=>null!=i.description&&!1!==i.aria);return _se(n?bse:U4,`${t} mark container`,e.description)}(e)}function Sse(e){return _n(e.text).join(" ")}function Tse(e){try{return _n(Fi(e.items).items[0].text).join(" ")}catch(t){return null}}const kse=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function G4(){let e="",t="",n="";const i=[],r=()=>t=n="",s=(l,u)=>(null!=u&&(t+=` ${l}="${(e=>kse(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))(u)}"`),a),a={open(l,...u){(l=>{t&&(e+=`${t}>${n}`,r()),i.push(l)})(l),t="<"+l;for(const c of u)for(const g in c)s(g,c[g]);return a},close(){const l=i.pop();return e+=t?t+(n?`>${n}</${l}>`:"/>"):`</${l}>`,r(),a},attr:s,text:l=>(n+=kse(l),a),toString:()=>e};return a}const Nse=e=>Ose(G4(),e)+"";function Ose(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,i=n.length;for(let r=0;r<i;++r)e.attr(n[r].name,n[r].value)}if(t.hasChildNodes()){const n=t.childNodes,i=n.length;for(let r=0;r<i;r++){const o=n[r];3===o.nodeType?e.text(o.nodeValue):Ose(e,o)}}return e.close()}const LT={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Mse={fill:"none","stroke-miterlimit":10},Rse="http://www.w3.org/2000/xmlns/",gs=N_.xmlns;function W4(e){wd.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const $4=wd.prototype;function Fse(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function aUe(e,t,n){let i,r,o;if("radial"===t.gradient){let s=Ll(e,n++,"pattern",gs);FC(s,{id:"p_"+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=Ll(s,0,"rect",gs),FC(s,{width:1,height:1,fill:`url(${Lse()}#${t.id})`}),FC(e=Ll(e,n++,"radialGradient",gs),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else FC(e=Ll(e,n++,"linearGradient",gs),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,r=t.stops.length;i<r;++i)o=Ll(e,i,"stop",gs),o.setAttribute("offset",t.stops[i].offset),o.setAttribute("stop-color",t.stops[i].color);return Cg(e,i),n}function lUe(e,t,n){let i;return(e=Ll(e,n,"clipPath",gs)).setAttribute("id",t.id),t.path?(i=Ll(e,0,"path",gs),i.setAttribute("d",t.path)):(i=Ll(e,0,"rect",gs),FC(i,{x:0,y:0,width:t.width,height:t.height})),Cg(e,1),n+1}function Pse(e,t,n,i,r){let s,o=e._svg;if(!o&&(s=t.ownerDocument,o=MC(s,i,gs),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){const a=MC(s,"path",gs);o.appendChild(a),a.__data__=e;const l=MC(s,"g",gs);o.appendChild(l),l.__data__=e;const u=MC(s,"path",gs);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}gt(W4,wd,{initialize(e,t,n,i,r){return this._defs={},this._clearDefs(),e&&(this._svg=Ll(e,0,"svg",gs),this._svg.setAttributeNS(Rse,"xmlns",gs),this._svg.setAttributeNS(Rse,"xmlns:xlink",N_["xmlns:xlink"]),this._svg.setAttribute("version",N_.version),this._svg.setAttribute("class","marks"),Cg(e,1),this._root=Ll(this._svg,0,"g",gs),FC(this._root,Mse),Cg(this._svg,1)),this.background(this._bgcolor),$4.initialize.call(this,e,t,n,i,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),$4.background.apply(this,arguments)},resize(e,t,n,i){return $4.resize.call(this,e,t,n,i),this._svg&&(FC(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Ll(e,0,"rect",gs),FC(n,{width:this._width,height:this._height,fill:t}));const i=Nse(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Cg(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,r,o,s,a,l;for(s=0,a=e.length;s<a;++s)if(n=e[s],i=n.mark,i.marktype!==r&&(r=i.marktype,o=bu[r]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,Fse(n,t),i.items.forEach(u=>{u.dirty=t})),!i.zdirty){if(n.exit){o.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?i.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,Fse(n,t)),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,r=bu[t.marktype],o=!1===t.interactive?"none":null,s="g"===r.tag;let a=null,l=0;const u=Pse(t,e,n,"g",i);u.setAttribute("class",dse(t));const c=Dse(t);for(const d in c)il(u,d,c[d]);s||il(u,"pointer-events",o),il(u,"clip-path",t.clip?l4(this,t,t.group):null);const g=d=>{const f=this.isDirty(d),h=Pse(d,u,a,r.tag,i);f&&(this._update(r,h,d),s&&function(e,t,n){t=t.lastChild.previousSibling;let i,r=0;hg(n,o=>{i=e.mark(t,o,i),++r}),Cg(t,1+r)}(this,h,d)),a=h,++l};return r.nested?t.items.length&&g(t.items[0]):hg(t,g),Cg(u,l),u},_update(e,t,n){Zf=t,Ea=t.__values__,xse(j_,n),e.attr(j_,n,this);const i=gUe[e.type];i&&i.call(this,e,t,n),Zf&&this.style(Zf,n)},style(e,t){if(null!=t)for(const n in LT){let i="font"===n?M_(t):t[n];if(i===Ea[n])continue;const r=LT[n];null==i?e.removeAttribute(r):(n4(i)&&(i=Doe(i,this._defs.gradient,Lse())),e.setAttribute(r,i+"")),Ea[n]=i}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const r in t.gradient)n||(t.el=n=Ll(e,1,"defs",gs)),i=aUe(n,t.gradient[r],i);for(const r in t.clipping)n||(t.el=n=Ll(e,1,"defs",gs)),i=lUe(n,t.clipping[r],i);n&&(0===i?(e.removeChild(n),t.el=null):Cg(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let Zf=null,Ea=null;const gUe={group(e,t,n){const i=Zf=t.childNodes[2];Ea=i.__values__,e.foreground(j_,n,this),Ea=t.__values__,Zf=t.childNodes[1],e.content(j_,n,this);const r=Zf=t.childNodes[0];e.background(j_,n,this);const o=!1===n.mark.interactive?"none":null;if(o!==Ea.events&&(il(i,"pointer-events",o),il(r,"pointer-events",o),Ea.events=o),n.strokeForeground&&n.stroke){const s=n.fill;il(i,"display",null),this.style(r,n),il(r,"stroke",null),s&&(n.fill=null),Ea=i.__values__,this.style(i,n),s&&(n.fill=s),Zf=null}else il(i,"display","none")},image(e,t,n){!1===n.smooth?(Y4(t,"image-rendering","optimizeSpeed"),Y4(t,"image-rendering","pixelated")):Y4(t,"image-rendering",null)},text(e,t,n){const i=O_(n);let r,o,s,a;rn(i)?(o=i.map(l=>OC(n,l)),r=o.join("\n"),r!==Ea.text&&(Cg(t,0),s=t.ownerDocument,a=NC(n),o.forEach((l,u)=>{const c=MC(s,"tspan",gs);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Ea.text=r)):(o=OC(n,i),o!==Ea.text&&(t.textContent=o,Ea.text=o)),il(t,"font-family",M_(n)),il(t,"font-size",_d(n)+"px"),il(t,"font-style",n.fontStyle),il(t,"font-variant",n.fontVariant),il(t,"font-weight",n.fontWeight)}};function j_(e,t,n){t!==Ea[e]&&(n?function(e,t,n,i){null!=n?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}(Zf,e,t,n):il(Zf,e,t),Ea[e]=t)}function Y4(e,t,n){n!==Ea[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ea[t]=n)}function FC(e,t){for(const n in t)il(e,n,t[n])}function il(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Lse(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function q4(e){wd.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}gt(q4,wd,{svg(){return this._text},_render(e){const t=G4();t.open("svg",ii({},N_,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Mse,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=bu[t.marktype],i=n.tag,r=[xse,n.attr];e.open("g",{class:dse(t),"clip-path":t.clip?l4(this,t,t.group):null},Dse(t),{"pointer-events":"g"!==i&&!1===t.interactive?"none":null});const o=s=>{const a=this.href(s);if(a&&e.open("a",a),e.open(i,this.attr(t,s,r,"g"!==i?i:null)),"text"===i){const l=O_(s);if(rn(l)){const u={x:0,dy:NC(s)};for(let c=0;c<l.length;++c)e.open("tspan",c?u:null).text(OC(s,l[c])).close()}else e.text(OC(s,l))}else if("g"===i){const l=s.strokeForeground,u=s.fill,c=s.stroke;l&&c&&(s.stroke=null),e.open("path",this.attr(t,s,n.background,"bgrect")).close(),e.open("g",this.attr(t,s,n.content)),hg(s,g=>this.mark(e,g)),e.close(),l&&c?(u&&(s.fill=null),s.stroke=c,e.open("path",this.attr(t,s,n.foreground,"bgrect")).close(),u&&(s.fill=u)):e.open("path",this.attr(t,s,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):hg(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[t]=i})}return null},attr(e,t,n,i){const r={},o=(s,a,l,u)=>{r[u||s]=a};return Array.isArray(n)?n.forEach(s=>s(o,t,this)):n(o,t,this),i&&function(e,t,n,i,r){if(null==t||("bgrect"===i&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===i&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill)))return e;"image"===i&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===i&&(e["font-family"]=M_(t),e["font-size"]=_d(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in LT){let s=t[o];const a=LT[o];"transparent"===s&&("fill"===a||"stroke"===a)||null!=s&&(n4(s)&&(s=Doe(s,r.gradient,"")),e[a]=s)}}(r,t,e,i,this._defs),r},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const r in t){const o=t[r],s=o.stops;"radial"===o.gradient?(e.open("pattern",{id:"p_"+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:r,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<s.length;++a)e.open("stop",{offset:s[a].offset,"stop-color":s[a].color}).close();e.close()}for(const r in n){const o=n[r];e.open("clipPath",{id:r}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});const PC={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Iv={};function BT(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Iv[e]=t,this):Iv[e]}function Hse(e,t,n){const i=[],r=(new cs).union(t),o=e.marktype;return o?Use(e,r,n,i):"group"===o?Gse(e,r,n,i):Be("Intersect scene must be mark node or group item.")}function Use(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const r=e.items,o=e.marktype,s=r.length;let a=0;if("group"===o)for(;a<s;++a)Gse(r[a],t,n,i);else for(const l=bu[o].isect;a<s;++a){const u=r[a];Wse(u,t,l)&&i.push(u)}}return i}function Gse(e,t,n,i){n&&n(e.mark)&&Wse(e,t,bu.group.isect)&&i.push(e);const r=e.items,o=r&&r.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)Use(r[l],t,n,i);t.translate(s,a)}return i}function Wse(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}Iv.canvas=Iv.png={renderer:PT,headless:PT,handler:L_},Iv.svg={renderer:W4,headless:q4,handler:B4},Iv.none={};const Z4=new cs;function $se(e){const t=e.clip;if(si(t))t(S_(Z4.clear()));else{if(!t)return;Z4.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Z4)}function K4(e,t,n){return e===t||("path"===n?Yse(e,t):e instanceof Date&&t instanceof Date?+e==+t:lC(e)&&lC(t)?Math.abs(e-t)<=1e-9:e&&t&&(Un(e)||Un(t))?function(e,t){var r,o,n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(n.sort(),i.sort(),o=n.length-1;o>=0;o--)if(n[o]!=i[o])return!1;for(o=n.length-1;o>=0;o--)if(!K4(e[r=n[o]],t[r],r))return!1;return typeof e==typeof t}(e,t):e==t)}function Yse(e,t){return K4(dv(e),dv(t))}function AUe(){Boe(),xoe=0}const mv="top",pg="left",Ag="right",LC="bottom",X4="start",Q4="middle",rl="end",jT="group",J4="axis",ej="title",tj="legend",qse="row-header",Zse="row-footer",Xse="column-header",Qse="column-footer",Jse="column-title",nj="none",VT="all",ij="each",rj="flush",BC="column",jC="row";function tae(e){Ne.call(this,null,e)}function zT(e,t,n){return t(e.bounds.clear(),e,n)}gt(tae,Ne,{transform(e,t){const n=t.dataflow,i=e.mark,r=i.marktype,o=bu[r],s=o.bound;let l,a=i.bounds;if(o.nested)i.items.length&&n.dirty(i.items[0]),a=zT(i,s),i.items.forEach(u=>{u.bounds.clear().union(a)});else if(r===jT||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),i.items.forEach(u=>a.union(zT(u,s))),i.role){case J4:case tj:case ej:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(zT(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(zT(u,s))}),l&&(a.clear(),i.items.forEach(u=>a.union(u.bounds)));return $se(i),t.modifies("bounds")}});const nae=":vega_identifier:";function oj(e){Ne.call(this,0,e)}function iae(e){Ne.call(this,null,e)}function rae(e){Ne.call(this,null,e)}oj.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},gt(oj,Ne,{transform(e,t){const n=function(e){return e._signals[nae]||(e._signals[nae]=e.add(0))}(t.dataflow),i=e.as;let r=n.value;return t.visit(t.ADD,o=>o[i]=o[i]||++r),n.set(this.value=r),t}}),gt(iae,Ne,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const i=n.marktype===jT?CT:hT;return t.visit(t.ADD,r=>i.call(r,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const oae={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((i,r)=>r&&sae(n.bounds,i.bounds,t)?i.opacity=0:(n=i,1))}},sae=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),aae=(e,t)=>{for(var o,n=1,i=e.length,r=e[0].bounds;n<i;r=o,++n)if(sae(r,o=e[n].bounds,t))return!0},MUe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},lae=e=>(e.forEach(t=>t.opacity=1),e),uae=(e,t)=>e.reflow(t.modified()).modifies("opacity");function cae(e){Ne.call(this,null,e)}gt(rae,Ne,{transform(e,t){const n=oae[e.method]||oae.parity,i=e.separation||0;let o,s,r=t.materialize(t.SOURCE).source;if(!r||!r.length)return;if(!e.method)return e.modified("method")&&(lae(r),t=uae(t,e)),t;if(r=r.filter(MUe),!r.length)return;if(e.sort&&(r=r.slice().sort(e.sort)),o=lae(r),t=uae(t,e),o.length>=3&&aae(o,i)){do{o=n(o,i)}while(o.length>=3&&aae(o,i));o.length<3&&!Fi(r).opacity&&(o.length>1&&(Fi(o).opacity=0),Fi(r).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=((e,t,n)=>{var i=e.range(),r=new cs;return t===mv||t===LC?r.set(i[0],-1/0,i[1],1/0):r.set(-1/0,i[0],1/0,i[1]),r.expand(n||1),o=>r.encloses(o.bounds)})(e.boundScale,e.boundOrient,+e.boundTolerance),r.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return r.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}}),gt(cae,Ne,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,i=>n.dirty(i)),t.fields&&t.fields.zindex){const i=t.source&&t.source[0];i&&(i.mark.zdirty=!0)}}});const xa=new cs;function vv(e,t,n){return e[t]===n?0:(e[t]=n,1)}function FUe(e){var t=e.items[0].orient;return t===pg||t===Ag}function LUe(e,t,n,i){var _,N,r=t.items[0],o=r.datum,s=null!=r.translate?r.translate:.5,a=r.orient,l=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(o),u=r.range,c=r.offset,g=r.position,d=r.minExtent,f=r.maxExtent,h=o.title&&r.items[l[2]].items[0],C=r.titlePadding,p=r.bounds,I=h&&T4(h),m=0,y=0;switch(xa.clear().union(p),p.clear(),(_=l[0])>-1&&p.union(r.items[_].bounds),(_=l[1])>-1&&p.union(r.items[_].bounds),a){case mv:m=g||0,y=-c,N=Math.max(d,Math.min(f,-p.y1)),p.add(0,-N).add(u,0),h&&HT(e,h,N,C,I,0,-1,p);break;case pg:m=-c,y=g||0,N=Math.max(d,Math.min(f,-p.x1)),p.add(-N,0).add(0,u),h&&HT(e,h,N,C,I,1,-1,p);break;case Ag:m=n+c,y=g||0,N=Math.max(d,Math.min(f,p.x2)),p.add(0,0).add(N,u),h&&HT(e,h,N,C,I,1,1,p);break;case LC:m=g||0,y=i+c,N=Math.max(d,Math.min(f,p.y2)),p.add(0,0).add(u,N),h&&HT(e,h,N,C,0,0,1,p);break;default:m=r.x,y=r.y}return qf(p.translate(m,y),r),vv(r,"x",m+s)|vv(r,"y",y+s)&&(r.bounds=xa,e.dirty(r),r.bounds=p,e.dirty(r)),r.mark.bounds.clear().union(p)}function HT(e,t,n,i,r,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+r+i);let c=0,g=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):g=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-g)),e.dirty(t)}a.union(l)}const gae=(e,t)=>Math.floor(Math.min(e,t)),dae=(e,t)=>Math.ceil(Math.max(e,t));function jUe(e){return(new cs).set(0,0,e.width||0,e.height||0)}function VUe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function eo(e,t,n){const i=Un(e)?e[t]:e;return null!=i?i:void 0!==n?n:0}function fae(e){return e<0?Math.ceil(-e):0}function hae(e,t,n){var O,k,M,V,z,H,ee,se,_e,ae,le,i=!n.nodirty,r=n.bounds===rj?jUe:VUe,o=xa.set(0,0,0,0),s=eo(n.align,BC),a=eo(n.align,jC),l=eo(n.padding,BC),u=eo(n.padding,jC),c=n.columns||t.length,g=c<=0?1:Math.ceil(t.length/c),d=t.length,f=Array(d),h=Array(c),C=0,p=Array(d),I=Array(g),m=0,y=Array(d),_=Array(d),N=Array(d);for(k=0;k<c;++k)h[k]=0;for(k=0;k<g;++k)I[k]=0;for(k=0;k<d;++k)z=N[k]=r(H=t[k]),H.x=H.x||0,y[k]=0,H.y=H.y||0,_[k]=0,M=k%c,V=~~(k/c),C=Math.max(C,ee=Math.ceil(z.x2)),m=Math.max(m,se=Math.ceil(z.y2)),h[M]=Math.max(h[M],ee),I[V]=Math.max(I[V],se),f[k]=l+fae(z.x1),p[k]=u+fae(z.y1),i&&e.dirty(t[k]);for(k=0;k<d;++k)k%c==0&&(f[k]=0),k<c&&(p[k]=0);if(s===ij)for(M=1;M<c;++M){for(le=0,k=M;k<d;k+=c)le<f[k]&&(le=f[k]);for(k=M;k<d;k+=c)f[k]=le+h[M-1]}else if(s===VT){for(le=0,k=0;k<d;++k)k%c&&le<f[k]&&(le=f[k]);for(k=0;k<d;++k)k%c&&(f[k]=le+C)}else for(s=!1,M=1;M<c;++M)for(k=M;k<d;k+=c)f[k]+=h[M-1];if(a===ij)for(V=1;V<g;++V){for(le=0,O=(k=V*c)+c;k<O;++k)le<p[k]&&(le=p[k]);for(k=V*c;k<O;++k)p[k]=le+I[V-1]}else if(a===VT){for(le=0,k=c;k<d;++k)le<p[k]&&(le=p[k]);for(k=c;k<d;++k)p[k]=le+m}else for(a=!1,V=1;V<g;++V)for(O=(k=V*c)+c;k<O;++k)p[k]+=I[V-1];for(_e=0,k=0;k<d;++k)y[k]+=(_e=f[k]+(k%c?_e:0))-t[k].x;for(M=0;M<c;++M)for(ae=0,k=M;k<d;k+=c)_[k]+=(ae+=p[k])-t[k].y;if(s&&eo(n.center,BC)&&g>1)for(k=0;k<d;++k)(_e=(z=s===VT?C:h[k%c])-N[k].x2-t[k].x-y[k])>0&&(y[k]+=_e/2);if(a&&eo(n.center,jC)&&1!==c)for(k=0;k<d;++k)(ae=(z=a===VT?m:I[~~(k/c)])-N[k].y2-t[k].y-_[k])>0&&(_[k]+=ae/2);for(k=0;k<d;++k)o.union(N[k].translate(y[k],_[k]));switch(_e=eo(n.anchor,"x"),ae=eo(n.anchor,"y"),eo(n.anchor,BC)){case rl:_e-=o.width();break;case Q4:_e-=o.width()/2}switch(eo(n.anchor,jC)){case rl:ae-=o.height();break;case Q4:ae-=o.height()/2}for(_e=Math.round(_e),ae=Math.round(ae),o.clear(),k=0;k<d;++k)t[k].mark.bounds.clear();for(k=0;k<d;++k)(H=t[k]).x+=y[k]+=_e,H.y+=_[k]+=ae,o.union(H.mark.bounds.union(H.bounds.translate(y[k],_[k]))),i&&e.dirty(H);return o}function HUe(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function UUe(e,t){return e.bounds[t]}function UT(e,t,n,i,r,o,s,a,l,u,c,g,d,f){var I,m,y,_,N,O,k,M,V,h=n.length,C=0,p=0;if(!h)return C;for(I=c;I<h;I+=g)n[I]&&(C=s(C,l(n[I],u)));if(!t.length)return C;for(t.length>r&&(e.warn("Grid headers exceed limit: "+r),t=t.slice(0,r)),C+=o,m=0,_=t.length;m<_;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(I=c,m=0,_=t.length;m<_;++m,I+=g){for(N=(O=t[m]).mark.bounds,y=I;y>=0&&null==(k=n[y]);y-=d);a?(M=null==f?k.x:Math.round(k.bounds.x1+f*k.bounds.width()),V=C):(M=C,V=null==f?k.y:Math.round(k.bounds.y1+f*k.bounds.height())),N.union(O.bounds.translate(M-(O.x||0),V-(O.y||0))),O.x=M,O.y=V,e.dirty(O),p=s(p,N[u])}return p}function Cae(e,t,n,i,r,o){if(t){e.dirty(t);var s=n,a=n;i?s=Math.round(r.x1+o*r.width()):a=Math.round(r.y1+o*r.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function $Ue(e,t,n,i,r,o,s){const a=function(e,t){const n=e[t]||{};return(i,r)=>null!=n[i]?n[i]:null!=e[i]?e[i]:r}(n,t),l=function(e,t){let n=-1/0;return e.forEach(i=>{null!=i.offset&&(n=Math.max(n,i.offset))}),n>-1/0?n:t}(e,a("offset",0)),u=a("anchor",X4),c=u===rl?1:u===Q4?.5:0,g={align:ij,bounds:a("bounds",rj),columns:"vertical"===a("direction")?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case pg:g.anchor={x:Math.floor(i.x1)-l,column:rl,y:c*(s||i.height()+2*i.y1),row:u};break;case Ag:g.anchor={x:Math.ceil(i.x2)+l,y:c*(s||i.height()+2*i.y1),row:u};break;case mv:g.anchor={y:Math.floor(r.y1)-l,row:rl,x:c*(o||r.width()+2*r.x1),column:u};break;case LC:g.anchor={y:Math.ceil(r.y2)+l,x:c*(o||r.width()+2*r.x1),column:u};break;case"top-left":g.anchor={x:l,y:l};break;case"top-right":g.anchor={x:o-l,y:l,column:rl};break;case"bottom-left":g.anchor={x:l,y:s-l,row:rl};break;case"bottom-right":g.anchor={x:o-l,y:s-l,column:rl,row:rl}}return g}function YUe(e,t){var l,u,n=t.items[0],i=n.datum,r=n.orient,o=n.bounds,s=n.x,a=n.y;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),function(e,t,n){var i=t.padding,r=i-n.x,o=i-n.y;if(t.datum.title){var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=i-s.x,c=i-s.y;switch(s.orient){case pg:r+=Math.ceil(s.bounds.width())+l;break;case Ag:case LC:break;default:o+=s.bounds.height()+l}switch((r||o)&&V_(e,n,r,o),s.orient){case pg:c+=yv(t,n,s,a,1,1);break;case Ag:u+=yv(t,n,s,rl,0,0)+l,c+=yv(t,n,s,a,1,1);break;case LC:u+=yv(t,n,s,a,0,0),c+=yv(t,n,s,rl,-1,0,1)+l;break;default:u+=yv(t,n,s,a,0,0)}(u||c)&&V_(e,s,u,c),(u=Math.round(s.bounds.x1-i))<0&&(V_(e,n,-u,0),V_(e,s,-u,0))}else(r||o)&&V_(e,n,r,o)}(e,n,n.items[0].items[0]),o=function(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),"symbol"===i.type&&function(e){const t=e.reduce((n,i)=>(n[i.column]=Math.max(i.bounds.x2-i.x,n[i.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}(n.items[0].items[0].items[0].items),r!==nj&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,qf(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function yv(e,t,n,i,r,o,s){const l=n.datum.vgrad,c=("symbol"===e.datum.type||!o&&l||s?t:t.items[0]).bounds[r?"y2":"x2"]-e.padding,g=l&&o?c:0,d=l&&o?0:c,f=r<=0?0:T4(n);return Math.round(i===X4?g:i===rl?d-f:.5*(c-f))}function V_(e,t,n,i){t.x+=n,t.y+=i,t.bounds.translate(n,i),t.mark.bounds.translate(n,i),e.dirty(t)}function pae(e){Ne.call(this,null,e)}function Aae(e,t){let n=0;if(void 0===t)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function Iae(e){Ne.call(this,null,e)}function mae(e){Ne.call(this,null,e)}function tGe(){return sr({})}function vae(e){Ne.call(this,null,e)}function yae(e){Ne.call(this,[],e)}gt(pae,Ne,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(i=>{e.layout&&function(e,t,n){var c,g,d,f,h,C,p,i=function(e){var r,o,t=e.items,n=t.length,i=0;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;i<n;++i)if(o=(r=t[i]).items,r.marktype===jT)switch(r.role){case J4:case tj:case ej:break;case qse:s.rowheaders.push(...o);break;case Zse:s.rowfooters.push(...o);break;case Xse:s.colheaders.push(...o);break;case Qse:s.colfooters.push(...o);break;case"row-title":s.rowtitle=o[0];break;case Jse:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}(t),r=i.marks,o=n.bounds===rj?HUe:UUe,s=n.offset,a=n.columns||r.length,l=a<=0?1:Math.ceil(r.length/a),u=l*a;const I=hae(e,r,n);I.empty()&&I.set(0,0,0,0),i.rowheaders&&(C=eo(n.headerBand,jC,null),c=UT(e,i.rowheaders,r,0,l,-eo(s,"rowHeader"),gae,0,o,"x1",0,a,1,C)),i.colheaders&&(C=eo(n.headerBand,BC,null),g=UT(e,i.colheaders,r,0,a,-eo(s,"columnHeader"),gae,1,o,"y1",0,1,a,C)),i.rowfooters&&(C=eo(n.footerBand,jC,null),d=UT(e,i.rowfooters,r,0,l,eo(s,"rowFooter"),dae,0,o,"x2",a-1,a,1,C)),i.colfooters&&(C=eo(n.footerBand,BC,null),f=UT(e,i.colfooters,r,0,a,eo(s,"columnFooter"),dae,1,o,"y2",u-a,1,a,C)),i.rowtitle&&(h=eo(n.titleAnchor,jC),p=eo(s,"rowTitle"),p=h===rl?d+p:c-p,C=eo(n.titleBand,jC,.5),Cae(e,i.rowtitle,p,0,I,C)),i.coltitle&&(h=eo(n.titleAnchor,BC),p=eo(s,"columnTitle"),p=h===rl?f+p:g-p,C=eo(n.titleBand,BC,.5),Cae(e,i.coltitle,p,1,I,C))}(n,i,e.layout),function(e,t,n){var c,g,d,h,C,i=t.items,r=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=(new cs).set(0,0,r,o),a=s.clone(),l=s.clone(),u=[];for(h=0,C=i.length;h<C;++h)switch(g=i[h],g.role){case J4:(FUe(g)?a:l).union(LUe(e,g,r,o));break;case ej:c=g;break;case tj:u.push(YUe(e,g));break;case"frame":case"scope":case qse:case Zse:case"row-title":case Xse:case Qse:case Jse:a.union(g.bounds),l.union(g.bounds);break;default:s.union(g.bounds)}if(u.length){const p={};u.forEach(I=>{(d=I.orient||Ag)!==nj&&(p[d]||(p[d]=[])).push(I)});for(const I in p){const m=p[I];hae(e,m,$Ue(m,I,n.legends,a,l,r,o))}u.forEach(I=>{const m=I.bounds;if(m.equals(I._bounds)||(I.bounds=I._bounds,e.dirty(I),I.bounds=m,e.dirty(I)),n.autosize&&"fit"===n.autosize.type)switch(I.orient){case pg:case Ag:s.add(m.x1,0).add(m.x2,0);break;case mv:case LC:s.add(0,m.y1).add(0,m.y2)}else s.union(m)})}s.union(a).union(l),c&&s.union(function(e,t,n,i,r){var y,o=t.items[0],a=o.orient,l=o.anchor,u=o.offset,c=o.padding,g=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],f=a===pg||a===Ag?i:n,h=0,C=0,p=0,I=0,m=0;if(o.frame!==jT?a===pg?(h=r.y2,f=r.y1):a===Ag?(h=r.y1,f=r.y2):(h=r.x1,f=r.x2):a===pg&&(h=i,f=0),y=l===X4?h:l===rl?f:(h+f)/2,d&&d.text){switch(a){case mv:case LC:m=g.bounds.height()+c;break;case pg:I=g.bounds.width()+c;break;case Ag:I=-g.bounds.width()-c}xa.clear().union(d.bounds),xa.translate(I-(d.x||0),m-(d.y||0)),vv(d,"x",I)|vv(d,"y",m)&&(e.dirty(d),d.bounds.clear().union(xa),d.mark.bounds.clear().union(xa),e.dirty(d)),xa.clear().union(d.bounds)}else xa.clear();switch(xa.union(g.bounds),a){case mv:C=y,p=r.y1-xa.height()-u;break;case pg:C=r.x1-xa.width()-u,p=y;break;case Ag:C=r.x2+xa.width()+u,p=y;break;case LC:C=y,p=r.y2+u;break;default:C=o.x,p=o.y}return vv(o,"x",C)|vv(o,"y",p)&&(xa.translate(C,p),e.dirty(o),o.bounds.clear().union(xa),t.bounds.clear().union(xa),e.dirty(o)),o.bounds}(e,c,r,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),function(e,t,n,i){const r=i.autosize||{},o=r.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),g=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),f=Math.max(0,Math.ceil(n.y2-c));if("padding"===r.contains){const h=e.padding();s-=h.left+h.right,a-=h.top+h.bottom}o===nj?(u=0,g=0,l=s,c=a):"fit"===o?(l=Math.max(0,s-u-d),c=Math.max(0,a-g-f)):"fit-x"===o?(l=Math.max(0,s-u-d),a=c+g+f):"fit-y"===o?(s=l+u+d,c=Math.max(0,a-g-f)):"pad"===o&&(s=l+u+d,a=c+g+f),e._resizeView(s,a,l,c,[u,g],r.resize)}(e,t,s,n)}(n,i,e)}),function(e){return e&&"legend-entry"!==e.mark.role}(e.mark.group)?t.reflow():t}}),gt(Iae,Ne,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,o=e.scale,a=J8(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),l=e.format||Ioe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?Aoe(o,e.values,a):e4(o,a);return r&&(i.rem=r),r=u.map((c,g)=>sr({index:g/(u.length-1||1),value:c,label:l(c)})),e.extra&&r.length&&r.push(sr({index:-1,extra:{value:r[0].value},label:""})),i.source=r,i.add=r,this.value=r,i}}),gt(mae,Ne,{transform(e,t){var n=t.dataflow,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.item||tGe,o=e.key||cn,s=this.value;return rn(i.encode)&&(i.encode=null),s&&(e.modified("key")||t.modified(o))&&Be("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=function(e){const t=B0().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,i.add.push(u)):i.mod.push(u):(u=r(a),s.set(l,u),i.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,i.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(i.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&i.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),i}}),gt(vae,Ne,{transform(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,r=e.encoders,o=t.encode;if(rn(o)){if(!n.changed()&&!o.every(g=>r[g]))return t.StopPropagation;o=o[0],n.encode=null}var s="enter"===o,a=r.update||sC,l=r.enter||sC,u=r.exit||sC,c=(o&&!s?r[o]:a)||sC;if(t.changed(t.ADD)&&(t.visit(t.ADD,g=>{l(g,e),a(g,e)}),n.modifies(l.output),n.modifies(a.output),c!==sC&&c!==a&&(t.visit(t.ADD,g=>{c(g,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==sC&&(t.visit(t.REM,g=>{u(g,e)}),n.modifies(u.output)),s||c!==sC){const g=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(g,d=>{const f=l(d,e)||i;(c(d,e)||f)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(g,d=>{(c(d,e)||i)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),gt(yae,Ne,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var d,f,h,C,p,n=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,o=e.type||cT,s=e.scale,a=+e.limit,l=J8(s,null==e.count?5:e.count,e.minstep),c=e.format||boe(n,s,l,o,e.formatSpecifier,e.formatType,!!e.values||o===cT),g=e.values||yoe(s,l);return r&&(i.rem=r),o===cT?(a&&g.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),r=g.slice(0,a-1),p=!0):r=g,si(h=e.size)?(!e.values&&0===s(r[0])&&(r=r.slice(1)),C=r.reduce((I,m)=>Math.max(I,h(m,e)),0)):h=va(C=h||8),r=r.map((I,m)=>sr({index:m,label:c(I,m,r),value:I,offset:C,size:h(I,e)})),p&&(p=g[r.length],r.push(sr({index:r.length,label:"\u2026".concat(g.length-r.length," entries"),value:p,offset:C,size:h(p,e)})))):"gradient"===o?(d=s.domain(),f=foe(s,d[0],Fi(d)),g.length<3&&!e.values&&d[0]!==Fi(d)&&(g=[d[0],Fi(d)]),r=g.map((I,m)=>sr({index:m,label:c(I,m,g),value:I,perc:f(I)}))):(h=g.length-1,f=function(e){const t=e.domain(),n=t.length-1;let i=+t[0],r=+Fi(t),o=r-i;if(e.type===aT){const s=n?o/n:.1;i-=s,r+=s,o=r-i}return s=>(s-i)/o}(s),r=g.map((I,m)=>sr({index:m,label:c(I,m,g),value:I,perc:m?f(I):0,perc2:m===h?1:f(g[m+1])}))),i.source=r,i.add=r,this.value=r,i}});const iGe=e=>e.source.x,rGe=e=>e.source.y,oGe=e=>e.target.x,sGe=e=>e.target.y;function sj(e){Ne.call(this,{},e)}sj.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},gt(sj,Ne,{transform(e,t){var n=e.sourceX||iGe,i=e.sourceY||rGe,r=e.targetX||oGe,o=e.targetY||sGe,s=e.as||"path",l=e.shape||"line",u=Eae.get(l+"-"+(e.orient||"vertical"))||Eae.get(l);return u||Be("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),i(c),r(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const bae=(e,t,n,i)=>"M"+e+","+t+"L"+n+","+i,_ae=(e,t,n,i)=>{var r=n-e,o=i-t,s=Math.sqrt(r*r+o*o)/2;return"M"+e+","+t+"A"+s+","+s+" "+180*Math.atan2(o,r)/Math.PI+" 0 1 "+n+","+i},wae=(e,t,n,i)=>{const r=n-e,o=i-t,s=.2*(r+o),a=.2*(o-r);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(i-s)+" "+n+","+i},Eae=B0({line:bae,"line-radial":(e,t,n,i)=>bae(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),arc:_ae,"arc-radial":(e,t,n,i)=>_ae(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),curve:wae,"curve-radial":(e,t,n,i)=>wae(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),"orthogonal-horizontal":(e,t,n,i)=>"M"+e+","+t+"V"+i+"H"+n,"orthogonal-vertical":(e,t,n,i)=>"M"+e+","+t+"H"+n+"V"+i,"orthogonal-radial":(e,t,n,i)=>{const r=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n);return"M"+t*r+","+t*o+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*s+","+t*a+"L"+i*s+","+i*a},"diagonal-horizontal":(e,t,n,i)=>{const r=(e+n)/2;return"M"+e+","+t+"C"+r+","+t+" "+r+","+i+" "+n+","+i},"diagonal-vertical":(e,t,n,i)=>{const r=(t+i)/2;return"M"+e+","+t+"C"+e+","+r+" "+n+","+r+" "+n+","+i},"diagonal-radial":(e,t,n,i)=>{const r=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+i)/2;return"M"+t*r+","+t*o+"C"+l*r+","+l*o+" "+l*s+","+l*a+" "+i*s+","+i*a}});function aj(e){Ne.call(this,null,e)}function xae(e){return Z8(e)&&e!==md}aj.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},gt(aj,Ne,{transform(e,t){var h,C,p,n=e.as||["startAngle","endAngle"],i=n[0],r=n[1],s=e.startAngle||0,a=null!=e.endAngle?e.endAngle:2*Math.PI,l=t.source,u=l.map(e.field||L0),c=u.length,g=s,d=(a-s)/Aae(u),f=yu(c);for(e.sort&&f.sort((I,m)=>u[I]-u[m]),h=0;h<c;++h)p=u[f[h]],(C=l[f[h]])[i]=g,C[r]=g+=p*d;return this.value=u,t.reflow(e.modified()).modifies(n)}});const gGe=ug(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Dae(e){Ne.call(this,null,e),this.modified(!0)}function Sae(e,t,n){return loe(e)&&Math.abs(t.reduce((r,o)=>r+(o<0?-1:o>0?1:0),0))!==t.length&&n.warn("Log scale domain includes zero: "+hn(t)),t}function Tae(e,t,n){return si(e)&&(t||n)?goe(e,lj(t||[0,1],n)):e}function lj(e,t){return t?e.slice().reverse():e}function kae(e){Ne.call(this,null,e)}gt(Dae,Ne,{transform(e,t){var n=t.dataflow,i=this.value,r=function(e){var i,t=e.type,n="";return t===md?md+"-"+lv:(function(e){const t=e.type;return Z8(t)&&t!==$A&&t!==YA&&(e.scheme||e.range&&e.range.length&&e.range.every($i))}(e)&&(n=2===(i=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?md+"-":3===i?uv+"-":""),(n+t||lv).toLowerCase())}(e);for(r in(!i||r!==i.type)&&(this.value=i=Ji(r)()),e)if(!gGe[r]){if("padding"===r&&xae(i.type))continue;si(i[r])?i[r](e[r]):n.warn("Unsupported scale property: "+r)}return function(e,t,n){var i=e.type,r=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){return"band"!==e&&e!==W8&&Be("Only band and point scales support rangeStep."),[0,t.rangeStep*U8(n,e===W8?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?t.paddingOuter:t.padding)||0)]}(i,t,n);else if(t.scheme&&si(o=function(e,t,n){var o,i=t.schemeExtent;return rn(t.scheme)?o=uT(t.scheme,t.interpolate,t.interpolateGamma):(o=Q8(t.scheme.toLowerCase()))||Be("Unrecognized scheme name: ".concat(t.scheme)),n=e===aT?n+1:e===$8?n-1:e===cv||e===sT?+t.schemeCount||5:n,uoe(e)?Tae(o,i,t.reverse):si(o)?doe(Tae(o,i),n):e===G8?o:o.slice(0,n)}(i,t,n))){if(e.interpolator)return e.interpolator(o);Be("Scale type ".concat(i," does not support interpolating color schemes."))}if(o&&uoe(i))return e.interpolator(uT(lj(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(X8(t.interpolate,t.interpolateGamma)):si(e.round)?e.round(r):si(e.rangeRound)&&e.interpolate(r?C_:EC),o&&e.range(lj(o,t.reverse))}(i,e,function(e,t,n){let i=t.bins;if(i&&!rn(i)){const r=e.domain(),o=r[0],s=Fi(r),a=i.step;let l=null==i.start?o:i.start,u=null==i.stop?s:i.stop;a||Be("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),i=yu(l,u+a/2,a)}return i?e.bins=i:e.bins&&delete e.bins,e.type===$8&&(i?!t.domain&&!t.domainRaw&&(e.domain(i),n=i.length):e.bins=e.domain()),n}(i,e,function(e,t,n){const i=function(e,t,n){return t?(e.domain(Sae(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(i>-1)return i;var a,l,r=t.domain,o=e.type,s=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===lv||t===I_||t===m_)}(e);if(!r)return 0;if(xae(o)&&t.padding&&r[0]!==Fi(r)&&(r=function(e,t,n,i,r,o){var s=Math.abs(Fi(n)-n[0]),a=s/(s-2*i),l=e===$f?nL(t,null,a):e===m_?aS(t,null,a,.5):e===I_?aS(t,null,a,r||1):e===oT?iL(t,null,a,o||1):tL(t,null,a);return(t=t.slice())[0]=l[0],t[t.length-1]=l[1],t}(o,r,t.range,t.padding,t.exponent,t.constant)),(s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(a=(r=r.slice()).length-1||1,s&&(r[0]>0&&(r[0]=0),r[a]<0&&(r[a]=0)),null!=t.domainMin&&(r[0]=t.domainMin),null!=t.domainMax&&(r[a]=t.domainMax),null!=t.domainMid)){const u=(l=t.domainMid)>r[a]?a+1:l<r[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),r.splice(u,0,l)}return e.domain(Sae(o,r,n)),o===G8&&e.unknown(t.domainImplicit?C8:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&J8(e,t.nice)||null),r.length}(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),gt(kae,Ne,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(BA(e.sort)),this.modified(n),t}});const Rae=["y0","y1"];function uj(e){Ne.call(this,null,e)}function yGe(e,t,n,i,r){for(var l,o=(t-e.sum)/2,s=e.length,a=0;a<s;++a)(l=e[a])[i]=o,l[r]=o+=Math.abs(n(l))}function bGe(e,t,n,i,r){for(var c,o=1/e.sum,s=0,a=e.length,l=0,u=0;l<a;++l)(c=e[l])[i]=s,c[r]=s=o*(u+=Math.abs(n(c)))}function _Ge(e,t,n,i,r){for(var u,c,o=0,s=0,a=e.length,l=0;l<a;++l)(u=+n(c=e[l]))<0?(c[i]=s,c[r]=s+=u):(c[i]=o,c[r]=o+=u)}uj.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Rae}]},gt(uj,Ne,{transform(e,t){var l,u,c,g,n=e.as||Rae,i=n[0],r=n[1],o=BA(e.sort),s=e.field||L0,a="center"===e.offset?yGe:"normalize"===e.offset?bGe:_Ge;for(l=function(e,t,n,i){var s,a,l,u,c,g,d,f,h,r=[],o=C=>C(c);if(null==t)r.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],(d=s[g=t.map(o)])||(s[g]=d=[],r.push(d)),d.push(c);for(g=0,h=0,u=r.length;g<u;++g){for(a=0,f=0,l=(d=r[g]).length;a<l;++a)f+=Math.abs(i(d[a]));d.sum=f,f>h&&(h=f),n&&d.sort(n)}return r.max=h,r}(t.source,e.groupby,o,s),u=0,c=l.length,g=l.max;u<c;++u)a(l[u],g,s,i,r);return t.reflow(e.modified()).modifies(n)}});const z_=e=>e;function GT(e,t){e&&Pae.hasOwnProperty(e.type)&&Pae[e.type](e,t)}var Fae={Feature:function(e,t){GT(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)GT(n[i].geometry,t)}},Pae={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)t.point((e=n[i])[0],e[1],e[2])},LineString:function(e,t){cj(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)cj(n[i],t,0)},Polygon:function(e,t){Lae(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Lae(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)GT(n[i],t)}};function cj(e,t,n){var o,i=-1,r=e.length-n;for(t.lineStart();++i<r;)t.point((o=e[i])[0],o[1],o[2]);t.lineEnd()}function Lae(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)cj(e[n],t,1);t.polygonEnd()}function Kf(e,t){e&&Fae.hasOwnProperty(e.type)?Fae[e.type](e,t):GT(e,t)}class ta{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=n[r],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[i++]=a),t=s}return n[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let i,r,o,n=this._n,s=0;if(n>0){for(s=t[--n];n>0&&(i=s,r=t[--n],s=i+r,o=r-(s-i),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(r=2*o,i=s+r,r==i-s&&(s=i))}return s}}var In=1e-6,WT=1e-12,di=Math.PI,mo=di/2,$T=di/4,ol=2*di,So=180/di,fi=di/180,Vi=Math.abs,bv=Math.atan,Ic=Math.atan2,vn=Math.cos,YT=Math.ceil,Bae=Math.exp,gj=(Math,Math.hypot),qT=Math.log,dj=Math.pow,un=Math.sin,mc=Math.sign||function(e){return e>0?1:e<0?-1:0},sl=Math.sqrt,fj=Math.tan;function jae(e){return e>1?0:e<-1?di:Math.acos(e)}function Bl(e){return e>1?mo:e<-1?-mo:Math.asin(e)}function na(){}var Vae,zae,pj,Aj,hj=new ta,Cj=new ta,VC={point:na,lineStart:na,lineEnd:na,polygonStart:function(){VC.lineStart=EGe,VC.lineEnd=DGe},polygonEnd:function(){VC.lineStart=VC.lineEnd=VC.point=na,hj.add(Vi(Cj)),Cj=new ta},result:function(){var e=hj/2;return hj=new ta,e}};function EGe(){VC.point=xGe}function xGe(e,t){VC.point=Hae,Vae=pj=e,zae=Aj=t}function Hae(e,t){Cj.add(Aj*e-pj*t),pj=e,Aj=t}function DGe(){Hae(Vae,zae)}const Uae=VC;var _v=1/0,ZT=_v,H_=-_v,KT=H_;const XT={point:function(e,t){e<_v&&(_v=e),e>H_&&(H_=e),t<ZT&&(ZT=t),t>KT&&(KT=t)},lineStart:na,lineEnd:na,polygonStart:na,polygonEnd:na,result:function(){var e=[[_v,ZT],[H_,KT]];return H_=KT=-(ZT=_v=1/0),e}};var Gae,Wae,Ed,xd,Ij=0,mj=0,U_=0,QT=0,JT=0,wv=0,vj=0,yj=0,G_=0,Ig={point:eI,lineStart:$ae,lineEnd:Yae,polygonStart:function(){Ig.lineStart=OGe,Ig.lineEnd=MGe},polygonEnd:function(){Ig.point=eI,Ig.lineStart=$ae,Ig.lineEnd=Yae},result:function(){var e=G_?[vj/G_,yj/G_]:wv?[QT/wv,JT/wv]:U_?[Ij/U_,mj/U_]:[NaN,NaN];return Ij=mj=U_=QT=JT=wv=vj=yj=G_=0,e}};function eI(e,t){Ij+=e,mj+=t,++U_}function $ae(){Ig.point=kGe}function kGe(e,t){Ig.point=NGe,eI(Ed=e,xd=t)}function NGe(e,t){var n=e-Ed,i=t-xd,r=sl(n*n+i*i);QT+=r*(Ed+e)/2,JT+=r*(xd+t)/2,wv+=r,eI(Ed=e,xd=t)}function Yae(){Ig.point=eI}function OGe(){Ig.point=RGe}function MGe(){qae(Gae,Wae)}function RGe(e,t){Ig.point=qae,eI(Gae=Ed=e,Wae=xd=t)}function qae(e,t){var n=e-Ed,i=t-xd,r=sl(n*n+i*i);QT+=r*(Ed+e)/2,JT+=r*(xd+t)/2,wv+=r,vj+=(r=xd*e-Ed*t)*(Ed+e),yj+=r*(xd+t),G_+=3*r,eI(Ed=e,xd=t)}const Zae=Ig;function Kae(e){this._context=e}Kae.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ol)}},result:na};var _j,Xae,Qae,W_,$_,bj=new ta,ek={point:na,lineStart:function(){ek.point=FGe},lineEnd:function(){_j&&Jae(Xae,Qae),ek.point=na},polygonStart:function(){_j=!0},polygonEnd:function(){_j=null},result:function(){var e=+bj;return bj=new ta,e}};function FGe(e,t){ek.point=Jae,Xae=W_=e,Qae=$_=t}function Jae(e,t){bj.add(sl((W_-=e)*W_+($_-=t)*$_)),W_=e,$_=t}const ele=ek;function tle(){this._string=[]}function nle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ile(e,t){var i,r,n=4.5;function o(s){return s&&("function"==typeof n&&r.pointRadius(+n.apply(this,arguments)),Kf(s,i(r))),r.result()}return o.area=function(s){return Kf(s,i(Uae)),Uae.result()},o.measure=function(s){return Kf(s,i(ele)),ele.result()},o.bounds=function(s){return Kf(s,i(XT)),XT.result()},o.centroid=function(s){return Kf(s,i(Zae)),Zae.result()},o.projection=function(s){return arguments.length?(i=null==s?(e=null,z_):(e=s).stream,o):e},o.context=function(s){return arguments.length?(r=null==s?(t=null,new tle):new Kae(t=s),"function"!=typeof n&&r.pointRadius(n),o):t},o.pointRadius=function(s){return arguments.length?(n="function"==typeof s?s:(r.pointRadius(+s),+s),o):n},o.projection(e).context(t)}function rle(){var t,e=[];return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:na,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function tk(e,t){return Vi(e[0]-t[0])<In&&Vi(e[1]-t[1])<In}function nk(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ole(e,t,n,i,r){var a,l,o=[],s=[];if(e.forEach(function(h){if(!((C=h.length-1)<=0)){var C,m,p=h[0],I=h[C];if(tk(p,I)){if(!p[2]&&!I[2]){for(r.lineStart(),a=0;a<C;++a)r.point((p=h[a])[0],p[1]);return void r.lineEnd()}I[0]+=2*In}o.push(m=new nk(p,h,null,!0)),s.push(m.o=new nk(p,null,m,!1)),o.push(m=new nk(I,h,null,!1)),s.push(m.o=new nk(I,null,m,!0))}}),o.length){for(s.sort(t),sle(o),sle(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var c,g,u=o[0];;){for(var d=u,f=!0;d.v;)if((d=d.n)===u)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(a=0,l=c.length;a<l;++a)r.point((g=c[a])[0],g[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(a=(c=d.p.z).length-1;a>=0;--a)r.point((g=c[a])[0],g[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}}function sle(e){if(t=e.length){for(var t,r,n=0,i=e[0];++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function ik(e){return[Ic(e[1],e[0]),Bl(e[2])]}function tI(e){var t=e[0],n=e[1],i=vn(n);return[i*vn(t),i*un(t),un(n)]}function rk(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ev(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function wj(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ok(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function sk(e){var t=sl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ej(e){return Vi(e[0])<=di?e[0]:mc(e[0])*((Vi(e[0])+di)%ol-di)}function ale(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function lle(e,t,n,i){return function(r){var u,c,g,o=t(r),s=rle(),a=t(s),l=!1,d={point:f,lineStart:C,lineEnd:p,polygonStart:function(){d.point=I,d.lineStart=m,d.lineEnd=y,c=[],u=[]},polygonEnd:function(){d.point=f,d.lineStart=C,d.lineEnd=p,c=ale(c);var _=function(e,t){var n=Ej(t),i=t[1],r=un(i),o=[un(n),-vn(n),0],s=0,a=0,l=new ta;1===r?i=mo+In:-1===r&&(i=-mo-In);for(var u=0,c=e.length;u<c;++u)if(d=(g=e[u]).length)for(var g,d,f=g[d-1],h=Ej(f),C=f[1]/2+$T,p=un(C),I=vn(C),m=0;m<d;++m,h=_,p=O,I=k,f=y){var y=g[m],_=Ej(y),N=y[1]/2+$T,O=un(N),k=vn(N),M=_-h,V=M>=0?1:-1,z=V*M,H=z>di,ee=p*O;if(l.add(Ic(ee*V*un(z),I*k+ee*vn(z))),s+=H?M+V*ol:M,H^h>=n^_>=n){var se=Ev(tI(f),tI(y));sk(se);var _e=Ev(o,se);sk(_e);var ae=(H^M>=0?-1:1)*Bl(_e[2]);(i>ae||i===ae&&(se[0]||se[1]))&&(a+=H^M>=0?1:-1)}}return(s<-In||s<In&&l<-WT)^1&a}(u,i);c.length?(l||(r.polygonStart(),l=!0),ole(c,jGe,_,n,r)):_&&(l||(r.polygonStart(),l=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),c=u=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(_,N){e(_,N)&&r.point(_,N)}function h(_,N){o.point(_,N)}function C(){d.point=h,o.lineStart()}function p(){d.point=f,o.lineEnd()}function I(_,N){g.push([_,N]),a.point(_,N)}function m(){a.lineStart(),g=[]}function y(){I(g[0][0],g[0][1]),a.lineEnd();var O,M,V,z,_=a.clean(),N=s.result(),k=N.length;if(g.pop(),u.push(g),g=null,k){if(1&_){if((M=(V=N[0]).length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),O=0;O<M;++O)r.point((z=V[O])[0],z[1]);r.lineEnd()}return}k>1&&2&_&&N.push(N.pop().concat(N.shift())),c.push(N.filter(BGe))}}return d}}function BGe(e){return e.length>1}function jGe(e,t){return((e=e.x)[0]<0?e[1]-mo-In:mo-e[1])-((t=t.x)[0]<0?t[1]-mo-In:mo-t[1])}tle.prototype={_radius:4.5,_circle:nle(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=nle(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};const ule=lle(function(){return!0},function(e){var r,t=NaN,n=NaN,i=NaN;return{lineStart:function(){e.lineStart(),r=1},point:function(o,s){var a=o>0?di:-di,l=Vi(o-t);Vi(l-di)<In?(e.point(t,n=(n+s)/2>0?mo:-mo),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),r=0):i!==a&&l>=di&&(Vi(t-i)<In&&(t-=i*In),Vi(o-a)<In&&(o-=a*In),n=function(e,t,n,i){var r,o,s=un(e-n);return Vi(s)>In?bv((un(t)*(o=vn(i))*un(n)-un(i)*(r=vn(t))*un(e))/(r*o*s)):(t+i)/2}(t,n,o,s),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(a,n),r=0),e.point(t=o,n=s),i=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}},function(e,t,n,i){var r;if(null==e)i.point(-di,r=n*mo),i.point(0,r),i.point(di,r),i.point(di,0),i.point(di,-r),i.point(0,-r),i.point(-di,-r),i.point(-di,0),i.point(-di,r);else if(Vi(e[0]-t[0])>In){var o=e[0]<t[0]?di:-di;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-di,-mo]);function gle(e,t){(t=tI(t))[0]-=e,sk(t);var n=jae(-t[1]);return((-t[2]<0?-n:n)+ol-In)%ol}function UGe(e){var t=vn(e),n=6*fi,i=t>0,r=Vi(t)>In;function s(c,g){return vn(c)*vn(g)>t}function l(c,g,d){var C=[1,0,0],p=Ev(tI(c),tI(g)),I=rk(p,p),m=p[0],y=I-m*m;if(!y)return!d&&c;var _=t*I/y,N=-t*m/y,O=Ev(C,p),k=ok(C,_);wj(k,ok(p,N));var V=O,z=rk(k,V),H=rk(V,V),ee=z*z-H*(rk(k,k)-1);if(!(ee<0)){var se=sl(ee),_e=ok(V,(-z-se)/H);if(wj(_e,k),_e=ik(_e),!d)return _e;var Te,ae=c[0],le=g[0],q=c[1],te=g[1];le<ae&&(Te=ae,ae=le,le=Te);var Xe=le-ae,at=Vi(Xe-di)<In;if(!at&&te<q&&(Te=q,q=te,te=Te),at||Xe<In?at?q+te>0^_e[1]<(Vi(_e[0]-ae)<In?q:te):q<=_e[1]&&_e[1]<=te:Xe>di^(ae<=_e[0]&&_e[0]<=le)){var Bn=ok(V,(-z+se)/H);return wj(Bn,k),[_e,ik(Bn)]}}}function u(c,g){var d=i?e:di-e,f=0;return c<-d?f|=1:c>d&&(f|=2),g<-d?f|=4:g>d&&(f|=8),f}return lle(s,function(c){var g,d,f,h,C;return{lineStart:function(){h=f=!1,C=1},point:function(p,I){var y,m=[p,I],_=s(p,I),N=i?_?0:u(p,I):_?u(p+(p<0?di:-di),I):0;if(!g&&(h=f=_)&&c.lineStart(),_!==f&&(!(y=l(g,m))||tk(g,y)||tk(m,y))&&(m[2]=1),_!==f)C=0,_?(c.lineStart(),y=l(m,g),c.point(y[0],y[1])):(y=l(g,m),c.point(y[0],y[1],2),c.lineEnd()),g=y;else if(r&&g&&i^_){var O;!(N&d)&&(O=l(m,g,!0))&&(C=0,i?(c.lineStart(),c.point(O[0][0],O[0][1]),c.point(O[1][0],O[1][1]),c.lineEnd()):(c.point(O[1][0],O[1][1]),c.lineEnd(),c.lineStart(),c.point(O[0][0],O[0][1],3)))}_&&(!g||!tk(g,m))&&c.point(m[0],m[1]),g=m,f=_,d=N},lineEnd:function(){f&&c.lineEnd(),g=null},clean:function(){return C|(h&&f)<<1}}},function(c,g,d,f){!function(e,t,n,i,r,o){if(n){var s=vn(t),a=un(t),l=i*n;null==r?(r=t+i*ol,o=t-l/2):(r=gle(s,r),o=gle(s,o),(i>0?r<o:r>o)&&(r+=i*ol));for(var u,c=r;i>0?c>o:c<o;c-=l)u=ik([s,-a*vn(c),-a*un(c)]),e.point(u[0],u[1])}}(f,e,n,d,c,g)},i?[0,-e]:[-di,e-di])}var Y_=1e9,ak=-Y_;function dle(e,t,n,i){function r(u,c){return e<=u&&u<=n&&t<=c&&c<=i}function o(u,c,g,d){var f=0,h=0;if(null==u||(f=s(u,g))!==(h=s(c,g))||l(u,c)<0^g>0)do{d.point(0===f||3===f?e:n,f>1?i:t)}while((f=(f+g+4)%4)!==h);else d.point(c[0],c[1])}function s(u,c){return Vi(u[0]-e)<In?c>0?0:3:Vi(u[0]-n)<In?c>0?2:1:Vi(u[1]-t)<In?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var g=s(u,1),d=s(c,1);return g!==d?g-d:0===g?c[1]-u[1]:1===g?u[0]-c[0]:2===g?u[1]-c[1]:c[0]-u[0]}return function(u){var d,f,h,C,p,I,m,y,_,N,O,c=u,g=rle(),k={point:M,lineStart:function(){k.point=_e,f&&f.push(h=[]),N=!0,_=!1,m=y=NaN},lineEnd:function(){d&&(_e(C,p),I&&_&&g.rejoin(),d.push(g.result())),k.point=M,_&&c.lineEnd()},polygonStart:function(){c=g,d=[],f=[],O=!0},polygonEnd:function(){var ae=function(){for(var ae=0,le=0,q=f.length;le<q;++le)for(var zt,Bn,te=f[le],Te=1,Xe=te.length,at=te[0],Xt=at[0],Zi=at[1];Te<Xe;++Te)zt=Xt,Bn=Zi,Xt=(at=te[Te])[0],Zi=at[1],Bn<=i?Zi>i&&(Xt-zt)*(i-Bn)>(Zi-Bn)*(e-zt)&&++ae:Zi<=i&&(Xt-zt)*(i-Bn)<(Zi-Bn)*(e-zt)&&--ae;return ae}(),le=O&&ae,q=(d=ale(d)).length;(le||q)&&(u.polygonStart(),le&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),q&&ole(d,a,ae,o,u),u.polygonEnd()),c=u,d=f=h=null}};function M(ae,le){r(ae,le)&&c.point(ae,le)}function _e(ae,le){var q=r(ae,le);if(f&&h.push([ae,le]),N)C=ae,p=le,I=q,N=!1,q&&(c.lineStart(),c.point(ae,le));else if(q&&_)c.point(ae,le);else{var te=[m=Math.max(ak,Math.min(Y_,m)),y=Math.max(ak,Math.min(Y_,y))],Te=[ae=Math.max(ak,Math.min(Y_,ae)),le=Math.max(ak,Math.min(Y_,le))];!function(e,t,n,i,r,o){var h,s=e[0],a=e[1],c=0,g=1,d=t[0]-s,f=t[1]-a;if(h=n-s,d||!(h>0)){if(h/=d,d<0){if(h<c)return;h<g&&(g=h)}else if(d>0){if(h>g)return;h>c&&(c=h)}if(h=r-s,d||!(h<0)){if(h/=d,d<0){if(h>g)return;h>c&&(c=h)}else if(d>0){if(h<c)return;h<g&&(g=h)}if(h=i-a,f||!(h>0)){if(h/=f,f<0){if(h<c)return;h<g&&(g=h)}else if(f>0){if(h>g)return;h>c&&(c=h)}if(h=o-a,f||!(h<0)){if(h/=f,f<0){if(h>g)return;h>c&&(c=h)}else if(f>0){if(h<c)return;h<g&&(g=h)}return c>0&&(e[0]=s+c*d,e[1]=a+c*f),g<1&&(t[0]=s+g*d,t[1]=a+g*f),!0}}}}}(te,Te,e,t,n,i)?q&&(c.lineStart(),c.point(ae,le),O=!1):(_||(c.lineStart(),c.point(te[0],te[1])),c.point(Te[0],Te[1]),q||c.lineEnd(),O=!1)}m=ae,y=le,_=q}return k}}function xj(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return(i=t.invert(i,r))&&e.invert(i[0],i[1])}),n}function Dj(e,t){return[Vi(e)>di?e+Math.round(-e/ol)*ol:e,t]}function fle(e,t,n){return(e%=ol)?t||n?xj(Cle(e),ple(t,n)):Cle(e):t||n?ple(t,n):Dj}function hle(e){return function(t,n){return[(t+=e)>di?t-ol:t<-di?t+ol:t,n]}}function Cle(e){var t=hle(e);return t.invert=hle(-e),t}function ple(e,t){var n=vn(e),i=un(e),r=vn(t),o=un(t);function s(a,l){var u=vn(l),c=vn(a)*u,g=un(a)*u,d=un(l),f=d*n+c*i;return[Ic(g*r-f*o,c*n-d*i),Bl(f*r+g*o)]}return s.invert=function(a,l){var u=vn(l),c=vn(a)*u,g=un(a)*u,d=un(l),f=d*r-g*o;return[Ic(g*r+d*o,c*n+f*i),Bl(f*n-c*i)]},s}function q_(e){return function(t){var n=new Sj;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Sj(){}function Tj(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),Kf(n,e.stream(XT)),t(XT.result()),null!=i&&e.clipExtent(i),e}function lk(e,t,n){return Tj(e,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+t[0][0]+(r-s*(i[1][0]+i[0][0]))/2,l=+t[0][1]+(o-s*(i[1][1]+i[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function kj(e,t,n){return lk(e,[[0,0],t],n)}function Nj(e,t,n){return Tj(e,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),s=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];e.scale(150*o).translate([s,a])},n)}function Oj(e,t,n){return Tj(e,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),s=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([s,a])},n)}Dj.invert=Dj,Sj.prototype={constructor:Sj,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $Ge=vn(30*fi);function Ile(e,t){return+t?function(e,t){function n(i,r,o,s,a,l,u,c,g,d,f,h,C,p){var I=u-i,m=c-r,y=I*I+m*m;if(y>4*t&&C--){var _=s+d,N=a+f,O=l+h,k=sl(_*_+N*N+O*O),M=Bl(O/=k),V=Vi(Vi(O)-1)<In||Vi(o-g)<In?(o+g)/2:Ic(N,_),z=e(V,M),H=z[0],ee=z[1],se=H-i,_e=ee-r,ae=m*se-I*_e;(ae*ae/y>t||Vi((I*se+m*_e)/y-.5)>.3||s*d+a*f+l*h<$Ge)&&(n(i,r,o,s,a,l,H,ee,V,_/=k,N/=k,O,C,p),p.point(H,ee),n(H,ee,V,_,N,O,u,c,g,d,f,h,C,p))}}return function(i){var r,o,s,a,l,u,c,g,d,f,h,C,p={point:I,lineStart:m,lineEnd:_,polygonStart:function(){i.polygonStart(),p.lineStart=N},polygonEnd:function(){i.polygonEnd(),p.lineStart=m}};function I(M,V){M=e(M,V),i.point(M[0],M[1])}function m(){g=NaN,p.point=y,i.lineStart()}function y(M,V){var z=tI([M,V]),H=e(M,V);n(g,d,c,f,h,C,g=H[0],d=H[1],c=M,f=z[0],h=z[1],C=z[2],16,i),i.point(g,d)}function _(){p.point=I,i.lineEnd()}function N(){m(),p.point=O,p.lineEnd=k}function O(M,V){y(r=M,V),o=g,s=d,a=f,l=h,u=C,p.point=y}function k(){n(g,d,c,f,h,C,o,s,r,a,l,u,16,i),p.lineEnd=_,_()}return p}}(e,t):function(e){return q_({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var ZGe=q_({point:function(e,t){this.stream.point(e*fi,t*fi)}});function mle(e,t,n,i,r,o){if(!o)return function(e,t,n,i,r){function o(s,a){return[t+e*(s*=i),n-e*(a*=r)]}return o.invert=function(s,a){return[(s-t)/e*i,(n-a)/e*r]},o}(e,t,n,i,r);var s=vn(o),a=un(o),l=s*e,u=a*e,c=s/e,g=a/e,d=(a*n-s*t)/e,f=(a*t+s*n)/e;function h(C,p){return[l*(C*=i)-u*(p*=r)+t,n-u*C-l*p]}return h.invert=function(C,p){return[i*(c*C-g*p+d),r*(f-g*C-c*p)]},h}function Dd(e){return vle(function(){return e})()}function vle(e){var t,c,I,m,y,O,k,M,V,z,n=150,i=480,r=250,o=0,s=0,a=0,l=0,u=0,g=0,d=1,f=1,h=null,C=ule,p=null,_=z_,N=.5;function H(ae){return M(ae[0]*fi,ae[1]*fi)}function ee(ae){return(ae=M.invert(ae[0],ae[1]))&&[ae[0]*So,ae[1]*So]}function se(){var ae=mle(n,0,0,d,f,g).apply(null,t(o,s)),le=mle(n,i-ae[0],r-ae[1],d,f,g);return c=fle(a,l,u),k=xj(t,le),M=xj(c,k),O=Ile(k,N),_e()}function _e(){return V=z=null,H}return H.stream=function(ae){return V&&z===ae?V:V=ZGe(function(e){return q_({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(c)(C(O(_(z=ae)))))},H.preclip=function(ae){return arguments.length?(C=ae,h=void 0,_e()):C},H.postclip=function(ae){return arguments.length?(_=ae,p=I=m=y=null,_e()):_},H.clipAngle=function(ae){return arguments.length?(C=+ae?UGe(h=ae*fi):(h=null,ule),_e()):h*So},H.clipExtent=function(ae){return arguments.length?(_=null==ae?(p=I=m=y=null,z_):dle(p=+ae[0][0],I=+ae[0][1],m=+ae[1][0],y=+ae[1][1]),_e()):null==p?null:[[p,I],[m,y]]},H.scale=function(ae){return arguments.length?(n=+ae,se()):n},H.translate=function(ae){return arguments.length?(i=+ae[0],r=+ae[1],se()):[i,r]},H.center=function(ae){return arguments.length?(o=ae[0]%360*fi,s=ae[1]%360*fi,se()):[o*So,s*So]},H.rotate=function(ae){return arguments.length?(a=ae[0]%360*fi,l=ae[1]%360*fi,u=ae.length>2?ae[2]%360*fi:0,se()):[a*So,l*So,u*So]},H.angle=function(ae){return arguments.length?(g=ae%360*fi,se()):g*So},H.reflectX=function(ae){return arguments.length?(d=ae?-1:1,se()):d<0},H.reflectY=function(ae){return arguments.length?(f=ae?-1:1,se()):f<0},H.precision=function(ae){return arguments.length?(O=Ile(k,N=ae*ae),_e()):sl(N)},H.fitExtent=function(ae,le){return lk(H,ae,le)},H.fitSize=function(ae,le){return kj(H,ae,le)},H.fitWidth=function(ae,le){return Nj(H,ae,le)},H.fitHeight=function(ae,le){return Oj(H,ae,le)},function(){return t=e.apply(this,arguments),H.invert=t.invert&&ee,se()}}function Mj(e){var t=0,n=di/3,i=vle(e),r=i(t,n);return r.parallels=function(o){return arguments.length?i(t=o[0]*fi,n=o[1]*fi):[t*So,n*So]},r}function JGe(e,t){var n=un(e),i=(n+un(t))/2;if(Vi(i)<In)return function(e){var t=vn(e);function n(i,r){return[i*t,un(r)/t]}return n.invert=function(i,r){return[i/t,Bl(r*t)]},n}(e);var r=1+n*(2*i-n),o=sl(r)/i;function s(a,l){var u=sl(r-2*i*un(l))/i;return[u*un(a*=i),o-u*vn(a)]}return s.invert=function(a,l){var u=o-l,c=Ic(a,Vi(u))*mc(u);return u*i<0&&(c-=di*mc(a)*mc(u)),[c/i,Bl((r-(a*a+u*u)*i*i)/(2*i))]},s}function uk(){return Mj(JGe).scale(155.424).center([0,33.6442])}function yle(){return uk().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ble(e){return function(t,n){var i=vn(t),r=vn(n),o=e(i*r);return o===1/0?[2,0]:[o*r*un(t),o*un(n)]}}function Z_(e){return function(t,n){var i=sl(t*t+n*n),r=e(i),o=un(r),s=vn(r);return[Ic(t*o,i*s),Bl(i&&n*o/i)]}}var _le=ble(function(e){return sl(2/(1+e))});_le.invert=Z_(function(e){return 2*Bl(e/2)});var wle=ble(function(e){return(e=jae(e))&&e/un(e)});function ck(e,t){return[e,qT(fj((mo+t)/2))]}function Ele(e){var a,l,u,t=Dd(e),n=t.center,i=t.scale,r=t.translate,o=t.clipExtent,s=null;function c(){var g=di*i(),d=t(function(e){function t(n){return(n=e(n[0]*fi,n[1]*fi))[0]*=So,n[1]*=So,n}return e=fle(e[0]*fi,e[1]*fi,e.length>2?e[2]*fi:0),t.invert=function(n){return(n=e.invert(n[0]*fi,n[1]*fi))[0]*=So,n[1]*=So,n},t}(t.rotate()).invert([0,0]));return o(null==s?[[d[0]-g,d[1]-g],[d[0]+g,d[1]+g]]:e===ck?[[Math.max(d[0]-g,s),a],[Math.min(d[0]+g,l),u]]:[[s,Math.max(d[1]-g,a)],[l,Math.min(d[1]+g,u)]])}return t.scale=function(g){return arguments.length?(i(g),c()):i()},t.translate=function(g){return arguments.length?(r(g),c()):r()},t.center=function(g){return arguments.length?(n(g),c()):n()},t.clipExtent=function(g){return arguments.length?(null==g?s=a=l=u=null:(s=+g[0][0],a=+g[0][1],l=+g[1][0],u=+g[1][1]),c()):null==s?null:[[s,a],[l,u]]},c()}function gk(e){return fj((mo+e)/2)}function oWe(e,t){var n=vn(e),i=e===t?un(e):qT(n/vn(t))/qT(gk(t)/gk(e)),r=n*dj(gk(e),i)/i;if(!i)return ck;function o(s,a){r>0?a<-mo+In&&(a=-mo+In):a>mo-In&&(a=mo-In);var l=r/dj(gk(a),i);return[l*un(i*s),r-l*vn(i*s)]}return o.invert=function(s,a){var l=r-a,u=mc(i)*sl(s*s+l*l),c=Ic(s,Vi(l))*mc(l);return l*i<0&&(c-=di*mc(s)*mc(l)),[c/i,2*bv(dj(r/u,1/i))-mo]},o}function dk(e,t){return[e,t]}function lWe(e,t){var n=vn(e),i=e===t?un(e):(n-vn(t))/(t-e),r=n/i+e;if(Vi(i)<In)return dk;function o(s,a){var l=r-a,u=i*s;return[l*un(u),r-l*vn(u)]}return o.invert=function(s,a){var l=r-a,u=Ic(s,Vi(l))*mc(l);return l*i<0&&(u-=di*mc(s)*mc(l)),[u/i,r-mc(i)*sl(s*s+l*l)]},o}wle.invert=Z_(function(e){return e}),ck.invert=function(e,t){return[e,2*bv(Bae(t))-mo]},dk.invert=dk;var K_=1.340264,X_=-.081106,Q_=893e-6,J_=.003796,fk=sl(3)/2;function xle(e,t){var n=Bl(fk*un(t)),i=n*n,r=i*i*i;return[e*vn(n)/(fk*(K_+3*X_*i+r*(7*Q_+9*J_*i))),n*(K_+X_*i+r*(Q_+J_*i))]}function Dle(e,t){var n=vn(t),i=vn(e)*n;return[n*un(e)/i,un(t)/i]}function Sle(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function Tle(e,t){return[vn(t)*un(e),un(t)]}function kle(e,t){var n=vn(t),i=1+vn(e)*n;return[n*un(e)/i,un(t)/i]}function Nle(e,t){return[qT(fj((mo+t)/2)),-e]}xle.invert=function(e,t){for(var s,n=t,i=n*n,r=i*i*i,o=0;o<12&&(r=(i=(n-=s=(n*(K_+X_*i+r*(Q_+J_*i))-t)/(K_+3*X_*i+r*(7*Q_+9*J_*i)))*n)*i*i,!(Vi(s)<WT));++o);return[fk*e*(K_+3*X_*i+r*(7*Q_+9*J_*i))/vn(n),Bl(un(n)/fk)]},Dle.invert=Z_(bv),Sle.invert=function(e,t){var r,n=t,i=25;do{var o=n*n,s=o*o;n-=r=(n*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Vi(r)>In&&--i>0);return[e/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]},Tle.invert=Z_(Bl),kle.invert=Z_(function(e){return 2*bv(e)}),Nle.invert=function(e,t){return[-t,2*bv(Bae(e))-mo]};var IWe=Math.abs,Rj=(Math,Math,Math,Math.cos),hk=(Math,Math,Math,Math,Math,Math,Math,Math,Math.sin),zC=(Math,Math.PI),Fj=zC/2,Mle=(Math,Ck(2));function Rle(e){return e>1?Fj:e<-1?-Fj:Math.asin(e)}function Ck(e){return e>0?Math.sqrt(e):0}function vWe(e,t){var r,n=e*hk(t),i=30;do{t-=r=(t+hk(t)-n)/(1+Rj(t))}while(IWe(r)>1e-6&&--i>0);return t/2}Ck(zC);var bWe=function(e,t,n){function i(r,o){return[e*r*Rj(o=vWe(n,o)),t*hk(o)]}return i.invert=function(r,o){return o=Rle(o/t),[r/(e*Rj(o)),Rle((2*o+hk(2*o))/n)]},i}(Mle/Fj,Mle,zC);const wWe=ile(),Pj=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function EWe(e,t){return function n(){const i=t();return i.type=e,i.path=ile().projection(i),i.copy=i.copy||function(){const r=n();return Pj.forEach(o=>{i[o]&&r[o](i[o]())}),r.path.pointRadius(i.path.pointRadius()),r},i}}function Lj(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(pk[e]=EWe(e,t),this):pk[e]||null}function Fle(e){return e&&e.path||wWe}const pk={albers:yle,albersusa:function(){var e,t,i,o,a,l,n=yle(),r=uk().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=uk().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(d,f){l=[d,f]}};function c(d){var f=d[0],h=d[1];return l=null,i.point(f,h),l||(o.point(f,h),l)||(a.point(f,h),l)}function g(){return e=t=null,c}return c.invert=function(d){var f=n.scale(),h=n.translate(),C=(d[0]-h[0])/f,p=(d[1]-h[1])/f;return(p>=.12&&p<.234&&C>=-.425&&C<-.214?r:p>=.166&&p<.234&&C>=-.214&&C<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=function(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([n.stream(t=d),r.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),r.precision(d),s.precision(d),g()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),r.scale(.35*d),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var f=n.scale(),h=+d[0],C=+d[1];return i=n.translate(d).clipExtent([[h-.455*f,C-.238*f],[h+.455*f,C+.238*f]]).stream(u),o=r.translate([h-.307*f,C+.201*f]).clipExtent([[h-.425*f+In,C+.12*f+In],[h-.214*f-In,C+.234*f-In]]).stream(u),a=s.translate([h-.205*f,C+.212*f]).clipExtent([[h-.214*f+In,C+.166*f+In],[h-.115*f-In,C+.234*f-In]]).stream(u),g()},c.fitExtent=function(d,f){return lk(c,d,f)},c.fitSize=function(d,f){return kj(c,d,f)},c.fitWidth=function(d,f){return Nj(c,d,f)},c.fitHeight=function(d,f){return Oj(c,d,f)},c.scale(1070)},azimuthalequalarea:function(){return Dd(_le).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Dd(wle).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Mj(oWe).scale(109.5).parallels([30,30])},conicequalarea:uk,conicequidistant:function(){return Mj(lWe).scale(131.154).center([0,13.9389])},equalEarth:function(){return Dd(xle).scale(177.158)},equirectangular:function(){return Dd(dk).scale(152.63)},gnomonic:function(){return Dd(Dle).scale(144.049).clipAngle(60)},identity:function(){var s,a,u,c,g,p,I,e=1,t=0,n=0,i=1,r=1,o=0,l=null,d=1,f=1,h=q_({point:function(_,N){var O=y([_,N]);this.stream.point(O[0],O[1])}}),C=z_;function m(){return d=e*i,f=e*r,p=I=null,y}function y(_){var N=_[0]*d,O=_[1]*f;if(o){var k=O*s-N*a;N=N*s+O*a,O=k}return[N+t,O+n]}return y.invert=function(_){var N=_[0]-t,O=_[1]-n;if(o){var k=O*s+N*a;N=N*s-O*a,O=k}return[N/d,O/f]},y.stream=function(_){return p&&I===_?p:p=h(C(I=_))},y.postclip=function(_){return arguments.length?(C=_,l=u=c=g=null,m()):C},y.clipExtent=function(_){return arguments.length?(C=null==_?(l=u=c=g=null,z_):dle(l=+_[0][0],u=+_[0][1],c=+_[1][0],g=+_[1][1]),m()):null==l?null:[[l,u],[c,g]]},y.scale=function(_){return arguments.length?(e=+_,m()):e},y.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],m()):[t,n]},y.angle=function(_){return arguments.length?(a=un(o=_%360*fi),s=vn(o),m()):o*So},y.reflectX=function(_){return arguments.length?(i=_?-1:1,m()):i<0},y.reflectY=function(_){return arguments.length?(r=_?-1:1,m()):r<0},y.fitExtent=function(_,N){return lk(y,_,N)},y.fitSize=function(_,N){return kj(y,_,N)},y.fitWidth=function(_,N){return Nj(y,_,N)},y.fitHeight=function(_,N){return Oj(y,_,N)},y},mercator:function(){return Ele(ck).scale(961/ol)},mollweide:function(){return Dd(bWe).scale(169.529)},naturalEarth1:function(){return Dd(Sle).scale(175.295)},orthographic:function(){return Dd(Tle).scale(249.5).clipAngle(90+In)},stereographic:function(){return Dd(kle).scale(250).clipAngle(142)},transversemercator:function(){var e=Ele(Nle),t=e.center,n=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):[(i=t())[1],-i[0]]},e.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):[(i=n())[0],i[1],i[2]-90]},n([0,0,90]).scale(159.155)}};for(const e in pk)Lj(e,pk[e]);function Ple(e,t,n){var i=yu(e,t-In,n).concat(t);return function(r){return i.map(function(o){return[r,o]})}}function Lle(e,t,n){var i=yu(e,t-In,n).concat(t);return function(r){return i.map(function(o){return[o,r]})}}function xWe(){}const Xf=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function jle(){var e=1,t=1,n=a;function i(l,u){return u.map(c=>r(l,c))}function r(l,u){var c=[],g=[];return function(l,u,c){var f,h,p,I,m,g=new Array,d=new Array;for(f=h=-1,Xf[(p=l[0]>=u)<<1].forEach(y);++f<e-1;)Xf[p|(p=l[f+1]>=u)<<1].forEach(y);for(Xf[p<<0].forEach(y);++h<t-1;){for(f=-1,Xf[(p=l[h*e+e]>=u)<<1|(I=l[h*e]>=u)<<2].forEach(y);++f<e-1;)m=I,Xf[p|(p=l[h*e+e+f+1]>=u)<<1|(I=l[h*e+f+1]>=u)<<2|m<<3].forEach(y);Xf[p|I<<3].forEach(y)}for(f=-1,Xf[(I=l[h*e]>=u)<<2].forEach(y);++f<e-1;)m=I,Xf[(I=l[h*e+f+1]>=u)<<2|m<<3].forEach(y);function y(_){var V,z,N=[_[0][0]+f,_[0][1]+h],O=[_[1][0]+f,_[1][1]+h],k=s(N),M=s(O);(V=d[k])?(z=g[M])?(delete d[V.end],delete g[z.start],V===z?(V.ring.push(O),c(V.ring)):g[V.start]=d[z.end]={start:V.start,end:z.end,ring:V.ring.concat(z.ring)}):(delete d[V.end],V.ring.push(O),d[V.end=M]=V):(V=g[M])?(z=d[k])?(delete g[V.start],delete d[z.end],V===z?(V.ring.push(O),c(V.ring)):g[z.start]=d[V.end]={start:z.start,end:V.end,ring:z.ring.concat(V.ring)}):(delete g[V.start],V.ring.unshift(N),g[V.start=k]=V):g[k]=d[M]={start:k,end:M,ring:[N,O]}}Xf[I<<3].forEach(y)}(l,u,d=>{n(d,l,u),function(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(d)>0?c.push([d]):g.push(d)}),g.forEach(d=>{for(var C,f=0,h=c.length;f<h;++f)if(-1!==SWe((C=c[f])[0],d))return void C.push(d)}),{type:"MultiPolygon",value:u,coordinates:c}}function s(l){return 2*l[0]+l[1]*(e+1)*4}function a(l,u,c){l.forEach(g=>{var p,d=g[0],f=g[1],h=0|d,C=0|f,I=u[C*e+h];d>0&&d<e&&h===d&&(g[0]=d+(c-(p=u[C*e+h-1]))/(I-p)-.5),f>0&&f<t&&C===f&&(g[1]=f+(c-(p=u[(C-1)*e+h]))/(I-p)-.5)})}return i.contour=r,i.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||Be("invalid size"),e=u,t=c,i},i.smooth=function(l){return arguments.length?(n=l?a:xWe,i):n===a},i}function SWe(e,t){for(var r,n=-1,i=t.length;++n<i;)if(r=TWe(e,t[n]))return r;return 0}function TWe(e,t){for(var n=t[0],i=t[1],r=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],g=e[a],d=g[0],f=g[1];if(kWe(l,g,t))return 0;c>i!=f>i&&n<(d-u)*(i-c)/(f-c)+u&&(r=-r)}return r}function kWe(e,t,n){var i;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[i=+(e[0]===t[0])],n[i],t[i])}function Vle(e,t,n){return function(i){var r=gd(i),o=n?Math.min(r[0],0):r[0],s=r[1],a=s-o,l=t?cC(o,s,e):a/(e+1);return yu(o+l,s,l)}}function Bj(e){Ne.call(this,null,e)}function zle(e,t,n,i,r){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(g){g.forEach(u)}function u(g){a&&g.reverse(),g.forEach(c)}function c(g){g[0]=(g[0]-o)*t+i,g[1]=(g[1]-s)*n+r}return function(g){return g.coordinates.forEach(l),g}}function Hle(e,t,n){const i=e>=0?e:CB(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function jj(e){return si(e)?e:va(+e)}function Ule(){var e=l=>l[0],t=l=>l[1],n=L0,i=[-1,-1],r=960,o=500,s=2;function a(l,u){const c=Hle(i[0],l,e)>>s,g=Hle(i[1],l,t)>>s,d=c?c+2:0,f=g?g+2:0,h=2*d+(r>>s),C=2*f+(o>>s),p=new Float32Array(h*C),I=new Float32Array(h*C);let m=p;l.forEach(_=>{const N=d+(+e(_)>>s),O=f+(+t(_)>>s);N>=0&&N<h&&O>=0&&O<C&&(p[N+O*h]+=+n(_))}),c>0&&g>0?(xv(h,C,p,I,c),Dv(h,C,I,p,g),xv(h,C,p,I,c),Dv(h,C,I,p,g),xv(h,C,p,I,c),Dv(h,C,I,p,g)):c>0?(xv(h,C,p,I,c),xv(h,C,I,p,c),xv(h,C,p,I,c),m=I):g>0&&(Dv(h,C,p,I,g),Dv(h,C,I,p,g),Dv(h,C,p,I,g),m=I);const y=u?Math.pow(2,-2*s):1/Aae(m);for(let _=0,N=h*C;_<N;++_)m[_]*=y;return{values:m,scale:1<<s,width:h,height:C,x1:d,y1:f,x2:d+(r>>s),y2:f+(o>>s)}}return a.x=function(l){return arguments.length?(e=jj(l),a):e},a.y=function(l){return arguments.length?(t=jj(l),a):t},a.weight=function(l){return arguments.length?(n=jj(l),a):n},a.size=function(l){if(!arguments.length)return[r,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||Be("invalid size"),r=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||Be("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(1===(l=_n(l)).length&&(l=[+l[0],+l[0]]),2!==l.length&&Be("invalid bandwidth"),i=l,a):i},a}function xv(e,t,n,i,r){const o=1+(r<<1);for(let s=0;s<t;++s)for(let a=0,l=0;a<e+r;++a)a<e&&(l+=n[a+s*e]),a>=r&&(a>=o&&(l-=n[a-o+s*e]),i[a-r+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Dv(e,t,n,i,r){const o=1+(r<<1);for(let s=0;s<e;++s)for(let a=0,l=0;a<t+r;++a)a<t&&(l+=n[s+a*e]),a>=r&&(a>=o&&(l-=n[s+(a-o)*e]),i[s+(a-r)*e]=l/Math.min(a+1,t-1+o-a,o))}function Vj(e){Ne.call(this,null,e)}Bj.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},gt(Bj,Ne,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,r=e.field||tl,o=jle().smooth(!1!==e.smooth),s=e.thresholds||function(e,t,n){const i=Vle(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map(r=>VA(t(r).values)))}(i,r,e),a=null===e.as?null:e.as||"contour",l=[];return i.forEach(u=>{const c=r(u),g=o.size([c.width,c.height])(c.values,rn(s)?s:s(c.values));(function(e,t,n,i){let r=i.scale||t.scale,o=i.translate||t.translate;if(si(r)&&(r=r(n,i)),si(o)&&(o=o(n,i)),(1===r||null==r)&&!o)return;const s=(lC(r)?r:r[0])||1,a=(lC(r)?r:r[1])||1;e.forEach(zle(t,s,a,o&&o[0]||0,o&&o[1]||0))})(g,c,u,e),g.forEach(d=>{l.push(xS(u,sr(null!=a?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}}),Vj.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const FWe=["x","y","weight","size","cellSize","bandwidth"];function Gle(e,t){return FWe.forEach(n=>null!=t[n]?e[n](t[n]):0),e}function zj(e){Ne.call(this,null,e)}gt(Vj,Ne,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var l,n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=function(e,t){var r,o,s,a,l,u,n=[],i=c=>c(a);if(null==t)n.push(e);else for(r={},o=0,s=e.length;o<s;++o)a=e[o],(u=r[l=t.map(i)])||(r[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(Io),s=Gle(Ule(),e),a=e.as||"grid";return l=r.map(c=>sr(function(c,g){for(let d=0;d<o.length;++d)c[o[d]]=g[d];return c}({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}}),zj.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},gt(zj,Ne,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var a,l,n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=jle().smooth(!1!==e.smooth),r=e.values,o=e.thresholds||Vle(e.count||10,e.nice,!!r),s=e.size;return r||(r=t.materialize(t.SOURCE).source,l=zle(a=Gle(Ule(),e)(r,!0),a.scale||1,a.scale||1,0,0),s=[a.width,a.height],r=a.values),o=rn(o)?o:o(r),r=i.size(s)(r,o),l&&r.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(r||[]).map(sr),n}});const Hj="Feature",Uj="FeatureCollection";function Gj(e){Ne.call(this,null,e)}function Wj(e){Ne.call(this,null,e)}function $j(e){Ne.call(this,null,e)}function Yj(e){Ne.call(this,null,e)}function qj(e){Ne.call(this,[],e),this.generator=function(){var e,t,n,i,r,o,s,a,d,f,h,C,l=10,u=l,c=90,g=360,p=2.5;function I(){return{type:"MultiLineString",coordinates:m()}}function m(){return yu(YT(i/c)*c,n,c).map(h).concat(yu(YT(a/g)*g,s,g).map(C)).concat(yu(YT(t/l)*l,e,l).filter(function(y){return Vi(y%c)>In}).map(d)).concat(yu(YT(o/u)*u,r,u).filter(function(y){return Vi(y%g)>In}).map(f))}return I.lines=function(){return m().map(function(y){return{type:"LineString",coordinates:y}})},I.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(C(s).slice(1),h(n).reverse().slice(1),C(a).reverse().slice(1))]}},I.extent=function(y){return arguments.length?I.extentMajor(y).extentMinor(y):I.extentMinor()},I.extentMajor=function(y){return arguments.length?(a=+y[0][1],s=+y[1][1],(i=+y[0][0])>(n=+y[1][0])&&(y=i,i=n,n=y),a>s&&(y=a,a=s,s=y),I.precision(p)):[[i,a],[n,s]]},I.extentMinor=function(y){return arguments.length?(o=+y[0][1],r=+y[1][1],(t=+y[0][0])>(e=+y[1][0])&&(y=t,t=e,e=y),o>r&&(y=o,o=r,r=y),I.precision(p)):[[t,o],[e,r]]},I.step=function(y){return arguments.length?I.stepMajor(y).stepMinor(y):I.stepMinor()},I.stepMajor=function(y){return arguments.length?(c=+y[0],g=+y[1],I):[c,g]},I.stepMinor=function(y){return arguments.length?(l=+y[0],u=+y[1],I):[l,u]},I.precision=function(y){return arguments.length?(p=+y,d=Ple(o,r,90),f=Lle(t,e,p),h=Ple(a,s,90),C=Lle(i,n,p),I):p},I.extentMajor([[-180,-90+In],[180,90-In]]).extentMinor([[-180,-80-In],[180,80+In]])}()}function Zj(e){Ne.call(this,null,e)}function Wle(e){if(!si(e))return!1;const t=ug(Ia(e));return t.$x||t.$y||t.$value||t.$max}function $le(e){Ne.call(this,null,e),this.modified(!0)}function Yle(e,t,n){si(e[t])&&e[t](n)}function qle(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,g,d,f,h,C,p,I,m,o=e._root,s={data:i},a=e._x0,l=e._y0,u=e._x1,c=e._y1;if(!o)return e._root=s,e;for(;o.length;)if((C=t>=(g=(a+u)/2))?a=g:u=g,(p=n>=(d=(l+c)/2))?l=d:c=d,r=o,!(o=o[I=p<<1|C]))return r[I]=s,e;if(f=+e._x.call(null,o.data),h=+e._y.call(null,o.data),t===f&&n===h)return s.next=o,r?r[I]=s:e._root=s,e;do{r=r?r[I]=new Array(4):e._root=new Array(4),(C=t>=(g=(a+u)/2))?a=g:u=g,(p=n>=(d=(l+c)/2))?l=d:c=d}while((I=p<<1|C)==(m=(h>=d)<<1|f>=g));return r[m]=o,r[I]=s,e}function al(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}function s$e(e){return e[0]}function l$e(e){return e[1]}function Kj(e,t,n){var i=new Xj(null==t?s$e:t,null==n?l$e:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function Xj(e,t,n,i,r,o){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Zle(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}Gj.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},gt(Gj,Ne,{transform(e,t){var u,n=this._features,i=this._points,r=e.fields,o=r&&r[0],s=r&&r[1],a=e.geojson||!r&&tl,l=t.ADD;u=e.modified()||t.changed(t.REM)||t.modified(Ia(a))||o&&t.modified(Ia(o))||s&&t.modified(Ia(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=i=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var g=o(c),d=s(c);null!=g&&null!=d&&(g=+g)===g&&(d=+d)===d&&i.push([g,d])}),n=n.concat({type:Hj,geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:Uj,features:n}}}),Wj.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},gt(Wj,Ne,{transform(e,t){var n=t.fork(t.ALL),i=this.value,r=e.field||tl,o=e.as||"path",s=n.SOURCE;!i||e.modified()?(this.value=i=Fle(e.projection),n.materialize().reflow()):s=r===tl||t.modified(r.fields)?n.ADD_MOD:n.ADD;const a=function(e,t){const n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(i,e.pointRadius);return n.visit(s,l=>l[o]=i(r(l))),i.pointRadius(a),n.modifies(o)}}),$j.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},gt($j,Ne,{transform(e,t){var l,n=e.projection,i=e.fields[0],r=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1];function u(c){const g=n([i(c),r(c)]);g?(c[s]=g[0],c[a]=g[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(i.fields)||t.modified(r.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}}),Yj.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},gt(Yj,Ne,{transform(e,t){var n=t.fork(t.ALL),i=this.value,r=e.as||"shape",o=n.ADD;return(!i||e.modified())&&(this.value=i=function(e,t,n){const i=null==n?r=>e(t(r)):r=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(r));return e.pointRadius(o),s};return i.context=r=>(e.context(r),i),i}(Fle(e.projection),e.field||Ol("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[r]=i),n.modifies(r)}}),qj.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},gt(qj,Ne,{transform(e,t){var r,n=this.value,i=this.generator;if(!n.length||e.modified())for(const o in e)si(i[o])&&i[o](e[o]);return r=i(),n.length?t.mod.push(Ane(n[0],r)):t.add.push(sr(r)),n[0]=r,t}}),Zj.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},gt(Zj,Ne,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,i="shared"===e.resolve,r=e.field||tl,o=function(e,t){let n;return si(e)?(n=i=>e(i,t),n.dep=Wle(e)):e?n=va(e):(n=i=>i.$value/i.$max||0,n.dep=!0),n}(e.opacity,e),s=function(e,t){let n;return si(e)?(n=i=>wC(e(i,t)),n.dep=Wle(e)):n=va(wC(e||"#888")),n}(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:i?VA(n.map(u=>VA(r(u).values))):0};return n.forEach(u=>{const c=r(u),g=ii({},u,l);i||(g.$max=VA(c.values||[])),u[a]=function(e,t,n,i){const r=e.width,s=e.x1||0,a=e.y1||0,l=e.x2||r,u=e.y2||e.height,c=e.values,g=c?p=>c[p]:oC,d=iv(l-s,u-a),f=d.getContext("2d"),h=f.getImageData(0,0,l-s,u-a),C=h.data;for(let p=a,I=0;p<u;++p){t.$y=p-a;for(let m=s,y=p*r;m<l;++m,I+=4){t.$x=m-s,t.$value=g(m+y);const _=n(t);C[I+0]=_.r,C[I+1]=_.g,C[I+2]=_.b,C[I+3]=~~(255*i(t))}}return f.putImageData(h,0,0),d}(c,g,s.dep?s:va(s(g)),o.dep?o:va(o(g)))}),t.reflow(!0).modifies(a)}}),gt($le,Ne,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=Lj((e||"mercator").toLowerCase());return t||Be("Unrecognized projection type: "+e),t()}(e.type),Pj.forEach(i=>{null!=e[i]&&Yle(n,i,e[i])})):Pj.forEach(i=>{e.modified(i)&&Yle(n,i,e[i])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const n=function(e){return 1===(e=_n(e)).length?e[0]:{type:Uj,features:e.reduce((t,n)=>t.concat(function(e){return e.type===Uj?e.features:_n(e).filter(t=>null!=t).map(t=>t.type===Hj?t:{type:Hj,geometry:t})}(n)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});var ll=Kj.prototype=Xj.prototype;function ul(e){return function(){return e}}function HC(e){return 1e-6*(e()-.5)}function c$e(e){return e.x+e.vx}function g$e(e){return e.y+e.vy}ll.copy=function(){var n,i,e=new Xj(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=Zle(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var r=0;r<4;++r)(i=t.source[r])&&(i.length?n.push({source:i,target:t.target[r]=new Array(4)}):t.target[r]=Zle(i));return e},ll.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return qle(this.cover(t,n),t,n,e)},ll.addAll=function(e){var t,n,r,o,i=e.length,s=new Array(i),a=new Array(i),l=1/0,u=1/0,c=-1/0,g=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=r,a[n]=o,r<l&&(l=r),r>c&&(c=r),o<u&&(u=o),o>g&&(g=o));if(l>c||u>g)return this;for(this.cover(l,u).cover(c,g),n=0;n<i;++n)qle(this,s[n],a[n],e[n]);return this},ll.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{for(var l,u,s=r-n||1,a=this._root;n>e||e>=r||i>t||t>=o;)switch(u=(t<i)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:r=n+s,o=i+s;break;case 1:n=r-s,o=i+s;break;case 2:r=n+s,i=o-s;break;case 3:n=r-s,i=o-s}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},ll.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},ll.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ll.find=function(e,t,n){var i,s,a,l,u,h,C,r=this._x0,o=this._y0,c=this._x1,g=this._y1,d=[],f=this._root;for(f&&d.push(new al(f,r,o,c,g)),null==n?n=1/0:(r=e-n,o=t-n,c=e+n,g=t+n,n*=n);h=d.pop();)if(!(!(f=h.node)||(s=h.x0)>c||(a=h.y0)>g||(l=h.x1)<r||(u=h.y1)<o))if(f.length){var p=(s+l)/2,I=(a+u)/2;d.push(new al(f[3],p,I,l,u),new al(f[2],s,I,p,u),new al(f[1],p,a,l,I),new al(f[0],s,a,p,I)),(C=(t>=I)<<1|e>=p)&&(h=d[d.length-1],d[d.length-1]=d[d.length-1-C],d[d.length-1-C]=h)}else{var m=e-+this._x.call(null,f.data),y=t-+this._y.call(null,f.data),_=m*m+y*y;if(_<n){var N=Math.sqrt(n=_);r=e-N,o=t-N,c=e+N,g=t+N,i=f.data}}return i},ll.remove=function(e){if(isNaN(c=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var t,i,r,o,c,g,d,f,h,C,p,I,n=this._root,s=this._x0,a=this._y0,l=this._x1,u=this._y1;if(!n)return this;if(n.length)for(;;){if((h=c>=(d=(s+l)/2))?s=d:l=d,(C=g>=(f=(a+u)/2))?a=f:u=f,t=n,!(n=n[p=C<<1|h]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(i=t,I=p)}for(;n.data!==e;)if(r=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,r?(o?r.next=o:delete r.next,this):t?(o?t[p]=o:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(i?i[I]=n:this._root=n),this):(this._root=o,this)},ll.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},ll.root=function(){return this._root},ll.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},ll.visit=function(e){var n,r,o,s,a,l,t=[],i=this._root;for(i&&t.push(new al(i,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(i=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&i.length){var u=(o+a)/2,c=(s+l)/2;(r=i[3])&&t.push(new al(r,u,c,a,l)),(r=i[2])&&t.push(new al(r,o,c,u,l)),(r=i[1])&&t.push(new al(r,u,s,a,c)),(r=i[0])&&t.push(new al(r,o,s,u,c))}return this},ll.visitAfter=function(e){var i,t=[],n=[];for(this._root&&t.push(new al(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var r=i.node;if(r.length){var o,s=i.x0,a=i.y0,l=i.x1,u=i.y1,c=(s+l)/2,g=(a+u)/2;(o=r[0])&&t.push(new al(o,s,a,c,g)),(o=r[1])&&t.push(new al(o,c,a,l,g)),(o=r[2])&&t.push(new al(o,s,g,c,u)),(o=r[3])&&t.push(new al(o,c,g,l,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this},ll.x=function(e){return arguments.length?(this._x=e,this):this._x},ll.y=function(e){return arguments.length?(this._y=e,this):this._y};var f$e={value:()=>{}};function Kle(){for(var i,e=0,t=arguments.length,n={};e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ak(n)}function Ak(e){this._=e}function h$e(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}function C$e(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function Xle(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=f$e,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Ak.prototype=Kle.prototype={constructor:Ak,on:function(e,t){var r,n=this._,i=h$e(e+"",n),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=i[o]).type)n[r]=Xle(n[r],e.name,t);else if(null==t)for(r in n)n[r]=Xle(n[r],e.name,null);return this}for(;++o<s;)if((r=(e=i[o]).type)&&(r=C$e(n[r],e.name)))return r},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ak(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,o,n=new Array(r),i=0;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(o=this._[e]).length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const p$e=Kle;var Ik,iw,Sv=0,tw=0,nw=0,mk=0,nI=0,vk=0,rw="object"==typeof performance&&performance.now?performance:Date,Jle="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qj(){return nI||(Jle(A$e),nI=rw.now()+vk)}function A$e(){nI=0}function yk(){this._call=this._time=this._next=null}function eue(e,t,n){var i=new yk;return i.restart(e,t,n),i}function tue(){nI=(mk=rw.now())+vk,Sv=tw=0;try{!function(){Qj(),++Sv;for(var t,e=Ik;e;)(t=nI-e._time)>=0&&e._call.call(null,t),e=e._next;--Sv}()}finally{Sv=0,function(){for(var e,n,t=Ik,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ik=n);iw=e,Jj(i)}(),nI=0}}function m$e(){var e=rw.now(),t=e-mk;t>1e3&&(vk-=t,mk=e)}function Jj(e){Sv||(tw&&(tw=clearTimeout(tw)),e-nI>24?(e<1/0&&(tw=setTimeout(tue,e-rw.now()-vk)),nw&&(nw=clearInterval(nw))):(nw||(mk=rw.now(),nw=setInterval(m$e,1e3)),Sv=1,Jle(tue)))}function w$e(e){return e.x}function E$e(e){return e.y}yk.prototype=eue.prototype={constructor:yk,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Qj():+n)+(null==t?0:+t),!this._next&&iw!==this&&(iw?iw._next=this:Ik=this,iw=this),this._call=e,this._time=n,Jj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jj())}};var D$e=Math.PI*(3-Math.sqrt(5));function k$e(e){return e.index}function iue(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}const rue={center:function(e,t){var n,i=1;function r(){var o,a,s=n.length,l=0,u=0;for(o=0;o<s;++o)l+=(a=n[o]).x,u+=a.y;for(l=(l/s-e)*i,u=(u/s-t)*i,o=0;o<s;++o)(a=n[o]).x-=l,a.y-=u}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(o){n=o},r.x=function(o){return arguments.length?(e=+o,r):e},r.y=function(o){return arguments.length?(t=+o,r):t},r.strength=function(o){return arguments.length?(i=+o,r):i},r},collide:function(e){var t,n,i,r=1,o=1;function s(){for(var u,g,d,f,h,C,p,c=t.length,I=0;I<o;++I)for(g=Kj(t,c$e,g$e).visitAfter(a),u=0;u<c;++u)p=(C=n[(d=t[u]).index])*C,f=d.x+d.vx,h=d.y+d.vy,g.visit(m);function m(y,_,N,O,k){var M=y.data,V=y.r,z=C+V;if(!M)return _>f+z||O<f-z||N>h+z||k<h-z;if(M.index>d.index){var H=f-M.x-M.vx,ee=h-M.y-M.vy,se=H*H+ee*ee;se<z*z&&(0===H&&(se+=(H=HC(i))*H),0===ee&&(se+=(ee=HC(i))*ee),se=(z-(se=Math.sqrt(se)))/se*r,d.vx+=(H*=se)*(z=(V*=V)/(p+V)),d.vy+=(ee*=se)*z,M.vx-=H*(z=1-z),M.vy-=ee*z)}}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,g,c=t.length;for(n=new Array(c),u=0;u<c;++u)n[(g=t[u]).index]=+e(g,u,t)}}return"function"!=typeof e&&(e=ul(null==e?1:+e)),s.initialize=function(u,c){t=u,i=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(r=+u,s):r},s.radius=function(u){return arguments.length?(e="function"==typeof u?u:ul(+u),l(),s):e},s},nbody:function(){var e,t,n,i,o,r=ul(-30),s=1,a=1/0,l=.81;function u(f){var h,C=e.length,p=Kj(e,w$e,E$e).visitAfter(g);for(i=f,h=0;h<C;++h)t=e[h],p.visit(d)}function c(){if(e){var f,C,h=e.length;for(o=new Array(h),f=0;f<h;++f)o[(C=e[f]).index]=+r(C,f,e)}}function g(f){var C,p,m,y,_,h=0,I=0;if(f.length){for(m=y=_=0;_<4;++_)(C=f[_])&&(p=Math.abs(C.value))&&(h+=C.value,I+=p,m+=p*C.x,y+=p*C.y);f.x=m/I,f.y=y/I}else{(C=f).x=C.data.x,C.y=C.data.y;do{h+=o[C.data.index]}while(C=C.next)}f.value=h}function d(f,h,C,p){if(!f.value)return!0;var I=f.x-t.x,m=f.y-t.y,y=p-h,_=I*I+m*m;if(y*y/l<_)return _<a&&(0===I&&(_+=(I=HC(n))*I),0===m&&(_+=(m=HC(n))*m),_<s&&(_=Math.sqrt(s*_)),t.vx+=I*f.value*i/_,t.vy+=m*f.value*i/_),!0;if(!(f.length||_>=a)){(f.data!==t||f.next)&&(0===I&&(_+=(I=HC(n))*I),0===m&&(_+=(m=HC(n))*m),_<s&&(_=Math.sqrt(s*_)));do{f.data!==t&&(t.vx+=I*(y=o[f.data.index]*i/_),t.vy+=m*y)}while(f=f.next)}}return u.initialize=function(f,h){e=f,n=h,c()},u.strength=function(f){return arguments.length?(r="function"==typeof f?f:ul(+f),c(),u):r},u.distanceMin=function(f){return arguments.length?(s=f*f,u):Math.sqrt(s)},u.distanceMax=function(f){return arguments.length?(a=f*f,u):Math.sqrt(a)},u.theta=function(f){return arguments.length?(l=f*f,u):Math.sqrt(l)},u},link:function(e){var i,o,s,a,l,u,t=k$e,n=function(p){return 1/Math.min(a[p.source.index],a[p.target.index])},r=ul(30),c=1;function d(p){for(var I=0,m=e.length;I<c;++I)for(var _,N,O,k,M,V,z,y=0;y<m;++y)k=(O=(_=e[y]).target).x+O.vx-(N=_.source).x-N.vx||HC(u),M=O.y+O.vy-N.y-N.vy||HC(u),M*=V=((V=Math.sqrt(k*k+M*M))-o[y])/V*p*i[y],O.vx-=(k*=V)*(z=l[y]),O.vy-=M*z,N.vx+=k*(z=1-z),N.vy+=M*z}function f(){if(s){var p,_,I=s.length,m=e.length,y=new Map(s.map((N,O)=>[t(N,O,s),N]));for(p=0,a=new Array(I);p<m;++p)(_=e[p]).index=p,"object"!=typeof _.source&&(_.source=iue(y,_.source)),"object"!=typeof _.target&&(_.target=iue(y,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(p=0,l=new Array(m);p<m;++p)l[p]=a[(_=e[p]).source.index]/(a[_.source.index]+a[_.target.index]);i=new Array(m),h(),o=new Array(m),C()}}function h(){if(s)for(var p=0,I=e.length;p<I;++p)i[p]=+n(e[p],p,e)}function C(){if(s)for(var p=0,I=e.length;p<I;++p)o[p]=+r(e[p],p,e)}return null==e&&(e=[]),d.initialize=function(p,I){s=p,u=I,f()},d.links=function(p){return arguments.length?(e=p,f(),d):e},d.id=function(p){return arguments.length?(t=p,d):t},d.iterations=function(p){return arguments.length?(c=+p,d):c},d.strength=function(p){return arguments.length?(n="function"==typeof p?p:ul(+p),h(),d):n},d.distance=function(p){return arguments.length?(r="function"==typeof p?p:ul(+p),C(),d):r},d},x:function(e){var n,i,r,t=ul(.1);function o(a){for(var c,l=0,u=n.length;l<u;++l)(c=n[l]).vx+=(r[l]-c.x)*i[l]*a}function s(){if(n){var a,l=n.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=ul(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:ul(+a),s(),o):t},o.x=function(a){return arguments.length?(e="function"==typeof a?a:ul(+a),s(),o):e},o},y:function(e){var n,i,r,t=ul(.1);function o(a){for(var c,l=0,u=n.length;l<u;++l)(c=n[l]).vy+=(r[l]-c.y)*i[l]*a}function s(){if(n){var a,l=n.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=ul(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:ul(+a),s(),o):t},o.y=function(a){return arguments.length?(e="function"==typeof a?a:ul(+a),s(),o):e},o}},ow="forces",e6=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],R$e=["static","iterations"],oue=["x","y","vx","vy"];function t6(e){Ne.call(this,null,e)}function sue(e,t,n,i){var o,s,a,l,r=_n(t.forces);for(o=0,s=e6.length;o<s;++o)(a=e6[o])!==ow&&t.modified(a)&&e[a](t[a]);for(o=0,s=r.length;o<s;++o)l=ow+o,(a=n||t.modified(ow,o)?B$e(r[o]):i&&L$e(r[o],i)?e.force(l):null)&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(ow+o,null);return e.numForces=r.length,e}function L$e(e,t){var n,i;for(n in e)if(si(i=e[n])&&t.modified(Ia(i)))return 1;return 0}function B$e(e){var t,n;for(n in Sn(rue,e.force)||Be("Unrecognized force: "+e.force),t=rue[e.force](),e)si(t[n])&&j$e(t[n],e[n],e);return t}function j$e(e,t,n){e(si(t)?i=>t(i,n):t)}function V$e(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function n6(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=iYe)):void 0===t&&(t=nYe);for(var i,o,s,a,l,n=new Tv(e),r=[n];i=r.pop();)if((s=t(i.data))&&(l=(s=Array.from(s)).length))for(i.children=s,a=l-1;a>=0;--a)r.push(o=s[a]=new Tv(s[a])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(aue)}function nYe(e){return e.children}function iYe(e){return Array.isArray(e)?e[1]:null}function rYe(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function aue(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Tv(e){this.data=e,this.depth=this.height=0,this.parent=null}function lYe(e,t){var n,i;if(i6(t,e))return[t];for(n=0;n<e.length;++n)if(bk(t,e[n])&&i6(sw(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(bk(sw(e[n],e[i]),t)&&bk(sw(e[n],t),e[i])&&bk(sw(e[i],t),e[n])&&i6(uue(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function bk(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function lue(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function i6(e,t){for(var n=0;n<t.length;++n)if(!lue(e,t[n]))return!1;return!0}function uYe(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return sw(e[0],e[1]);case 3:return uue(e[0],e[1],e[2])}}function sw(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-i,c=a-r,g=Math.sqrt(l*l+u*u);return{x:(n+o+l/g*c)/2,y:(i+s+u/g*c)/2,r:(g+r+a)/2}}function uue(e,t,n){var i=e.x,r=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,g=n.r,d=i-s,f=i-u,h=r-a,C=r-c,p=l-o,I=g-o,m=i*i+r*r-o*o,y=m-s*s-a*a+l*l,_=m-u*u-c*c+g*g,N=f*h-d*C,O=(h*_-C*y)/(2*N)-i,k=(C*p-h*I)/N,M=(f*y-d*_)/(2*N)-r,V=(d*I-f*p)/N,z=k*k+V*V-1,H=2*(o+O*k+M*V),ee=O*O+M*M-o*o,se=-(z?(H+Math.sqrt(H*H-4*z*ee))/(2*z):ee/H);return{x:i+O+k*se,y:r+M+V*se,r:se}}function cue(e,t,n){var r,o,a,l,i=e.x-t.x,s=e.y-t.y,u=i*i+s*s;u?(o=t.r+n.r,l=e.r+n.r,(o*=o)>(l*=l)?(r=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-r*r)),n.x=e.x-r*i-a*s,n.y=e.y-r*s+a*i):(r=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-r*r)),n.x=t.x+r*i-a*s,n.y=t.y+r*s+a*i)):(n.x=t.x+n.r,n.y=t.y)}function gue(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function due(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,o=(t.y*n.r+n.y*t.r)/i;return r*r+o*o}function _k(e){this._=e,this.next=null,this.previous=null}function fue(e){if(!(r=(e=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var t,n,i,r,o,s,a,l,u,c,g;if((t=e[0]).x=0,t.y=0,!(r>1))return t.r;if(t.x=-(n=e[1]).r,n.x=t.r,n.y=0,!(r>2))return t.r+n.r;cue(n,t,i=e[2]),t=new _k(t),n=new _k(n),i=new _k(i),t.next=i.previous=n,n.next=t.previous=i,i.next=n.previous=t;e:for(a=3;a<r;++a){cue(t._,n._,i=e[a]),i=new _k(i),l=n.next,u=t.previous,c=n._.r,g=t._.r;do{if(c<=g){if(gue(l._,i._)){t.next=n=l,n.previous=t,--a;continue e}c+=l._.r,l=l.next}else{if(gue(u._,i._)){(t=u).next=n,n.previous=t,--a;continue e}g+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=t,i.next=n,t.next=n.previous=n=i,o=due(t);(i=i.next)!==n;)(s=due(i))<o&&(t=i,o=s);n=t.next}for(t=[n._],i=n;(i=i.next)!==n;)t.push(i._);for(i=function(e){for(var r,o,t=0,n=(e=function(e){for(var n,i,t=e.length;t;)i=Math.random()*t--|0,n=e[t],e[t]=e[i],e[i]=n;return e}(Array.from(e))).length,i=[];t<n;)r=e[t],o&&lue(o,r)?++t:(o=uYe(i=lYe(i,r)),t=0);return o}(t),a=0;a<r;++a)(t=e[a]).x-=i.x,t.y-=i.y;return i.r}function gYe(e){return null==e?null:wk(e)}function wk(e){if("function"!=typeof e)throw new Error;return e}function iI(){return 0}function kv(e){return function(){return e}}function dYe(e){return Math.sqrt(e.value)}function hue(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function r6(e,t){return function(n){if(i=n.children){var i,r,a,o=i.length,s=e(n)*t||0;if(s)for(r=0;r<o;++r)i[r].r+=s;if(a=fue(i),s)for(r=0;r<o;++r)i[r].r-=s;n.r=a+s}}}function Cue(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function pue(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function aw(e,t,n,i,r){for(var s,o=e.children,a=-1,l=o.length,u=e.value&&(i-t)/e.value;++a<l;)(s=o[a]).y0=n,s.y1=r,s.x0=t,s.x1=t+=s.value*u}t6.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:oue}]},gt(t6,Ne,{transform(e,t){var n=this.value,i=t.changed(t.ADD_REM),r=e.modified(e6),o=e.iterations||300;if(n?(i&&(t.modifies("index"),n.nodes(t.source)),(r||t.changed(t.MOD))&&sue(n,e,0,t)):(this.value=n=function(e,t){const n=function(e){var t,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=eue(g),u=p$e("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();function g(){d(),u.call("tick",t),n<i&&(l.stop(),u.call("end",t))}function d(C){var p,m,I=e.length;void 0===C&&(C=1);for(var y=0;y<C;++y)for(n+=(o-n)*r,a.forEach(function(_){_(n)}),p=0;p<I;++p)null==(m=e[p]).fx?m.x+=m.vx*=s:(m.x=m.fx,m.vx=0),null==m.fy?m.y+=m.vy*=s:(m.y=m.fy,m.vy=0);return t}function f(){for(var I,C=0,p=e.length;C<p;++C){if((I=e[C]).index=C,null!=I.fx&&(I.x=I.fx),null!=I.fy&&(I.y=I.fy),isNaN(I.x)||isNaN(I.y)){var m=10*Math.sqrt(.5+C),y=C*D$e;I.x=m*Math.cos(y),I.y=m*Math.sin(y)}(isNaN(I.vx)||isNaN(I.vy))&&(I.vx=I.vy=0)}}function h(C){return C.initialize&&C.initialize(e,c),C}return null==e&&(e=[]),f(),t={tick:d,restart:function(){return l.restart(g),t},stop:function(){return l.stop(),t},nodes:function(C){return arguments.length?(e=C,f(),a.forEach(h),t):e},alpha:function(C){return arguments.length?(n=+C,t):n},alphaMin:function(C){return arguments.length?(i=+C,t):i},alphaDecay:function(C){return arguments.length?(r=+C,t):+r},alphaTarget:function(C){return arguments.length?(o=+C,t):o},velocityDecay:function(C){return arguments.length?(s=1-C,t):1-s},randomSource:function(C){return arguments.length?(c=C,a.forEach(h),t):c},force:function(C,p){return arguments.length>1?(null==p?a.delete(C):a.set(C,h(p)),t):a.get(C)},find:function(C,p,I){var _,N,O,k,M,m=0,y=e.length;for(null==I?I=1/0:I*=I,m=0;m<y;++m)(O=(_=C-(k=e[m]).x)*_+(N=p-k.y)*N)<I&&(M=k,I=O);return M},on:function(C,p){return arguments.length>1?(u.on(C,p),t):u.on(C)}}}(e),i=n.stop,r=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,r()),n.stop=()=>(o=!0,i()),sue(n,t,!0).on("end",()=>o=!0)}(t.source,e),n.on("tick",function(e,t){return()=>e.touch(t).run()}(t.dataflow,this)),e.static||(i=!0,n.tick()),t.modifies("index")),r||i||e.modified(R$e)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!i)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let c,a=this._argops,l=0,u=a.length;l<u;++l)if(c=a[l],c.name===ow&&"link"===c.op._argval.force)for(var s,i=c.op._argops,r=0,o=i.length;r<o;++r)if("links"===i[r].name&&(s=i[r].op.source)){n.pulse(s,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(oue)}}),Tv.prototype=n6.prototype={constructor:Tv,count:function(){return this.eachAfter(V$e)},each:function(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this},eachAfter:function(e,t){for(var o,s,a,n=this,i=[n],r=[],l=-1;n=i.pop();)if(r.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)i.push(o[s]);for(;n=r.pop();)e.call(t,n,++l,this);return this},eachBefore:function(e,t){for(var r,o,n=this,i=[n],s=-1;n=i.pop();)if(e.call(t,n,++s,this),r=n.children)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this},find:function(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)i.push(t=t.parent);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return n6(this).eachBefore(rYe)},[Symbol.iterator]:function*(){var t,i,r,o,e=this,n=[e];do{for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(r=0,o=i.length;r<o;++r)n.push(i[r])}while(n.length)}};var CYe={depth:-1},Aue={};function pYe(e){return e.id}function AYe(e){return e.parentId}function Iue(){var e=pYe,t=AYe;function n(i){var s,a,l,u,c,g,d,r=Array.from(i),o=r.length,f=new Map;for(a=0;a<o;++a)c=r[a]=new Tv(s=r[a]),null!=(g=e(s,a,i))&&(g+="")&&(d=c.id=g,f.set(d,f.has(d)?Aue:c)),null!=(g=t(s,a,i))&&(g+="")&&(c.parent=g);for(a=0;a<o;++a)if(g=(c=r[a]).parent){if(!(u=f.get(g)))throw new Error("missing: "+g);if(u===Aue)throw new Error("ambiguous: "+g);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=CYe,l.eachBefore(function(h){h.depth=h.parent.depth+1,--o}).eachBefore(aue),l.parent=null,o>0)throw new Error("cycle");return l}return n.id=function(i){return arguments.length?(e=wk(i),n):e},n.parentId=function(i){return arguments.length?(t=wk(i),n):t},n}function IYe(e,t){return e.parent===t.parent?1:2}function o6(e){var t=e.children;return t?t[0]:e.t}function s6(e){var t=e.children;return t?t[t.length-1]:e.t}function mYe(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function yYe(e,t,n){return e.a.parent===t.parent?e.a:n}function Ek(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function wYe(e,t){return e.parent===t.parent?1:2}function xYe(e,t){return e+t.x}function SYe(e,t){return Math.max(e,t.y)}function xk(e,t,n,i,r){for(var s,o=e.children,a=-1,l=o.length,u=e.value&&(r-n)/e.value;++a<l;)(s=o[a]).x0=t,s.x1=i,s.y0=n,s.y1=n+=s.value*u}Ek.prototype=Object.create(Tv.prototype);var mue=(1+Math.sqrt(5))/2;function vue(e,t,n,i,r,o){for(var l,u,f,h,p,I,m,y,_,N,O,s=[],a=t.children,c=0,g=0,d=a.length,C=t.value;c<d;){f=r-n,h=o-i;do{p=a[g++].value}while(!p&&g<d);for(I=m=p,O=p*p*(N=Math.max(h/f,f/h)/(C*e)),_=Math.max(m/O,O/I);g<d;++g){if(p+=u=a[g].value,u<I&&(I=u),u>m&&(m=u),O=p*p*N,(y=Math.max(m/O,O/I))>_){p-=u;break}_=y}s.push(l={value:p,dice:f<h,children:a.slice(c,g)}),l.dice?aw(l,n,i,r,C?i+=h*p/C:o):xk(l,n,i,C?n+=f*p/C:r,o),C-=p,c=g}return s}const yue=function e(t){function n(i,r,o,s,a){vue(t,i,r,o,s,a)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(mue),RYe=function e(t){function n(i,r,o,s,a){if((l=i._squarify)&&l.ratio===t)for(var l,u,c,g,f,d=-1,h=l.length,C=i.value;++d<h;){for(c=(u=l[d]).children,g=u.value=0,f=c.length;g<f;++g)u.value+=c[g].value;u.dice?aw(u,r,o,s,C?o+=(a-o)*u.value/C:a):xk(u,r,o,C?r+=(s-r)*u.value/C:s,a),C-=u.value}else i._squarify=l=vue(t,i,r,o,s,a),l.ratio=t}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(mue);function a6(e,t,n){const i={};return e.each(r=>{const o=r.data;n(o)&&(i[t(o)]=r)}),e.lookup=i,e}function l6(e){Ne.call(this,null,e)}l6.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const PYe=e=>e.values;function LYe(){const e=[],t={entries:r=>i(n(r,0),0),key:r=>(e.push(r),t)};function n(r,o){if(o>=e.length)return r;const s=r.length,a=e[o++],l={},u={};let g,d,f,c=-1;for(;++c<s;)g=a(d=r[c])+"",(f=l[g])?f.push(d):l[g]=[d];for(g in l)u[g]=n(l[g],o);return u}function i(r,o){if(++o>e.length)return r;const s=[];for(const a in r)s.push({key:a,values:i(r[a],o)});return s}return t}function Qf(e){Ne.call(this,null,e)}gt(l6,Ne,{transform(e,t){t.source||Be("Nest transform requires an upstream data source.");var n=e.generate,i=e.modified(),r=t.clone(),o=this.value;return(!o||i||t.changed())&&(o&&o.each(s=>{s.children&&ES(s.data)&&r.rem.push(s.data)}),this.value=o=n6({values:_n(e.keys).reduce((s,a)=>(s.key(a),s),LYe()).entries(r.source)},PYe),n&&o.each(s=>{s.children&&(s=sr(s.data),r.add.push(s),r.source.push(s))}),a6(o,cn,cn)),r.source.root=o,r}});const BYe=(e,t)=>e.parent===t.parent?1:2;gt(Qf,Ne,{transform(e,t){(!t.source||!t.source.root)&&Be(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),i=this.fields,r=t.source.root,o=e.as||i;e.field?r.sum(e.field):r.count(),e.sort&&r.sort(BA(e.sort,s=>s.data)),function(e,t,n){for(let i,r=0,o=t.length;r<o;++r)i=t[r],i in n&&e[i](n[i])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?BYe:L0);try{this.value=n(r)}catch(s){Be(s)}return r.each(s=>function(e,t,n){const i=e.data,r=t.length-1;for(let o=0;o<r;++o)i[n[o]]=e[t[o]];i[n[r]]=e.children?e.children.length:0}(s,i,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});const u6=["x","y","r","depth","children"];function c6(e){Qf.call(this,e)}c6.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:u6.length,default:u6}]},gt(c6,Qf,{layout:function(){var e=null,t=1,n=1,i=iI;function r(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(hue(e)).eachAfter(r6(i,.5)).eachBefore(Cue(1)):o.eachBefore(hue(dYe)).eachAfter(r6(iI,1)).eachAfter(r6(i,o.r/Math.min(t,n))).eachBefore(Cue(Math.min(t,n)/(2*o.r))),o}return r.radius=function(o){return arguments.length?(e=gYe(o),r):e},r.size=function(o){return arguments.length?(t=+o[0],n=+o[1],r):[t,n]},r.padding=function(o){return arguments.length?(i="function"==typeof o?o:kv(+o),r):i},r},params:["radius","size","padding"],fields:u6});const g6=["x0","y0","x1","y1","depth","children"];function d6(e){Qf.call(this,e)}function f6(e){Ne.call(this,null,e)}d6.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:g6.length,default:g6}]},gt(d6,Qf,{layout:function(){var e=1,t=1,n=0,i=!1;function r(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(function(s,a){return function(l){l.children&&aw(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,g=l.x1-n,d=l.y1-n;g<u&&(u=g=(u+g)/2),d<c&&(c=d=(c+d)/2),l.x0=u,l.y0=c,l.x1=g,l.y1=d}}(t,a)),i&&s.eachBefore(pue),s}return r.round=function(s){return arguments.length?(i=!!s,r):i},r.size=function(s){return arguments.length?(e=+s[0],t=+s[1],r):[e,t]},r.padding=function(s){return arguments.length?(n=+s,r):n},r},params:["size","round","padding"],fields:g6}),f6.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},gt(f6,Ne,{transform(e,t){t.source||Be("Stratify transform requires an upstream data source.");let n=this.value;const i=e.modified(),r=t.fork(t.ALL).materialize(t.SOURCE),o=!n||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return r.source=r.source.slice(),o&&(n=r.source.length?a6(Iue().id(e.key).parentId(e.parentKey)(r.source),e.key,cc):a6(Iue()([{}]),e.key,e.key)),r.source.root=this.value=n,r}});const bue={tidy:function(){var e=IYe,t=1,n=1,i=null;function r(u){var c=function(e){for(var n,r,o,s,a,t=new Ek(e,0),i=[t];n=i.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)i.push(r=n.children[s]=new Ek(o[s],s)),r.parent=n;return(t.parent=new Ek(null,0)).children=[t],t}(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),i)u.eachBefore(l);else{var g=u,d=u,f=u;u.eachBefore(function(m){m.x<g.x&&(g=m),m.x>d.x&&(d=m),m.depth>f.depth&&(f=m)});var h=g===d?1:e(g,d)/2,C=h-g.x,p=t/(d.x+h+C),I=n/(f.depth||1);u.eachBefore(function(m){m.x=(m.x+C)*p,m.y=m.depth*I})}return u}function o(u){var c=u.children,g=u.parent.children,d=u.i?g[u.i-1]:null;if(c){!function(e){for(var o,t=0,n=0,i=e.children,r=i.length;--r>=0;)(o=i[r]).z+=t,o.m+=t,t+=o.s+(n+=o.c)}(u);var f=(c[0].z+c[c.length-1].z)/2;d?(u.z=d.z+e(u._,d._),u.m=u.z-f):u.z=f}else d&&(u.z=d.z+e(u._,d._));u.parent.A=function(u,c,g){if(c){for(var _,d=u,f=u,h=c,C=d.parent.children[0],p=d.m,I=f.m,m=h.m,y=C.m;h=s6(h),d=o6(d),h&&d;)C=o6(C),(f=s6(f)).a=u,(_=h.z+m-d.z-p+e(h._,d._))>0&&(mYe(yYe(h,u,g),u,_),p+=_,I+=_),m+=h.m,p+=d.m,y+=C.m,I+=f.m;h&&!s6(f)&&(f.t=h,f.m+=m-I),d&&!o6(C)&&(C.t=d,C.m+=p-y,g=u)}return g}(u,d,u.parent.A||g[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function l(u){u.x*=t,u.y=u.depth*n}return r.separation=function(u){return arguments.length?(e=u,r):e},r.size=function(u){return arguments.length?(i=!1,t=+u[0],n=+u[1],r):i?null:[t,n]},r.nodeSize=function(u){return arguments.length?(i=!0,t=+u[0],n=+u[1],r):i?[t,n]:null},r},cluster:function(){var e=wYe,t=1,n=1,i=!1;function r(o){var s,a=0;o.eachAfter(function(d){var f=d.children;f?(d.x=function(e){return e.reduce(xYe,0)/e.length}(f),d.y=function(e){return 1+e.reduce(SYe,0)}(f)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=function(e){for(var t;t=e.children;)e=t[0];return e}(o),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),c=l.x-e(l,u)/2,g=u.x+e(u,l)/2;return o.eachAfter(i?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(g-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return r.separation=function(o){return arguments.length?(e=o,r):e},r.size=function(o){return arguments.length?(i=!1,t=+o[0],n=+o[1],r):i?null:[t,n]},r.nodeSize=function(o){return arguments.length?(i=!0,t=+o[0],n=+o[1],r):i?[t,n]:null},r}},h6=["x","y","depth","children"];function C6(e){Qf.call(this,e)}function p6(e){Ne.call(this,[],e)}C6.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:h6.length,default:h6}]},gt(C6,Qf,{layout(e){const t=e||"tidy";if(Sn(bue,t))return bue[t]();Be("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:h6}),p6.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},gt(p6,Ne,{transform(e,t){const n=this.value,i=t.source&&t.source.root,r=t.fork(t.NO_SOURCE),o={};return i||Be("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(r.rem=n,t.visit(t.SOURCE,s=>o[cn(s)]=1),i.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[cn(a)]&&o[cn(l)]&&r.add.push(sr({source:l,target:a}))}),this.value=r.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[cn(s)]=1),n.forEach(s=>{(o[cn(s.source)]||o[cn(s.target)])&&r.mod.push(s)})),r}});const _ue={binary:function(e,t,n,i,r){var s,l,o=e.children,a=o.length,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;!function c(g,d,f,h,C,p,I){if(g>=d-1){var m=o[g];return m.x0=h,m.y0=C,m.x1=p,void(m.y1=I)}for(var y=u[g],_=f/2+y,N=g+1,O=d-1;N<O;){var k=N+O>>>1;u[k]<_?N=k+1:O=k}_-u[N-1]<u[N]-_&&g+1<N&&--N;var M=u[N]-y,V=f-M;if(p-h>I-C){var z=f?(h*V+p*M)/f:p;c(g,N,M,h,C,z,I),c(N,d,V,z,C,p,I)}else{var H=f?(C*V+I*M)/f:I;c(g,N,M,h,C,p,H),c(N,d,V,h,H,p,I)}}(0,a,e.value,t,n,i,r)},dice:aw,slice:xk,slicedice:function(e,t,n,i,r){(1&e.depth?xk:aw)(e,t,n,i,r)},squarify:yue,resquarify:RYe},A6=["x0","y0","x1","y1","depth","children"];function I6(e){Qf.call(this,e)}function WYe(e,t,n,i){const r=e.width,o=e.height,s=n||i,a=iv(r,o).getContext("2d");t.forEach(p=>wue(a,p,s));const l=new Uint32Array(a.getImageData(0,0,r,o).data.buffer),u=e.bitmap(),c=s&&e.bitmap();let g,d,f,h,C;for(d=0;d<o;++d)for(g=0;g<r;++g)C=4278190080&l[d*r+g],C&&(f=e(g),h=e(d),i||u.set(f,h),s&&268435456^C&&c.set(f,h));return[u,c]}function wue(e,t,n){if(!t.length)return;const i=t[0].mark.marktype;"group"===i?t.forEach(r=>{r.items.forEach(o=>wue(e,o.items,n))}):bu[i].draw(e,{items:n?t.map($Ye):t})}function $Ye(e){const t=xS(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}I6.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:A6.length,default:A6}]},gt(I6,Qf,{layout(){const e=function(){var e=yue,t=!1,n=1,i=1,r=[0],o=iI,s=iI,a=iI,l=iI,u=iI;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=i,d.eachBefore(g),r=[0],t&&d.eachBefore(pue),d}function g(d){var f=r[d.depth],h=d.x0+f,C=d.y0+f,p=d.x1-f,I=d.y1-f;p<h&&(h=p=(h+p)/2),I<C&&(C=I=(C+I)/2),d.x0=h,d.y0=C,d.x1=p,d.y1=I,d.children&&(f=r[d.depth+1]=o(d)/2,h+=u(d)-f,C+=s(d)-f,(p-=a(d)-f)<h&&(h=p=(h+p)/2),(I-=l(d)-f)<C&&(C=I=(C+I)/2),e(d,h,C,p,I))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],i=+d[1],c):[n,i]},c.tile=function(d){return arguments.length?(e=wk(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o="function"==typeof d?d:kv(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s="function"==typeof d?d:kv(+d),c):s},c.paddingRight=function(d){return arguments.length?(a="function"==typeof d?d:kv(+d),c):a},c.paddingBottom=function(d){return arguments.length?(l="function"==typeof d?d:kv(+d),c):l},c.paddingLeft=function(d){return arguments.length?(u="function"==typeof d?d:kv(+d),c):u},c}();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Sn(_ue,t)?e.tile(_ue[t]):Be("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:A6});const UC=new Uint32Array(33),mg=new Uint32Array(33);mg[0]=0,UC[0]=~mg[0];for(let e=1;e<=32;++e)mg[e]=mg[e-1]<<1|1,UC[e]=~mg[e];function KYe(e,t,n,i,r,o){let s=n/2;return e-s<0||e+s>r||t-(s=i/2)<0||t+s>o}function XYe(){return!1}function QYe(e,t,n,i,r,o,s,a){const l=r*o/(2*i),u=e(t-l),c=e(t+l),g=e(n-(o/=2)),d=e(n+o);return s.outOfBounds(u,g,c,d)||s.getRange(u,g,c,d)||a&&a.getRange(u,g,c,d)}function JYe(e,t,n,i,r,o,s,a){const l=r*o/(2*i);let u=e(t-l),c=e(t+l),g=e(n-(o/=2)),d=e(n+o);return u=u>0?u:0,g=g>0?g:0,c=c<e.width?c:e.width-1,d=d<e.height?d:e.height-1,s.getRange(u,g,c,d)||a&&a.getRange(u,g,c,d)}function Eue(e){return e?[JYe,XYe]:[QYe,KYe]}const tqe=[-1,-1,1,1],nqe=[-1,1,-1,1],rqe=["right","center","left"],oqe=["bottom","middle","top"];function xue(e,t,n,i,r,o,s,a,l,u,c,g){return!(r.outOfBounds(e,n,t,i)||(g&&o?o.getRange(e,n,t,i)||!function(e,t,n,i,r){return r[0]<=e&&n<=r[2]&&r[3]<=t&&i<=r[5]}(s,l,a,u,c):r.getRange(e,n,t,i)))}const lqe={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},uqe={naive:function(e,t,n,i){const r=e.width,o=e.height;return function(s){const a=s.datum.datum.items[i].items,l=a.length,u=s.datum.fontSize,c=bd.width(s.datum,s.datum.text);let d,f,h,C,p,I,m,g=0;for(let y=0;y<l;++y)d=a[y].x,h=a[y].y,f=void 0===a[y].x2?d:a[y].x2,C=void 0===a[y].y2?h:a[y].y2,p=(d+f)/2,I=(h+C)/2,m=Math.abs(f-d+C-h),m>=g&&(g=m,s.x=p,s.y=I);return p=c/2,I=u/2,d=s.x-p,f=s.x+p,h=s.y-I,C=s.y+I,s.align="center",d<0&&f<=r?s.align="left":0<=d&&r<f&&(s.align="right"),s.baseline="middle",h<0&&C<=o?s.baseline="top":0<=h&&o<C&&(s.baseline="bottom"),!0}},"reduced-search":function(e,t,n,i,r){const o=e.width,s=e.height,[a,l]=Eue(r),u=t[0],c=t[1];function g(d,f,h,C,p){const I=e.invert(d),m=e.invert(f);let N,y=h,_=s;if(!l(I,m,C,p,o,s)&&!a(e,I,m,p,C,y,u,c)&&!a(e,I,m,p,C,p,u,null)){for(;_-y>=1;)N=(y+_)/2,a(e,I,m,p,C,N,u,c)?_=N:y=N;if(y>h)return[I,m,y,!0]}}return function(d){const f=d.datum.datum.items[i].items,h=f.length,C=d.datum.fontSize,p=bd.width(d.datum,d.datum.text);let N,O,k,M,V,z,H,ee,se,_e,ae,le,q,te,Te,Xe,at,I=n?C:0,m=!1,y=!1,_=0;for(let zt=0;zt<h;++zt){for(N=f[zt].x,k=f[zt].y,O=void 0===f[zt].x2?N:f[zt].x2,M=void 0===f[zt].y2?k:f[zt].y2,N>O&&(at=N,N=O,O=at),k>M&&(at=k,k=M,M=at),se=e(N),ae=e(O),_e=~~((se+ae)/2),le=e(k),te=e(M),q=~~((le+te)/2),H=_e;H>=se;--H)for(ee=q;ee>=le;--ee)Xe=g(H,ee,I,p,C),Xe&&([d.x,d.y,I,m]=Xe);for(H=_e;H<=ae;++H)for(ee=q;ee<=te;++ee)Xe=g(H,ee,I,p,C),Xe&&([d.x,d.y,I,m]=Xe);!m&&!n&&(Te=Math.abs(O-N+M-k),V=(N+O)/2,z=(k+M)/2,Te>=_&&!l(V,z,p,C,o,s)&&!a(e,V,z,C,p,C,u,null)&&(_=Te,d.x=V,d.y=z,y=!0))}return!(!m&&!y||(V=p/2,z=C/2,u.setRange(e(d.x-V),e(d.y-z),e(d.x+V),e(d.y+z)),d.align="center",d.baseline="middle",0))}},floodfill:function(e,t,n,i,r){const o=e.width,s=e.height,[a,l]=Eue(r),u=t[0],c=t[1],g=e.bitmap();return function(d){const f=d.datum.datum.items[i].items,h=f.length,C=d.datum.fontSize,p=bd.width(d.datum,d.datum.text),I=[];let O,k,M,V,z,H,ee,se,_e,ae,le,q,m=n?C:0,y=!1,_=!1,N=0;for(let te=0;te<h;++te){for(O=f[te].x,M=f[te].y,k=void 0===f[te].x2?O:f[te].x2,V=void 0===f[te].y2?M:f[te].y2,I.push([e((O+k)/2),e((M+V)/2)]);I.length;)if([ee,se]=I.pop(),!(u.get(ee,se)||c.get(ee,se)||g.get(ee,se))){g.set(ee,se);for(let Te=0;Te<4;++Te)z=ee+tqe[Te],H=se+nqe[Te],g.outOfBounds(z,H,z,H)||I.push([z,H]);if(z=e.invert(ee),H=e.invert(se),_e=m,ae=s,!l(z,H,p,C,o,s)&&!a(e,z,H,C,p,_e,u,c)&&!a(e,z,H,C,p,C,u,null)){for(;ae-_e>=1;)le=(_e+ae)/2,a(e,z,H,C,p,le,u,c)?ae=le:_e=le;_e>m&&(d.x=z,d.y=H,m=_e,y=!0)}}!y&&!n&&(q=Math.abs(k-O+V-M),z=(O+k)/2,H=(M+V)/2,q>=N&&!l(z,H,p,C,o,s)&&!a(e,z,H,C,p,C,u,null)&&(N=q,d.x=z,d.y=H,_=!0))}return!(!y&&!_||(z=p/2,H=C/2,u.setRange(e(d.x-z),e(d.y-H),e(d.x+z),e(d.y+H)),d.align="center",d.baseline="middle",0))}}};function cqe(e,t,n,i,r,o,s,a,l,u,c){if(!e.length)return e;const g=Math.max(i.length,r.length),d=function(e,t){const n=new Float64Array(t),i=e.length;for(let r=0;r<i;++r)n[r]=e[r]||0;for(let r=i;r<t;++r)n[r]=n[i-1];return n}(i,g),f=function(e,t){const n=new Int8Array(t),i=e.length;for(let r=0;r<i;++r)n[r]|=lqe[e[r]];for(let r=i;r<t;++r)n[r]=n[i-1];return n}(r,g),h=function(e){return e&&e.mark&&e.mark.marktype}(e[0].datum),C="group"===h&&e[0].datum.items[l].marktype,p="area"===C,I=function(e,t,n,i){const r=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?"line"===e||"area"===e?o=>r(o.datum):"line"===t?o=>{const s=o.datum.items[i].items;return r(s.length?s["start"===n?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:r}(h,C,a,l),m=null===u||u===1/0,y=function(e,t,n){const i=Math.max(1,Math.sqrt(e*t/1e6)),r=~~((e+2*n+i)/i),o=~~((t+2*n+i)/i),s=a=>~~((a+n)/i);return s.invert=a=>a*i-n,s.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+32)/32));function i(o,s){n[o]|=s}function r(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>5]&1<<(31&a)},set:(o,s)=>{const a=s*e+o;i(a>>>5,1<<(31&a))},clear:(o,s)=>{const a=s*e+o;r(a>>>5,~(1<<(31&a)))},getRange:(o,s,a,l)=>{let c,g,d,f,u=l;for(;u>=s;--u)if(c=u*e+o,g=u*e+a,d=c>>>5,f=g>>>5,d===f){if(n[d]&UC[31&c]&mg[1+(31&g)])return!0}else{if(n[d]&UC[31&c]||n[f]&mg[1+(31&g)])return!0;for(let h=d+1;h<f;++h)if(n[h])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,g,d,f;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,g=u>>>5,d=c>>>5,g===d)i(g,UC[31&u]&mg[1+(31&c)]);else for(i(g,UC[31&u]),i(d,mg[1+(31&c)]),f=g+1;f<d;++f)i(f,4294967295)},clearRange:(o,s,a,l)=>{let u,c,g,d,f;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,g=u>>>5,d=c>>>5,g===d)r(g,mg[31&u]|UC[1+(31&c)]);else for(r(g,mg[31&u]),r(d,UC[1+(31&c)]),f=g+1;f<d;++f)r(f,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}(r,o),s.ratio=i,s.padding=n,s.width=e,s.height=t,s}(t[0],t[1],m?0:u),_=p&&"naive"===c,N=e.map(M=>({datum:M,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:I(M)}));let O;if(!_){n&&N.sort((V,z)=>n(V.datum,z.datum));let M=!1;for(let V=0;V<f.length&&!M;++V)M=5===f[V]||d[V]<0;h&&(s||p)&&(o=[e.map(V=>V.datum)].concat(o)),O=o.length?WYe(y,o,M,p):function(e,t){const n=e.bitmap();return(t||[]).forEach(i=>n.set(e(i.boundary[0]),e(i.boundary[3]))),[n,void 0]}(y,s&&N)}const k=p?uqe[c](y,O,s,l,m):function(e,t,n,i,r){const o=e.width,s=e.height,a=t[0],l=t[1],u=i.length;return function(c){const g=c.boundary,d=c.datum.fontSize;if(!r&&(g[2]<0||g[5]<0||g[0]>o||g[3]>s))return!1;let h,C,p,I,m,y,_,N,O,k,M,V,z,H,ee,f=0;for(let se=0;se<u;++se){if(h=(3&n[se])-1,C=(n[se]>>>2&3)-1,p=0===h&&0===C||i[se]<0,I=h&&C?Math.SQRT1_2:1,m=i[se]<0?-1:1,y=g[1+h]+i[se]*h*I,M=g[4+C]+m*d*C/2+i[se]*C*I,N=M-d/2,O=M+d/2,V=e(y),H=e(N),ee=e(O),r&&(V=V<0?0:V,H=H<0?0:H,ee=ee>=e.height?e.height-1:ee),!f){if(!xue(V,V,H,ee,a,l,y,y,N,O,g,p))continue;f=bd.width(c.datum,c.datum.text)}if(k=y+m*f*h/2,y=k-f/2,_=k+f/2,V=e(y),z=e(_),r&&(V=V<0?0:V,z=z>=e.width?e.width-1:z),xue(V,z,H,ee,a,l,y,_,N,O,g,p))return c.x=h?h*m<0?_:y:k,c.y=C?C*m<0?O:N:M,c.align=rqe[h*m+1],c.baseline=oqe[C*m+1],a.setRange(V,H,z,ee),!0}return!1}}(y,O,f,d,m);return N.forEach(M=>M.opacity=+k(M)),N}const E6=["x","y","opacity","align","baseline"],Due=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function x6(e){Ne.call(this,null,e)}function Sue(e,t){var r,o,s,a,l,u,n=[],i=function(c){return c(a)};if(null==t)n.push(e);else for(r={},o=0,s=e.length;o<s;++o)a=e[o],(u=r[l=t.map(i)])||(r[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function D6(e){Ne.call(this,null,e)}x6.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Due},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:E6.length,default:E6}]},gt(x6,Ne,{transform(e,t){const i=e.modified();if(!(i||t.changed(t.ADD_REM)||function(o){const s=e.sort;return si(s)&&t.modified(s.fields)}()))return;(!e.size||2!==e.size.length)&&Be("Size parameter should be specified as a [width, height] array.");const r=e.as||E6;return cqe(t.materialize(t.SOURCE).source||[],e.size,e.sort,_n(null==e.offset?1:e.offset),_n(e.anchor||Due),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[r[0]]=o.x,s[r[1]]=o.y,s[r[2]]=o.opacity,s[r[3]]=o.align,s[r[4]]=o.baseline}),t.reflow(i).modifies(r)}}),D6.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},gt(D6,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Sue(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(Io),s=o.length,a=e.as||[Io(e.x),Io(e.y)],l=[];r.forEach(u=>{Yne(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const g={};for(let d=0;d<s;++d)g[o[d]]=u.dims[d];g[a[0]]=c[0],g[a[1]]=c[1],l.push(sr(g))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const S6={linear:DB,log:zne,exp:Hne,pow:Une,quad:SB,poly:Gne};function T6(e){Ne.call(this,null,e)}T6.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(S6)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},gt(T6,Ne,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=Sue(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(Io),s=e.method||"linear",a=e.order||3,l=((e,t)=>"poly"===e?t:"quad"===e?2:1)(s,a),u=e.as||[Io(e.x),Io(e.y)],c=S6[s],g=[];let d=e.extent;Sn(S6,s)||Be("Invalid regression method: "+s),null!=d&&"log"===s&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),r.forEach(f=>{if(f.length<=l)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const C=c(f,e.x,e.y,a);if(e.params)return void g.push(sr({keys:f.dims,coef:C.coef,rSquared:C.rSquared}));const p=d||gd(f,e.x),I=m=>{const y={};for(let _=0;_<o.length;++_)y[o[_]]=f.dims[_];y[u[0]]=m[0],y[u[1]]=m[1],g.push(sr(y))};"linear"===s?p.forEach(m=>I([m,C.predict(m)])):PS(C.predict,p,25,200).forEach(I)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=g}return n}});const Tue=Math.pow(2,-52),Dk=new Uint32Array(512);class Sk{static from(t,n=vqe,i=yqe){const r=t.length,o=new Float64Array(2*r);for(let s=0;s<r;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=i(a)}return new Sk(o)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let z=0;z<s;z++){const H=t[2*z],ee=t[2*z+1];H<a&&(a=H),ee<l&&(l=ee),H>u&&(u=H),ee>c&&(c=ee),this._ids[z]=z}const g=(a+u)/2,d=(l+c)/2;let h,C,p,f=1/0;for(let z=0;z<s;z++){const H=k6(g,d,t[2*z],t[2*z+1]);H<f&&(h=z,f=H)}const I=t[2*h],m=t[2*h+1];f=1/0;for(let z=0;z<s;z++){if(z===h)continue;const H=k6(I,m,t[2*z],t[2*z+1]);H<f&&H>0&&(C=z,f=H)}let y=t[2*C],_=t[2*C+1],N=1/0;for(let z=0;z<s;z++){if(z===h||z===C)continue;const H=Iqe(I,m,y,_,t[2*z],t[2*z+1]);H<N&&(p=z,N=H)}let O=t[2*p],k=t[2*p+1];if(N===1/0){for(let ee=0;ee<s;ee++)this._dists[ee]=t[2*ee]-t[0]||t[2*ee+1]-t[1];Nv(this._ids,this._dists,0,s-1);const z=new Uint32Array(s);let H=0;for(let ee=0,se=-1/0;ee<s;ee++){const _e=this._ids[ee];this._dists[_e]>se&&(z[H++]=_e,se=this._dists[_e])}return this.hull=z.subarray(0,H),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Tk(I,m,y,_,O,k)){const z=C,H=y,ee=_;C=p,y=O,_=k,p=z,O=H,k=ee}const M=function(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,u=o-t,c=s*s+a*a,g=l*l+u*u,d=.5/(s*u-a*l);return{x:e+(u*c-a*g)*d,y:t+(s*g-l*c)*d}}(I,m,y,_,O,k);this._cx=M.x,this._cy=M.y;for(let z=0;z<s;z++)this._dists[z]=k6(t[2*z],t[2*z+1],M.x,M.y);Nv(this._ids,this._dists,0,s-1),this._hullStart=h;let V=3;i[h]=n[p]=C,i[C]=n[h]=p,i[p]=n[C]=h,r[h]=0,r[C]=1,r[p]=2,o.fill(-1),o[this._hashKey(I,m)]=h,o[this._hashKey(y,_)]=C,o[this._hashKey(O,k)]=p,this.trianglesLen=0,this._addTriangle(h,C,p,-1,-1,-1);for(let H,ee,z=0;z<this._ids.length;z++){const se=this._ids[z],_e=t[2*se],ae=t[2*se+1];if(z>0&&Math.abs(_e-H)<=Tue&&Math.abs(ae-ee)<=Tue||(H=_e,ee=ae,se===h||se===C||se===p))continue;let le=0;for(let at=0,zt=this._hashKey(_e,ae);at<this._hashSize&&(le=o[(zt+at)%this._hashSize],-1===le||le===i[le]);at++);le=n[le];let te,q=le;for(;te=i[q],!Tk(_e,ae,t[2*q],t[2*q+1],t[2*te],t[2*te+1]);)if(q=te,q===le){q=-1;break}if(-1===q)continue;let Te=this._addTriangle(q,se,i[q],-1,-1,r[q]);r[se]=this._legalize(Te+2),r[q]=Te,V++;let Xe=i[q];for(;te=i[Xe],Tk(_e,ae,t[2*Xe],t[2*Xe+1],t[2*te],t[2*te+1]);)Te=this._addTriangle(Xe,se,te,r[se],-1,r[Xe]),r[se]=this._legalize(Te+2),i[Xe]=Xe,V--,Xe=te;if(q===le)for(;te=n[q],Tk(_e,ae,t[2*te],t[2*te+1],t[2*q],t[2*q+1]);)Te=this._addTriangle(te,se,q,-1,r[q],r[te]),this._legalize(Te+2),r[te]=Te,i[q]=q,V--,q=te;this._hullStart=n[se]=q,i[q]=n[Xe]=se,i[se]=Xe,o[this._hashKey(_e,ae)]=se,o[this._hashKey(t[2*q],t[2*q+1])]=q}this.hull=new Uint32Array(V);for(let z=0,H=this._hullStart;z<V;z++)this.hull[z]=H,H=i[H];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:r}=this;let o=0,s=0;for(;;){const a=i[t],l=t-t%3;if(s=l+(t+2)%3,-1===a){if(0===o)break;t=Dk[--o];continue}const u=a-a%3,g=u+(a+2)%3,d=n[s],f=n[t],h=n[l+(t+1)%3],C=n[g];if(Aqe(r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*C],r[2*C+1])){n[t]=C,n[a]=d;const I=i[g];if(-1===I){let y=this._hullStart;do{if(this._hullTri[y]===g){this._hullTri[y]=t;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(t,I),this._link(a,i[s]),this._link(s,g);const m=u+(a+1)%3;o<Dk.length&&(Dk[o++]=m)}else{if(0===o)break;t=Dk[--o]}}return s}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,i,r,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=i,this._link(a,r),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function k6(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}function N6(e,t,n,i,r,o){const s=(i-t)*(r-e),a=(n-e)*(o-t);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function Tk(e,t,n,i,r,o){return(N6(r,o,e,t,n,i)||N6(e,t,n,i,r,o)||N6(n,i,r,o,e,t))<0}function Aqe(e,t,n,i,r,o,s,a){const l=e-s,u=t-a,c=n-s,g=i-a,d=r-s,f=o-a,C=c*c+g*g,p=d*d+f*f;return l*(g*p-C*f)-u*(c*p-C*d)+(l*l+u*u)*(c*f-g*d)<0}function Iqe(e,t,n,i,r,o){const s=n-e,a=i-t,l=r-e,u=o-t,c=s*s+a*a,g=l*l+u*u,d=.5/(s*u-a*l),f=(u*c-a*g)*d,h=(s*g-l*c)*d;return f*f+h*h}function Nv(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const o=e[r],s=t[o];let a=r-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{let o=n+1,s=i;uw(e,n+i>>1,o),t[e[n]]>t[e[i]]&&uw(e,n,i),t[e[o]]>t[e[i]]&&uw(e,o,i),t[e[n]]>t[e[o]]&&uw(e,n,o);const a=e[o],l=t[a];for(;;){do{o++}while(t[e[o]]<l);do{s--}while(t[e[s]]>l);if(s<o)break;uw(e,o,s)}e[n+1]=e[s],e[s]=a,i-o+1>=s-n?(Nv(e,t,o,i),Nv(e,t,n,s-1)):(Nv(e,t,n,s-1),Nv(e,t,o,i))}}function uw(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function vqe(e){return e[0]}function yqe(e){return e[1]}class rI{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){const r=(t=+t)+(i=+i),o=n=+n;if(i<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(t,n,i,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class O6{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class bqe{constructor(t,[n,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:r}=this,o=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let p,I,f=0,h=0,C=i.length;f<C;f+=3,h+=2){const m=2*i[f],y=2*i[f+1],_=2*i[f+2],N=t[m],O=t[m+1],V=t[_],z=t[_+1],H=t[y]-N,ee=t[y+1]-O,se=V-N,_e=z-O,ae=H*H+ee*ee,le=se*se+_e*_e,q=2*(H*_e-ee*se);if(q)if(Math.abs(q)<1e-8)p=(N+V)/2,I=(O+z)/2;else{const te=1/q;p=N+(_e*ae-ee*le)*te,I=O+(H*le-se*ae)*te}else p=(N+V)/2-1e8*_e,I=(O+z)/2+1e8*se;o[h]=p,o[h+1]=I}let a,u,g,s=n[n.length-1],l=4*s,c=t[2*s],d=t[2*s+1];r.fill(0);for(let f=0;f<n.length;++f)s=n[f],a=l,u=c,g=d,l=4*s,c=t[2*s],d=t[2*s+1],r[a+2]=r[l]=g-d,r[a+3]=r[l+1]=c-u}render(t){const n=null==t?t=new rI:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,g=i.length;c<g;++c){const d=i[c];if(d<c)continue;const f=2*Math.floor(c/3),h=2*Math.floor(d/3);this._renderSegment(s[f],s[f+1],s[h],s[h+1],t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const g=2*Math.floor(r[u]/3),d=s[g],f=s[g+1],h=4*l,C=this._project(d,f,a[h+2],a[h+3]);C&&this._renderSegment(d,f,C[0],C[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new rI:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=null==n?n=new rI:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(r[s]!==r[s-2]||r[s+1]!==r[s-1])&&n.lineTo(r[s],r[s+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(t){const n=new O6;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,r,o){let s;const a=this._regioncode(t,n),l=this._regioncode(i,r);0===a&&0===l?(o.moveTo(t,n),o.lineTo(i,r)):(s=this._clipSegment(t,n,i,r,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,i){return(n=+n)==n&&(i=+i)==i&&this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const r=this._clip(i);if(r)e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=r.length;a<l;a+=2)if(n[o]==r[a]&&n[o+1]==r[a+1]&&n[(o+2)%s]==r[(a+l-2)%l]&&n[(o+3)%s]==r[(a+l-1)%l]){yield i;break e}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,s=i[t];if(-1===s)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[2*u],n[2*u+1]),l=l%3==2?l-2:l+1,o[l]!==t)break;l=r[l]}while(l!==s&&-1!==l);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:i}=this,r=4*t;return i[r]||i[r+1]?this._clipInfinite(t,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const i=n.length;let o,s,u,g,d,r=null,a=n[i-2],l=n[i-1],c=this._regioncode(a,l);for(let f=0;f<i;f+=2)if(o=a,s=l,a=n[f],l=n[f+1],u=c,c=this._regioncode(a,l),0===u&&0===c)g=d,d=0,r?r.push(a,l):r=[a,l];else{let h,C,p,I,m;if(0===u){if(null===(h=this._clipSegment(o,s,a,l,u,c)))continue;[C,p,I,m]=h}else{if(null===(h=this._clipSegment(a,l,o,s,c,u)))continue;[I,m,C,p]=h,g=d,d=this._edgecode(C,p),g&&d&&this._edge(t,g,d,r,r.length),r?r.push(C,p):r=[C,p]}g=d,d=this._edgecode(I,m),g&&d&&this._edge(t,g,d,r,r.length),r?r.push(I,m):r=[I,m]}if(r)g=d,d=this._edgecode(r[0],r[1]),g&&d&&this._edge(t,g,d,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,n,i,r,o,s){for(;;){if(0===o&&0===s)return[t,n,i,r];if(o&s)return null;let a,l,u=o||s;8&u?(a=t+(i-t)*(this.ymax-n)/(r-n),l=this.ymax):4&u?(a=t+(i-t)*(this.ymin-n)/(r-n),l=this.ymin):2&u?(l=n+(r-n)*(this.xmax-t)/(i-t),a=this.xmax):(l=n+(r-n)*(this.xmin-t)/(i-t),a=this.xmin),o?o=this._regioncode(t=a,n=l):s=this._regioncode(i=a,r=l)}}_clipInfinite(t,n,i,r,o,s){let l,a=Array.from(n);if((l=this._project(a[0],a[1],i,r))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let g,u=0,c=a.length,d=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)g=d,d=this._edgecode(a[u],a[u+1]),g&&d&&(u=this._edge(t,g,d,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,i,r,o){for(;n!==i;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin}(r[o]!==s||r[o+1]!==a)&&this.contains(t,s,a)&&(r.splice(o,0,s,a),o+=2)}if(r.length>4)for(let s=0;s<r.length;s+=2){const a=(s+2)%r.length,l=(s+4)%r.length;(r[s]===r[a]&&r[a]===r[l]||r[s+1]===r[a+1]&&r[a+1]===r[l+1])&&(r.splice(a,2),s-=2)}return o}_project(t,n,i,r){let s,a,l,o=1/0;if(r<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/r)<o&&(l=this.ymin,a=t+(o=s)*i)}else if(r>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/r)<o&&(l=this.ymax,a=t+(o=s)*i)}if(i>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/i)<o&&(a=this.xmax,l=n+(o=s)*r)}else if(i<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/i)<o&&(a=this.xmin,l=n+(o=s)*r)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const _qe=2*Math.PI,Ov=Math.pow;function wqe(e){return e[0]}function Eqe(e){return e[1]}function Dqe(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class M6{static from(t,n=wqe,i=Eqe,r){return new M6("length"in t?function(e,t,n,i){const r=e.length,o=new Float64Array(2*r);for(let s=0;s<r;++s){const a=e[s];o[2*s]=t.call(i,a,s,e),o[2*s+1]=n.call(i,a,s,e)}return o}(t,n,i,r):Float64Array.from(function*(e,t,n,i){let r=0;for(const o of e)yield t.call(i,o,r,e),yield n.call(i,o,r,e),++r}(t,n,i,r)))}constructor(t){this._delaunator=new Sk(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const r=2*t[i],o=2*t[i+1],s=2*t[i+2];if((n[s]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[s+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(d,f)=>f).sort((d,f)=>n[2*d]-n[2*f]||n[2*d+1]-n[2*f+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],g=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,f=n.length/2;d<f;++d){const h=Dqe(n[2*d],n[2*d+1],g);n[2*d]=h[0],n[2*d+1]=h[1]}this._delaunator=new Sk(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=i.length;l<u;++l){const c=o[l%3==2?l-2:l+1];(-1===i[l]||-1===s[c])&&(s[c]=l)}for(let l=0,u=r.length;l<u;++l)a[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],s[r[0]]=1,2===r.length&&(s[r[1]]=0))}voronoi(t){return new bqe(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:r,halfedges:o,triangles:s,collinear:a}=this;if(a){const g=a.indexOf(t);return g>0&&(yield a[g-1]),void(g<a.length-1&&(yield a[g+1]))}const l=n[t];if(-1===l)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3==2?u-2:u+1,s[u]!==t)return;if(u=o[u],-1===u){const g=i[(r[t]+1)%i.length];return void(g!==c&&(yield g))}}while(u!==l)}find(t,n,i=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=i;let o;for(;(o=this._step(i,t,n))>=0&&o!==i&&o!==r;)i=o;return o}_step(t,n,i){const{inedges:r,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let c=t,g=Ov(n-u[2*t],2)+Ov(i-u[2*t+1],2);const d=r[t];let f=d;do{let h=l[f];const C=Ov(n-u[2*h],2)+Ov(i-u[2*h+1],2);if(C<g&&(g=C,c=h),f=f%3==2?f-2:f+1,l[f]!==t)break;if(f=a[f],-1===f){if(f=o[(s[t]+1)%o.length],f!==h&&Ov(n-u[2*f],2)+Ov(i-u[2*f+1],2)<g)return f;break}}while(f!==d);return c}render(t){const n=null==t?t=new rI:void 0,{points:i,halfedges:r,triangles:o}=this;for(let s=0,a=r.length;s<a;++s){const l=r[s];if(l<s)continue;const u=2*o[s],c=2*o[l];t.moveTo(i[u],i[u+1]),t.lineTo(i[c],i[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const i=null==t?t=new rI:void 0,{points:r}=this;for(let o=0,s=r.length;o<s;o+=2){const a=r[o],l=r[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,_qe)}return i&&i.value()}renderHull(t){const n=null==t?t=new rI:void 0,{hull:i,points:r}=this,o=2*i[0],s=i.length;t.moveTo(r[o],r[o+1]);for(let a=1;a<s;++a){const l=2*i[a];t.lineTo(r[l],r[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new O6;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=null==n?n=new rI:void 0,{points:r,triangles:o}=this,s=2*o[t*=3],a=2*o[t+1],l=2*o[t+2];return n.moveTo(r[s],r[s+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[l],r[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new O6;return this.renderTriangle(t,n),n.value()}}function R6(e){Ne.call(this,null,e)}R6.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const kqe=[-1e5,-1e5,1e5,1e5];function Nqe(e){const t=e[0][0],n=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===n;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}gt(R6,Ne,{transform(e,t){const n=e.as||"path",i=t.source;if(!i||!i.length)return t;let r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:kqe;const o=this.value=M6.from(i,e.x,e.y).voronoi(r);for(let s=0,a=i.length;s<a;++s){const l=o.cellPolygon(s);i[s][n]=l?Nqe(l):null}return t.reflow(e.modified()).modifies(n)}});var F6=Math.PI/180;function Mqe(e,t,n,i){if(!t.sprite){var r=e.context,o=e.ratio;r.clearRect(0,0,2048/o,2048/o);var c,g,d,f,h,s=0,a=0,l=0,u=n.length;for(--i;++i<u;){if(t=n[i],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=r.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var C=Math.sin(t.rotate*F6),p=Math.cos(t.rotate*F6),I=c*p,m=c*C,y=d*p,_=d*C;c=Math.max(Math.abs(I+_),Math.abs(I-_))+31>>5<<5,d=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else c=c+31>>5<<5;if(d>l&&(l=d),s+c>=2048&&(s=0,a+=l,l=0),a+d>=2048)break;r.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&r.rotate(t.rotate*F6),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var N=r.getImageData(0,0,2048/o,2048/o).data,O=[];--i>=0;)if((t=n[i]).hasText){for(g=(c=t.width)>>5,d=t.y1-t.y0,f=0;f<d*g;f++)O[f]=0;if(null==(s=t.xoff))return;a=t.yoff;var k=0,M=-1;for(h=0;h<d;h++){for(f=0;f<c;f++){var z=N[2048*(a+h)+(s+f)<<2]?1<<31-f%32:0;O[g*h+(f>>5)]|=z,k|=z}k?M=h:(t.y0++,d--,h--,a++)}t.y1=t.y0+M,t.sprite=O.slice(0,(t.y1-t.y0)*g)}}}function Rqe(e,t,n){for(var c,i=e.sprite,r=e.width>>5,o=e.x-(r<<4),s=127&o,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*(n>>=5)+(o>>5),g=0;g<l;g++){c=0;for(var d=0;d<=r;d++)if((c<<a|(d<r?(c=i[g*r+d])>>>s:0))&t[u+d])return!0;u+=n}return!1}function Fqe(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function Pqe(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Nue(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function oI(e){return"function"==typeof e?e:function(){return e}}var jqe={archimedean:Nue,rectangular:function(e){var n=4*e[0]/e[1],i=0,r=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:i+=n;break;case 1:r+=4;break;case 2:i-=n;break;default:r-=4}return[i,r]}}};const Oue=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Vqe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function P6(e){Ne.call(this,function(){var t,n,i,r,o,s,a,e=[256,256],l=Nue,u=[],c=Math.random,g={};function f(h,C,p){for(var k,M,V,I=C.x,m=C.y,y=Math.sqrt(e[0]*e[0]+e[1]*e[1]),_=l(e),N=c()<.5?1:-1,O=-N;(k=_(O+=N))&&(M=~~k[0],V=~~k[1],!(Math.min(Math.abs(M),Math.abs(V))>=y));)if(C.x=I+M,C.y=m+V,!(C.x+C.x0<0||C.y+C.y0<0||C.x+C.x1>e[0]||C.y+C.y1>e[1])&&(!p||!Rqe(C,h,e[0]))&&(!p||Pqe(C,p))){for(var te,z=C.sprite,H=C.width>>5,ee=e[0]>>5,se=C.x-(H<<4),_e=127&se,ae=32-_e,le=C.y1-C.y0,q=(C.y+C.y0)*ee+(se>>5),Te=0;Te<le;Te++){te=0;for(var Xe=0;Xe<=H;Xe++)h[q+Xe]|=te<<ae|(Xe<H?(te=z[Te*H+Xe])>>>_e:0);q+=ee}return C.sprite=null,!0}return!1}return g.layout=function(){for(var h=function(h){h.width=h.height=1;var C=Math.sqrt(h.getContext("2d").getImageData(0,0,1,1).data.length>>2);h.width=2048/C,h.height=2048/C;var p=h.getContext("2d");return p.fillStyle=p.strokeStyle="red",p.textAlign="center",{context:p,ratio:C}}(iv()),C=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((e[0]>>5)*e[1]),p=null,I=u.length,m=-1,y=[],_=u.map(O=>({text:t(O),font:n(O),style:r(O),weight:o(O),rotate:s(O),size:~~(i(O)+1e-14),padding:a(O),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:O})).sort((O,k)=>k.size-O.size);++m<I;){var N=_[m];N.x=e[0]*(c()+.5)>>1,N.y=e[1]*(c()+.5)>>1,Mqe(h,N,_,m),N.hasText&&f(C,N,p)&&(y.push(N),p?Fqe(p,N):p=[{x:N.x+N.x0,y:N.y+N.y0},{x:N.x+N.x1,y:N.y+N.y1}],N.x-=e[0]>>1,N.y-=e[1]>>1)}return y},g.words=function(h){return arguments.length?(u=h,g):u},g.size=function(h){return arguments.length?(e=[+h[0],+h[1]],g):e},g.font=function(h){return arguments.length?(n=oI(h),g):n},g.fontStyle=function(h){return arguments.length?(r=oI(h),g):r},g.fontWeight=function(h){return arguments.length?(o=oI(h),g):o},g.rotate=function(h){return arguments.length?(s=oI(h),g):s},g.text=function(h){return arguments.length?(t=oI(h),g):t},g.spiral=function(h){return arguments.length?(l=jqe[h]||h,g):l},g.fontSize=function(h){return arguments.length?(i=oI(h),g):i},g.padding=function(h){return arguments.length?(a=oI(h),g):a},g.random=function(h){return arguments.length?(c=h,g):c},g}(),e)}P6.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Oue}]},gt(P6,Ne,{transform(e,t){e.size&&(!e.size[0]||!e.size[1])&&Be("Wordcloud size dimensions must be non-zero.");const i=e.modified();if(!(i||t.changed(t.ADD_REM)||Vqe.some(function(h){const C=e[h];return si(C)&&t.modified(C.fields)})))return;const r=t.materialize(t.SOURCE).source,o=this.value,s=e.as||Oue;let l,a=e.fontSize||14;if(si(a)?l=e.fontSizeRange:a=va(a),l){const h=a,C=Ji("sqrt")().domain(gd(r,h)).range(l);a=p=>C(h(p))}r.forEach(h=>{h[s[0]]=NaN,h[s[1]]=NaN,h[s[3]]=0});const u=o.words(r).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(fc).layout(),c=o.size(),g=c[0]>>1,d=c[1]>>1,f=u.length;for(let C,p,h=0;h<f;++h)C=u[h],p=C.datum,p[s[0]]=C.x+g,p[s[1]]=C.y+d,p[s[2]]=C.font,p[s[3]]=C.size,p[s[4]]=C.style,p[s[5]]=C.weight,p[s[6]]=C.rotate;return t.reflow(i).modifies(s)}});const Hqe=e=>new Uint8Array(e),Uqe=e=>new Uint16Array(e),gw=e=>new Uint32Array(e);function Nk(e,t,n){const i=(t<257?Hqe:t<65537?Uqe:gw)(e);return n&&i.set(n),i}function Mue(e,t,n){const i=1<<t;return{one:i,zero:~i,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(r,o){const s=this,a=s.bisect(s.range,r.value),l=r.index,u=a[0],c=a[1],g=l.length;let d;for(d=0;d<u;++d)o[l[d]]|=i;for(d=c;d<g;++d)o[l[d]]|=i;return s}}}function Rue(){let e=gw(0),t=[],n=0;return{insert:function(a,l,u){if(!l.length)return[];const c=n,g=l.length,d=gw(g);let h,C,p,f=Array(g);for(p=0;p<g;++p)f[p]=a(l[p]),d[p]=p;if(f=function(e,t){return e.sort.call(t,(n,i)=>{const r=e[n],o=e[i];return r<o?-1:r>o?1:0}),function(e,t){return Array.from(t,n=>e[n])}(e,t)}(f,d),c)h=t,C=e,t=Array(c+g),e=gw(c+g),function(e,t,n,i,r,o,s,a,l){let g,u=0,c=0;for(g=0;u<i&&c<s;++g)t[u]<r[c]?(a[g]=t[u],l[g]=n[u++]):(a[g]=r[c],l[g]=o[c++]+e);for(;u<i;++u,++g)a[g]=t[u],l[g]=n[u];for(;c<s;++c,++g)a[g]=r[c],l[g]=o[c]+e}(u,h,C,c,f,d,g,t,e);else{if(u>0)for(p=0;p<g;++p)d[p]+=u;t=f,e=d}return n=c+g,{index:d,value:f}},remove:function(a,l){const u=n;let c,g,d;for(g=0;!l[e[g]]&&g<u;++g);for(d=g;g<u;++g)l[c=e[g]]||(e[d]=c,t[d]=t[g],++d);n=u-a},bisect:function(a,l){let u;return l?u=l.length:(l=t,u=n),[p7e(l,a[0],0,u),$S(l,a[1],0,u)]},reindex:function(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]},index:()=>e,size:()=>n}}function L6(e){Ne.call(this,function(){let e=8,t=[],n=gw(0),i=Nk(0,e),r=Nk(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(o){for(let u,s=0,a=t.length,l=o.length;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,g,d;for(g=0;!s[g]&&g<a;++g)l[g]=t[g],u[g]=g;for(d=g;g<a;++g)c=t[g],s[g]?u[g]=-1:(u[g]=d,i[d]=i[g],r[d]=r[g],l[d]=c,c._index=d++),i[g]=0;return t=l,u},size:()=>t.length,curr:()=>i,prev:()=>r,reset:o=>r[o]=i[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){i[o]|=s},clear(o,s){i[o]&=~s},resize(o,s){(o>i.length||s>e)&&(e=Math.max(s,e),i=Nk(o,e,i),r=Nk(o,e))}}}(),e),this._indices=null,this._dims=null}function B6(e){Ne.call(this,null,e)}L6.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},gt(L6,Ne,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(i=>t.modified(i.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,i=e.query,r=this._indices={},o=this._dims=[],s=i.length;let l,u,a=0;for(;a<s;++a)l=n[a].fname,u=r[l]||(r[l]=Rue()),o.push(Mue(u,a,i[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),i=e.fields,r=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),g=n.rem=n.add,d=n.mod,f=r.length,h={};let C,p,I,m,y,_,N,O,k;if(u.set(l),t.rem.length&&(y=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},m=t.mod,N=0,O=m.length;N<O;++N)_[m[N]._index]=1;for(N=0;N<f;++N)k=i[N],(!s[N]||e.modified("fields",N)||t.modified(k.fields))&&(I=k.fname,(C=h[I])||(o[I]=p=Rue(),h[I]=C=p.insert(k,t.source,0)),s[N]=Mue(p,N,r[N]).onAdd(C,l));for(N=0,O=a.data().length;N<O;++N)y[N]||(u[N]!==l[N]?g.push(N):_[N]&&l[N]!==c&&d.push(N));return a.mask=(1<<f)-1,n},eval(e,t){const n=t.materialize().fork(),i=this._dims.length;let r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<i)-1),t.mod.length&&(this.modify(t,n),r|=(1<<i)-1),this.value.mask=r,n},insert(e,t,n){const i=t.add,r=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=r.size()+i.length,g=o.length;let f,h,C,d=r.size();r.resize(c,g),r.add(i);const p=r.curr(),I=r.prev(),m=r.all();for(f=0;f<g;++f)h=a[f].fname,C=l[h]||(l[h]=s[h].insert(a[f],i,d)),o[f].onAdd(C,p);for(;d<c;++d)I[d]=m,p[d]!==m&&u.push(d)},modify(e,t){const n=t.mod,i=this.value,r=i.curr(),o=i.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,r[u]!==o&&n.push(u)},remove(e,t,n){const i=this._indices,r=this.value,o=r.curr(),s=r.prev(),a=r.all(),l={},u=n.rem,c=t.rem;let g,d,f,h;for(g=0,d=c.length;g<d;++g)f=c[g]._index,l[f]=1,s[f]=h=o[f],o[f]=a,h!==a&&u.push(f);for(f in i)i[f].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const i=this._indices,r=this.value;e.runAfter(()=>{const o=r.remove(t,n);for(const s in i)i[s].reindex(o)})},update(e,t,n){const i=this._dims,r=e.query,o=t.stamp,s=i.length;let l,u,a=0;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(1===a)a=i[l].one,this.incrementOne(i[l],r[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)!e.modified("query",u)||(a|=i[u].one,this.incrementAll(i[u],r[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,i){const r=this.value,o=r.seen(),s=r.curr(),a=r.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),g=c[0],d=c[1],f=u[0],h=u[1],C=e.one;let p,I,m;if(g<f)for(p=g,I=Math.min(f,d);p<I;++p)m=l[p],o[m]!==n&&(a[m]=s[m],o[m]=n,i.push(m)),s[m]^=C;else if(g>f)for(p=f,I=Math.min(g,h);p<I;++p)m=l[p],o[m]!==n&&(a[m]=s[m],o[m]=n,i.push(m)),s[m]^=C;if(d>h)for(p=Math.max(g,h),I=d;p<I;++p)m=l[p],o[m]!==n&&(a[m]=s[m],o[m]=n,i.push(m)),s[m]^=C;else if(d<h)for(p=Math.max(f,d),I=h;p<I;++p)m=l[p],o[m]!==n&&(a[m]=s[m],o[m]=n,i.push(m)),s[m]^=C;e.range=t.slice()},incrementOne(e,t,n,i){const o=this.value.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],g=a[0],d=a[1],f=e.one;let h,C,p;if(u<g)for(h=u,C=Math.min(g,c);h<C;++h)p=s[h],o[p]^=f,n.push(p);else if(u>g)for(h=g,C=Math.min(u,d);h<C;++h)p=s[h],o[p]^=f,i.push(p);if(c>d)for(h=Math.max(u,d),C=c;h<C;++h)p=s[h],o[p]^=f,n.push(p);else if(c<d)for(h=Math.max(g,c),C=d;h<C;++h)p=s[h],o[p]^=f,i.push(p);e.range=t.slice()}}),B6.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},gt(B6,Ne,{transform(e,t){const n=~(e.ignore||0),i=e.filter,r=i.mask;if(0==(r&n))return t.StopPropagation;const o=t.fork(t.ALL),s=i.data(),a=i.curr(),l=i.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),r&r-1?(o.filter(o.ADD,c=>{const g=a[c]&n;return!g&&g^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const g=a[c]&n;return!g||g^g^l[c]&n?null:s[c]})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===r?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const sI="Literal",Fue="CallExpression";function vg(e){this.type=e}var Sd,Yt,Pe,Da,pr;vg.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case Fue:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case sI:case"RawCode":default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1},(Sd={})[1]="Boolean",Sd[2]="<end>",Sd[3]="Identifier",Sd[4]="Keyword",Sd[5]="Null",Sd[6]="Numeric",Sd[7]="Punctuator",Sd[8]="String",Sd[9]="RegularExpression";var Pue="Identifier",Ds="Unexpected token %0",j6="Invalid regular expression",V6="Invalid regular expression: missing /",Lue="Octal literals are not allowed in strict mode.",ia="ILLEGAL",hw="Disabled.",bZe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),_Ze=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Rk(e,t){if(!e)throw new Error("ASSERT: "+t)}function eh(e){return e>=48&&e<=57}function z6(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Cw(e){return"01234567".indexOf(e)>=0}function wZe(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function pw(e){return 10===e||13===e||8232===e||8233===e}function Aw(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&bZe.test(String.fromCharCode(e))}function Fk(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&_Ze.test(String.fromCharCode(e))}const EZe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Bue(){for(;Pe<Da;){const e=Yt.charCodeAt(Pe);if(!wZe(e)&&!pw(e))break;++Pe}}function H6(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)Pe<Da&&z6(Yt[Pe])?(i=Yt[Pe++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):er({},Ds,ia);return String.fromCharCode(r)}function xZe(){var e,t;for(t=0,"}"===(e=Yt[Pe])&&er({},Ds,ia);Pe<Da&&z6(e=Yt[Pe++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&er({},Ds,ia),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function jue(){var e,t;for(e=Yt.charCodeAt(Pe++),t=String.fromCharCode(e),92===e&&(117!==Yt.charCodeAt(Pe)&&er({},Ds,ia),++Pe,(!(e=H6("u"))||"\\"===e||!Aw(e.charCodeAt(0)))&&er({},Ds,ia),t=e);Pe<Da&&Fk(e=Yt.charCodeAt(Pe));)++Pe,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Yt.charCodeAt(Pe)&&er({},Ds,ia),++Pe,(!(e=H6("u"))||"\\"===e||!Fk(e.charCodeAt(0)))&&er({},Ds,ia),t+=e);return t}function U6(){var n,r,o,s,e=Pe,t=Yt.charCodeAt(Pe),i=Yt[Pe];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Pe,{type:7,value:String.fromCharCode(t),start:e,end:Pe};default:if(61===(n=Yt.charCodeAt(Pe+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Pe+=2,{type:7,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Pe};case 33:case 61:return 61===Yt.charCodeAt(Pe+=2)&&++Pe,{type:7,value:Yt.slice(e,Pe),start:e,end:Pe}}}return">>>="===(s=Yt.substr(Pe,4))?{type:7,value:s,start:e,end:Pe+=4}:">>>"===(o=s.substr(0,3))||"<<="===o||">>="===o?{type:7,value:o,start:e,end:Pe+=3}:i===(r=o.substr(0,2))[1]&&"+-<>&|".indexOf(i)>=0||"=>"===r?{type:7,value:r,start:e,end:Pe+=2}:("//"===r&&er({},Ds,ia),"<>=!+-*%&|^/".indexOf(i)>=0?{type:7,value:i,start:e,end:++Pe}:void er({},Ds,ia))}function Vue(){var e,t,n;if(Rk(eh((n=Yt[Pe]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=Pe,e="","."!==n){if(e=Yt[Pe++],n=Yt[Pe],"0"===e){if("x"===n||"X"===n)return++Pe,function(e){let t="";for(;Pe<Da&&z6(Yt[Pe]);)t+=Yt[Pe++];return 0===t.length&&er({},Ds,ia),Aw(Yt.charCodeAt(Pe))&&er({},Ds,ia),{type:6,value:parseInt("0x"+t,16),start:e,end:Pe}}(t);if(Cw(n))return function(e){let t="0"+Yt[Pe++];for(;Pe<Da&&Cw(Yt[Pe]);)t+=Yt[Pe++];return(Aw(Yt.charCodeAt(Pe))||eh(Yt.charCodeAt(Pe)))&&er({},Ds,ia),{type:6,value:parseInt(t,8),octal:!0,start:e,end:Pe}}(t);n&&eh(n.charCodeAt(0))&&er({},Ds,ia)}for(;eh(Yt.charCodeAt(Pe));)e+=Yt[Pe++];n=Yt[Pe]}if("."===n){for(e+=Yt[Pe++];eh(Yt.charCodeAt(Pe));)e+=Yt[Pe++];n=Yt[Pe]}if("e"===n||"E"===n)if(e+=Yt[Pe++],("+"===(n=Yt[Pe])||"-"===n)&&(e+=Yt[Pe++]),eh(Yt.charCodeAt(Pe)))for(;eh(Yt.charCodeAt(Pe));)e+=Yt[Pe++];else er({},Ds,ia);return Aw(Yt.charCodeAt(Pe))&&er({},Ds,ia),{type:6,value:parseFloat(e),start:t,end:Pe}}function zue(){if(Bue(),Pe>=Da)return{type:2,start:Pe,end:Pe};const e=Yt.charCodeAt(Pe);return Aw(e)?function(){var e,t;return e=Pe,{type:1===(t=92===Yt.charCodeAt(Pe)?jue():function(){var e,t;for(e=Pe++;Pe<Da;){if(92===(t=Yt.charCodeAt(Pe)))return Pe=e,jue();if(!Fk(t))break;++Pe}return Yt.slice(e,Pe)}()).length?3:EZe.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:Pe}}():40===e||41===e||59===e?U6():39===e||34===e?function(){var t,n,i,r,e="",o=!1;for(Rk("'"===(t=Yt[Pe])||'"'===t,"String literal must starts with a quote"),n=Pe,++Pe;Pe<Da;){if((i=Yt[Pe++])===t){t="";break}if("\\"===i)if((i=Yt[Pe++])&&pw(i.charCodeAt(0)))"\r"===i&&"\n"===Yt[Pe]&&++Pe;else switch(i){case"u":case"x":"{"===Yt[Pe]?(++Pe,e+=xZe()):e+=H6(i);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Cw(i)?(0!==(r="01234567".indexOf(i))&&(o=!0),Pe<Da&&Cw(Yt[Pe])&&(o=!0,r=8*r+"01234567".indexOf(Yt[Pe++]),"0123".indexOf(i)>=0&&Pe<Da&&Cw(Yt[Pe])&&(r=8*r+"01234567".indexOf(Yt[Pe++]))),e+=String.fromCharCode(r)):e+=i}else{if(pw(i.charCodeAt(0)))break;e+=i}}return""!==t&&er({},Ds,ia),{type:8,value:e,octal:o,start:n,end:Pe}}():46===e?eh(Yt.charCodeAt(Pe+1))?Vue():U6():eh(e)?Vue():U6()}function Vl(){const e=pr;return Pe=e.end,pr=zue(),Pe=e.end,e}function Hue(){const e=Pe;pr=zue(),Pe=e}function Uue(e,t,n){const i=new vg("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=n,i}function BZe(e,t){const n=new vg("CallExpression");return n.callee=e,n.arguments=t,n}function G6(e){const t=new vg(Pue);return t.name=e,t}function Iw(e){const t=new vg("Literal");return t.value=e.value,t.raw=Yt.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Gue(e,t,n){const i=new vg("MemberExpression");return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function Wue(e,t,n){const i=new vg("Property");return i.key=t,i.value=n,i.kind=e,i}function er(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(o,s)=>(Rk(s<i.length,"Message reference must be in range"),i[s]));throw(n=new Error(r)).index=Pe,n.description=r,n}function Pk(e){2===e.type&&er(e,"Unexpected end of input"),6===e.type&&er(e,"Unexpected number"),8===e.type&&er(e,"Unexpected string"),3===e.type&&er(e,"Unexpected identifier"),4===e.type&&er(e,"Unexpected reserved word"),er(e,Ds,e.value)}function Sa(e){const t=Vl();(7!==t.type||t.value!==e)&&Pk(t)}function Wr(e){return 7===pr.type&&pr.value===e}function W6(e){return 4===pr.type&&pr.value===e}function $ue(){Pe=pr.start;const e=Vl();return 8===e.type||6===e.type?(e.octal&&er(e,Lue),Iw(e)):G6(e.value)}function UZe(){var e,t,n;return Pe=pr.start,3===(e=pr).type?(n=$ue(),Sa(":"),Wue("init",n,uI())):2!==e.type&&7!==e.type?(t=$ue(),Sa(":"),Wue("init",t,uI())):void Pk(e)}const $Ze={if:1};function YZe(){var e,t,n;if(Wr("("))return function(){Sa("(");const e=$6();return Sa(")"),e}();if(Wr("["))return function(){const e=[];for(Pe=pr.start,Sa("[");!Wr("]");)Wr(",")?(Vl(),e.push(null)):(e.push(uI()),Wr("]")||Sa(","));return Vl(),function(e){const t=new vg("ArrayExpression");return t.elements=e,t}(e)}();if(Wr("{"))return function(){var t,i,e=[],r={},o=String;for(Pe=pr.start,Sa("{");!Wr("}");)i="$"+((t=UZe()).key.type===Pue?t.key.name:o(t.key.value)),Object.prototype.hasOwnProperty.call(r,i)?er({},"Duplicate data property in object literal not allowed in strict mode"):r[i]=!0,e.push(t),Wr("}")||Sa(",");return Sa("}"),function(e){const t=new vg("ObjectExpression");return t.properties=e,t}(e)}();if(Pe=pr.start,3===(e=pr.type)||$Ze[pr.value])n=G6(Vl().value);else if(8===e||6===e)pr.octal&&er(pr,Lue),n=Iw(Vl());else{if(4===e)throw new Error(hw);1===e?((t=Vl()).value="true"===t.value,n=Iw(t)):5===e?((t=Vl()).value=null,n=Iw(t)):Wr("/")||Wr("/=")?(n=Iw(function(){var e,t,n,i;return pr=null,Bue(),e=Pe,t=function(){var e,t,n,i;for(Rk("/"===(e=Yt[Pe]),"Regular expression literal must start with a slash"),t=Yt[Pe++],n=!1,i=!1;Pe<Da;)if(t+=e=Yt[Pe++],"\\"===e)pw((e=Yt[Pe++]).charCodeAt(0))&&er({},V6),t+=e;else if(pw(e.charCodeAt(0)))er({},V6);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||er({},V6),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";Pe<Da&&Fk((e=Yt[Pe]).charCodeAt(0));)++Pe,"\\"===e&&Pe<Da?er({},Ds,ia):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&er({},j6,n),{value:n,literal:t}}(),i=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,r)=>{if(parseInt(r,16)<=1114111)return"x";er({},j6)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(i){er({},j6)}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:Pe}}()),Hue()):Pk(Vl())}return n}function qZe(){const e=[];if(Sa("("),!Wr(")"))for(;Pe<Da&&(e.push(uI()),!Wr(")"));)Sa(",");return Sa(")"),e}function XZe(){Sa("[");const e=$6();return Sa("]"),e}function Yue(){const e=function(){var e;for(e=YZe();;)if(Wr("."))e=Gue(".",e,(Sa("."),function(){Pe=pr.start;const e=Vl();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||Pk(e),G6(e.value)}()));else if(Wr("("))e=BZe(e,qZe());else{if(!Wr("["))break;e=Gue("[",e,XZe())}return e}();if(7===pr.type&&(Wr("++")||Wr("--")))throw new Error(hw);return e}function Lk(){var e,t;if(7!==pr.type&&4!==pr.type)t=Yue();else{if(Wr("++")||Wr("--"))throw new Error(hw);if(Wr("+")||Wr("-")||Wr("~")||Wr("!"))e=Vl(),t=Lk(),t=function(e,t){const n=new vg("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(W6("delete")||W6("void")||W6("typeof"))throw new Error(hw);t=Yue()}}return t}function que(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function uI(){var e,t;return e=function(){var e,t,n,i,r,o,s,a,l,u;if(e=pr,l=Lk(),0===(r=que(i=pr)))return l;for(i.prec=r,Vl(),t=[e,pr],o=[l,i,s=Lk()];(r=que(pr))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=Uue(a,l,s),o.push(n);(i=Vl()).prec=r,o.push(i),t.push(pr),n=Lk(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)t.pop(),n=Uue(o[u-1].value,o[u-2],n),u-=2;return n}(),Wr("?")&&(Vl(),t=uI(),Sa(":"),e=function(e,t,n){const i=new vg("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,uI())),e}function $6(){const e=uI();if(Wr(","))throw new Error(hw);return e}function Zue(e){Pe=0,Da=(Yt=e).length,pr=null,Hue();const t=$6();if(2!==pr.type)throw new Error("Unexpect token after expression.");return t}var Kue={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function Xue(e){function n(s,a,l){return u=>function(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",0===l.lastIndexOf("new ",0)&&(c="("+c+")")),c+"."+s+(u<0?"":0===u?"()":"("+a.slice(1).map(e).join(",")+")")}(s,u,a,l)}const i="new Date",r="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Be("Missing arguments to clamp function."),s.length>3&&Be("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:n("getDate",i,0),day:n("getDay",i,0),year:n("getFullYear",i,0),month:n("getMonth",i,0),hours:n("getHours",i,0),minutes:n("getMinutes",i,0),seconds:n("getSeconds",i,0),milliseconds:n("getMilliseconds",i,0),time:n("getTime",i,0),timezoneoffset:n("getTimezoneOffset",i,0),utcdate:n("getUTCDate",i,0),utcday:n("getUTCDay",i,0),utcyear:n("getUTCFullYear",i,0),utcmonth:n("getUTCMonth",i,0),utchours:n("getUTCHours",i,0),utcminutes:n("getUTCMinutes",i,0),utcseconds:n("getUTCSeconds",i,0),utcmilliseconds:n("getUTCMilliseconds",i,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",r,0),lower:n("toLowerCase",r,0),substring:n("substring",r),split:n("split",r),trim:n("trim",r,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&Be("Missing arguments to if function."),s.length>3&&Be("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function Que(e){const t=(e=e||{}).allowed?ug(e.allowed):{},n=e.forbidden?ug(e.forbidden):{},i=e.constants||Kue,r=(e.functions||Xue)(g),o=e.globalvar,s=e.fieldvar,a=si(o)?o:h=>`${o}["${h}"]`;let l={},u={},c=0;function g(h){if($i(h))return h;const C=d[h.type];return null==C&&Be("Unsupported type: "+h.type),C(h)}const d={Literal:h=>h.raw,Identifier:h=>{const C=h.name;return c>0?C:Sn(n,C)?Be("Illegal identifier: "+C):Sn(i,C)?i[C]:Sn(t,C)?C:(l[C]=1,a(C))},MemberExpression:h=>{const C=!h.computed,p=g(h.object);C&&(c+=1);const I=g(h.property);return p===s&&(u[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(I)]=1),C&&(c-=1),p+(C?"."+I:"["+I+"]")},CallExpression:h=>{"Identifier"!==h.callee.type&&Be("Illegal callee type: "+h.callee.type);const C=h.callee.name,p=h.arguments,I=Sn(r,C)&&r[C];return I||Be("Unrecognized function: "+C),si(I)?I(p):I+"("+p.map(g).join(",")+")"},ArrayExpression:h=>"["+h.elements.map(g).join(",")+"]",BinaryExpression:h=>"("+g(h.left)+" "+h.operator+" "+g(h.right)+")",UnaryExpression:h=>"("+h.operator+g(h.argument)+")",ConditionalExpression:h=>"("+g(h.test)+"?"+g(h.consequent)+":"+g(h.alternate)+")",LogicalExpression:h=>"("+g(h.left)+h.operator+g(h.right)+")",ObjectExpression:h=>"{"+h.properties.map(g).join(",")+"}",Property:h=>{c+=1;const C=g(h.key);return c-=1,C+":"+g(h.value)}};function f(h){const C={code:g(h),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},C}return f.functions=r,f.constants=i,f}var Jue,ece,Y6,q6,Z6,Bk=new ta,jk=new ta,Td={point:na,lineStart:na,lineEnd:na,polygonStart:function(){Bk=new ta,Td.lineStart=tKe,Td.lineEnd=nKe},polygonEnd:function(){var e=+Bk;jk.add(e<0?ol+e:e),this.lineStart=this.lineEnd=this.point=na},sphere:function(){jk.add(ol)}};function tKe(){Td.point=iKe}function nKe(){tce(Jue,ece)}function iKe(e,t){Td.point=tce,Jue=e,ece=t,Y6=e*=fi,q6=vn(t=(t*=fi)/2+$T),Z6=un(t)}function tce(e,t){var n=(e*=fi)-Y6,i=n>=0?1:-1,r=i*n,o=vn(t=(t*=fi)/2+$T),s=un(t),a=Z6*s,l=q6*o+a*vn(r),u=a*i*un(r);Bk.add(Ic(u,l)),Y6=e,q6=o,Z6=s}var so,zl,vo,_u,cI,nce,ice,Mv,mw,WC,th,nh={point:K6,lineStart:oce,lineEnd:sce,polygonStart:function(){nh.point=ace,nh.lineStart=oKe,nh.lineEnd=sKe,mw=new ta,Td.polygonStart()},polygonEnd:function(){Td.polygonEnd(),nh.point=K6,nh.lineStart=oce,nh.lineEnd=sce,Bk<0?(so=-(vo=180),zl=-(_u=90)):mw>In?_u=90:mw<-In&&(zl=-90),th[0]=so,th[1]=vo},sphere:function(){so=-(vo=180),zl=-(_u=90)}};function K6(e,t){WC.push(th=[so=e,vo=e]),t<zl&&(zl=t),t>_u&&(_u=t)}function rce(e,t){var n=tI([e*fi,t*fi]);if(Mv){var i=Ev(Mv,n),o=Ev([i[1],-i[0],0],i);sk(o),o=ik(o);var u,s=e-cI,a=s>0?1:-1,l=o[0]*So*a,c=Vi(s)>180;c^(a*cI<l&&l<a*e)?(u=o[1]*So)>_u&&(_u=u):c^(a*cI<(l=(l+360)%360-180)&&l<a*e)?(u=-o[1]*So)<zl&&(zl=u):(t<zl&&(zl=t),t>_u&&(_u=t)),c?e<cI?wu(so,e)>wu(so,vo)&&(vo=e):wu(e,vo)>wu(so,vo)&&(so=e):vo>=so?(e<so&&(so=e),e>vo&&(vo=e)):e>cI?wu(so,e)>wu(so,vo)&&(vo=e):wu(e,vo)>wu(so,vo)&&(so=e)}else WC.push(th=[so=e,vo=e]);t<zl&&(zl=t),t>_u&&(_u=t),Mv=n,cI=e}function oce(){nh.point=rce}function sce(){th[0]=so,th[1]=vo,nh.point=K6,Mv=null}function ace(e,t){if(Mv){var n=e-cI;mw.add(Vi(n)>180?n+(n>0?360:-360):n)}else nce=e,ice=t;Td.point(e,t),rce(e,t)}function oKe(){Td.lineStart()}function sKe(){ace(nce,ice),Td.lineEnd(),Vi(mw)>In&&(so=-(vo=180)),th[0]=so,th[1]=vo,Mv=null}function wu(e,t){return(t-=e)<0?t+360:t}function aKe(e,t){return e[0]-t[0]}function lce(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var vw,Vk,zk,Hk,Uk,Gk,Wk,$k,X6,Q6,J6,uce,cce,gl,dl,fl,yg={sphere:na,point:e9,lineStart:gce,lineEnd:dce,polygonStart:function(){yg.lineStart=gKe,yg.lineEnd=dKe},polygonEnd:function(){yg.lineStart=gce,yg.lineEnd=dce}};function e9(e,t){e*=fi;var n=vn(t*=fi);yw(n*vn(e),n*un(e),un(t))}function yw(e,t,n){++vw,zk+=(e-zk)/vw,Hk+=(t-Hk)/vw,Uk+=(n-Uk)/vw}function gce(){yg.point=uKe}function uKe(e,t){e*=fi;var n=vn(t*=fi);gl=n*vn(e),dl=n*un(e),fl=un(t),yg.point=cKe,yw(gl,dl,fl)}function cKe(e,t){e*=fi;var n=vn(t*=fi),i=n*vn(e),r=n*un(e),o=un(t),s=Ic(sl((s=dl*o-fl*r)*s+(s=fl*i-gl*o)*s+(s=gl*r-dl*i)*s),gl*i+dl*r+fl*o);Vk+=s,Gk+=s*(gl+(gl=i)),Wk+=s*(dl+(dl=r)),$k+=s*(fl+(fl=o)),yw(gl,dl,fl)}function dce(){yg.point=e9}function gKe(){yg.point=fKe}function dKe(){fce(uce,cce),yg.point=e9}function fKe(e,t){uce=e,cce=t,e*=fi,t*=fi,yg.point=fce;var n=vn(t);gl=n*vn(e),dl=n*un(e),fl=un(t),yw(gl,dl,fl)}function fce(e,t){e*=fi;var n=vn(t*=fi),i=n*vn(e),r=n*un(e),o=un(t),s=dl*o-fl*r,a=fl*i-gl*o,l=gl*r-dl*i,u=gj(s,a,l),c=Bl(u),g=u&&-c/u;X6.add(g*s),Q6.add(g*a),J6.add(g*l),Vk+=c,Gk+=c*(gl+(gl=i)),Wk+=c*(dl+(dl=r)),$k+=c*(fl+(fl=o)),yw(gl,dl,fl)}const t9="intersect",Yk="index:unit";function pce(e,t){for(var s,a,n=t.fields,i=t.values,r=n.length,o=0;o<r;++o)if((a=n[o]).getter=Ol.getter||Ol(a.field),aC(s=a.getter(e))&&(s=ma(s)),aC(i[o])&&(i[o]=ma(i[o])),aC(i[o][0])&&(i[o]=i[o].map(ma)),"E"===a.type){if(rn(i[o])?i[o].indexOf(s)<0:s!==i[o])return!1}else if("R"===a.type){if(!j0(s,i[o]))return!1}else if("R-RE"===a.type){if(!j0(s,i[o],!0,!1))return!1}else if("R-E"===a.type){if(!j0(s,i[o],!1,!1))return!1}else if("R-LE"===a.type&&!j0(s,i[o],!1,!0))return!1;return!0}const n9=Ol("_vgsid_"),Ace=function(e){let t=e,n=e;function i(s,a,l,u){for(null==l&&(l=0),null==u&&(u=s.length);l<u;){const c=l+u>>>1;n(s[c],a)<0?l=c+1:u=c}return l}return 1===e.length&&(t=(s,a)=>e(s)-a,n=function(e){return(t,n)=>function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}(e(t),n)}(e)),{left:i,center:function(s,a,l,u){null==l&&(l=0),null==u&&(u=s.length);const c=i(s,a,l,u-1);return c>l&&t(s[c-1],a)>-t(s[c],a)?c-1:c},right:function(s,a,l,u){for(null==l&&(l=0),null==u&&(u=s.length);l<u;){const c=l+u>>>1;n(s[c],a)>0?u=c:l=c+1}return l}}}(n9),SKe=Ace.left,TKe=Ace.right;var Ice={E_union:function(e,t){if(!e.length)return t;for(var n=0,i=t.length;n<i;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=ma(t[0]),i=ma(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<i&&(e[1]=i),e):[n,i]},R_intersect:function(e,t){var n=ma(t[0]),i=ma(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?i<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>i&&(e[1]=i),e):[n,i]}};function i9(e,t,n,i){t[0].type!==sI&&Be("First argument to selection functions must be a string literal.");const r=t[0].value,s="unit",a="@"+s,l=":"+r;(t.length>=2&&Fi(t).value)===t9&&!Sn(i,a)&&(i[a]=n.getData(r).indataRef(n,s)),Sn(i,l)||(i[l]=n.getData(r).tuplesRef())}function mce(e){const t=this.context.data[e];return t?t.values.value:[]}const bw=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},BKe=bw("format"),vce=bw("timeFormat"),jKe=bw("utcFormat"),VKe=bw("timeParse"),zKe=bw("utcParse"),qk=new Date(2e3,0,1);function Zk(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(qk.setYear(2e3),qk.setMonth(e),qk.setDate(t),vce.call(this,qk,n)):""}function o9(e,t,n,i){t[0].type!==sI&&Be("First argument to data functions must be a string literal.");const r=t[0].value,o=":"+r;if(!Sn(o,i))try{i[o]=n.getData(r).tuplesRef()}catch(s){}}function Hl(e,t,n,i){if(t[0].type===sI)bce(n,i,t[0].value);else for(e in n.scales)bce(n,i,e)}function bce(e,t,n){const i="%"+n;if(!Sn(t,i))try{t[i]=e.scaleRef(n)}catch(r){}}function ih(e,t){let n;return si(e)?e:$i(e)?(n=t.scales[e])&&n.value:void 0}function s9(e,t){return function(n,i,r){if(n){const o=ih(n,(r||this).context);return o&&o.path[e](i)}return t(i)}}const KKe=s9("area",function(e){return jk=new ta,Kf(e,Td),2*jk}),XKe=s9("bounds",function(e){var t,n,i,r,o,s,a;if(_u=vo=-(so=zl=1/0),WC=[],Kf(e,nh),n=WC.length){for(WC.sort(aKe),t=1,o=[i=WC[0]];t<n;++t)lce(i,(r=WC[t])[0])||lce(i,r[1])?(wu(i[0],r[1])>wu(i[0],i[1])&&(i[1]=r[1]),wu(r[0],i[1])>wu(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)(a=wu(i[1],(r=o[t])[0]))>s&&(s=a,so=r[0],vo=i[1])}return WC=th=null,so===1/0||zl===1/0?[[NaN,NaN],[NaN,NaN]]:[[so,zl],[vo,_u]]}),QKe=s9("centroid",function(e){vw=Vk=zk=Hk=Uk=Gk=Wk=$k=0,X6=new ta,Q6=new ta,J6=new ta,Kf(e,yg);var t=+X6,n=+Q6,i=+J6,r=gj(t,n,i);return r<WT&&(t=Gk,n=Wk,i=$k,Vk<In&&(t=zk,n=Hk,i=Uk),(r=gj(t,n,i))<WT)?[NaN,NaN]:[Ic(n,t)*So,Bl(i/r)*So]});function a9(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(i){e.warn(i)}return n[n.length-1]}function l9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u9(e){const t=wC(e);return.2126*l9(t.r)+.7152*l9(t.g)+.0722*l9(t.b)}function _ce(e,t){return e===t||e!=e&&t!=t||(rn(e)?!(!rn(t)||e.length!==t.length)&&function(e,t){for(let n=0,i=e.length;n<i;++n)if(!_ce(e[n],t[n]))return!1;return!0}(e,t):!(!Un(e)||!Un(t))&&wce(e,t))}function wce(e,t){for(const n in e)if(!_ce(e[n],t[n]))return!1;return!0}function Ece(e){return t=>wce(e,t)}const xce={};function c9(e){return rn(e)||ArrayBuffer.isView(e)?e:null}function g9(e){return c9(e)||($i(e)?e:null)}const Dce=e=>e.data;function Sce(e,t){const n=mce.call(t,e);return n.root&&n.root.lookup||{}}const Tce=()=>"undefined"!=typeof window&&window||null,_w={random:()=>fc(),cumulativeNormal:MS,cumulativeLogNormal:yB,cumulativeUniform:EB,densityNormal:pB,densityLogNormal:vB,densityUniform:wB,quantileNormal:RS,quantileLogNormal:bB,quantileUniform:xB,sampleNormal:OS,sampleLogNormal:mB,sampleUniform:_B,isArray:rn,isBoolean:sL,isDate:aC,isDefined:e=>void 0!==e,isNumber:lC,isObject:Un,isRegExp:Pee,isString:$i,isTuple:ES,isValid:e=>null!=e&&e==e,toBoolean:lL,toDate:uL,toNumber:ma,toString:cL,indexof:function(e,...t){return g9(e).indexOf(...t)},join:function(e,...t){return c9(e).join(...t)},lastindexof:function(e,...t){return g9(e).lastIndexOf(...t)},replace:function(e,t,n){return si(n)&&Be("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return c9(e).slice().reverse()},slice:function(e,...t){return g9(e).slice(...t)},flush:Ree,lerp:Lee,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),ii(...e)},pad:Vee,peek:Fi,pluck:function(e,t){const n=xce[t]||(xce[t]=Ol(t));return rn(e)?e.map(n):n(e)},span:V1,inrange:j0,truncate:zee,rgb:wC,lab:nT,hcl:iT,hsl:qS,luminance:u9,contrast:function(e,t){const n=u9(e),i=u9(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},sequence:yu,format:BKe,utcFormat:jKe,utcParse:zKe,utcOffset:Dte,utcSequence:kte,timeFormat:vce,timeParse:VKe,timeOffset:xte,timeSequence:Tte,timeUnitSpecifier:Cte,monthFormat:function(e){return Zk.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return Zk.call(this,e,1,"%b")},dayFormat:function(e){return Zk.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return Zk.call(this,0,2+e,"%a")},quarter:kee,utcquarter:Nee,week:Ate,utcweek:vte,dayofyear:pte,utcdayofyear:mte,warn:function(){return a9(this.context.dataflow,"warn",arguments)},info:function(){return a9(this.context.dataflow,"info",arguments)},debug:function(){return a9(this.context.dataflow,"debug",arguments)},extent:gd,inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];const[i,r]=e,o=(new cs).set(i[0],i[1],r[0],r[1]);return Hse(n||this.context.dataflow.scenegraph().root,o,function(e){let t=null;if(e){const n=_n(e.marktype),i=_n(e.markname);t=r=>(!n.length||n.some(o=>r.marktype===o))&&(!i.length||i.some(o=>r.name===o))}return t}(t))},clampRange:Oee,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+i*i)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=Tce();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Tce();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return U8(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow;return n.pulse(this.context.data[e].input,n.changeset().remove(cc).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?__(n,t=t||dv(e)):e}},panLinear:xee,panLog:Dee,panPow:See,panSymlog:Tee,zoomLinear:tL,zoomLog:nL,zoomPow:aS,zoomSymlog:iL,encode:function(e,t,n){if(e){const i=this.context.dataflow;i.pulse(e.mark.source,i.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,i,r,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let g,d,c=a.changes;if(!1===s._trigger||!(l.value.length||t||i))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(g=!0===n?cc:rn(n)||ES(n)?n:Ece(n),c.remove(g)),t&&c.insert(t),i&&(g=Ece(i),l.value.some(g)?c.remove(g):c.insert(i)),r)for(d in o)c.modify(r,d,o[d]);return 1}},MXe=["view","item","group","xy","x","y"],d9={},Nce={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${hn("$"+e)}]`,functions:function(e){const t=Xue(e);MXe.forEach(n=>t[n]="event.vega."+n);for(const n in _w)t[n]="this."+n;return ii(t,function(e,t,n){t.__bandwidth=r=>r&&r.bandwidth?r.bandwidth():0,n._bandwidth=Hl,n._range=Hl,n._scale=Hl;const i=r=>"_["+(r.type===sI?hn("%"+r.value):hn("%")+"+"+e(r))+"]";return{_bandwidth:r=>`this.__bandwidth(${i(r[0])})`,_range:r=>`${i(r[0])}.range()`,_scale:r=>`${i(r[0])}(${e(r[1])})`}}(e,_w,d9)),t},constants:Kue,visitors:d9},f9=Que(Nce);function Go(e,t,n){return 1===arguments.length?_w[e]:(_w[e]=t,n&&(d9[e]=n),f9&&(f9.functions[e]="this."+e),this)}function kd(e,t){const n={};let i;try{i=Zue(e=$i(e)?e:hn(e)+"")}catch(o){Be("Expression parse error: "+e)}i.visit(o=>{if(o.type!==Fue)return;const s=o.callee.name,a=Nce.visitors[s];a&&a(s,o.arguments,t,n)});const r=f9(i);return r.globals.forEach(o=>{const s="$"+o;!Sn(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:ii({code:r.code},t.options.ast?{ast:i}:null),$fields:r.fields,$params:n}}Go("bandwidth",function(e,t){const n=ih(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0},Hl),Go("copy",function(e,t){const n=ih(e,(t||this).context);return n?n.copy():void 0},Hl),Go("domain",function(e,t){const n=ih(e,(t||this).context);return n?n.domain():[]},Hl),Go("range",function(e,t){const n=ih(e,(t||this).context);return n&&n.range?n.range():[]},Hl),Go("invert",function(e,t,n){const i=ih(e,(n||this).context);return i?rn(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0},Hl),Go("scale",function(e,t,n){const i=ih(e,(n||this).context);return i?i(t):void 0},Hl),Go("gradient",function(e,t,n,i,r){e=ih(e,(r||this).context);const o=Soe(t,n);let s=e.domain(),a=s[0],l=Fi(s),u=tl;return l-a?u=foe(e,a,l):e=(e.interpolator?Ji("sequential")().interpolator(e.interpolator()):Ji("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+i||15),a!==s[0]&&s.unshift(a),l!==Fi(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o},Hl),Go("geoArea",KKe,Hl),Go("geoBounds",XKe,Hl),Go("geoCentroid",QKe,Hl),Go("geoShape",function(e,t,n){const i=ih(e,(n||this).context);return function(r){return i?i.path.context(r)(t):""}},Hl),Go("indata",function(e,t,n){const i=this.context.data[e]["index:"+t],r=i?i.value.get(n):void 0;return r&&r.count},function(e,t,n,i){t[0].type!==sI&&Be("First argument to indata must be a string literal."),t[1].type!==sI&&Be("Second argument to indata must be a string literal.");const r=t[0].value,o=t[1].value,s="@"+o;Sn(s,i)||(i[s]=n.getData(r).indataRef(n,o))}),Go("data",mce,o9),Go("treePath",function(e,t,n){const i=Sce(e,this),r=i[t],o=i[n];return r&&o?r.path(o).map(Dce):void 0},o9),Go("treeAncestors",function(e,t){const n=Sce(e,this)[t];return n?n.ancestors().map(Dce):void 0},o9),Go("vlSelectionTest",function(e,t,n){for(var u,c,g,d,f,i=this.context.data[e],r=i?i.values.value:[],o=i?i[Yk]&&i[Yk].value:void 0,s=n===t9,a=r.length,l=0;l<a;++l)if(u=r[l],o&&s){if(-1===(g=(c=c||{})[d=u.unit]||0))continue;if(f=pce(t,u),c[d]=f?-1:++g,f&&1===o.size)return!0;if(!f&&g===o.get(d).count)return!1}else if(s^(f=pce(t,u)))return f;return a&&s},i9),Go("vlSelectionIdTest",function(e,t,n){const i=this.context.data[e],r=i?i.values.value:[],o=i?i[Yk]&&i[Yk].value:void 0,s=n===t9,a=n9(t),l=SKe(r,a);if(l===r.length||n9(r[l])!==a)return!1;if(o&&s){if(1===o.size)return!0;if(TKe(r,a)-l<o.size)return!1}return!0},i9),Go("vlSelectionResolve",function(e,t,n,i){for(var u,c,g,d,f,h,C,p,_,N,r=this.context.data[e],o=r?r.values.value:[],s={},a={},l={},m=o.length,y=0;y<m;++y){for(d=(u=o[y]).unit,g=u.values,_=0,N=(c=u.fields).length;_<N;++_)C=(h=s[(f=c[_]).field]||(s[f.field]={}))[d]||(h[d]=[]),l[f.field]=p=f.type.charAt(0),h[d]=(0,Ice[p+"_union"])(C,_n(g[_]));n&&(C=a[d]||(a[d]=[])).push(_n(g).reduce((O,k,M)=>(O[c[M].field]=k,O),{}))}return t=t||"union",Object.keys(s).forEach(O=>{s[O]=Object.keys(s[O]).map(k=>s[O][k]).reduce((k,M)=>void 0===k?M:Ice[l[O]+"_"+t](k,M))}),o=Object.keys(a),n&&o.length&&(s[i?"vlPoint":"vlMulti"]="union"===t?{or:o.reduce((k,M)=>(k.push(...a[M]),k),[])}:{and:o.map(k=>({or:a[k]}))}),s},i9),Go("vlSelectionTuples",function(e,t){return e.map(n=>ii({values:t.fields.map(i=>(i.getter||(i.getter=Ol(i.field)))(n.datum))},t))});const LXe=ug(["rule"]),Oce=ug(["group","image","rect"]);function h9(e){return(e+"").toLowerCase()}function ww(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");const i=Function(...t.concat(n));return e&&e.functions?i.bind(e.functions):i}var HXe={operator:(e,t)=>ww(e,["_"],t.code),parameter:(e,t)=>ww(e,["datum","_"],t.code),event:(e,t)=>ww(e,["event"],t.code),handler:(e,t)=>ww(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:i}=t;let r="var o=item,datum=o.datum,m=0,$;";for(const o in i){const s="o["+hn(o)+"]";r+="$=".concat(i[o].code,";if(").concat(s,"!==$)").concat(s,"=$,m=1;")}return r+=function(e,t){let n="";return LXe[t]||(e.x2&&(e.x?(Oce[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Oce[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(i,n),r+="return m;",ww(e,["item","_"],r)},codegen:{get(e){const t="[".concat(e.map(hn).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const r=Function("a","b","var u, v; return "+e.map((o,s)=>{const a=t[s];let l,u;return o.path?(l="a".concat(o.path),u="b".concat(o.path)):((n=n||{})["f"+s]=o,l="this.f".concat(s,"(a)"),u="this.f".concat(s,"(b)")),function(e,t,n,i){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(i,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(i," : ")}(l,u,-a,a)}).join("")+"0;");return n?r.bind(n):r}}};function Mce(e,t,n){if(!e||!Un(e))return e;for(let o,i=0,r=Rce.length;i<r;++i)if(o=Rce[i],Sn(e,o.key))return o.parse(e,t,n);return e}var Rce=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Be("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=aL(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const i="e:"+e.$expr.code+"_"+e.$name;return t.fn[i]||(t.fn[i]=Nl(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Ol(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,i={};for(const r in n){const o=n[r];i[r]=Nl(t.encodeExpression(o.$expr),o.$fields),i[r].output=o.$output}return i}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,i=_n(e.$compare).map(r=>r&&r.$tupleid?cn:r);return t.fn[n]||(t.fn[n]=rL(i,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(i,r,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}},{key:"$tupleid",parse:function(){return cn}}];const iQe={skip:!0};function Fce(e,t,n,i){return new Pce(e,t,n,i)}function Pce(e,t,n,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||HXe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Lce(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function Bce(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}Pce.prototype=Lce.prototype={fork(){const e=new Lce(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,i=n.dataflow,r=e.value;if(n.set(e.id,t),function(e){return"collect"===h9(e)}(e.type)&&r&&(r.$ingest?i.ingest(t,r.$ingest,r.$format):r.$request?i.preload(t,r.$request,r.$format):i.pulse(t,i.changeset().insert(r))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[h9(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,i,r){this.dataflow.on(t,n,i,r,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(i=>t.parseOperator(i)),n.forEach(i=>t.parseOperatorParameters(i)),(e.streams||[]).forEach(i=>t.parseStream(i)),(e.updates||[]).forEach(i=>t.parseUpdate(i)),t.resolve()},parseOperator:function(e){const t=this;!function(e){return"operator"===h9(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||Be("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const i in e){const r=e[i];t[i]=rn(r)?r.map(o=>Mce(o,n,t)):Mce(r,n,t)}return t},parseStream:function(e){var r,t=this,n=null!=e.filter?t.eventExpression(e.filter):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,n):e.merge&&(i=(r=e.merge.map(o=>t.get(o)))[0].merge.apply(r[0],r.slice(1))),e.between&&(r=e.between.map(o=>t.get(o)),i=i.between(r[0],r[1])),e.filter&&(i=i.filter(n)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Be("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)},parseUpdate:function(e){var r,t=this,n=Un(n=e.source)?n.$ref:n,i=t.get(n),o=e.update,s=void 0;i||Be("Source not defined: "+e.source),r=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,i,r,o,s)},getState:function(e){var t=this,n={};if(e.signals){var i=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(i[o]=s.value)})}if(e.data){var r=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(r[o]=s.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n},setState:function(e){var t=this,n=t.dataflow,i=e.data,r=e.signals;Object.keys(r||{}).forEach(o=>{n.update(t.signals[o],r[o],iQe)}),Object.keys(i||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(cc).insert(i[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}};const C9="default";function p9(e,t){const n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function Kk(e,t){var n=e._runtime.data;return Sn(n,t)||Be("Unrecognized data set: "+t),n[t]}function Xk(e,t){Ine(t)||Be("Second argument to changes must be a changeset.");const n=Kk(this,e);return n.modified=!0,this.pulse(n.input,t)}function jce(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Vce(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function Qk(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}const IQe={trap:!1};function Hce(e,t,n,i){e._eventListeners.push({type:n,sources:_n(t),handler:i})}function Jk(e,t,n){const i=e._eventConfig&&e._eventConfig[t];return!(!1===i||Un(i)&&!i[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function Uce(e){return e.item}function Gce(e){return e.item.mark.source}function Wce(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Eu(e,t,n){const i=document.createElement(e);for(const r in t)i.setAttribute(r,t[r]);return null!=n&&(i.textContent=n),i}function DQe(e,t,n){if(!t)return;const i=n.param;let r=n.state;return r||(r=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(i.signal)&&e.runAsync(null,()=>{r.source=!0,e.signal(i.signal,s)})}},i.debounce&&(r.update=oL(i.debounce,r.update))),(null==i.input&&i.element?SQe:kQe)(r,t,i,e),r.active||(e.on(e._signals[i.signal],null,()=>{r.source?r.source=!1:r.set(e.signal(i.signal))}),r.active=!0),r}function SQe(e,t,n,i){const r=n.event||"input",o=()=>e.update(t.value);i.signal(n.signal,t.value),t.addEventListener(r,o),Hce(i,t,r,o),e.set=s=>{t.value=s,t.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(r))}}function kQe(e,t,n,i){const r=i.signal(n.signal),o=Eu("div",{class:"vega-bind"}),s="radio"===n.input?o:o.appendChild(Eu("label"));s.appendChild(Eu("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(o);let a=NQe;switch(n.input){case"checkbox":a=OQe;break;case"select":a=MQe;break;case"radio":a=RQe;break;case"range":a=FQe}a(e,s,n,r)}function NQe(e,t,n,i){const r=Eu("input");for(const o in n)"signal"!==o&&"element"!==o&&r.setAttribute("input"===o?"type":o,n[o]);r.setAttribute("name",n.signal),r.value=i,t.appendChild(r),r.addEventListener("input",()=>e.update(r.value)),e.elements=[r],e.set=o=>r.value=o}function OQe(e,t,n,i){const r={type:"checkbox",name:n.signal};i&&(r.checked=!0);const o=Eu("input",r);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function MQe(e,t,n,i){const r=Eu("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};eN(s,i)&&(l.selected=!0),r.appendChild(Eu("option",l,(o[a]||s)+""))}),t.appendChild(r),r.addEventListener("change",()=>{e.update(n.options[r.selectedIndex])}),e.elements=[r],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(eN(n.options[a],s))return void(r.selectedIndex=a)}}function RQe(e,t,n,i){const r=Eu("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(r),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};eN(s,i)&&(l.checked=!0);const u=Eu("input",l);u.addEventListener("change",()=>e.update(s));const c=Eu("label",{},(o[a]||s)+"");return c.prepend(u),r.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)eN(a[u].value,s)&&(a[u].checked=!0)}}function FQe(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const r=null!=n.max?n.max:Math.max(100,+i)||100,o=n.min||Math.min(0,r,+i)||0,s=n.step||cC(o,r,100),a=Eu("input",{type:"range",name:n.signal,min:o,max:r,step:s});a.value=i;const l=Eu("span",{},+i);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function eN(e,t){return e===t||e+""==t+""}function $ce(e,t,n,i,r,o){return(t=t||new i(e.loader())).initialize(n,jce(e),Vce(e),Qk(e),r,o).background(e.background())}function A9(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function I9(e,t,n){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(i){t=null,e.error(i)}return t}const Ew=e=>+e||0;function Yce(e){return Un(e)?{top:Ew(e.top),bottom:Ew(e.bottom),left:Ew(e.left),right:Ew(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(Ew(e))}function m9(e,t,n,i){return v9.apply(this,arguments)}function v9(){return(v9=nl(function*(e,t,n,i){const r=BT(t),o=r&&r.headless;return o||Be("Unrecognized renderer type: "+t),yield e.runAsync(),$ce(e,null,null,o,n,i).renderAsync(e._scenegraph.root)})).apply(this,arguments)}function y9(){return(y9=nl(function*(e,t){e!==PC.Canvas&&e!==PC.SVG&&e!==PC.PNG&&Be("Unrecognized image type: "+e);const n=yield m9(this,e,t);return e===PC.SVG?VQe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")})).apply(this,arguments)}function VQe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function b9(){return(b9=nl(function*(e,t){return(yield m9(this,PC.Canvas,e,t)).canvas()})).apply(this,arguments)}function _9(){return(_9=nl(function*(e){return(yield m9(this,PC.SVG,e)).svg()})).apply(this,arguments)}var w9="padding",Kce={skip:!0};function Xce(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===w9?i.left+i.right:0)}function Qce(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===w9?i.top+i.bottom:0)}function qQe(e,t){return t.modified&&rn(t.input.value)&&e.indexOf("_:vega:_")}function ZQe(e,t){return!("parent"===e||t instanceof J0.proxy)}function QQe(e,t,n,i){const r=e.element();r&&r.setAttribute("title",function(e){return null==e?"":rn(e)?Jce(e):Un(e)&&!aC(e)?function(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(rn(n)?Jce(n):ege(n))}).join("\n")}(e):e+""}(i))}function Jce(e){return"["+e.map(ege).join(", ")+"]"}function ege(e){return rn(e)?"[\u2026]":Un(e)&&!aC(e)?"{\u2026}":e}function tge(e,t){const n=this;if(t=t||{},Q0.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const o=ii({},e.locale,t.locale);n.locale(sne(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||PC.Canvas,n._scenegraph=new M4;const i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||QQe,n._redraw=!0,n._handler=(new L_).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=ii({defaults:{}},e),n=(i,r)=>{r.forEach(o=>{rn(i[o])&&(i[o]=ug(i[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const r=function(e,t,n){return Fce(e,J0,_w,n).parse(t)}(n,e,t.expr);n._runtime=r,n._signals=r.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:ii({},o)})),r.root&&r.root.set(i),i.source=r.data.root.input,n.pulse(r.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Xce(n,n._width),n._viewHeight=Qce(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,i=t.height,r=t[w9];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=Xce(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=Qce(e,a.size),o()},{size:i});const s=e.add(null,o,{pad:r});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=i.rank+1,s.rank=r.rank+1}(n),function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:C9,item:null}));e.on(e.events("view","mousemove"),t,(n,i)=>{const r=t.value,o=r?$i(r)?r:r.user:C9,s=i.item&&i.item.cursor||null;return r&&o===r.user&&s==r.item?r:{user:o,item:s}}),e.add(null,function(n){let i=n.cursor,r=this.value;return $i(i)||(r=i.item,i=i.user),p9(e,i&&i!==C9?i:r||i),r},{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function tN(e,t){return Sn(e._signals,t)?e._signals[t]:Be("Unrecognized signal name: "+hn(t))}function nge(e,t){const n=(e._targets||[]).filter(i=>i._update&&i._update.handler===t);return n.length?n[0]:null}function ige(e,t,n,i){let r=nge(n,i);return r||(r=A9(e,()=>i(t,n.value)),r.handler=i,e.on(n,null,r)),e}function rge(e,t,n){const i=nge(t,n);return i&&t._targets.remove(i),e}gt(tge,Q0,{evaluate(e,t,n){var i=this;return nl(function*(){if(yield Q0.prototype.evaluate.call(i,e,t),i._redraw||i._resize)try{i._renderer&&(i._resize&&(i._resize=0,function(e){var t=Qk(e),n=jce(e),i=Vce(e);e._renderer.background(e.background()),e._renderer.resize(n,i,t),e._handler.origin(t),e._resizeListeners.forEach(r=>{try{r(n,i)}catch(o){e.error(o)}})}(i)),yield i._renderer.renderAsync(i._scenegraph.root)),i._redraw=!1}catch(r){i.error(r)}return n&&wS(i,n),i})()},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Bce(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const i=tN(this,e);return 1===arguments.length?i.value:this.update(i,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Yce(e)):Yce(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(BT(e)||Be("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Q0.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(tN(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,i,r,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal("width",n,Kce),s._resizeWidth.skip(!0)),s.height()!==i&&(a=1,s.signal("height",i,Kce),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==r[0]||s._origin[1]!==r[1])&&(s._resize=1,s._origin=r),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)},addEventListener(e,t,n){let i=t;return n&&!1===n.trap||(i=A9(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var r,o,n=this._handler.handlers(e),i=n.length;--i>=0;)if(r=n[i].handler,e===(o=n[i].type)&&(t===r||t===r.raw)){this._handler.off(o,r);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return ige(this,e,tN(this,e),t)},removeSignalListener(e,t){return rge(this,tN(this,e),t)},addDataListener(e,t){return ige(this,e,Kk(this,e).values,t)},removeDataListener(e,t){return rge(this,Kk(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=p9(this,null);this._globalCursor=!!e,t&&p9(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var i=new yk,r=t;return null==t?(i.restart(e,t,n),i):(i._restart=i.restart,i.restart=function(o,s,a){s=+s,a=null==a?Qj():+a,i._restart(function l(u){u+=r,i._restart(l,r+=s,a),o(u)},s,a)},i.restart(e,t,n),i)}(function(i){e({timestamp:Date.now(),elapsed:i})},t))},events:function(e,t,n){var s,i=this,r=new TS(n),o=function(u,c){i.runAsync(null,()=>{"view"===e&&function(e,t){var n=e._eventConfig.defaults,i=n.prevent,r=n.allow;return!1!==i&&!0!==r&&(!0===i||!1===r||(i?i[t]:r?!r[t]:e.preventDefault()))}(i,t)&&u.preventDefault(),r.receive(function(e,t,n){var o,a,i=e._renderer,r=i&&i.canvas();return r&&(a=Qk(e),(o=TT(t.changedTouches?t.changedTouches[0]:t,r))[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){const i=t?"group"===t.mark.marktype?t:t.mark.group:null;function r(s){var l,a=i;if(s)for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;$i(s)&&(s=r(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:va(e),item:va(t||{}),group:r,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}(e,n,o),t}(i,u,c))})};if("timer"===e)Jk(i,"timer",t)&&i.timer(o,t);else if("view"===e)Jk(i,"view",t)&&i.addEventListener(t,o,IQe);else if("window"===e?Jk(i,"window",t)&&"undefined"!=typeof window&&(s=[window]):"undefined"!=typeof document&&Jk(i,"selector",t)&&(s=document.querySelectorAll(e)),s){for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);Hce(i,s,t,o)}else i.warn("Can not resolve event source: "+e);return r},finalize:function(){var i,r,o,e=this._tooltip,t=this._timers,n=this._eventListeners;for(i=t.length;--i>=0;)t[i].stop();for(i=n.length;--i>=0;)for(r=(o=n[i]).sources.length;--r>=0;)o.sources[r].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",Uce),Gce,Wce(e)),this.on(this.events("view","mouseout",Uce),Gce,Wce(t)),this},data:function(e,t){return arguments.length<2?Kk(this,e).values.value:Xk.call(this,e,jA().remove(cc).insert(t))},change:Xk,insert:function(e,t){return Xk.call(this,e,jA().insert(t))},remove:function(e,t){return Xk.call(this,e,jA().remove(t))},scale:function(e){var t=this._runtime.scales;return Sn(t,e)||Be("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const n=this,i=n._renderType,r=n._eventConfig.bind,o=BT(i);e=n._el=e?I9(n,e,!0):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Bce(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+i);const s=o.handler||L_,a=e?o.renderer:o.headless;return n._renderer=a?$ce(n,n._renderer,e,a):null,n._handler=function(e,t,n,i){const r=new i(e.loader(),A9(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Qk(e),e);return t&&t.handlers().forEach(o=>{r.on(o.type,o.handler)}),r}(n,n._handler,e,s),n._redraw=!0,e&&"none"!==r&&(t=t?n._elBind=I9(n,t,!0):e.appendChild(Eu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&"container"!==r&&(l.element=I9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{DQe(n,l.element||t,l)})),n},toImageURL:function(e,t){return y9.apply(this,arguments)},toCanvas:function(e,t){return b9.apply(this,arguments)},toSVG:function(e){return _9.apply(this,arguments)},getState:function(e){return this._runtime.getState(e||{data:qQe,signals:ZQe,recurse:!0})},setState:function(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}});const oJe=/[[\]{}]/,sJe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let lge,uge;function cge(e,t,n){return lge=t||"view",uge=n||sJe,gge(e.trim()).map(E9)}function xw(e,t,n,i,r){const o=e.length;let a,s=0;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;r&&r.indexOf(a)>=0?--s:i&&i.indexOf(a)>=0&&++s}return t}function gge(e){const t=[],n=e.length;let i=0,r=0;for(;r<n;)r=xw(e,r,",","[{","]}"),t.push(e.substring(i,r).trim()),i=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function E9(e){return"["===e[0]?function(e){const t=e.length;let i,n=1;if(n=xw(e,n,"]","[","]"),n===t)throw"Empty between selector: "+e;if(i=gge(e.substring(1,n)),2!==i.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(n+1).trim())[0])throw"Expected '>' after between selector: "+e;i=i.map(E9);const r=E9(e.slice(1).trim());return r.between?{between:i,stream:r}:(r.between=i,r)}(e):function(e){const t={source:lge},n=[];let l,u,i=[0,0],r=0,o=0,s=e.length,a=0;if("}"===e[s-1]){if(a=e.lastIndexOf("{"),!(a>=0))throw"Unmatched right brace: "+e;try{i=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map(n=>{const i=+n;if(i!=i)throw e;return i})}(e.substring(a+1,s-1))}catch(c){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,a).trim()).length,a=0}if(!s)throw e;if("@"===e[0]&&(r=++a),l=xw(e,a,":"),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=xw(e,a,"["),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=xw(e,a,"]"),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&"["!==e[++a])throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||oJe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],r?t.markname=n[0].slice(1):function(e){return uge[e]}(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=u&&(t.filter=u),i[0]&&(t.throttle=i[0]),i[1]&&(t.debounce=i[1]),t}(e)}function gJe(e){return Un(e)?e:{type:e||"pad"}}const Dw=e=>+e||0;function fJe(e){return Un(e)?e.signal?e:{top:Dw(e.top),bottom:Dw(e.bottom),left:Dw(e.left),right:Dw(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(Dw(e))}const Ss=e=>Un(e)&&!rn(e)?ii({},e):{value:e};function dge(e,t,n,i){return null!=n?(Un(n)&&!rn(n)||rn(n)&&n.length&&Un(n[0])?e.update[t]=n:e[i||"enter"][t]={value:n},1):0}function ra(e,t,n){for(const i in t)dge(e,i,t[i]);for(const i in n)dge(e,i,n[i],"update")}function Rv(e,t,n){for(const i in t)n&&Sn(n,i)||(e[i]=ii(e[i]||{},t[i]));return e}function Fv(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const x9="mark",D9="frame",S9="scope",fge="legend-label";function T9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const hge=e=>$i(e)?hn(e):e.signal?`(${e.signal})`:Cge(e);function rN(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map(n=>null==n?null:hn(n));for(;t.length&&null==Fi(t);)t.pop();return t.unshift(hge(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?oN("hcl",e.h,e.c,e.l):e.h||e.s?oN("hsl",e.h,e.s,e.l):e.l||e.a?oN("lab",e.l,e.a,e.b):e.r||e.g||e.b?oN("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?Cge(e.field):void 0!==e.value?hn(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=hge(e.scale);return null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(1==+e.band?"":"*"+sN(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${sN(e.exponent)})`),null!=e.mult&&(t+=`*${sN(e.mult)}`),null!=e.offset&&(t+=`+${sN(e.offset)}`),e.round&&(t=`round(${t})`),t}const oN=(e,t,n,i)=>`(${e}(${[t,n,i].map(rN).join(",")})+'')`;function sN(e){return Un(e)?"("+rN(e)+")":e}function Cge(e){return pge(Un(e)?e:{datum:e})}function pge(e){let t,n,i;if(e.signal)t="datum",i=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(i=e.parent,t+=".datum"):i=e.group}else e.datum?(t="datum",i=e.datum):Be("Invalid field reference: "+hn(e));return e.signal||(i=$i(i)?nS(i).map(hn).join("]["):pge(i)),t+"["+i+"]"}function Age(e,t,n,i,r,o){const s={};(o=o||{}).encoders={$encode:s},e=function(e,t,n,i,r){const o={},s={};let a,l,u,c;for(l in l="lineBreak","text"===t&&null!=r[l]&&!Fv(l,e)&&T9(o,l,r[l]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===D9?r.group:n===x9?ii({},r.mark,r[t]):null,c)u=Fv(l,e)||("fill"===l||"stroke"===l)&&(Fv("fill",e)||Fv("stroke",e)),u||T9(o,l,c[l]);for(l in _n(i).forEach(g=>{const d=r.style&&r.style[g];for(const f in d)Fv(f,e)||T9(o,f,d[f])}),e=ii({},e),o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=ii(s,e.enter),a&&(e.update=ii(a,e.update)),e}(e,t,n,i,r.config);for(const a in e)s[a]=RJe(e[a],t,o,r);return o}function RJe(e,t,n,i){const r={},o={};for(const s in e)null!=e[s]&&(r[s]=PJe(FJe(e[s]),i,n,o));return{$expr:{marktype:t,channels:r},$fields:Object.keys(o),$output:Object.keys(e)}}function FJe(e){return rn(e)?function(e){let t="";return e.forEach(n=>{const i=rN(n);t+=n.test?`(${n.test})?${i}:`:i}),":"===Fi(t)&&(t+="null"),t}(e):rN(e)}function PJe(e,t,n,i){const r=kd(e,t);return r.$fields.forEach(o=>i[o]=1),ii(n,r.$params),r.$expr}const BJe=["value","update","init","react","bind"];function Ige(e,t){Be(e+' for "outer" push: '+hn(t))}function mge(e,t){const n=e.name;if("outer"===e.push)t.signals[n]||Ige("No prior signal definition",n),BJe.forEach(i=>{void 0!==e[i]&&Ige("Invalid property ",i)});else{const i=t.addSignal(n,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}}function k9(e,t,n,i){this.id=-1,this.type=e,this.value=t,this.params=n,i&&(this.parent=i)}function aN(e,t,n,i){return new k9(e,t,n,i)}function lN(e,t){return aN("operator",e,t)}function gn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Sw(e,t){return t?{$field:e,$name:t}:{$field:e}}const N9=Sw("key");function vge(e,t){return{$compare:e,$order:t}}function uN(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const O9="scope",M9="view";function ds(e){return e&&e.signal}function cN(e){if(ds(e))return!0;if(Un(e))for(const t in e)if(cN(e[t]))return!0;return!1}function bg(e,t){return null!=e?e:t}function gI(e){return e&&e.signal||e}function Tw(e,t){return(e.merge?WJe:e.stream?$Je:e.type?YJe:Be("Invalid stream specification: "+hn(e)))(e,t)}function WJe(e,t){const i=R9({merge:e.merge.map(r=>Tw(r,t))},e,t);return t.addStream(i).id}function $Je(e,t){const i=R9({stream:Tw(e.stream,t)},e,t);return t.addStream(i).id}function YJe(e,t){let n;"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event(function(e){return e===O9?M9:e||M9}(e.source),e.type);const i=R9({stream:n},e,t);return 1===Object.keys(i).length?n:t.addStream(i).id}function R9(e,t,n){let i=t.between;return i&&(2!==i.length&&Be('Stream "between" parameter must have 2 entries: '+hn(t)),e.between=[Tw(i[0],n),Tw(i[1],n)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(function(e,t,n){const i="event.item";return i+(e&&"*"!==e?"&&"+i+".mark.marktype==='"+e+"'":"")+(n?"&&"+i+".mark.role==='"+n+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===O9&&i.push("inScope(event.item)"),i.length&&(e.filter=kd("("+i.join(")&&(")+")",n).$expr),null!=(i=t.throttle)&&(e.throttle=+i),null!=(i=t.debounce)&&(e.debounce=+i),t.consume&&(e.consume=!0),e}const ZJe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function QJe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}const yr=e=>(t,n,i)=>aN(e,n,t||void 0,i),bge=yr("aggregate"),eet=yr("axisticks"),_ge=yr("bound"),_g=yr("collect"),wge=yr("compare"),tet=yr("datajoin"),Ege=yr("encode"),net=yr("expression"),iet=yr("facet"),ret=yr("field"),oet=yr("key"),set=yr("legendentries"),aet=yr("load"),uet=yr("mark"),cet=yr("multiextent"),get=yr("multivalues"),det=yr("overlap"),fet=yr("params"),xge=yr("prefacet"),het=yr("projection"),Cet=yr("proxy"),pet=yr("relay"),Dge=yr("render"),Aet=yr("scale"),dI=yr("sieve"),Iet=yr("sortitems"),Sge=yr("viewlayout"),met=yr("values");let vet=0;const Tge={min:"min",max:"max",count:"sum"};function bet(e,t){const n=t.getScale(e.name).params;let i;for(i in n.domain=kge(e.domain,e,t),null!=e.range&&(n.range=Oge(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=vc(e.type||e),null!=e.gamma&&(t.interpolateGamma=vc(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=function(e){return Un(e)?{interval:vc(e.interval),step:vc(e.step)}:vc(e)}(e.nice)),null!=e.bins&&(n.bins=function(e,t){return e.signal||rn(e)?gN(e,t):t.objectProperty(e)}(e.bins,t)),e)Sn(n,i)||"name"===i||(n[i]=vc(e[i],t))}function vc(e,t){return Un(e)?e.signal?t.signalRef(e.signal):Be("Unsupported object: "+hn(e)):e}function gN(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>vc(n,t))}function dN(e){Be("Can not find data set: "+hn(e))}function kge(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(rn(e)?_et:e.fields?Eet:wet)(e,t,n);(null!=t.domainMin||null!=t.domainMax)&&Be("No scale domain defined for domainMin/domainMax to override.")}function _et(e,t,n){return e.map(i=>vc(i,n))}function wet(e,t,n){const i=n.getData(e.data);return i||dN(e.data),gv(t.type)?i.valuesRef(n,e.field,Nge(e.sort,!1)):coe(t.type)?i.domainRef(n,e.field):i.extentRef(n,e.field)}function Eet(e,t,n){const i=e.data,r=e.fields.reduce((o,s)=>(s=$i(s)?{data:i,field:s}:rn(s)||s.signal?function(e,t){const n="_:vega:_"+vet++,i=_g({});if(rn(e))i.value={$ingest:e};else if(e.signal){const r="setdata("+hn(n)+","+e.signal+")";i.params.input=t.signalRef(r)}return t.addDataPipeline(n,[i,dI({})]),{data:n,field:"data"}}(s,n):s,o.push(s),o),[]);return(gv(t.type)?Det:coe(t.type)?Tet:ket)(e,n,r)}function Det(e,t,n){const i=Nge(e.sort,!0);let r,o;const s=n.map(u=>{const c=t.getData(u.data);return c||dN(u.data),c.countsRef(t,u.field,i)}),a={groupby:N9,pulse:s};i&&(r=i.op||"count",o=i.field?uN(r,i.field):"count",a.ops=[Tge[r]],a.fields=[t.fieldRef(o)],a.as=[o]),r=t.add(bge(a));const l=t.add(_g({pulse:gn(r)}));return o=t.add(met({field:N9,sort:t.sortRef(i),pulse:gn(l)})),gn(o)}function Nge(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!Tge[e.op]&&Be("Multiple domain scales can not be sorted using "+e.op):Be("No field provided for sort aggregate op: "+e.op):Un(e)?e.field="key":e={field:"key"}),e}function Tet(e,t,n){const i=n.map(r=>{const o=t.getData(r.data);return o||dN(r.data),o.domainRef(t,r.field)});return gn(t.add(get({values:i})))}function ket(e,t,n){const i=n.map(r=>{const o=t.getData(r.data);return o||dN(r.data),o.extentRef(t,r.field)});return gn(t.add(cet({extents:i})))}function Oge(e,t,n){const i=t.config.range;let r=e.range;if(r.signal)return t.signalRef(r.signal);if($i(r)){if(i&&Sn(i,r))return Oge(e=ii({},e,{range:i[r]}),t,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=gv(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Be("Unrecognized scale range value: "+hn(r))}else{if(r.scheme)return n.scheme=rn(r.scheme)?gN(r.scheme,t):vc(r.scheme,t),r.extent&&(n.schemeExtent=gN(r.extent,t)),void(r.count&&(n.schemeCount=vc(r.count,t)));if(r.step)return void(n.rangeStep=vc(r.step,t));if(gv(e.type)&&!rn(r))return kge(r,e,t);rn(r)||Be("Unsupported range type: "+hn(r))}return r.map(o=>(rn(o)?gN:vc)(o,t))}function F9(e,t,n){return rn(e)?e.map(i=>F9(i,t,n)):Un(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Be("Unsupported parameter object: "+hn(e)):e}const wg="top",$C="bottom",L9="label",yc="value",kw="guide-label",B9="guide-title",fN="gradient",j9="discrete",z9=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],Nw={name:1,style:1,interactive:1},zi={value:0},bc={value:1},hN="group",H9="rule",fI="text";function Ow(e){return e.type=hN,e.interactive=e.interactive||!1,e}function Ul(e,t){const n=(i,r)=>bg(e[i],bg(t[i],r));return n.isVertical=i=>"vertical"===bg(e.direction,t.direction||(i?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>bg(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>bg(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>bg(e.columns,bg(t.columns,+n.isVertical(!0))),n}function Pge(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function CN(e,t,n){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${n}`}const U9=CN(hn("left"),hn("right"),hn("center"));function Lge(e,t){return t?e?Un(e)?Object.assign({},e,{offset:Lge(e.offset,t)}):{value:e,offset:t}:t:e}function xu(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Rv(e.encode,t,Nw)):e.interactive=!1,e}function $et(e,t,n,i){const r=Ul(e,n),o=r.isVertical(),s=r.gradientThickness(),a=r.gradientLength();let l,u,c,g,d;o?(u=[0,1],c=[0,0],g=s,d=a):(u=[0,0],c=[1,0],g=a,d=s);const f={enter:l={opacity:zi,x:zi,y:zi,width:Ss(g),height:Ss(d)},update:ii({},l,{opacity:bc,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:zi}};return ra(f,{stroke:r("gradientStrokeColor"),strokeWidth:r("gradientStrokeWidth")},{opacity:r("gradientOpacity")}),xu({type:"rect",role:"legend-gradient",encode:f},i)}function Yet(e,t,n,i,r){const o=Ul(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,g,d,f="";s?(u="y",g="y2",c="x",d="width",f="1-"):(u="x",g="x2",c="y",d="height");const h={opacity:zi,fill:{scale:t,field:yc}};h[u]={signal:f+"datum.perc",mult:l},h[c]=zi,h[g]={signal:f+"datum.perc2",mult:l},h[d]=Ss(a);const C={enter:h,update:ii({},h,{opacity:bc}),exit:{opacity:zi}};return ra(C,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),xu({type:"rect",role:"legend-band",key:yc,from:r,encode:C},i)}const Zet=`datum.perc<=0?"${$C}":datum.perc>=1?"top":"middle"`;function Bge(e,t,n,i){const r=Ul(e,t),o=r.isVertical(),s=Ss(r.gradientThickness()),a=r.gradientLength();let u,c,g,d,l=r("labelOverlap"),f="";const h={enter:u={opacity:zi},update:c={opacity:bc,text:{field:L9}},exit:{opacity:zi}};return ra(h,{fill:r("labelColor"),fillOpacity:r("labelOpacity"),font:r("labelFont"),fontSize:r("labelFontSize"),fontStyle:r("labelFontStyle"),fontWeight:r("labelFontWeight"),limit:bg(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:Zet},g="y",d="x",f="1-"):(u.align=c.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},u.baseline={value:"top"},g="x",d="y"),u[g]=c[g]={signal:f+"datum.perc",mult:a},u[d]=c[d]=s,s.offset=bg(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:r("labelSeparation"),method:l,order:"datum.index"}:void 0,xu({type:fI,role:fge,style:kw,key:yc,from:i,encode:h,overlap:l},n)}function Ket(e,t,n,i,r){const o=Ul(e,t),s=n.entries,a=!(!s||!s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),g={data:"value"},d=`(${r}) ? datum.offset : datum.size`,f=u?Ss(u):{field:"size"},h="datum.index",C=`max(1, ${r})`;let p,I,m,y,_;f.mult=.5,p={enter:I={opacity:zi,x:{signal:d,mult:.5,offset:c},y:f},update:m={opacity:bc,x:I.x,y:I.y},exit:{opacity:zi}};let N=null,O=null;e.fill||(N=t.symbolBaseFillColor,O=t.symbolBaseStrokeColor),ra(p,{fill:o("symbolFillColor",N),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",O),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),z9.forEach(z=>{e[z]&&(m[z]=I[z]={scale:e[z],field:yc})});const k=xu({type:"symbol",role:"legend-symbol",key:yc,from:g,clip:!!u||void 0,encode:p},n.symbols),M=Ss(c);M.offset=o("labelOffset"),p={enter:I={opacity:zi,x:{signal:d,offset:M},y:f},update:m={opacity:bc,text:{field:L9},x:I.x,y:I.y},exit:{opacity:zi}},ra(p,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const V=xu({type:fI,role:fge,style:kw,key:yc,from:g,encode:p},n.labels);return p={enter:{noBound:{value:!u},width:zi,height:u?Ss(u):zi,opacity:zi},exit:{opacity:zi},update:m={opacity:bc,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(y=`ceil(item.mark.items.length / ${C})`,m.row.signal=`${h}%${y}`,m.column.signal=`floor(${h} / ${y})`,_={field:["row",h]}):(m.row.signal=`floor(${h} / ${C})`,m.column.signal=`${h} % ${C}`,_={field:h}),m.column.signal=`(${r})?${m.column.signal}:${h}`,Ow({role:S9,from:i={facet:{data:i,name:"value",groupby:"index"}},encode:Rv(p,s,Nw),marks:[k,V],name:l,interactive:a,sort:_})}const G9='item.orient === "left"',W9='item.orient === "right"',pN=`(${G9} || ${W9})`,Qet=`datum.vgrad && ${pN}`,Jet=CN('"top"','"bottom"','"middle"'),ttt=`datum.vgrad && ${W9} ? (${CN('"right"','"left"','"center"')}) : (${pN} && !(datum.vgrad && ${G9})) ? "left" : ${U9}`,ntt=`item._anchor || (${pN} ? "middle" : "start")`,itt=`${Qet} ? (${G9} ? -90 : 90) : 0`,rtt=`${pN} ? (datum.vgrad ? (${W9} ? "bottom" : "top") : ${Jet}) : "top"`;function stt(e,t){let n;return Un(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+jge(e.path)+")":e.sphere&&(n="geoShape("+jge(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function jge(e){return Un(e)&&e.signal?e.signal:hn(e)}function Vge(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===hN?S9:t||x9:t}function att(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Vge(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function ltt(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function $9(e,t){const n=Dne(e.type);n||Be("Unrecognized transform type: "+hn(e.type));const i=aN(n.type.toLowerCase(),null,zge(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=n.metadata||{},i}function zge(e,t,n){const i={},r=e.params.length;for(let o=0;o<r;++o){const s=e.params[o];i[s.name]=utt(s,t,n)}return i}function utt(e,t,n){const i=e.type,r=t[e.name];return"index"===i?function(e,t,n){return $i(t.from)||Be('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==r?"param"===i?function(e,t,n){const i=t[e.name];return e.array?(rn(i)||Be("Expected an array of sub-parameters. Instead: "+hn(i)),i.map(r=>Uge(e,r,n))):Uge(e,i,n)}(e,t,n):"projection"===i?n.projectionRef(t[e.name]):e.array&&!ds(r)?r.map(o=>Hge(e,o,n)):Hge(e,r,n):void(e.required&&Be("Missing required "+hn(t.type)+" parameter: "+hn(e.name)))}function Hge(e,t,n){const i=e.type;if(ds(t))return Gge(i)?Be("Expression references can not be signals."):Y9(i)?n.fieldRef(t):Wge(i)?n.compareRef(t):n.signalRef(t.signal);{const r=e.expr||Y9(i);return r&&dtt(t)?n.exprRef(t.expr,t.as):r&&ftt(t)?Sw(t.field,t.as):Gge(i)?kd(t,n):htt(i)?gn(n.getData(t).values):Y9(i)?Sw(t):Wge(i)?n.compareRef(t):t}}function Uge(e,t,n){const i=e.params.length;let r;for(let s=0;s<i;++s){r=e.params[s];for(const a in r.key)if(r.key[a]!==t[a]){r=null;break}if(r)break}r||Be("Unsupported parameter: "+hn(t));const o=ii(zge(r,t,n),r.key);return gn(n.add(fet(o)))}const dtt=e=>e&&e.expr,ftt=e=>e&&e.field,htt=e=>"data"===e,Gge=e=>"expr"===e,Y9=e=>"field"===e,Wge=e=>"compare"===e;function AN(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:gn(t.getData(e.data).output)}function hI(e,t,n,i,r){this.scope=e,this.input=t,this.output=n,this.values=i,this.aggregate=r,this.index={}}function $ge(e){return $i(e)?e:null}function Yge(e,t,n){const i=uN(n.op,n.field);let r;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Mw(e,t,n,i,r,o,s){const a=t[n]||(t[n]={}),l=function(e){return Un(e)?("descending"===e.order?"-":"+")+uN(e.op,e.field):""}(o);let c,g,u=$ge(r);if(null!=u&&(e=t.scope,u+=l?"|"+l:"",c=a[u]),!c){const d=o?{field:N9,pulse:t.countsRef(e,r,o)}:{field:e.fieldRef(r),pulse:gn(t.output)};l&&(d.sort=e.sortRef(o)),g=e.add(aN(i,void 0,d)),s&&(t.index[r]=g),c=gn(g),null!=u&&(a[u]=c)}return c}function qge(e,t,n){const i=e.remove,r=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(lN()),c=kd("if("+e.trigger+',modify("'+n+'",'+[r,i,o,s,a].map(g=>null==g?"null":g).join(",")+"),0)",t);l.update=c.$expr,l.params=c.$params}function IN(e,t){const n=Vge(e),i=e.type===hN,r=e.from&&e.from.facet,o=e.overlap;let a,l,u,c,g,d,f,s=e.layout||n===S9||n===D9;const h=n===x9||s||r,C=function(e,t,n){let i,r,o,s,a;return e?(i=e.facet)&&(t||Be("Only group marks can be faceted."),null!=i.field?s=a=AN(i,n):(e.data?a=gn(n.getData(e.data).aggregate):(o=$9(ii({type:"aggregate",groupby:_n(i.groupby)},i.aggregate),n),o.params.key=n.keyRef(i.groupby),o.params.pulse=AN(i,n),s=a=gn(n.add(o))),r=n.keyRef(i.groupby,!0))):s=gn(n.add(_g(null,[{}]))),s||(s=AN(e,n)),{key:r,pulse:s,parent:a}}(e.from,i,t);l=t.add(tet({key:C.key||(e.key?Sw(e.key):void 0),pulse:C.pulse,clean:!i}));const p=gn(l);l=u=t.add(_g({pulse:p})),l=t.add(uet({markdef:att(e),interactive:ltt(e.interactive,t),clip:stt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:gn(l)}));const I=gn(l);l=c=t.add(Ege(Age(e.encode,e.type,n,e.style,t,{mod:!1,pulse:I}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(O=>{const k=$9(O,t),M=k.metadata;(M.generates||M.changes)&&Be("Mark transforms should not generate new data."),M.nomod||(c.params.mod=!0),k.params.pulse=gn(l),t.add(l=k)}),e.sort&&(l=t.add(Iet({sort:t.compareRef(e.sort),pulse:gn(l)})));const m=gn(l);(r||s)&&(s=t.add(Sge({layout:t.objectProperty(e.layout),legends:t.legends,mark:I,pulse:m})),d=gn(s));const y=t.add(_ge({mark:I,pulse:d||m}));f=gn(y),i&&(h&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(m,d||f,p),r?function(e,t,n){const i=e.from.facet,r=i.name,o=AN(i,t);let s;i.name||Be("Facet must have a name: "+hn(i)),i.data||Be("Facet must reference a data set: "+hn(i)),i.field?s=t.add(xge({field:t.fieldRef(i.field),pulse:o})):i.groupby?s=t.add(iet({key:t.keyRef(i.groupby),group:gn(t.proxy(n.parent)),pulse:o})):Be("Facet must specify groupby or field: "+hn(i));const a=t.fork(),l=a.add(_g()),u=a.add(dI({pulse:gn(l)}));a.addData(r,new hI(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}(e,t,C):h?function(e,t,n){const i=t.add(xge({pulse:n.pulse})),r=t.fork();r.add(dI()),r.addSignal("parent",null),i.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,C):t.parse(e),t.popState(),h&&(s&&a.push(s),a.push(y))),o&&(f=function(e,t,n){const i=e.method,r=e.bound,o=e.separation,s={separation:ds(o)?n.signalRef(o.signal):o,method:ds(i)?n.signalRef(i.signal):i,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),r){const a=r.tolerance;s.boundTolerance=ds(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(r.scale),s.boundOrient=r.orient}return gn(n.add(det(s)))}(o,f,t));const _=t.add(Dge({pulse:f})),N=t.add(dI({pulse:gn(_)},void 0,t.parent()));null!=e.name&&(g=e.name,t.addData(g,new hI(t,u,_,N)),e.on&&e.on.forEach(O=>{(O.insert||O.remove||O.toggle)&&Be("Marks only support modify triggers."),qge(O,t,g)}))}function btt(e,t,n){const i={enter:{},update:{}};return ra(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function Zge(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Pge(e,n[0].encode)}function Stt(e,t){const n={enter:{},update:{}};return ra(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:U9},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Rv(n,t,Nw)}function CI(e){const t=_g({},e);return t.metadata={source:!0},t}function Kge(e,t){return aet({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}hI.fromEntries=function(e,t){const n=t.length,i=t[n-1],r=t[n-2];let o=t[0],s=null,a=1;for(o&&"load"===o.type&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=gn(t[a-1]),e.add(t[a]),"aggregate"===t[a].type&&(s=t[a]);return new hI(e,o,r,i,s)},hI.prototype={countsRef(e,t,n){const i=this,r=i.counts||(i.counts={}),o=$ge(t);let s,a,l;return null!=o&&(e=i.scope,s=r[o]),s?n&&n.field&&Yge(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:gn(i.output)},n&&n.field&&Yge(e,l,n),a=e.add(bge(l)),s=e.add(_g({pulse:gn(a)})),s={agg:a,ref:gn(s)},null!=o&&(r[o]=s)),s.ref},tuplesRef(){return gn(this.values)},extentRef(e,t){return Mw(e,this,"extent","extent",t,!1)},domainRef(e,t){return Mw(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Mw(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Mw(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Mw(e,this,"indata","tupleindex",t,!0,!0)}};const Xge=e=>e===$C||e===wg,mN=(e,t,n)=>ds(e)?Ptt(e.signal,t,n):"left"===e||e===wg?t:n,Ts=(e,t,n)=>ds(e)?Rtt(e.signal,t,n):Xge(e)?t:n,Eg=(e,t,n)=>ds(e)?Ftt(e.signal,t,n):Xge(e)?n:t,Qge=(e,t,n)=>ds(e)?Ltt(e.signal,t,n):e===wg?{value:t}:{value:n},Rtt=(e,t,n)=>Jge(`${e} === 'top' || ${e} === '${$C}'`,t,n),Ftt=(e,t,n)=>Jge(`${e} !== 'top' && ${e} !== '${$C}'`,t,n),Ptt=(e,t,n)=>q9(`${e} === 'left' || ${e} === 'top'`,t,n),Ltt=(e,t,n)=>q9(`${e} === 'top'`,t,n),Jge=(e,t,n)=>(t=null!=t?Ss(t):t,n=null!=n?Ss(n):n,ede(t)&&ede(n)?{signal:`${e} ? (${t=t?t.signal||hn(t.value):null}) : (${n=n?n.signal||hn(n.value):null})`}:[ii({test:e},t)].concat(n||[])),ede=e=>null==e||1===Object.keys(e).length,q9=(e,t,n)=>({signal:`${e} ? (${jv(t)}) : (${jv(n)})`}),jtt=(e,t,n,i,r)=>({signal:(null!=i?`${e} === 'left' ? (${jv(i)}) : `:"")+(null!=n?`${e} === '${$C}' ? (${jv(n)}) : `:"")+(null!=r?`${e} === 'right' ? (${jv(r)}) : `:"")+(null!=t?`${e} === 'top' ? (${jv(t)}) : `:"")+"(null)"}),jv=e=>ds(e)?e.signal:null==e?null:hn(e),Vv=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function zv(e,t,n,i){let r;if(t&&Sn(t,e))return t[e];if(Sn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":r="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":r=e[5].toLowerCase()+e.slice(6)}return i[B9][r]}if(e.startsWith("label")){switch(e){case"labelColor":r="fill";break;case"labelFont":case"labelFontSize":r=e[5].toLowerCase()+e.slice(6)}return i[kw][r]}return null}function tde(e){const t={};for(const n of e)if(n)for(const i in n)t[i]=1;return Object.keys(t)}function nde(e,t){return{scale:e.scale,range:t}}function Z9(e,t,n,i,r){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+i+","+r+")"}}function $tt(e,t,n,i,r,o){const s=Ul(e,t),a=e.orient,l=e.scale,u=mN(a,-1,1),c=gI(s("labelFlush")),g=gI(s("labelFlushOffset")),d=s("labelAlign"),f=s("labelBaseline");let C,h=0===c||!!c;const p=Ss(r);p.mult=u,p.offset=Ss(s("labelPadding")||0),p.offset.mult=u;const I={scale:l,field:yc,band:.5,offset:Lge(o.offset,s("labelOffset"))},m=Ts(a,h?Z9(l,c,'"left"','"right"','"center"'):{value:"center"},((e,t,n)=>ds(e)?((e,t,n)=>q9(`${e} === 'right'`,t,n))(e.signal,t,n):"right"===e?{value:t}:{value:n})(a,"left","right")),y=Ts(a,Qge(a,"bottom","top"),h?Z9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=Z9(l,c,`-(${g})`,g,0);h=h&&g;const N={opacity:zi,x:Ts(a,I,p),y:Eg(a,I,p)},O={enter:N,update:C={opacity:bc,text:{field:L9},x:N.x,y:N.y,align:m,baseline:y},exit:{opacity:zi,x:N.x,y:N.y}};ra(O,{dx:!d&&h?Ts(a,_):null,dy:!f&&h?Eg(a,_):null}),ra(O,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:f});const k=s("labelBound");let M=s("labelOverlap");return M=M||k?{separation:s("labelSeparation"),method:M,order:"datum.index",bound:k?{scale:l,orient:a,tolerance:k}:null}:void 0,C.align!==m&&(C.align=Vv(C.align,m)),C.baseline!==y&&(C.baseline=Vv(C.baseline,y)),xu({type:fI,role:"axis-label",style:kw,key:yc,from:i,encode:O,overlap:M},n)}function Ztt(e,t){const n=function(e,t){var a,l,u,n=t.config,i=n.style,r=n.axis,o="band"===t.scaleType(e.scale)&&n.axisBand,s=e.orient;if(ds(s)){const g=tde([n.axisX,n.axisY]),d=tde([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);for(u of(a={},g))a[u]=Ts(s,zv(u,n.axisX,r,i),zv(u,n.axisY,r,i));for(u of(l={},d))l[u]=jtt(s.signal,zv(u,n.axisTop,r,i),zv(u,n.axisBottom,r,i),zv(u,n.axisLeft,r,i),zv(u,n.axisRight,r,i))}else a=s===wg||s===$C?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?ii({},r,a,l,o):r}(e,t),i=e.encode||{},r=i.axis||{},o=r.name||void 0,s=r.interactive,a=r.style,l=Ul(e,n),u=function(e){const t=e("tickBand");let i,r,n=e("tickOffset");return t?t.signal?(i={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},r={signal:`(${t.signal}) === 'extent'`},Un(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):"extent"===t?(i=1,r=!0,n=0):(i=.5,r=!1):(i=e("bandPosition"),r=e("tickExtra")),{extra:r,band:i,offset:n}}(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:null!=e.title},g=gn(t.add(_g({},[c]))),d=gn(t.add(eet({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),f=[];let h;return c.grid&&f.push(function(e,t,n,i,r){const o=Ul(e,t),s=e.orient,a=e.gridScale,l=mN(s,1,-1),u=function(e,t){if(1!==t)if(Un(e)){let n=e=ii({},e);for(;null!=n.mult;){if(!Un(n.mult))return n.mult=ds(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=ii({},n.mult)}n.mult=t}else e=ds(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,l);let c,g,d;const f={enter:c={opacity:zi},update:d={opacity:bc},exit:g={opacity:zi}};ra(f,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const h={scale:e.scale,field:yc,band:r.band,extra:r.extra,offset:r.offset,round:o("tickRound")},C=Ts(s,{signal:"height"},{signal:"width"}),p=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},I=a?{scale:a,range:1,mult:l,offset:u}:ii(C,{mult:l,offset:u});return c.x=d.x=Ts(s,h,p),c.y=d.y=Eg(s,h,p),c.x2=d.x2=Eg(s,I),c.y2=d.y2=Ts(s,I),g.x=Ts(s,h),g.y=Eg(s,h),xu({type:H9,role:"axis-grid",key:yc,from:i,encode:f},n)}(e,n,i.grid,d,u)),c.ticks&&(h=l("tickSize"),f.push(function(e,t,n,i,r,o){const s=Ul(e,t),a=e.orient,l=mN(a,-1,1);let u,c,g;const d={enter:u={opacity:zi},update:g={opacity:bc},exit:c={opacity:zi}};ra(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const f=Ss(r);f.mult=l;const h={scale:e.scale,field:yc,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return g.y=u.y=Ts(a,zi,h),g.y2=u.y2=Ts(a,f),c.x=Ts(a,h),g.x=u.x=Eg(a,zi,h),g.x2=u.x2=Eg(a,f),c.y=Eg(a,h),xu({type:H9,role:"axis-tick",key:yc,from:i,encode:d},n)}(e,n,i.ticks,d,h,u))),c.labels&&(h=c.ticks?h:0,f.push($tt(e,n,i.labels,d,h,u))),c.domain&&f.push(function(e,t,n,i){const r=Ul(e,t),o=e.orient;let s,a;const l={enter:s={opacity:zi},update:a={opacity:bc},exit:{opacity:zi}};ra(l,{stroke:r("domainColor"),strokeCap:r("domainCap"),strokeDash:r("domainDash"),strokeDashOffset:r("domainDashOffset"),strokeWidth:r("domainWidth"),strokeOpacity:r("domainOpacity")});const u=nde(e,0),c=nde(e,1);return s.x=a.x=Ts(o,u,zi),s.x2=a.x2=Ts(o,c),s.y=a.y=Eg(o,u,zi),s.y2=a.y2=Eg(o,c),xu({type:H9,role:"axis-domain",from:i,encode:l},n)}(e,n,i.domain,g)),c.title&&f.push(function(e,t,n,i){const r=Ul(e,t),o=e.orient,s=mN(o,-1,1);let a,l;const u={enter:a={opacity:zi,anchor:Ss(r("titleAnchor",null)),align:{signal:U9}},update:l=ii({},a,{opacity:bc,text:Ss(e.title)}),exit:{opacity:zi}},c={signal:`lerp(range("${e.scale}"), ${CN(0,1,.5)})`};return l.x=Ts(o,c),l.y=Eg(o,c),a.angle=Ts(o,zi,((e,t)=>ds(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(s)),a.baseline=Ts(o,Qge(o,$C,wg),{value:$C}),l.angle=a.angle,l.baseline=a.baseline,ra(u,{fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),angle:r("titleAngle"),baseline:r("titleBaseline")}),function(e,t,n,i){const r=(a,l)=>null!=a?(n.update[l]=Vv(Ss(a),n.update[l]),!1):!Fv(l,i),o=r(e("titleX"),"x"),s=r(e("titleY"),"y");n.enter.auto=s===o?Ss(s):Ts(t,Ss(s),Ss(o))}(r,o,u,n),u.update.align=Vv(u.update.align,a.align),u.update.angle=Vv(u.update.angle,a.angle),u.update.baseline=Vv(u.update.baseline,a.baseline),xu({type:fI,role:"axis-title",style:B9,from:i,encode:u},n)}(e,n,i.title,g)),IN(Ow({role:"axis",from:g,encode:Rv(Ktt(l,e),r,Nw),marks:f,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function Ktt(e,t){const n={enter:{},update:{}};return ra(n,{orient:e("orient"),offset:e("offset")||0,position:bg(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function ide(e,t,n){const i=_n(e.signals),r=_n(e.scales);return n||i.forEach(o=>mge(o,t)),_n(e.projections).forEach(o=>function(e,t){const n=t.config.projection||{},i={};for(const r in e)"name"!==r&&(i[r]=F9(e[r],r,t));for(const r in n)null==i[r]&&(i[r]=F9(n[r],r,t));t.addProjection(e.name,i)}(o,t)),r.forEach(o=>function(e,t){const n=e.type||"linear";aoe(n)||Be("Unrecognized scale type: "+hn(n)),t.addScale(e.name,{type:n,domain:void 0})}(o,t)),_n(e.data).forEach(o=>function(e,t){const n=[];e.transform&&e.transform.forEach(i=>{n.push($9(i,t))}),e.on&&e.on.forEach(i=>{qge(i,t,e.name)}),t.addDataPipeline(e.name,function(e,t,n){const i=[];let a,l,u,c,g,r=null,o=!1,s=!1;for(e.values?ds(e.values)||cN(e.format)?(i.push(Kge(t,e)),i.push(r=CI())):i.push(r=CI({$ingest:e.values,$format:e.format})):e.url?cN(e.url)||cN(e.format)?(i.push(Kge(t,e)),i.push(r=CI())):i.push(r=CI({$request:e.url,$format:e.format})):e.source&&(r=a=_n(e.source).map(d=>gn(t.getData(d).output)),i.push(null)),l=0,u=n.length;l<u;++l)c=n[l],g=c.metadata,!r&&!g.source&&i.push(r=CI()),i.push(c),g.generates&&(s=!0),g.modifies&&!s&&(o=!0),g.source?r=c:g.changes&&(r=null);return a&&(u=a.length-1,i[0]=pet({derive:o,pulse:u?a:a[0]}),(o||u)&&i.splice(1,0,CI())),r||i.push(CI()),i.push(dI({})),i}(e,t,n))}(o,t)),r.forEach(o=>bet(o,t)),(n||i).forEach(o=>function(e,t){const n=t.getSignal(e.name);let i=e.update;e.init&&(i?Be("Signals can not include both init and update expressions."):(i=e.init,n.initonly=!0)),i&&(i=kd(i,t),n.update=i.$expr,n.params=i.$params),e.on&&e.on.forEach(r=>function(e,t,n){const i=e.encode,r={target:n};let o=e.events,s=e.update,a=[];o||Be("Signal update missing events specification."),$i(o)&&(o=cge(o,t.isSubscope()?O9:M9)),o=_n(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[QJe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),null!=i&&(s&&Be("Signal encode and update are mutually exclusive."),s="encode(item(),"+hn(i)+")"),r.update=$i(s)?kd(s,t):null!=s.expr?kd(s.expr,t):null!=s.value?s.value:null!=s.signal?{$expr:ZJe,$params:{$value:t.signalRef(s.signal)}}:Be("Invalid signal update specification."),e.force&&(r.options={force:!0}),a.forEach(l=>t.addUpdate(ii(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Tw(e,t)}}(l,t),r)))}(r,t,n.id))}(o,t)),_n(e.axes).forEach(o=>Ztt(o,t)),_n(e.marks).forEach(o=>IN(o,t)),_n(e.legends).forEach(o=>function(e,t){const n=t.config.legend,i=e.encode||{},r=Ul(e,n),o=i.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let g,d,f,c=0;z9.forEach(y=>e[y]?(u[y]=e[y],c=c||e[y]):0),c||Be("Missing valid scale for legend.");const h=function(e,t){let n=e.type||"symbol";return!e.type&&1===function(e){return z9.reduce((t,n)=>t+(e[n]?1:0),0)}(e)&&(e.fill||e.stroke)&&(n=Z8(t)?fN:K8(t)?j9:"symbol"),n!==fN?n:K8(t)?j9:fN}(e,t.scaleType(c)),C={title:null!=e.title,scales:u,type:h,vgrad:"symbol"!==h&&r.isVertical()},p=gn(t.add(_g(null,[C]))),m=gn(t.add(set(d={type:h,scale:t.scaleRef(c),count:t.objectProperty(r("tickCount")),limit:t.property(r("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return h===fN?(f=[$et(e,c,n,i.gradient),Bge(e,n,i.labels,m)],d.count=d.count||t.signalRef(`max(2,2*floor((${gI(r.gradientLength())})/100))`)):h===j9?f=[Yet(e,c,n,i.gradient,m),Bge(e,n,i.labels,m)]:(g=function(e,t){const n=Ul(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),f=[Ket(e,n,i,m,gI(g.columns))],d.size=function(e,t,n){return kd(`max(ceil(sqrt(${gI(Zge("size",e,n))})+${gI(Zge("strokeWidth",e,n))}),${gI(function(e,t,n){return Pge("fontSize",e)||function(e,t,n){const i=t.config.style["guide-label"];return i&&i.fontSize}(0,t)}(n[1].encode,t))})`,t)}(e,t,f[0].marks)),f=[Ow({role:"legend-entry",from:p,encode:{enter:{x:{value:0},y:{value:0}}},marks:f,layout:g,interactive:a})],C.title&&f.push(function(e,t,n,i){const r=Ul(e,t),o={enter:{opacity:zi},update:{opacity:bc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zi}};return ra(o,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:ntt},angle:{signal:itt},align:{signal:ttt},baseline:{signal:rtt},text:e.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")}),xu({type:fI,role:"legend-title",style:B9,from:i,encode:o},n)}(e,n,i.title,p)),IN(Ow({role:"legend",from:p,encode:Rv(btt(r,e,n),o,Nw),marks:f,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:s,interactive:a,style:l}),t)}(o,t)),e.title&&function(e,t){const n=Ul(e=$i(e)?{text:e}:e,t.config.title),i=e.encode||{},r=i.group||{},o=r.name||void 0,s=r.interactive,a=r.style,l=[],c=gn(t.add(_g(null,[{}])));l.push(function(e,t,n,i){const r={value:0},s={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return ra(s,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),xu({type:fI,role:"title-text",style:"group-title",from:i,encode:s},n)}(e,n,function(e){const t=e.encode;return t&&t.title||ii({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&l.push(function(e,t,n,i){const r={value:0},s={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return ra(s,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),xu({type:fI,role:"title-subtitle",style:"group-subtitle",from:i,encode:s},n)}(e,n,i.subtitle,c)),IN(Ow({role:"title",from:c,encode:Stt(n,r),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}(e.title,t),t.parseLambdas(),t}function Rw(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function rde(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function ode(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function K9(e){return(rn(e)?ent:tnt)(e)}function ent(e){const t=e.length;let n="[";for(let i=0;i<t;++i){const r=e[i];n+=(i>0?",":"")+(Un(r)?r.signal||K9(r):hn(r))}return n+"]"}function tnt(e){let i,r,t="{",n=0;for(i in e)r=e[i],t+=(++n>1?",":"")+hn(i)+":"+(Un(r)?r.signal||K9(r):hn(r));return t+"}"}function int(e,t,n){return Un(e)||Be("Input Vega specification must be an object."),function(e,t){const n=t.config,i=gn(t.root=t.add(lN())),r=function(e,t){const n=s=>bg(e[s],t[s]),i=[Rw("background",n("background")),Rw("autosize",gJe(n("autosize"))),Rw("padding",fJe(n("padding"))),Rw("width",n("width")||0),Rw("height",n("height")||0)],r=i.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return _n(e.signals).forEach(s=>{Sn(r,s.name)?s=ii(r[s.name],s):i.push(s),o[s.name]=s}),_n(t.signals).forEach(s=>{!Sn(o,s.name)&&!Sn(r,s.name)&&i.push(s)}),i}(e,n);r.forEach(u=>mge(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(_g()),s=t.add(Ege(Age((e=>Rv({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),hN,D9,e.style,t,{pulse:gn(o)}))),a=t.add(Sge({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:i,pulse:gn(s)}));t.operators.pop(),t.pushState(gn(s),gn(a),null),ide(e,t,r),t.operators.push(a);let l=t.add(_ge({mark:i,pulse:gn(a)}));return l=t.add(Dge({pulse:gn(l)})),l=t.add(dI({pulse:gn(l)})),t.addData("root",new hI(t,o,o,l)),t}(e,new rde(t=iS(function(){const e="sans-serif",i="#4c78a8",r="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:i},area:{fill:i},image:null,line:{stroke:i,strokeWidth:2},path:{stroke:i},rect:{fill:i},rule:{stroke:r},shape:{stroke:i},symbol:{fill:i,size:64},text:{fill:r,font:e,fontSize:11},trail:{fill:i,size:2},style:{"guide-label":{fill:r,font:e,fontSize:10},"guide-title":{fill:r,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:r,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:r,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),n)).toRuntime()}rde.prototype=ode.prototype={parse(e){return ide(e,this)},fork(){return new ode(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof k9?gn(e):e;return this.add(Cet({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(i,r,o){let s,a;i&&(s=i.data||(i.data={}),a=s[r]||(s[r]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const i in t.index)n(t.index[i],e,"index:"+i)}return this},pushState(e,t,n){this._encode.push(gn(this.add(dI({pulse:e})))),this._parent.push(t),this._lookup.push(n?gn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Fi(this._parent)},encode(){return Fi(this._encode)},lookup(){return Fi(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if($i(e))return Sw(e,t);e.signal||Be("Unsupported field reference: "+hn(e));const n=e.signal;let i=this.field[n];if(!i){const r={name:this.signalRef(n)};t&&(r.as=t),this.field[n]=i=gn(this.add(ret(r)))}return i},compareRef(e){let t=!1;const n=o=>ds(o)?(t=!0,this.signalRef(o.signal)):function(e){return e&&e.expr}(o)?(t=!0,this.exprRef(o.expr)):o,i=_n(e.field).map(n),r=_n(e.order).map(n);return t?gn(this.add(wge({fields:i,orders:r}))):vge(i,r)},keyRef(e,t){let n=!1;const r=this.signals;return e=_n(e).map(o=>ds(o)?(n=!0,gn(r[o.signal])):o),n?gn(this.add(oet({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=uN(e.op,e.field),n=e.order||"ascending";return n.signal?gn(this.add(wge({fields:t,orders:this.signalRef(n.signal)}))):vge(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[n]=i}return this.events[n]},hasOwnSignal(e){return Sn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Be("Duplicate signal name: "+hn(e));const n=t instanceof k9?t:this.add(lN(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Be("Unrecognized signal name: "+hn(e)),this.signals[e]},signalRef(e){return this.signals[e]?gn(this.signals[e]):(Sn(this.lambdas,e)||(this.lambdas[e]=this.add(lN(null))),gn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const i=e[t],r=kd(i,this),o=this.lambdas[i];o.params=r.$params,o.update=r.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Un(e)?this.signalRef(e.signal||K9(e)):e},exprRef(e,t){const n={expr:kd(e,this)};return t&&(n.expr.$name=t),gn(this.add(net(n)))},addBinding(e,t){this.bindings||Be("Nested signals do not support binding: "+hn(e)),this.bindings.push(ii({signal:e},t))},addScaleProj(e,t){Sn(this.scales,e)&&Be("Duplicate scale or projection name: "+hn(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Aet(t))},addProjection(e,t){this.addScaleProj(e,het(t))},getScale(e){return this.scales[e]||Be("Unrecognized scale name: "+hn(e)),this.scales[e]},scaleRef(e){return gn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Sn(this.data,e)&&Be("Duplicate data set name: "+hn(e)),this.data[e]=t},getData(e){return this.data[e]||Be("Undefined data set name: "+hn(e)),this.data[e]},addDataPipeline(e,t){return Sn(this.data,e)&&Be("Duplicate data set name: "+hn(e)),this.addData(e,hI.fromEntries(this,t))}};ii(J0,we,x,Z,Y,oe,re,Ce,he,Ge,St,Lt);const ynt="5.21.0";var _nt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},wnt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},Ent={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const xnt=Array.prototype.slice,pI=(e,t,n)=>{const i=n?n(t[0]):t[0];return i[e].apply(i,xnt.call(t,1))};var Snt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:(e,t,n,i,r,o,s)=>new Date(e,t||0,null!=n?n:1,i||0,r||0,o||0,s||0),date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return pI("join",arguments)},indexof:function(){return pI("indexOf",arguments)},lastindexof:function(){return pI("lastIndexOf",arguments)},slice:function(){return pI("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return pI("substring",arguments,String)},split:function(){return pI("split",arguments,String)},replace:function(){return pI("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const Tnt=["view","item","group","xy","x","y"],knt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:_nt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,i=e(t.object);n&&(e.memberDepth+=1);const r=e(t.property);return n&&(e.memberDepth-=1),i[r]},CallExpression:(e,t)=>{const n=t.arguments;let i=t.callee.name;return i.startsWith("_")&&(i=i.slice(1)),"if"===i?e(n[0])?e(n[1]):e(n[2]):(e.fn[i]||Snt[i]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>wnt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>Ent[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,i)=>{e.memberDepth+=1;const r=e(i.key);return e.memberDepth-=1,n[r]=e(i.value),n},{})};function Fw(e,t,n,i,r,o){const s=a=>knt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=i,s.event=r,s.item=o,Tnt.forEach(a=>s.fn[a]=(...l)=>r.vega[a](...l)),s(e)}var Nnt={operator(e,t){const n=t.ast,i=e.functions;return r=>Fw(n,i,r)},parameter(e,t){const n=t.ast,i=e.functions;return(r,o)=>Fw(n,i,o,r)},event(e,t){const n=t.ast,i=e.functions;return r=>Fw(n,i,void 0,void 0,r)},handler(e,t){const n=t.ast,i=e.functions;return(r,o)=>Fw(n,i,r,o.item&&o.item.datum,o)},encode(e,t){const{marktype:n,channels:i}=t,r=e.functions,o="group"===n||"image"===n||"rect"===n;return(s,a)=>{const l=s.datum;let c,u=0;for(const g in i)c=Fw(i[g].ast,r,a,l,void 0,s),s[g]!==c&&(s[g]=c,u=1);return"rule"!==n&&function(e,t,n){let i;t.x2&&(t.x?(n&&e.x>e.x2&&(i=e.x,e.x=e.x2,e.x2=i),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(i=e.y,e.y=e.y2,e.y2=i),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(s,i,o),u}}};function YC(e,t,n){return e.fields=t||[],e.fname=n,e}function sde(e){return 1===e.length?Rnt(e[0]):Fnt(e)}const Rnt=e=>function(t){return t[e]},Fnt=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};function X9(e){throw Error(e)}function qC(e){const t=[],n=e.length;let s,a,l,i=null,r=0,o="";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(e+="",s=a=0;a<n;++a)if(l=e[a],"\\"===l)o+=e.substring(s,a),o+=e.substring(++a,++a),s=a;else if(l===i)u(),i=null,r=-1;else{if(i)continue;s===r&&'"'===l||s===r&&"'"===l?(s=a+1,i=l):"."!==l||r?"["===l?(a>s&&u(),r=s=a+1):"]"===l&&(r||X9("Access path missing open bracket: "+e),r>0&&u(),r=0,s=a+1):a>s?u():s=a+1}return r&&X9("Access path missing closing bracket: "+e),i&&X9("Access path missing closing quote: "+e),a>s&&(a++,u()),t}!function(e,t,n){const i=qC(e);e=1===i.length?i[0]:e,YC((n&&n.get||sde)(i),[e],t||e)}("id");const Q9=YC(e=>e,[],"identity");function vN(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}YC(()=>0,[],"zero"),YC(()=>1,[],"one"),YC(()=>!0,[],"true"),YC(()=>!1,[],"false");var qt=Array.isArray;function Sr(e){return e===Object(e)}const ude=e=>"__proto__"!==e;function cde(...e){return e.reduce((t,n)=>{for(const i in n)"signals"===i?t.signals=znt(t.signals,n.signals):J9(t,i,n[i],"legend"===i?{layout:1}:"style"===i||null);return t},{})}function J9(e,t,n,i){if(!ude(t))return;let r,o;if(Sr(n)&&!qt(n))for(r in o=Sr(e[t])?e[t]:e[t]={},n)i&&(!0===i||i[r])?J9(o,r,n[r]):ude(r)&&(o[r]=n[r]);else e[t]=n}function znt(e,t){if(null==e)return t;const n={},i=[];function r(o){n[o.name]||(n[o.name]=1,i.push(o))}return t.forEach(r),e.forEach(r),i}function Fr(e){return null!=e?qt(e)?e:[e]:[]}const Ynt=Object.prototype.hasOwnProperty;function _c(e,t){return Ynt.call(e,t)}function Lw(e){return"boolean"==typeof e}function To(e){return"number"==typeof e}function Jn(e){return"string"==typeof e}function Yi(e){return qt(e)?"["+e.map(Yi)+"]":Sr(e)||Jn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function AI(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,function(n,i){return Array.isArray(i)?n.push.apply(n,e.call(i,t-1)):n.push(i),n},[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Xnt=U(9401),Qnt=U.n(Xnt),Jnt=U(5439),eit=U.n(Jnt),tit=U(3324),e7=U.n(tit);function t7(e){return!!e.or}function n7(e){return!!e.and}function i7(e){return!!e.not}function DN(e,t){if(i7(e))DN(e.not,t);else if(n7(e))for(const n of e.and)DN(n,t);else if(t7(e))for(const n of e.or)DN(n,t);else t(e)}function Hv(e,t){return i7(e)?{not:Hv(e.not,t)}:n7(e)?{and:e.and.map(n=>Hv(n,t))}:t7(e)?{or:e.or.map(n=>Hv(n,t))}:t(e)}const Nd=eit(),ei=Qnt();function Uv(e,t){const n={};for(const i of t)_c(e,i)&&(n[i]=e[i]);return n}function Du(e,t){const n=Object.assign({},e);for(const i of t)delete n[i];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>e7()(e)).join(",")})`};const Pr=e7();function Pi(e){if(To(e))return e;const t=Jn(e)?e:e7()(e);if(t.length<250)return t;let n=0;for(let i=0;i<t.length;i++)n=(n<<5)-n+t.charCodeAt(i),n&=n;return n}function r7(e){return!1===e||null===e}function ai(e,t){return e.includes(t)}function Gv(e,t){let n=0;for(const[i,r]of e.entries())if(t(r,i,n++))return!0;return!1}function o7(e,t){let n=0;for(const[i,r]of e.entries())if(!t(r,i,n++))return!1;return!0}function Ade(e,...t){for(const n of t)nit(e,null!=n?n:{});return e}function nit(e,t){for(const n of Ye(t))J9(e,n,t[n],!0)}function Od(e,t){const n=[],i={};let r;for(const o of e)r=t(o),!(r in i)&&(i[r]=1,n.push(o));return n}function iit(e,t){const n=Ye(e),i=Ye(t);if(n.length!==i.length)return!1;for(const r of n)if(e[r]!==t[r])return!1;return!0}function Ide(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function s7(e,t){for(const n of e)if(t.has(n))return!0;return!1}function a7(e){const t=new Set;for(const n of e){const r=qC(n).map((s,a)=>0===a?s:`[${s}]`),o=r.map((s,a)=>r.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function l7(e,t){return void 0===e||void 0===t||s7(a7(e),a7(t))}function br(e){return 0===Ye(e).length}const Ye=Object.keys,Ta=Object.values,ZC=Object.entries;function Bw(e){return!0===e||!1===e}function to(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function jw(e,t){return i7(e)?`!(${jw(e.not,t)})`:n7(e)?`(${e.and.map(n=>jw(n,t)).join(") && (")})`:t7(e)?`(${e.or.map(n=>jw(n,t)).join(") || (")})`:t(e)}function SN(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&SN(e[n],t)&&delete e[n],br(e)}function Vw(e){return e.charAt(0).toUpperCase()+e.substr(1)}function u7(e,t="datum"){const n=qC(e),i=[];for(let r=1;r<=n.length;r++){const o=`[${n.slice(0,r).map(Yi).join("][")}]`;i.push(`${t}${o}`)}return i.join(" && ")}function mde(e,t="datum"){return`${t}[${Yi(qC(e).join("."))}]`}function rit(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function wc(e){return`${qC(e).map(rit).join("\\.")}`}function II(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function c7(e){return`${qC(e).join(".")}`}function Wv(e){return e?qC(e).length:0}function Wo(...e){for(const t of e)if(void 0!==t)return t}let vde=42;function yde(e){const t=++vde;return e?String(e)+t:t}function oit(){vde=42}function bde(e){return _de(e)?e:`__${e}`}function _de(e){return e.startsWith("__")}function zw(e){if(void 0!==e)return(e%360+360)%360}function TN(e){return!!To(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var Hw=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const rh="row",oh="column",kN="facet",ao="x",fs="y",xg="x2",Md="y2",Rd="radius",sh="radius2",Dg="theta",ah="theta2",Fd="latitude",Pd="longitude",Sg="latitude2",Ec="longitude2",Gl="color",Ld="fill",Bd="stroke",Wl="shape",lh="size",mI="angle",uh="opacity",KC="fillOpacity",XC="strokeOpacity",QC="strokeWidth",JC="strokeDash",Uw="text",Gw="order",Ww="detail",NN="key",vI="tooltip",ON="href",MN="url",RN="description",wde={theta:1,theta2:1,radius:1,radius2:1};function Ede(e){return e in wde}const g7={longitude:1,longitude2:1,latitude:1,latitude2:1},uit=Ye(g7),FN=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),wde),g7),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function $v(e){return e===Gl||e===Ld||e===Bd}const xde={row:1,column:1,facet:1},xc=Ye(xde),PN=Object.assign(Object.assign({},FN),xde),cit=Ye(PN),d7=Hw(PN,["order","detail","tooltip"]),Dde=Hw(d7,["row","column","facet"]);function git(e){return!!Dde[e]}function Sde(e){return!!PN[e]}Ye(d7),Ye(Dde);const dit=[xg,Md,Sg,Ec,ah,sh];function Tde(e){return yI(e)!==e}function yI(e){switch(e){case xg:return ao;case Md:return fs;case Sg:return Fd;case Ec:return Pd;case ah:return Dg;case sh:return Rd}return e}function ep(e){if(Ede(e))switch(e){case Dg:return"startAngle";case ah:return"endAngle";case Rd:return"outerRadius";case sh:return"innerRadius"}return e}function ch(e){switch(e){case ao:return xg;case fs:return Md;case Fd:return Sg;case Pd:return Ec;case Dg:return ah;case Rd:return sh}}function Dc(e){switch(e){case ao:case xg:return"width";case fs:case Md:return"height"}}Ye(FN);const LN=Hw(FN,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),hit=Ye(LN),tp={x:1,y:1},jd=Ye(tp);function Vd(e){return e in tp}const f7={theta:1,radius:1},Cit=Ye(f7);function BN(e){return"width"===e?ao:fs}const kde=Hw(LN,["text","tooltip","href","url","description","detail","key","order"]),pit=Ye(kde),Nde=Object.assign(Object.assign(Object.assign({},tp),f7),kde),jN=Ye(Nde);function np(e){return!!Nde[e]}const h7={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},vit=Hw(h7,["geoshape"]);function C7(e){switch(e){case ao:case fs:case Dg:case Rd:case lh:case mI:case QC:case uh:case KC:case XC:case xg:case Md:case ah:case sh:return;case kN:case rh:case oh:case Wl:case JC:case Uw:case vI:case ON:case MN:case RN:return"discrete";case Gl:case Ld:case Bd:return"flexible";case Fd:case Pd:case Sg:case Ec:case Ww:case NN:case Gw:return}}const Ode={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},bit={count:1,min:1,max:1};function gh(e){return!!e&&!!e.argmin}function ip(e){return!!e&&!!e.argmax}function p7(e){return Jn(e)&&!!Ode[e]}Ye(Ode);const _it=["count","valid","missing","distinct"];function Mde(e){return Jn(e)&&ai(_it,e)}const Eit=["count","sum","distinct","valid","missing"],xit=AI(["mean","average","median","q1","q3","min","max"]);function Rde(e){return Lw(e)&&(e=lO(e,void 0)),"bin"+Ye(e).map(t=>VN(e[t])?to(`_${t}_${ZC(e[t])}`):to(`_${t}_${e[t]}`)).join("")}function Lr(e){return!0===e||bI(e)&&!e.binned}function hl(e){return"binned"===e||bI(e)&&!0===e.binned}function bI(e){return Sr(e)}function VN(e){return null==e?void 0:e.param}function Fde(e){switch(e){case rh:case oh:case lh:case Gl:case Ld:case Bd:case QC:case uh:case KC:case XC:case Wl:return 6;case JC:return 4;default:return 10}}function $w(e){return e&&!!e.expr}function $l(e){const t=Ye(e||{}),n={};for(const i of t)n[i]=Su(e[i]);return n}function Pde(e){const{anchor:t,frame:n,offset:i,orient:r,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:g,subtitleFontWeight:d,subtitleLineHeight:f,subtitlePadding:h}=e,C=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},C),a?{fill:a}:{}),I=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),i?{offset:i}:{}),r?{orient:r}:{}),void 0!==o?{angle:o}:{}),void 0!==s?{limit:s}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{subtitleColor:l}:{}),u?{subtitleFont:u}:{}),c?{subtitleFontSize:c}:{}),g?{subtitleFontStyle:g}:{}),d?{subtitleFontWeight:d}:{}),f?{subtitleLineHeight:f}:{}),h?{subtitlePadding:h}:{});return{titleMarkConfig:p,subtitleMarkConfig:Uv(e,["align","baseline","dx","dy","limit"]),nonMarkTitleProperties:I,subtitle:m}}function rp(e){return Jn(e)||qt(e)&&Jn(e[0])}function Cn(e){return e&&!!e.signal}function op(e){return!!e.step}function dh(e){return!qt(e)&&"field"in e&&"data"in e}const kit=Ye({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Nit={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},A7=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var I7=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Lde(e){const t=qt(e.condition)?e.condition.map(Bde):Bde(e.condition);return Object.assign(Object.assign({},Su(e)),{condition:t})}function Su(e){if($w(e)){const{expr:t}=e,n=I7(e,["expr"]);return Object.assign({signal:t},n)}return e}function Bde(e){if($w(e)){const{expr:t}=e,n=I7(e,["expr"]);return Object.assign({signal:t},n)}return e}function no(e){if($w(e)){const{expr:t}=e,n=I7(e,["expr"]);return Object.assign({signal:t},n)}return Cn(e)?e:void 0!==e?{value:e}:void 0}function jde(e){return Cn(e)?e.signal:Yi(e.value)}function fh(e){return Cn(e)?e.signal:null==e?null:Yi(e)}function Vde(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function dr(e,t,n,i={}){const{vgChannel:r,ignoreVgConfig:o}=i;return r&&void 0!==t[r]?t[r]:void 0!==t[e]?t[e]:!o||r&&r!==e?_I(e,t,n,i):void 0}function _I(e,t,n,{vgChannel:i}={}){return Wo(i?zN(e,t,n.style):void 0,zN(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function zN(e,t,n){return zde(e,Vde(t),n)}function zde(e,t,n){let i;t=Fr(t);for(const r of t){const o=n[r];o&&void 0!==o[e]&&(i=o[e])}return i}function Hde(e,t){return Fr(e).reduce((n,i)=>{var r;return n.field.push(bt(i,t)),n.order.push(null!==(r=i.sort)&&void 0!==r?r:"ascending"),n},{field:[],order:[]})}function Ude(e,t){const n=[...e];return t.forEach(i=>{for(const r of n)if(Nd(r,i))return;n.push(i)}),n}function Gde(e,t){return Nd(e,t)||!t?e:e?[...Fr(e),...Fr(t)].join(", "):t}function Wde(e,t){const n=e.value,i=t.value;if(null==n||null===i)return{explicit:e.explicit,value:null};if((rp(n)||Cn(n))&&(rp(i)||Cn(i)))return{explicit:e.explicit,value:Gde(n,i)};if(rp(n)||Cn(n))return{explicit:e.explicit,value:n};if(rp(i)||Cn(i))return{explicit:e.explicit,value:i};if(!(rp(n)||Cn(n)||rp(i)||Cn(i)))return{explicit:e.explicit,value:Ude(n,i)};throw new Error("It should never reach here")}function m7(e){return`Invalid specification ${Pr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function $de(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function Yde(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function qde(e){return e?`Dropping "fit-${e}" because spec has discrete ${Dc(e)}.`:'Dropping "fit" because spec has discrete size.'}function v7(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Zde(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Rit(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function Kde(e){return`Selection not supported for ${e} yet.`}function Xde(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}function Qde(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function Yit(e){return`Ignoring an invalid transform: ${Pr(e)}.`}function Jde(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function efe(e){return`Invalid field type "${e}".`}function tfe(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has ${n&&i?"fill and stroke":n?"fill":"stroke"}.`}function y7(e,t){return`Dropping ${Pr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function HN(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function irt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function rrt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function b7(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function grt(e){return`Using unaggregated domain with raw field has no effect (${Pr(e)}).`}function drt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function frt(e){return`Unaggregated domain is currently unsupported for log scale (${Pr(e)}).`}function nfe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function ife(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const rfe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function UN(e,t){return`Invalid ${e}: ${Pr(t)}.`}function ofe(e){return`1D error band does not support ${e}.`}function sfe(e){return`Channel ${e} is required for "binned" bin.`}const afe=function(e,t){let n=2;return{level(i){return arguments.length?(n=+i,this):n},error(){return n>=1&&vN("error","ERROR",arguments),this},warn(){return n>=2&&vN("warn","WARN",arguments),this},info(){return n>=3&&vN("log","INFO",arguments),this},debug(){return n>=4&&vN("log","DEBUG",arguments),this}}}();let zd=afe;function lt(...e){zd.warn(...e)}function wI(e){if(e&&Sr(e))for(const t of w7)if(t in e)return!0;return!1}new WeakMap;const ufe=["january","february","march","april","may","june","july","august","september","october","november","december"],Lrt=ufe.map(e=>e.substr(0,3)),cfe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Brt=cfe.map(e=>e.substr(0,3));function _7(e,t){const n=[];if(t&&void 0!==e.day&&Ye(e).length>1&&(lt(function(e){return`Dropping day from datetime ${Pr(e)} as day cannot be combined with other units.`}(e)),delete(e=ei(e)).day),n.push(void 0!==e.year?e.year:2012),void 0!==e.month){const i=t?function(e){if(TN(e)&&(e=+e),To(e))return e-1;{const t=e.toLowerCase(),n=ufe.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=Lrt.indexOf(i);if(-1!==r)return r;throw new Error(UN("month",e))}}(e.month):e.month;n.push(i)}else if(void 0!==e.quarter){const i=t?function(e){if(TN(e)&&(e=+e),To(e))return e>4&&lt(UN("quarter",e)),e-1;throw new Error(UN("quarter",e))}(e.quarter):e.quarter;n.push(To(i)?3*i:`${i}*3`)}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const i=t?function(e){if(TN(e)&&(e=+e),To(e))return e%7;{const t=e.toLowerCase(),n=cfe.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=Brt.indexOf(i);if(-1!==r)return r;throw new Error(UN("day",e))}}(e.day):e.day;n.push(To(i)?i+1:`${i}+1`)}else n.push(1);for(const i of["hours","minutes","seconds","milliseconds"]){const r=e[i];n.push(void 0===r?0:r)}return n}function qw(e){const n=_7(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}const gfe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},w7=Ye(gfe);function E7(e){return e.startsWith("utc")}const Yrt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function x7(e){return w7.filter(t=>dfe(e,t))}function dfe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&"seconds"===t&&"i"===e.charAt(n-1)||e.length>n+3&&"day"===t&&"o"===e.charAt(n+3)||n>0&&"year"===t&&"f"===e.charAt(n-1))}function ffe(e){if(!e)return;const t=x7(e);return`timeUnitSpecifier(${Pr(t)}, ${Pr(Yrt)})`}function Cl(e){if(!e)return;let t;return Jn(e)?t={unit:e}:Sr(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),E7(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substr(3)}(t.unit)),t}function D7(e){return e&&!!e.field&&void 0!==e.equal}function S7(e){return e&&!!e.field&&void 0!==e.lt}function T7(e){return e&&!!e.field&&void 0!==e.lte}function k7(e){return e&&!!e.field&&void 0!==e.gt}function N7(e){return e&&!!e.field&&void 0!==e.gte}function O7(e){if(null==e?void 0:e.field){if(qt(e.range)&&2===e.range.length)return!0;if(Cn(e.range))return!0}return!1}function M7(e){return e&&!!e.field&&(qt(e.oneOf)||qt(e.in))}function hfe(e){return M7(e)||D7(e)||O7(e)||S7(e)||k7(e)||T7(e)||N7(e)}function Hd(e,t){return uO(e,{timeUnit:t,wrapTime:!0})}function Cfe(e,t=!0){var n;const{field:i}=e,r=null===(n=Cl(e.timeUnit))||void 0===n?void 0:n.unit,o=r?`time(${function(e,t,{end:n}={end:!1}){const i=u7(t),r=E7(e)?"utc":"";function o(l){return"quarter"===l?`(${r}quarter(${i})-1)`:`${r}${l}(${i})`}let s;const a={};for(const l of w7)dfe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),function(e){const n=_7(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}(a)}(r,i)})`:bt(e,{expr:"datum"});if(D7(e))return`${o}===${Hd(e.equal,r)}`;if(S7(e))return`${o}<${Hd(e.lt,r)}`;if(k7(e))return`${o}>${Hd(e.gt,r)}`;if(T7(e))return`${o}<=${Hd(e.lte,r)}`;if(N7(e))return`${o}>=${Hd(e.gte,r)}`;if(M7(e))return`indexof([${function(e,t){return e.map(n=>Hd(n,t))}(e.oneOf,r).join(",")}], ${o}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return R7(o,e.valid);if(O7(e)){const{range:s}=e,a=Cn(s)?{signal:`${s.signal}[0]`}:s[0],l=Cn(s)?{signal:`${s.signal}[1]`}:s[1];if(null!==a&&null!==l&&t)return"inrange("+o+", ["+Hd(a,r)+", "+Hd(l,r)+"])";const u=[];return null!==a&&u.push(`${o} >= ${Hd(a,r)}`),null!==l&&u.push(`${o} <= ${Hd(l,r)}`),u.length>0?u.join(" && "):"true"}throw new Error(`Invalid field predicate: ${Pr(e)}`)}function R7(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function eot(e){var t;return hfe(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=Cl(e.timeUnit))||void 0===t?void 0:t.unit}):e}const EI={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},xI=EI.quantitative,F7=EI.ordinal,Yv=EI.temporal,P7=EI.nominal,qv=EI.geojson;Ye(EI);const GN={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function iot(e,t){const n=GN[e],i=GN[t];return n===i||"ordinal-position"===n&&"time"===i||"ordinal-position"===i&&"time"===n}Ye(GN);const rot={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function pfe(e){return rot[e]}const Afe=["linear","log","pow","sqrt","symlog","time","utc"],oot=AI(Afe),sot=AI(["linear","log","pow","sqrt","symlog"]),lot=AI(["quantile","quantize","threshold"]),cot=AI(Afe.concat(["quantile","quantize","threshold","sequential","identity"])),got=AI(["ordinal","bin-ordinal","point","band"]);function ka(e){return e in got}function Tu(e){return e in cot}function Tg(e){return e in oot}function Zw(e){return e in lot}function Ife(e){return null==e?void 0:e.param}const L7={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},pot=(Ye(L7),function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(L7,["type","domain","range","rangeMax","rangeMin","scheme"])),Aot=Ye(pot);function B7(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Tg(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return Tg(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return Tg(e);case"nice":return Tg(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Tu(e)&&!ai(["log","time","utc","threshold","quantile"],e)}}function mfe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return $v(e)?void 0:function(e){return`Cannot use the scale property "${e}" with non-color channel.`}(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}const Na={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},vfe=Na.arc,WN=Na.area,$N=Na.bar,vot=Na.image,YN=Na.line,qN=Na.point,yot=Na.rect,ZN=Na.rule,yfe=Na.text,j7=Na.tick,bot=Na.trail,V7=Na.circle,z7=Na.square,bfe=Na.geoshape;function ap(e){return["line","area","trail"].includes(e)}function _fe(e){return["rect","bar","image","arc"].includes(e)}const wfe=Ye(Na);function kg(e){return e.type}AI(wfe);const xot=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],Efe=Ye({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),xfe=Ye({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1});function Zv(e){return e&&null!=e.band}const Tot={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]};function H7(e){const{channel:t,channelDef:n,markDef:i,scale:r,config:o}=e,s=Tfe(e);return Et(n)&&!Mde(n.aggregate)&&r&&Tg(r.get("type"))&&!1===r.get("zero")?Sfe({fieldDef:n,channel:t,markDef:i,ref:s,config:o}):s}function Sfe({fieldDef:e,channel:t,markDef:n,ref:i,config:r}){return ap(n.type)||null===dr("invalid",n,r)?i:[Rot(e,t),i]}function Rot(e,t){const n=U7(e,!0),r="y"===yI(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function U7(e,t=!0){return R7(Jn(e)?e:bt(e,{expr:"datum"}),!t)}function DI(e,t,n,i){const r={};if(t&&(r.scale=t),lp(e)){const{datum:o}=e;wI(o)?r.signal=qw(o):Cn(o)?r.signal=o.signal:$w(o)?r.signal=o.expr:r.value=o}else r.field=bt(e,n);if(i){const{offset:o,band:s}=i;o&&(r.offset=o),s&&(r.band=s)}return r}function KN({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:i,startSuffix:r,bandPosition:o=.5}){const s=0<o&&o<1?"datum":void 0,a=bt(t,{expr:s,suffix:r}),l=void 0!==n?bt(n,{expr:s}):bt(t,{suffix:"end",expr:s}),u={};if(0===o||1===o)u.scale=e,u.field=0===o?a:l;else{const c=Cn(o)?`${o.signal} * ${a} + (1-${o.signal}) * ${l}`:`${o} * ${a} + ${1-o} * ${l}`;u.signal=`scale("${e}", ${c})`}return i&&(u.offset=i),u}function Tfe({channel:e,channelDef:t,channel2Def:n,markDef:i,config:r,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){var g;if(t){if(Kn(t)){if(Sc(t)){null!=c||(c=zfe({fieldDef:t,fieldDef2:n,markDef:i,config:r}));const{bin:f,timeUnit:h,type:C}=t;if(Lr(f)||c&&h&&C===Yv)return(null==a?void 0:a.impute)?DI(t,o,{binSuffix:"mid"},{offset:l}):c?KN({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):DI(t,o,Qw(t,e)?{binSuffix:"range"}:{},{offset:l});if(hl(f)){if(Et(n))return KN({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});lt(sfe(e===ao?xg:Md))}}const d=null==s?void 0:s.get("type");return DI(t,o,ka(d)?{binSuffix:"range"}:{},{offset:l,band:"band"===d?null!==(g=null!=c?c:t.bandPosition)&&void 0!==g?g:.5:void 0})}if(Ng(t)){const f=l?{offset:l}:{};return Object.assign(Object.assign({},Kw(e,t.value)),f)}}return function(e){return"function"==typeof e}(u)&&(u=u()),u&&Object.assign(Object.assign({},u),l?{offset:l}:{})}function Kw(e,t){return ai(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:ai(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:no(t)}function SI(e){return e&&"number"!==e&&"time"!==e}function kfe(e,t,n){return`${e}(${t}${n?`, ${Pr(n)}`:""})`}function G7({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:r,config:o}){var s,a;if(SI(n))return W7({fieldOrDatumDef:e,format:t,formatType:n,expr:i,config:o});const l=Nfe(e,i,r);if(Qv(e)){const u=function(e,t,n,i,r){return!t||n?`${r?"utc":"time"}Format(${e}, '${n=Jn(n)?n:i}')`:function(e,t,n){if(!e)return;const i=ffe(e);return`${n||E7(e)?"utc":"time"}Format(${t}, ${i})`}(t,e,r)}(l,Et(e)?null===(s=Cl(e.timeUnit))||void 0===s?void 0:s.unit:void 0,t,o.timeFormat,TI(e)&&"utc"===(null===(a=e.scale)||void 0===a?void 0:a.type));return u?{signal:u}:void 0}return t=Rfe(iO(e),t,o),Et(e)&&Lr(e.bin)?{signal:XN(l,bt(e,{expr:i,binSuffix:"end"}),t,n,o)}:t||"quantitative"===iO(e)?{signal:`${Ffe(l,t)}`}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function Nfe(e,t,n){return Et(e)?n?`${bt(e,{expr:t,suffix:"end"})}-${bt(e,{expr:t,suffix:"start"})}`:bt(e,{expr:t}):function(e){const{datum:t}=e;return wI(t)?qw(t):`${Pr(t)}`}(e)}function W7({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:r,config:o,field:s}){return null!=s||(s=Nfe(e,i,r)),Et(e)&&Lr(e.bin)?{signal:XN(s,bt(e,{expr:i,binSuffix:"end"}),t,n,o)}:{signal:kfe(n,s,t)}}function Ofe(e,t,n,i,r,o){var s;if(!SI(i))return Qv(e)?function(e,t,n,i){return e||(t?{signal:ffe(t)}:i?void 0:n.timeFormat)}(n,Et(e)?null===(s=Cl(e.timeUnit))||void 0===s?void 0:s.unit:void 0,r,o):Rfe(t,n,r)}function Mfe(e,t,n){return e&&(Cn(e)||"number"===e||"time"===e)?e:Qv(t)&&"time"!==n&&"utc"!==n?"time":void 0}function Rfe(e,t,n){return Jn(t)?t:e===xI?n.numberFormat:void 0}function Ffe(e,t){return`format(${e}, "${t||""}")`}function Pfe(e,t,n,i){var r;return SI(n)?kfe(n,e,t):Ffe(e,null!==(r=Jn(t)?t:void 0)&&void 0!==r?r:i.numberFormat)}function XN(e,t,n,i,r){const o=Pfe(e,n,i,r),s=Pfe(t,n,i,r);return`${R7(e,!1)} ? "null" : ${o} + " \u2013 " + ${s}`}const QN="min",jot={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Lfe(e){return e in jot}function Bfe(e){return!!e&&!!e.encoding}function Ud(e){return!(!e||"count"!==e.op&&!e.field)}function jfe(e){return!!e&&qt(e)}function Xw(e){return"row"in e||"column"in e}function $7(e){return!!e&&"header"in e}function JN(e){return"facet"in e}var Y7=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Vfe(e){const{field:t,timeUnit:n,bin:i,aggregate:r}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),i?{bin:i}:{}),r?{aggregate:r}:{}),{field:t})}function q7(e){return"sort"in e}function zfe({fieldDef:e,fieldDef2:t,markDef:n,config:i}){if(Kn(e)&&void 0!==e.bandPosition)return e.bandPosition;if(Et(e)){const{timeUnit:r,bin:o}=e;if(r&&!t)return _fe(n.type)?0:_I("timeUnitBandPosition",n,i);if(Lr(o))return.5}}function Hfe({channel:e,fieldDef:t,fieldDef2:n,markDef:i,config:r,scaleType:o,useVlSizeChannel:s}){var a,l,u;const c=Dc(e),g=dr(s?"size":c,i,r,{vgChannel:c});if(void 0!==g)return g;if(Et(t)){const{timeUnit:d,bin:f}=t;if(d&&!n)return{band:_I("timeUnitBandSize",i,r)};if(Lr(f)&&!ka(o))return{band:1}}return _fe(i.type)?o?ka(o)?(null===(a=r[i.type])||void 0===a?void 0:a.discreteBandSize)||{band:1}:null===(l=r[i.type])||void 0===l?void 0:l.continuousBandSize:null===(u=r[i.type])||void 0===u?void 0:u.discreteBandSize:void 0}function Ufe(e,t,n,i){return!!(Lr(e.bin)||e.timeUnit&&Sc(e)&&"temporal"===e.type)&&void 0!==zfe({fieldDef:e,fieldDef2:t,markDef:n,config:i})}function eO(e){return e&&"condition"in e}function tO(e){const t=e&&e.condition;return!!t&&!qt(t)&&Et(t)}function nO(e){const t=e&&e.condition;return!!t&&!qt(t)&&Kn(t)}function Et(e){return e&&(!!e.field||"count"===e.aggregate)}function iO(e){return e&&e.type}function lp(e){return e&&"datum"in e}function Gd(e){return Sc(e)&&!oO(e)||rO(e)}function rO(e){return lp(e)&&To(e.datum)}function Kn(e){return Et(e)||lp(e)}function Sc(e){return e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Ng(e){return e&&"value"in e&&"value"in e}function TI(e){return e&&("scale"in e||"sort"in e)}function Z7(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Gfe(e){return e&&"legend"in e}function Wfe(e){return e&&("format"in e||"formatType"in e)}function Uot(e){return Du(e,["legend","axis","header","scale"])}function bt(e,t={}){var n,i,r;let o=e.field;const s=t.prefix;let a=t.suffix,l="";if(function(e){return"count"===e.aggregate}(e))o=bde("count");else{let u;if(!t.nofn)if(function(e){return"op"in e}(e))u=e.op;else{const{bin:c,aggregate:g,timeUnit:d}=e;Lr(c)?(u=Rde(c),a=(null!==(n=t.binSuffix)&&void 0!==n?n:"")+(null!==(i=t.suffix)&&void 0!==i?i:"")):g?ip(g)?(l=`["${o}"]`,o=`argmax_${g.argmax}`):gh(g)?(l=`["${o}"]`,o=`argmin_${g.argmin}`):u=String(g):d&&(u=function(e){const t=Cl(e),{utc:n}=t,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["utc"]);return i.unit?(n?"utc":"")+Ye(i).map(r=>to(`${"unit"===r?"":`_${r}_`}${i[r]}`)).join(""):(n?"utc":"")+"timeunit"+Ye(i).map(r=>to(`_${r}_${i[r]}`)).join("")}(d),a=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(null!==(r=t.suffix)&&void 0!==r?r:""))}u&&(o=o?`${u}_${o}`:u)}return a&&(o=`${o}_${a}`),s&&(o=`${s}_${o}`),t.forAs?c7(o):t.expr?mde(o,t.expr)+l:wc(o)+l}function oO(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Et(e)&&!!e.bin;case"temporal":return!1}throw new Error(efe(e.type))}const $fe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:i,field:r}=e;if(ip(t))return`${r} for argmax(${t.argmax})`;if(gh(t))return`${r} for argmin(${t.argmin})`;const o=Cl(i),s=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||Lr(n)&&"bin";return s?`${s.toUpperCase()}(${r})`:r}(e);default:return function(e,t){var n;const{field:i,bin:r,timeUnit:o,aggregate:s}=e;if("count"===s)return t.countTitle;if(Lr(r))return`${i} (binned)`;if(o){const a=null===(n=Cl(o))||void 0===n?void 0:n.unit;if(a)return`${i} (${x7(a).join("-")})`}else if(s)return ip(s)?`${i} for max ${s.argmax}`:gh(s)?`${i} for min ${s.argmin}`:`${Vw(s)} of ${i}`;return i}(e,t)}};let Yfe=$fe;function qfe(e){Yfe=e}function Kv(e,t,{allowDisabling:n,includeDefault:i=!0}){var r,o;const s=null===(r=K7(e))||void 0===r?void 0:r.title;if(!Et(e))return s;const a=e,l=i?X7(a,t):void 0;return n?Wo(s,a.title,l):null!==(o=null!=s?s:a.title)&&void 0!==o?o:l}function K7(e){return Z7(e)&&e.axis?e.axis:Gfe(e)&&e.legend?e.legend:$7(e)&&e.header?e.header:void 0}function X7(e,t){return Yfe(e,t)}function sO(e){var t;if(Wfe(e)){const{format:n,formatType:i}=e;return{format:n,formatType:i}}{const n=null!==(t=K7(e))&&void 0!==t?t:{},{format:i,formatType:r}=n;return{format:i,formatType:r}}}function Wd(e){return Et(e)?e:tO(e)?e.condition:void 0}function Cs(e){return Kn(e)?e:nO(e)?e.condition:void 0}function Zfe(e,t,n,i={}){return Jn(e)||To(e)||Lw(e)?(lt(function(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Pr(n)}}.`}(t,Jn(e)?"string":To(e)?"number":"boolean",e)),{value:e}):Kn(e)?aO(e,t,n,i):nO(e)?Object.assign(Object.assign({},e),{condition:aO(e.condition,t,n,i)}):e}function aO(e,t,n,i){if(Wfe(e)){const{formatType:o}=e,s=Y7(e,["format","formatType"]);if(SI(o)&&!n.customFormatTypes)return lt(Jde(t)),aO(s,t,n,i)}else{const r=Z7(e)?"axis":Gfe(e)?"legend":$7(e)?"header":null;if(r&&e[r]){const o=e[r],{formatType:a}=o,l=Y7(o,["format","formatType"]);if(SI(a)&&!n.customFormatTypes)return lt(Jde(t)),aO(Object.assign(Object.assign({},e),{[r]:l}),t,n,i)}}return Et(e)?Q7(e,t,i):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=To(n)?"quantitative":Jn(n)?"nominal":wI(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function Q7(e,t,{compositeMark:n=!1}={}){const{aggregate:i,timeUnit:r,bin:o,field:s}=e,a=Object.assign({},e);if(!n&&i&&!p7(i)&&!ip(i)&&!gh(i)&&(lt(function(e){return`Invalid aggregation operator "${e}".`}(i)),delete a.aggregate),r&&(a.timeUnit=Cl(r)),s&&(a.field=`${s}`),Lr(o)&&(a.bin=lO(o,t)),hl(o)&&!Vd(t)&&lt(function(e){return`Channel ${e} should not be used with "binned" bin.`}(t)),Sc(a)){const{type:l}=a,u=function(e){if(e)switch(e=e.toLowerCase(),e){case"q":case xI:return"quantitative";case"t":case Yv:return"temporal";case"o":case F7:return"ordinal";case"n":case P7:return"nominal";case qv:return"geojson"}}(l);l!==u&&(a.type=u),"quantitative"!==l&&Mde(i)&&(lt(function(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}(l,i)),a.type="quantitative")}else if(!Tde(t)){const l=function(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(q7(e)&&qt(e.sort))return"ordinal";const{aggregate:i,bin:r,timeUnit:o}=e;if(o)return"temporal";if(r||i&&!ip(i)&&!gh(i))return"quantitative";if(TI(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(GN[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}(a,t);a.type=l}if(Sc(a)){const{compatible:l,warning:u}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case rh:case oh:case kN:return oO(e)?Xv:{compatible:!1,warning:irt(t)};case ao:case fs:case Gl:case Ld:case Bd:case Uw:case Ww:case NN:case vI:case ON:case MN:case mI:case Dg:case Rd:case RN:return Xv;case Pd:case Ec:case Fd:case Sg:return n!==xI?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Xv;case uh:case KC:case XC:case QC:case lh:case ah:case sh:case xg:case Md:return"nominal"!==n||e.sort?Xv:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case Wl:case JC:return oO(e)||function(e){var t;return TI(e)&&Zw(null===(t=e.scale)||void 0===t?void 0:t.type)}(e)?Xv:{compatible:!1,warning:rrt(t)};case Gw:return"nominal"!==e.type||"sort"in e?Xv:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(a,t)||{};!1===l&&lt(u)}if(q7(a)&&Jn(a.sort)){const{sort:l}=a;if(Lfe(l))return Object.assign(Object.assign({},a),{sort:{encoding:l}});const u=l.substr(1);if("-"===l.charAt(0)&&Lfe(u))return Object.assign(Object.assign({},a),{sort:{encoding:u,order:"descending"}})}if($7(a)){const{header:l}=a;if(l){const{orient:u}=l,c=Y7(l,["orient"]);if(u)return Object.assign(Object.assign({},a),{header:Object.assign(Object.assign({},c),{labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u})})}}return a}function lO(e,t){return Lw(e)?{maxbins:Fde(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:Fde(t)})}const Xv={compatible:!0};function Qv(e){const{formatType:t}=sO(e);return"time"===t||!t&&function(e){return e&&("temporal"===e.type||Et(e)&&!!e.timeUnit)}(e)}function uO(e,{timeUnit:t,type:n,wrapTime:i,undefinedIfExprNotRequired:r}){var o;const s=t&&(null===(o=Cl(t))||void 0===o?void 0:o.unit);let l,a=s||"temporal"===n;return $w(e)?l=e.expr:Cn(e)?l=e.signal:wI(e)?(a=!0,l=qw(e)):(Jn(e)||To(e))&&a&&(l=`datetime(${Pr(e)})`,function(e){return!!gfe[e]}(s)&&(To(e)&&e<1e4||Jn(e)&&isNaN(Date.parse(e)))&&(l=qw({[s]:e}))),l?i&&a?`time(${l})`:l:r?void 0:Pr(e)}function Kfe(e,t){const{type:n}=e;return t.map(i=>{const r=uO(i,{timeUnit:Et(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:i})}function Qw(e,t){return Lr(e.bin)?np(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const Xfe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Jw(e){return e&&e.condition}const Qfe=["domain","grid","labels","ticks","title"],est={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Jfe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ehe=Object.assign(Object.assign({},Jfe),{style:1,labelExpr:1,encoding:1});function the(e){return!!ehe[e]}Ye(ehe);const nhe=Ye({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});function hh(e){return"mark"in e}class cO{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return!!hh(t)&&function(e){return kg(e)?e.type:e}(t.mark)===this.name}}function kI(e,t){const n=e&&e[t];return!!n&&(qt(n)?Gv(n,i=>!!i.field):Et(n)||tO(n))}function J7(e){return Gv(cit,t=>{if(kI(e,t)){const n=e[t];if(qt(n))return Gv(n,i=>!!i.aggregate);{const i=Wd(n);return i&&!!i.aggregate}}return!1})}function ihe(e,t){const n=[],i=[],r=[],o=[],s={};return eV(e,(a,l)=>{if(Et(a)){const{field:u,aggregate:c,bin:g,timeUnit:d}=a,f=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(a,["field","aggregate","bin","timeUnit"]);if(c||d||g){const h=K7(a),C=null==h?void 0:h.title;let p=bt(a,{forAs:!0});const I=Object.assign(Object.assign(Object.assign({},C?[]:{title:Kv(a,t,{allowDisabling:!0})}),f),{field:p});if(c){let m;if(ip(c)?(m="argmax",p=bt({op:"argmax",field:c.argmax},{forAs:!0}),I.field=`${p}.${u}`):gh(c)?(m="argmin",p=bt({op:"argmin",field:c.argmin},{forAs:!0}),I.field=`${p}.${u}`):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(m=c),m){const y={op:m,as:p};u&&(y.field=u),o.push(y)}}else if(n.push(p),Sc(a)&&Lr(g))i.push({bin:g,field:u,as:p}),n.push(bt(a,{binSuffix:"end"})),Qw(a,l)&&n.push(bt(a,{binSuffix:"range"})),Vd(l)&&(s[`${l}2`]={field:`${p}_end`}),I.bin="binned",Tde(l)||(I.type=xI);else if(d){r.push({timeUnit:d,field:u,as:p});const m=Sc(a)&&a.type!==Yv&&"time";m&&(l===Uw||l===vI?I.formatType=m:function(e){return!!LN[e]}(l)?I.legend=Object.assign({formatType:m},I.legend):Vd(l)&&(I.axis=Object.assign({formatType:m},I.axis)))}s[l]=I}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:i,timeUnits:r,aggregate:o,groupby:n,encoding:s}}function ist(e,t,n,i){return Ye(e).reduce((r,o)=>{if(!Sde(o))return lt(function(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}(o)),r;const s=e[o];if("angle"===o&&"arc"===t&&!e.theta&&(lt("Arc marks uses theta channel rather than angle, replacing angle with theta."),o=Dg),!function(e,t,n){const i=function(e,t){return function(e){switch(e){case Gl:case Ld:case Bd:case RN:case Ww:case NN:case vI:case ON:case Gw:case uh:case KC:case XC:case QC:case kN:case rh:case oh:return h7;case ao:case fs:case Fd:case Pd:return vit;case xg:case Md:case Sg:case Ec:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case lh:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case JC:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Wl:return{point:"always",geoshape:"always"};case Uw:return{text:"always"};case mI:return{point:"always",square:"always",text:"always"};case MN:return{image:"always"};case Dg:case Rd:return{text:"always",arc:"always"};case ah:case sh:return{arc:"always"}}}(e)[t]}(t,n);if(!i)return!1;if("binned"===i){const r=e[t===xg?ao:fs];return!!(Et(r)&&Et(e[t])&&hl(r.bin))}return!0}(e,o,t))return lt(HN(o,t)),r;if(o===lh&&"line"===t){const a=Wd(e[o]);if(null==a?void 0:a.aggregate)return lt("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),r}if(o===Gl&&(n?"fill"in e:"stroke"in e))return lt(tfe("encoding",{fill:"fill"in e,stroke:"stroke"in e})),r;if(o===Ww||o===Gw&&!qt(s)&&!Ng(s)||o===vI&&qt(s))s&&(r[o]=Fr(s).reduce((a,l)=>(Et(l)?a.push(Q7(l,o)):lt(y7(l,o)),a),[]));else{if(o===vI&&null===s)r[o]=null;else if(!(Et(s)||lp(s)||Ng(s)||eO(s)||Cn(s)))return lt(y7(s,o)),r;r[o]=Zfe(s,o,i)}return r},{})}function gO(e,t){const n={};for(const i of Ye(e)){const r=Zfe(e[i],i,t,{compositeMark:!0});n[i]=r}return n}function eV(e,t,n){if(e)for(const i of Ye(e)){const r=e[i];if(qt(r))for(const o of r)t.call(n,o,i);else t.call(n,r,i)}}function rhe(e,t){return Ye(t).reduce((n,i)=>{switch(i){case ao:case fs:case ON:case RN:case MN:case xg:case Md:case Dg:case ah:case Rd:case sh:case Fd:case Pd:case Sg:case Ec:case Uw:case Wl:case mI:case vI:return n;case Gw:if("line"===e||"trail"===e)return n;case Ww:case NN:{const r=t[i];if(qt(r)||Et(r))for(const o of Fr(r))o.aggregate||n.push(bt(o,{}));return n}case lh:if("trail"===e)return n;case Gl:case Ld:case Bd:case uh:case KC:case XC:case JC:case QC:{const r=Wd(t[i]);return r&&!r.aggregate&&n.push(bt(r,{})),n}}},[])}var ohe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function tV(e,t,n,i=!0){return"tooltip"in n?{tooltip:n.tooltip}:{tooltip:[...e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=i?` of ${nV(t)}`:"";return{field:s+t.field,type:t.type,title:Cn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),...Od(function(e){const t=[];for(const n of Ye(e))if(kI(e,n)){const r=Fr(e[n]);for(const o of r)Et(o)?t.push(o):tO(o)&&t.push(o.condition)}return t}(n).map(Uot),Pi)]}}function nV(e){const{title:t,field:n}=e;return Wo(t,n)}function iV(e,t,n,i,r){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c,extraEncoding:g={}})=>{const d=nV(n);return she(e,a,r,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${u}_${n.field}`,type:n.type},void 0!==d?{title:d}:{}),void 0!==o?{scale:o}:{}),void 0!==s?{axis:s}:{})},Jn(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{}),i),g)})}}function she(e,t,n,i){const{clip:r,color:o,opacity:s}=e,a=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},i),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),r?{clip:r}:{}),o?{color:o}:{}),s?{opacity:s}:{}),kg(i.mark)?i.mark:{type:i.mark}),{style:`${a}-${t}`}),Lw(e[t])?{}:e[t])})]:[]}function ahe(e,t,n){const{encoding:i}=e,r="vertical"===t?"y":"x",s=i[`${r}2`],a=i[`${r}Error`],l=i[`${r}Error2`];return{continuousAxisChannelDef:dO(i[r],n),continuousAxisChannelDef2:dO(s,n),continuousAxisChannelDefError:dO(a,n),continuousAxisChannelDefError2:dO(l,n),continuousAxis:r}}function dO(e,t){if(null==e?void 0:e.aggregate){const{aggregate:n}=e,i=ohe(e,["aggregate"]);return n!==t&&lt(function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(n,t)),i}return e}function lhe(e,t){const{mark:n,encoding:i}=e,{x:r,y:o}=i;if(kg(n)&&n.orient)return n.orient;if(Gd(r)){if(Gd(o)){const s=Et(r)&&r.aggregate,a=Et(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Qv(o)&&!Qv(r)?"horizontal":"vertical"}return"horizontal"}if(Gd(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}var fO=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const hO="boxplot",lst=new cO(hO,che);function uhe(e){return To(e)?"tukey":e}function che(e,{config:t}){var n,i;e=Object.assign(Object.assign({},e),{encoding:gO(e.encoding,t)});const{mark:r,params:s}=e,l=fO(e,["mark","encoding","params","projection"]),u=kg(r)?r:{type:r};s&&lt(Kde("boxplot"));const c=null!==(n=u.extent)&&void 0!==n?n:t.boxplot.extent,g=dr("size",u,t),d=uhe(c),{bins:f,timeUnits:h,transform:C,continuousAxisChannelDef:p,continuousAxis:I,groupby:m,aggregate:y,encodingWithoutContinuousAxis:_,ticksOrient:N,boxOrient:O,customTooltipWithoutAggregatedField:k}=function(e,t,n){const i=lhe(e,hO),{continuousAxisChannelDef:r,continuousAxis:o}=ahe(e,i,hO),s=r.field,a=uhe(t),l=[...ghe(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:("min-max"===a?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===a?"upper_whisker_":"max_")+s}],u="min-max"===a||"tukey"===a?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],f=fO(e.encoding,["symbol"==typeof o?o:o+""]),{customTooltipWithoutAggregatedField:h,filteredEncoding:C}=function(e){const{tooltip:t}=e,n=ohe(e,["tooltip"]);if(!t)return{filteredEncoding:n};let i,r;if(qt(t)){for(const o of t)o.aggregate?(i||(i=[]),i.push(o)):(r||(r=[]),r.push(o));i&&(n.tooltip=i)}else t.aggregate?n.tooltip=t:r=t;return qt(r)&&1===r.length&&(r=r[0]),{customTooltipWithoutAggregatedField:r,filteredEncoding:n}}(f),{bins:p,timeUnits:I,aggregate:m,groupby:y,encoding:_}=ihe(C,n),N="vertical"===i?"horizontal":"vertical",O=i;return{bins:p,timeUnits:I,transform:[...p,...I,{aggregate:[...m,...l],groupby:y},...u],groupby:y,aggregate:m,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:_,ticksOrient:N,boxOrient:O,customTooltipWithoutAggregatedField:h}}(e,c,t),{color:M,size:V}=_,z=fO(_,["color","size"]),H=uf=>iV(u,I,p,uf,t.boxplot),ee=H(z),se=H(_),_e=H(Object.assign(Object.assign({},z),V?{size:V}:{})),ae=tV([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],p,_),le={type:"tick",color:"black",opacity:1,orient:N,invalid:null,aria:!1},q="min-max"===d?ae:tV([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,_),te=[...ee({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:q}),...ee({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:q}),...ee({partName:"ticks",mark:le,positionPrefix:"lower_whisker",extraEncoding:q}),...ee({partName:"ticks",mark:le,positionPrefix:"upper_whisker",extraEncoding:q})],Te=[..."tukey"!==d?te:[],...se({partName:"box",mark:Object.assign(Object.assign({type:"bar"},g?{size:g}:{}),{orient:O,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:ae}),..._e({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Sr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),g?{size:g}:{}),{orient:N,aria:!1}),positionPrefix:"mid_box",extraEncoding:ae})];if("min-max"===d)return Object.assign(Object.assign({},l),{transform:(null!==(i=l.transform)&&void 0!==i?i:[]).concat(C),layer:Te});const Xe=`datum["lower_box_${p.field}"]`,at=`datum["upper_box_${p.field}"]`,zt=`(${at} - ${Xe})`,Bn=`${Xe} - ${c} * ${zt}`,Xt=`${at} + ${c} * ${zt}`,Zi=`datum["${p.field}"]`,mn={joinaggregate:ghe(p.field),groupby:m},ar={transform:[{filter:`(${Bn} <= ${Zi}) && (${Zi} <= ${Xt})`},{aggregate:[{op:"min",field:p.field,as:`lower_whisker_${p.field}`},{op:"max",field:p.field,as:`upper_whisker_${p.field}`},{op:"min",field:`lower_box_${p.field}`,as:`lower_box_${p.field}`},{op:"max",field:`upper_box_${p.field}`,as:`upper_box_${p.field}`},...y],groupby:m}],layer:te},_t=fO(z,["tooltip"]),{scale:pn,axis:Xn}=p,Qe=nV(p),Ko=Du(Xn,["title"]),Li=she(u,"outliers",t.boxplot,{transform:[{filter:`(${Zi} < ${Bn}) || (${Zi} > ${Xt})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[I]:Object.assign(Object.assign(Object.assign({field:p.field,type:p.type},void 0!==Qe?{title:Qe}:{}),void 0!==pn?{scale:pn}:{}),br(Ko)?{}:{axis:Ko})},_t),M?{color:M}:{}),k?{tooltip:k}:{})})[0];let Mo;const _o=[...f,...h,mn];return Li?Mo={transform:_o,layer:[Li,ar]}:(Mo=ar,Mo.transform.unshift(..._o)),Object.assign(Object.assign({},l),{layer:[Mo,{transform:C,layer:Te}]})}function ghe(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}var dhe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const rV="errorbar",gst=new cO(rV,fhe);function fhe(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:gO(e.encoding,t)});const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=hhe(e,rV,t);delete o.size;const c=iV(a,r,i,o,t.errorbar),g=a.thickness,d=a.size,f=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==g?{thickness:g}:{}),void 0!==d?{size:d}:{}),h=[...c({partName:"ticks",mark:f,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:f,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==g?{size:g}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),h.length>1?{layer:h}:Object.assign({},h[0]))}function hhe(e,t,n){var i;const{mark:r,encoding:o,params:s}=e,l=dhe(e,["mark","encoding","params","projection"]),u=kg(r)?r:{type:r};s&&lt(Kde(t));const{orient:c,inputType:g}=function(e,t){const{encoding:n}=e;if(function(e){return(Kn(e.x)||Kn(e.y))&&!Kn(e.x2)&&!Kn(e.y2)&&!Kn(e.xError)&&!Kn(e.xError2)&&!Kn(e.yError)&&!Kn(e.yError2)}(n))return{orient:lhe(e,t),inputType:"raw"};const i=function(e){return Kn(e.x2)||Kn(e.y2)}(n),r=function(e){return Kn(e.xError)||Kn(e.xError2)||Kn(e.yError)||Kn(e.yError2)}(n),o=n.x,s=n.y;if(i){if(r)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Kn(a)&&Kn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Kn(a)){if(Gd(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}if(Kn(l)){if(Gd(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}{const a=n.xError,u=n.yError,c=n.yError2;if(Kn(n.xError2)&&!Kn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Kn(c)&&!Kn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Kn(a)&&Kn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Kn(a)){if(Gd(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Kn(u)){if(Gd(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:C,continuousAxis:p}=ahe(e,c,t),{errorBarSpecificAggregate:I,postAggregateCalculates:m,tooltipSummary:y,tooltipTitleWithFieldName:_}=function(e,t,n,i,r,o,s,a){let l=[],u=[];const c=t.field;let g,d=!1;if("raw"===o){const f=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":a.errorbar.center,h=e.extent?e.extent:"mean"===f?"stderr":"iqr";if("median"===f!=("iqr"===h)&&lt(function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}(f,h,s)),"stderr"===h||"stdev"===h)l=[{op:h,field:c,as:`extent_${c}`},{op:f,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],g=[{fieldPrefix:"center_",titlePrefix:Vw(f)},{fieldPrefix:"upper_",titlePrefix:Che(f,h,"+")},{fieldPrefix:"lower_",titlePrefix:Che(f,h,"-")}],d=!0;else{let C,p,I;"ci"===h?(C="mean",p="ci0",I="ci1"):(C="median",p="q1",I="q3"),l=[{op:p,field:c,as:`lower_${c}`},{op:I,field:c,as:`upper_${c}`},{op:C,field:c,as:`center_${c}`}],g=[{fieldPrefix:"upper_",titlePrefix:Kv({field:c,aggregate:I,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Kv({field:c,aggregate:p,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Kv({field:c,aggregate:C,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&lt(function(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}(e.center,e.extent)),"aggregated-upper-lower"===o?(g=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):"aggregated-error"===o&&(g=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${i.field}"]`,as:`upper_${c}`}],u.push(r?{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`lower_${c}`}:{calculate:`datum["${c}"] - datum["${i.field}"]`,as:`lower_${c}`}));for(const f of u)g.push({fieldPrefix:f.as.substring(0,6),titlePrefix:II(II(f.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:g,tooltipTitleWithFieldName:d}}(u,d,f,h,C,g,t,n),M="x"===p?"x2":"y2",z="x"===p?"xError":"yError",ee="x"===p?"xError2":"yError2",_e=dhe(o,["symbol"==typeof p?p:p+"","symbol"==typeof M?M:M+"","symbol"==typeof z?z:z+"","symbol"==typeof ee?ee:ee+""]),{bins:ae,timeUnits:le,aggregate:q,groupby:te,encoding:Te}=ihe(_e,n),Xe=[...q,...I],at="raw"!==g?[]:te,zt=tV(y,d,Te,_);return{transform:[...null!==(i=l.transform)&&void 0!==i?i:[],...ae,...le,...0===Xe.length?[]:[{aggregate:Xe,groupby:at}],...m],groupby:at,continuousAxisChannelDef:d,continuousAxis:p,encodingWithoutContinuousAxis:Te,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:l,tooltipEncoding:zt}}function Che(e,t,n){return`${Vw(e)} ${n} ${t}`}const oV="errorband",Ist=new cO(oV,phe);function phe(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:gO(e.encoding,t)});const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=hhe(e,oV,t),u=s,c=iV(u,r,i,o,t.errorband),g=void 0!==e.encoding.x&&void 0!==e.encoding.y;let d={type:g?"area":"rect"},f={type:g?"line":"rule"};const h=Object.assign(Object.assign({},u.interpolate?{interpolate:u.interpolate}:{}),u.tension&&u.interpolate?{tension:u.tension}:{});return g?(d=Object.assign(Object.assign(Object.assign({},d),h),{ariaRoleDescription:"errorband"}),f=Object.assign(Object.assign(Object.assign({},f),h),{aria:!1})):u.interpolate?lt(ofe("interpolate")):u.tension&&lt(ofe("tension")),Object.assign(Object.assign({},a),{transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:f,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:f,positionPrefix:"upper",extraEncoding:l})]})}const sV={};function aV(e,t,n){const i=new cO(e,t);sV[e]={normalizer:i,parts:n}}aV(hO,che,["box","median","outliers","rule","ticks"]),aV(rV,fhe,["ticks","rule"]),aV(oV,phe,["band","borders"]);const vst=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Ahe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Ihe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},yst=Ye(Ahe),bst=Ye(Ihe),mhe=Ye({header:1,headerRow:1,headerColumn:1,headerFacet:1}),vhe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],yhe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},eE=(Ye(yhe),"_vgsid_"),wst={point:{on:"click",fields:[eE],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function lV(e){return!(!e||"legend"!==e&&!e.legend)}function uV(e){return lV(e)&&Sr(e)}function cV(e){return!!e.select}var Est=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function bhe(e){const t=[];for(const n of e||[]){if(cV(n))continue;const{expr:i,bind:r}=n,o=Est(n,["expr","bind"]);if(r&&i){const s=Object.assign(Object.assign({},o),{bind:r,init:i});t.push(s)}else{const s=Object.assign(Object.assign(Object.assign({},o),i?{update:i}:{}),r?{bind:r}:{});t.push(s)}}return t}function gV(e){return"concat"in e}function CO(e){return"vconcat"in e}function dV(e){return"hconcat"in e}function $d(e){return Sr(e)&&void 0!==e.step}function _he(e){return e.view||e.width||e.height}const Dst=Ye({align:1,bounds:1,center:1,columns:1,spacing:1});function fV(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function pO(e,t){const n=tE(e,t);return $d(n)?n.step:Ehe}function tE(e,t){var n;return Wo(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const Ehe=20,Nst={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Ehe},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:wst,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Ch=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],xhe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Dhe={blue:Ch[0],orange:Ch[1],red:Ch[2],teal:Ch[3],green:Ch[4],yellow:Ch[5],purple:Ch[6],pink:Ch[7],brown:Ch[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function She(e){const t=Ye(e||{}),n={};for(const i of t){const r=e[i];n[i]=Jw(r)?Lde(r):Su(r)}return n}const Pst=[...xfe,...nhe,...mhe,"background","padding","legend","lineBreak","scale","style","title","view"];function The(e={}){const{color:t,font:n,fontSize:i,selection:r}=e,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["color","font","fontSize","selection"]),s=cde({},ei(Nst),n?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(n):{},t?function(e={}){return{signals:[{name:"color",value:Sr(e)?Object.assign(Object.assign({},Dhe),e):Dhe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},i?function(e){return{signals:[{name:"fontSize",value:Sr(e)?Object.assign(Object.assign({},xhe),e):xhe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(i):{},o||{});r&&B1(s,"selection",r,!0);const a=Du(s,Pst);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Su(s[l]));for(const l of xfe)s[l]&&(a[l]=$l(s[l]));for(const l of nhe)s[l]&&(a[l]=She(s[l]));for(const l of mhe)s[l]&&(a[l]=$l(s[l]));return s.legend&&(a.legend=$l(s.legend)),s.scale&&(a.scale=$l(s.scale)),s.style&&(a.style=function(e){const t=Ye(e),n={};for(const i of t)n[i]=She(e[i]);return n}(s.style)),s.title&&(a.title=$l(s.title)),s.view&&(a.view=$l(s.view)),a}const Lst=["view",...wfe],Bst=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],jst=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function Hst(e,t,n,i){"view"===t&&(n="cell");const o=Object.assign(Object.assign({},i?e[t][i]:e[t]),e.style[null!=n?n:t]);br(o)||(e.style[null!=n?n:t]=o),i||delete e[t]}function AO(e){return"layer"in e}class hV{map(t,n){return JN(t)?this.mapFacet(t,n):function(e){return"repeat"in e}(t)?this.mapRepeat(t,n):dV(t)?this.mapHConcat(t,n):CO(t)?this.mapVConcat(t,n):gV(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(AO(t))return this.mapLayer(t,n);if(hh(t))return this.mapUnit(t,n);throw new Error(m7(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(i=>this.mapLayerOrUnit(i,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(i=>this.map(i,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(i=>this.map(i,n))})}mapConcat(t,n){const{concat:i}=t,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["concat"]);return Object.assign(Object.assign({},r),{concat:i.map(o=>this.map(o,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const $st={zero:1,center:1,normalize:1},qst=new Set([vfe,$N,WN,ZN,qN,V7,z7,YN,yfe,j7]),Zst=new Set([$N,WN,vfe]);function Jv(e){return Et(e)&&"quantitative"===iO(e)&&!e.bin}function khe(e,t){var n,i;const r="x"===t?"y":"radius",o=e[t],s=e[r];if(Et(o)&&Et(s))if(Jv(o)&&Jv(s)){if(o.stack)return t;if(s.stack)return r;const a=Et(o)&&!!o.aggregate;if(a!==(Et(s)&&!!s.aggregate))return a?t:r;{const u=null===(n=o.scale)||void 0===n?void 0:n.type,c=null===(i=s.scale)||void 0===i?void 0:i.type;if(u&&"linear"!==u)return r;if(c&&"linear"!==c)return t}}else{if(Jv(o))return t;if(Jv(s))return r}else{if(Jv(o))return t;if(Jv(s))return r}}function Nhe(e,t,n={}){var i,r;const o=kg(e)?e.type:e;if(!qst.has(o))return null;const s=khe(t,"x")||khe(t,"theta");if(!s)return null;const a=t[s],l=Et(a)?bt(a,{}):void 0;let u=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(s),c=t[u],g=Et(c)?bt(c,{}):void 0;g===l&&(g=void 0,c=void 0,u=void 0);const d=hit.reduce((h,C)=>{if("tooltip"!==C&&kI(t,C)){const p=t[C];for(const I of Fr(p)){const m=Wd(I);if(m.aggregate)continue;const y=bt(m,{});(!y||y!==g)&&h.push({channel:C,fieldDef:m})}}return h},[]);let f;if(void 0!==a.stack?f=Lw(a.stack)?a.stack?"zero":null:a.stack:Zst.has(o)&&(f="zero"),!f||!function(e){return e in $st}(f)||J7(t)&&0===d.length)return null;if((null===(i=null==a?void 0:a.scale)||void 0===i?void 0:i.type)&&"linear"!==(null===(r=null==a?void 0:a.scale)||void 0===r?void 0:r.type)){if(n.disallowNonLinearStack)return null;lt(function(e){return`Cannot stack non-linear scale (${e}).`}(a.scale.type))}return Kn(t[ch(s)])?(void 0!==a.stack&&lt(function(e){return`Cannot stack "${e}" if there is already "${e}2".`}(s)),null):(Et(a)&&a.aggregate&&!ai(Eit,a.aggregate)&&lt(function(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}(a.aggregate)),{groupbyChannel:c?u:void 0,groupbyField:g,fieldChannel:s,impute:null!==a.impute&&ap(o),stackBy:d,offset:f})}var Ohe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Xst(e){const i=Ohe(e,["point","line"]);return Ye(i).length>1?i:i.type}function Qst(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:Du(e[t],["point","line"])}));return e}function CV(e,t={},n){return"transparent"===e.point?{opacity:0}:e.point?Sr(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Sr(t.point)?t.point:{}:void 0}function Mhe(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class Jst{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(hh(t)){const{mark:i,encoding:r}=t,o=kg(i)?i:{type:i};switch(o.type){case"line":case"rule":case"trail":return!!CV(o,n[o.type],r);case"area":return!!CV(o,n[o.type],r)||!!Mhe(o,n[o.type])}}return!1}run(t,n,i){const{config:r}=n,{params:o,projection:s,mark:a,encoding:l}=t,u=Ohe(t,["params","projection","mark","encoding"]),c=gO(l,r),g=kg(a)?a:{type:a},d=CV(g,r[g.type],c),f="area"===g.type&&Mhe(g,r[g.type]),h=[Object.assign(Object.assign({},o?{params:o}:{}),{mark:Xst(Object.assign(Object.assign({},"area"===g.type&&void 0===g.opacity&&void 0===g.fillOpacity?{opacity:.7}:{}),g)),encoding:Du(c,["shape"])})],C=Nhe(g,c);let p=c;if(C){const{fieldChannel:I,offset:m}=C;p=Object.assign(Object.assign({},c),{[I]:Object.assign(Object.assign({},c[I]),m?{stack:m}:{})})}return f&&h.push(Object.assign(Object.assign({},s?{projection:s}:{}),{mark:Object.assign(Object.assign({type:"line"},Uv(g,["clip","interpolate","tension","tooltip"])),f),encoding:p})),d&&h.push(Object.assign(Object.assign({},s?{projection:s}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},Uv(g,["clip","tooltip"])),d),encoding:p})),i(Object.assign(Object.assign({},u),{layer:h}),Object.assign(Object.assign({},n),{config:Qst(r)}))}}function tat(e,t){return t?Xw(e)?Lhe(e,t):Rhe(e,t):e}function pV(e,t){return t?Lhe(e,t):e}function AV(e,t,n){const i=t[e];return function(e){return e&&!Jn(e)&&"repeat"in e}(i)?i.repeat in n?Object.assign(Object.assign({},t),{[e]:n[i.repeat]}):void lt(function(e){return`Unknown repeated value "${e}".`}(i.repeat)):t}function Rhe(e,t){if(void 0!==(e=AV("field",e,t))){if(null===e)return null;if(q7(e)&&Ud(e.sort)){const n=AV("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function Fhe(e,t){if(Et(e))return Rhe(e,t);{const n=AV("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Phe(e,t){if(!Kn(e)){if(nO(e)){const n=Fhe(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["condition"])}return e}{const n=Fhe(e,t);if(n)return n;if(eO(e))return{condition:e.condition}}}function Lhe(e,t){const n={};for(const i in e)if(_c(e,i)){const r=e[i];if(qt(r))n[i]=r.map(o=>Phe(o,t)).filter(o=>o);else{const o=Phe(r,t);void 0!==o&&(n[i]=o)}}return n}class nat{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(hh(t)){const{encoding:n,mark:i}=t;if("line"===i||kg(i)&&"line"===i.type)for(const r of dit){const s=n[yI(r)];if(n[r]&&(Et(s)&&!hl(s.bin)||lp(s)))return!0}}return!1}run(t,n,i){const{encoding:r,mark:o}=t;return lt(function(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}(!!r.x2,!!r.y2)),i(Object.assign(Object.assign({},t),{mark:Sr(o)?Object.assign(Object.assign({},o),{type:"rule"}):"rule"}),n)}}var up=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Bhe({parentEncoding:e,encoding:t={},layer:n}){let i={};if(e){const r=new Set([...Ye(e),...Ye(t)]);for(const o of r){const s=t[o],a=e[o];if(Kn(s)){const l=Object.assign(Object.assign({},a),s);i[o]=l}else nO(s)?i[o]=Object.assign(Object.assign({},s),{condition:Object.assign(Object.assign({},a),s.condition)}):s||null===s?i[o]=s:(n||Ng(a)||Cn(a)||Kn(a)||qt(a))&&(i[o]=a)}}else i=t;return!i||br(i)?void 0:i}function jhe(e){const{parentProjection:t,projection:n}=e;return t&&n&&lt(function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Pr(t)} is overridden by a child projection ${Pr(n)}.`}({parentProjection:t,projection:n})),null!=n?n:t}function IV(e){return"filter"in e}function rat(e){return void 0!==(null==e?void 0:e.stop)}function Vhe(e){return"lookup"in e}function aat(e){return"pivot"in e}function lat(e){return"density"in e}function uat(e){return"quantile"in e}function cat(e){return"regression"in e}function gat(e){return"loess"in e}function dat(e){return"sample"in e}function fat(e){return"window"in e}function hat(e){return"joinaggregate"in e}function Cat(e){return"flatten"in e}function pat(e){return"calculate"in e}function zhe(e){return"bin"in e}function Aat(e){return"impute"in e}function Iat(e){return"timeUnit"in e}function mat(e){return"aggregate"in e}function vat(e){return"stack"in e}function yat(e){return"fold"in e}var cp=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Hhe(e,t){const{transform:n}=e,i=cp(e,["transform"]);if(n){const r=n.map(o=>{if(IV(o))return{filter:mV(o,t)};if(zhe(o)&&bI(o.bin))return Object.assign(Object.assign({},o),{bin:Ghe(o.bin)});if(Vhe(o)){const s=o.from,{selection:a}=s,l=cp(s,["selection"]);return a?Object.assign(Object.assign({},o),{from:Object.assign({param:a},l)}):o}return o});return Object.assign(Object.assign({},i),{transform:r})}return e}function Uhe(e,t){var n,i;const r=ei(e);if(Et(r)&&bI(r.bin)&&(r.bin=Ghe(r.bin)),TI(r)&&(null===(i=null===(n=r.scale)||void 0===n?void 0:n.domain)||void 0===i?void 0:i.selection)){const o=r.scale.domain,{selection:s}=o,a=cp(o,["selection"]);r.scale.domain=Object.assign(Object.assign({},a),s?{param:s}:{})}if(eO(r))if(rn(r.condition))r.condition=r.condition.map(o=>{const{param:a}=o,u=cp(o,["selection","param","test"]);return a?o:Object.assign(Object.assign({},u),{test:mV(o,t)})});else{const o=Uhe(r.condition,t),{param:a}=o,u=cp(o,["selection","param","test"]);r.condition=a?r.condition:Object.assign(Object.assign({},u),{test:mV(r.condition,t)})}return r}function Ghe(e){const t=e.extent;if(null==t?void 0:t.selection){const{selection:n}=t,i=cp(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},i),{param:n})})}return e}function mV(e,t){const n=i=>Hv(i,r=>{var o,s,a;const u={param:r,empty:null===(o=t.emptySelections[r])||void 0===o||o};return null!==(s=(a=t.selectionPredicates)[r])&&void 0!==s||(a[r]=[]),t.selectionPredicates[r].push(u),u});return e.selection?n(e.selection):Hv(e.test||e.filter,i=>i.selection?n(i.selection):i)}class vV extends hV{map(t,n){var i;const r=null!==(i=n.selections)&&void 0!==i?i:[];if(t.params&&!hh(t)){const o=[];for(const s of t.params)cV(s)?r.push(s):o.push(s);t.params=o}return n.selections=r,super.map(t,Whe(t,n))}mapUnit(t,n){var i;const r=n.selections;if(!r||!r.length)return t;const o=(null!==(i=n.path)&&void 0!==i?i:[]).concat(t.name),s=[];for(const a of r)if(a.views&&a.views.length)for(const l of a.views)($i(l)&&(l===t.name||o.indexOf(l)>=0)||rn(l)&&l.map(u=>o.indexOf(u)).every((u,c,g)=>-1!==u&&(0===c||u>g[c-1])))&&s.push(a);else s.push(a);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=vV.prototype[e];vV.prototype[e]=function(n,i){return t.call(this,n,Whe(n,i))}}function Whe(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:(null!==(n=t.path)&&void 0!==n?n:[]).concat(e.name)}):t}function $he(e,t){void 0===t&&(t=The(e.config));const n=function(e,t={}){const n={config:t};return xat.map(wat.map(Eat.map(e,n),n),n)}(e,t),{width:i,height:r}=e,o=function(e,t,n){let{width:i,height:r}=t;const o=hh(e)||AO(e),s={};o?"container"==i&&"container"==r?(s.type="fit",s.contains="padding"):"container"==i?(s.type="fit-x",s.contains="padding"):"container"==r&&(s.type="fit-y",s.contains="padding"):("container"==i&&(lt($de("width")),i=void 0),"container"==r&&(lt($de("height")),r=void 0));const a=Object.assign(Object.assign(Object.assign({type:"pad"},s),n?Yhe(n.autosize):{}),Yhe(e.autosize));if("fit"===a.type&&!o&&(lt('Autosize "fit" only works for single views and layered views.'),a.type="pad"),"container"==i&&!("fit"==a.type||"fit-x"==a.type)&&lt(Yde("width")),"container"==r&&!("fit"==a.type||"fit-y"==a.type)&&lt(Yde("height")),!Nd(a,{type:"pad"}))return a}(n,{width:i,height:r,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const wat=new class extends hV{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[lst,gst,Ist,new Jst,new nat]}map(t,n){if(hh(t)){const i=kI(t.encoding,rh),r=kI(t.encoding,oh),o=kI(t.encoding,kN);if(i||r||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:i,parentProjection:r}=n,o=pV(t.encoding,n.repeater),s=Object.assign(Object.assign({},t),o?{encoding:o}:{});if(i||r)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return function(e){return!qt(e.repeat)&&e.repeat.layer}(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:i,spec:r}=t,o=up(t,["repeat","spec"]),{row:s,column:a,layer:l}=i,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},s?{row:s}:{}),a?{column:a}:{}),spec:{repeat:{layer:l},spec:r}}),n):Object.assign(Object.assign({},o),{layer:l.map(g=>{const d=Object.assign(Object.assign({},u),{layer:g}),f=`${(r.name||"")+c}child__layer_${to(g)}`,h=this.mapLayerOrUnit(r,Object.assign(Object.assign({},n),{repeater:d,repeaterPrefix:f}));return h.name=f,h})})}mapNonLayerRepeat(t,n){var i;const{repeat:r,spec:o,data:s}=t,a=up(t,["repeat","spec","data"]);!qt(r)&&t.columns&&(t=Du(t,["columns"]),lt(Xde("repeat")));const l=[],{repeater:u={},repeaterPrefix:c=""}=n,g=!qt(r)&&r.row||[u?u.row:null],d=!qt(r)&&r.column||[u?u.column:null],f=qt(r)&&r||[u?u.repeat:null];for(const C of f)for(const p of g)for(const I of d){const m={repeat:C,row:p,column:I,layer:u.layer},y=(o.name||"")+c+"child__"+(qt(r)?`${to(C)}`:(r.row?`row_${to(p)}`:"")+(r.column?`column_${to(I)}`:"")),_=this.map(o,Object.assign(Object.assign({},n),{repeater:m,repeaterPrefix:y}));_.name=y,l.push(Du(_,["data"]))}const h=qt(r)?t.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(i=o.data)&&void 0!==i?i:s,align:"all"},a),{columns:h,concat:l})}mapFacet(t,n){const{facet:i}=t;return Xw(i)&&t.columns&&(t=Du(t,["columns"]),lt(Xde("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:i,projection:r}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=jhe({parentProjection:s,projection:r}),u=Bhe({parentEncoding:o,encoding:pV(i,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),l?{projection:l}:{}),u?{encoding:u}:{}),{config:a})}mapFacetedUnit(t,n){const i=t.encoding,{row:r,column:o,facet:s}=i,a=up(i,["row","column","facet"]),{mark:l,width:u,projection:c,height:g,view:d,params:f}=t,C=up(t,["mark","width","projection","height","view","params","encoding"]),{facetMapping:p,layout:I}=this.getFacetMappingAndLayout({row:r,column:o,facet:s},n),m=pV(a,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},C),I),{facet:p,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u?{width:u}:{}),g?{height:g}:{}),d?{view:d}:{}),c?{projection:c}:{}),{mark:l,encoding:m}),f?{params:f}:{})}),n)}getFacetMappingAndLayout(t,n){var i;const{row:r,column:o,facet:s}=t;if(r||o){s&&lt(function(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}([...r?[rh]:[],...o?[oh]:[]]));const a={},l={};for(const u of[rh,oh]){const c=t[u];if(c){const C=up(c,["align","center","spacing","columns"]);a[u]=C;for(const p of["align","center","spacing"])void 0!==c[p]&&(null!==(i=l[p])&&void 0!==i||(l[p]={}),l[p][u]=c[p])}}return{facetMapping:a,layout:l}}{const{align:a,center:l,spacing:u,columns:c}=s;return{facetMapping:tat(up(s,["align","center","spacing","columns"]),n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},a?{align:a}:{}),l?{center:l}:{}),u?{spacing:u}:{}),c?{columns:c}:{})}}}mapLayer(t,n){var{parentEncoding:i,parentProjection:r}=n,o=up(n,["parentEncoding","parentProjection"]);const{encoding:s,projection:a}=t,l=up(t,["encoding","projection"]),u=Object.assign(Object.assign({},o),{parentEncoding:Bhe({parentEncoding:i,encoding:s,layer:!0}),parentProjection:jhe({parentProjection:r,projection:a})});return super.mapLayer(l,u)}},Eat=new class extends hV{map(t,n){var i,r;return null!==(i=n.emptySelections)&&void 0!==i||(n.emptySelections={}),null!==(r=n.selectionPredicates)&&void 0!==r||(n.selectionPredicates={}),t=Hhe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if((t=Hhe(t,n)).encoding){const i={};for(const[r,o]of ZC(t.encoding))i[r]=Uhe(o,n);t=Object.assign(Object.assign({},t),{encoding:i})}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const i=t,{selection:r}=i,o=cp(i,["selection"]);return r?Object.assign(Object.assign({},o),{params:ZC(r).map(([s,a])=>{var l;const u=a,{init:c,bind:g,empty:d}=u,f=cp(u,["init","bind","empty"]);"single"===f.type?(f.type="point",f.toggle=!1):"multi"===f.type&&(f.type="point"),n.emptySelections[s]="none"!==d;for(const h of Ta(null!==(l=n.selectionPredicates[s])&&void 0!==l?l:{}))h.empty="none"!==d;return{name:s,value:c,select:f,bind:g}})}):t}},xat=new vV;function Yhe(e){return Jn(e)?{type:e}:null!=e?e:{}}const Nat=["background","padding"];function qhe(e,t){const n={};for(const i of Nat)e&&void 0!==e[i]&&(n[i]=Su(e[i]));return t&&(n.params=e.params),n}class ph{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new ph(ei(this.explicit),ei(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return Wo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:i}){void 0!==n&&this.set(t,n,i)}set(t,n,i){return delete this[i?"implicit":"explicit"][t],this[i?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:i}){void 0!==n[t]?this.set(t,n[t],!0):void 0!==i[t]&&this.set(t,i[t],!1)}copyKeyFromObject(t,n){void 0!==n[t]&&this.set(t,n[t],!0)}copyAll(t){for(const n of Ye(t.combine())){const i=t.getWithExplicit(n);this.setWithExplicit(n,i)}}}function Ah(e){return{explicit:!0,value:e}}function ku(e){return{explicit:!1,value:e}}function Zhe(e){return(t,n,i,r)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:IO(t,n,i,r)}}function IO(e,t,n,i){return e.explicit&&t.explicit&&lt(function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${Pr(n)} and ${Pr(i)}). Using ${Pr(n)}.`}(n,i,e.value,t.value)),e}function gp(e,t,n,i,r=IO){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Nd(e.value,t.value)?e:r(e,t,n,i)}class Oat extends ph{constructor(t={},n={},i=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=i}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function ey(e){return"url"in e}function nE(e){return"values"in e}function Khe(e){return"name"in e&&!ey(e)&&!nE(e)&&!dp(e)}function dp(e){return e&&(Xhe(e)||Qhe(e)||yV(e))}function Xhe(e){return"sequence"in e}function Qhe(e){return"sphere"in e}function yV(e){return"graticule"in e}var Tr=(()=>(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(Tr||(Tr={})),Tr))();const Lat=/[[\]{}]/,Bat={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let nCe,iCe;function ty(e,t,n){return nCe=t||"view",iCe=n||Bat,rCe(e.trim()).map(bV)}function iE(e,t,n,i,r){const o=e.length;let a,s=0;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;r&&r.indexOf(a)>=0?--s:i&&i.indexOf(a)>=0&&++s}return t}function rCe(e){const t=[],n=e.length;let i=0,r=0;for(;r<n;)r=iE(e,r,",","[{","]}"),t.push(e.substring(i,r).trim()),i=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function bV(e){return"["===e[0]?function(e){const t=e.length;let i,n=1;if(n=iE(e,n,"]","[","]"),n===t)throw"Empty between selector: "+e;if(i=rCe(e.substring(1,n)),2!==i.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(n+1).trim())[0])throw"Expected '>' after between selector: "+e;i=i.map(bV);const r=bV(e.slice(1).trim());return r.between?{between:i,stream:r}:(r.between=i,r)}(e):function(e){const t={source:nCe},n=[];let l,u,i=[0,0],r=0,o=0,s=e.length,a=0;if("}"===e[s-1]){if(a=e.lastIndexOf("{"),!(a>=0))throw"Unmatched right brace: "+e;try{i=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map(n=>{const i=+n;if(i!=i)throw e;return i})}(e.substring(a+1,s-1))}catch(c){throw"Invalid throttle specification: "+e}s=(e=e.slice(0,a).trim()).length,a=0}if(!s)throw e;if("@"===e[0]&&(r=++a),l=iE(e,a,":"),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=iE(e,a,"["),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=iE(e,a,"]"),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&"["!==e[++a])throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||Lat.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],r?t.markname=n[0].slice(1):function(e){return iCe[e]}(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=u&&(t.filter=u),i[0]&&(t.throttle=i[0]),i[1]&&(t.debounce=i[1]),t}(e)}var Uat=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function ny(e,t=!0,n=Q9){if(qt(e)){const i=e.map(r=>ny(r,t,n));return t?`[${i.join(", ")}]`:i}return wI(e)?n(t?qw(e):function(e){const t=_7(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?n(Pr(e)):e}function Gat(e,t){var n;for(const i of Ta(null!==(n=e.component.selection)&&void 0!==n?n:{})){const r=i.name;let o=`${r}${Cp}, ${"global"===i.resolve?"true":`{unit: ${oy(e)}}`}`;for(const s of EO)!s.defined(i)||(s.signals&&(t=s.signals(e,i,t)),s.modifyExpr&&(o=s.modifyExpr(e,i,o)));t.push({name:r+wlt,on:[{events:{signal:i.name+Cp},update:`modify(${Yi(i.name+NI)}, ${o})`}]})}return _V(t)}function Wat(e,t){if(e.component.selection&&Ye(e.component.selection).length){const n=Yi(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:ty("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return _V(t)}function oCe(e,t){var n;for(const i of Ta(null!==(n=e.component.selection)&&void 0!==n?n:{}))for(const r of EO)r.defined(i)&&r.marks&&(t=r.marks(e,i,t));return t}function _V(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class _r{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){this._children.includes(t)?lt("Attempt to add the same child twice."):void 0!==n?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}}class pl extends _r{constructor(t,n,i,r){super(t,n),this.type=i,this.refCounts=r,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=`Output ${yde()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}var sCe=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class Yd extends _r{constructor(t,n){super(t),this.formula=n}clone(){return new Yd(null,ei(this.formula))}static makeFromEncoding(t,n){const i=n.reduceFieldDef((r,o)=>{const{field:s,timeUnit:a}=o;if(a){const l=bt(o,{forAs:!0});r[Pi({as:l,field:s,timeUnit:a})]={as:l,field:s,timeUnit:a}}return r},{});return br(i)?null:new Yd(t,i)}static makeFromTransform(t,n){const i=Object.assign({},n),{timeUnit:r}=i,o=sCe(i,["timeUnit"]),s=Cl(r),a=Object.assign(Object.assign({},o),{timeUnit:s});return new Yd(t,{[Pi(a)]:a})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)this.formula[n]||(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[i,r]of ZC(this.formula))t.has(r.as)||(n[i]=r);this.formula=n}producedFields(){return new Set(Ta(this.formula).map(t=>t.as))}dependentFields(){return new Set(Ta(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${Pi(this.formula)}`}assemble(){const t=[];for(const n of Ta(this.formula)){const{field:i,as:r,timeUnit:o}=n,s=Cl(o),{unit:a,utc:l}=s,u=sCe(s,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:wc(i),type:"timeunit"},a?{units:x7(a)}:{}),l?{timezone:"utc"}:{}),u),{as:[r,`${r}_end`]}))}return t}}const rE="_tuple_fields";class Xat{constructor(...t){this.items=t,this.hasChannel={},this.hasField={}}}const Qat={defined:()=>!0,parse:(e,t,n)=>{var i;const r=t.name,o=null!==(i=t.project)&&void 0!==i?i:t.project=new Xat,s={},a={},l=new Set,u=(C,p)=>{const I="visual"===p?C.channel:C.field;let m=to(`${r}_${I}`);for(let y=1;l.has(m);y++)m=to(`${r}_${I}_${y}`);return l.add(m),{[p]:m}},c=t.type,g=e.config.selection[c],d=void 0!==n.value?Fr(n.value):null;let{fields:f,encodings:h}=Sr(n.select)?n.select:{};if(!f&&!h&&d)for(const C of d)if(Sr(C))for(const p of Ye(C))git(p)?(h||(h=[])).push(p):"interval"===c?(lt('Interval selections should be initialized using "x" and/or "y" keys.'),h=g.encodings):(f||(f=[])).push(p);!f&&!h&&(h=g.encodings,"fields"in g&&(f=g.fields));for(const C of null!=h?h:[]){const p=e.fieldDef(C);if(p){let I=p.field;if(p.aggregate){lt(Rit(C,p.aggregate));continue}if(!I){lt(Zde(C));continue}if(p.timeUnit){I=e.vgField(C);const m={timeUnit:p.timeUnit,as:I,field:p.field};a[Pi(m)]=m}if(!s[I]){let m="E";"interval"===c?Tu(e.getScaleComponent(C).get("type"))&&(m="R"):p.bin&&(m="R-RE");const y={field:I,channel:C,type:m};y.signals=Object.assign(Object.assign({},u(y,"data")),u(y,"visual")),o.items.push(s[I]=y),o.hasField[I]=o.hasChannel[C]=s[I]}}else lt(Zde(C))}for(const C of null!=f?f:[]){if(o.hasField[C])continue;const p={type:"E",field:C};p.signals=Object.assign({},u(p,"data")),o.items.push(p),o.hasField[C]=p}d&&(t.init=d.map(C=>o.items.map(p=>Sr(C)?void 0!==C[p.channel]?C[p.channel]:C[p.field]:C))),br(a)||(o.timeUnit=new Yd(null,a))},signals:(e,t,n)=>{const i=t.name+rE;return n.filter(o=>o.name===i).length>0?n:n.concat({name:i,value:t.project.items.map(o=>{const l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(o,["signals","hasLegend"]);return l.field=wc(l.field),l})})}},fp={defined:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const i of t.project.items){const r=i.channel;if(!np(r))continue;const o=e.getScaleComponent(r),s=o?o.get("type"):void 0;o&&Tu(s)?(o.set("selectionExtent",{param:t.name,field:i.field},!0),n.push(i)):lt("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(e,t,n)=>{const i=t.scales.filter(s=>0===n.filter(a=>a.name===s.signals.data).length);if(!e.parent||EV(e)||0===i.length)return n;const r=n.filter(s=>s.name===t.name)[0];let o=r.update;if(o.indexOf(DCe)>=0)r.update=`{${i.map(s=>`${Yi(wc(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of i){const a=`${Yi(wc(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}r.update=o}return n.concat(i.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!EV(e))for(const i of t.scales){const r=n.filter(o=>o.name===i.signals.data)[0];r.push="outer",delete r.value,delete r.update}return n}};function wV(e,t){return`domain(${Yi(e.scaleName(t))})`}function EV(e){var t;return e.parent&&dy(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:EV(e.parent.parent))}const iy="_brush",xV="_scale_trigger",elt={defined:e=>"interval"===e.type,signals:(e,t,n)=>{const i=t.name,r=i+rE,o=fp.defined(t),s=t.init?t.init[0]:null,a=[],l=[];if(t.translate&&!o){const c=`!event.item || event.item.mark.name !== ${Yi(i+iy)}`;aCe(t,(g,d)=>{var f,h;const C=Fr(null!==(f=(h=d.between[0]).filter)&&void 0!==f?f:h.filter=[]);return C.includes(c)||C.push(c),g})}t.project.items.forEach((c,g)=>{const d=c.channel;if(d!==ao&&d!==fs)return void lt("Interval selections only support x and y encoding channels.");const h=function(e,t,n,i){const r=n.channel,o=n.signals.visual,s=n.signals.data,a=fp.defined(t),l=Yi(e.scaleName(r)),u=e.getScaleComponent(r),c=u?u.get("type"):void 0,g=C=>`scale(${l}, ${C})`,d=e.getSizeSignalRef(r===ao?"width":"height").signal,f=`${r}(unit)`,h=aCe(t,(C,p)=>[...C,{events:p.between[0],update:`[${f}, ${f}]`},{events:p,update:`[${o}[0], clamp(${f}, 0, ${d})]`}]);return h.push({events:{signal:t.name+xV},update:Tu(c)?`[${g(`${s}[0]`)}, ${g(`${s}[1]`)}]`:"[0, 0]"}),a?[{name:s,on:[]}]:[Object.assign(Object.assign({name:o},i?{init:ny(i,!0,g)}:{value:[]}),{on:h}),Object.assign(Object.assign({name:s},i?{init:ny(i)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}(e,t,c,s?s[g]:null),C=c.signals.data,p=c.signals.visual,I=Yi(e.scaleName(d)),y=Tu(e.getScaleComponent(d).get("type"))?"+":"";n.push(...h),a.push(C),l.push({scaleName:e.scaleName(d),expr:`(!isArray(${C}) || (${y}invert(${I}, ${p})[0] === ${y}${C}[0] && ${y}invert(${I}, ${p})[1] === ${y}${C}[1]))`})}),!o&&l.length&&n.push({name:i+xV,value:{},on:[{events:l.map(c=>({scale:c.scaleName})),update:`${l.map(c=>c.expr).join(" && ")} ? ${i+xV} : {}`}]});const u=`unit: ${oy(e)}, fields: ${r}, values`;return n.concat(Object.assign(Object.assign({name:i+Cp},s?{init:`{${u}: ${ny(s)}}`}:{}),a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${u}: [${a}]} : null`}]}:{}))},marks:(e,t,n)=>{const i=t.name,{x:r,y:o}=t.project.hasChannel,s=r&&r.signals.visual,a=o&&o.signals.visual,l=`data(${Yi(t.name+NI)})`;if(fp.defined(t)||!r&&!o)return n;const u={x:void 0!==r?{signal:`${s}[0]`}:{value:0},y:void 0!==o?{signal:`${a}[0]`}:{value:0},x2:void 0!==r?{signal:`${s}[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${a}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const p of Ye(u))u[p]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${oy(e)}`},u[p]),{value:0}];const c=t.mark,{fill:g,fillOpacity:d,cursor:f}=c,h=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(c,["fill","fillOpacity","cursor"]),C=Ye(h).reduce((p,I)=>(p[I]=[{test:[void 0!==r&&`${s}[0] !== ${s}[1]`,void 0!==o&&`${a}[0] !== ${a}[1]`].filter(m=>m).join(" && "),value:h[I]},{value:null}],p),{});return[{name:`${i+iy}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:g},fillOpacity:{value:d}},update:u}},...n,{name:i+iy,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},f?{cursor:{value:f}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},u),C)}}]}};function aCe(e,t){return e.events.reduce((n,i)=>i.between?t(n,i):(lt(`${i} is not an ordered event stream for interval selections.`),n),[])}const nlt={defined:e=>"point"===e.type,signals:(e,t,n)=>{var i;const r=t.name,o=r+rE,a="(item().isVoronoi ? datum.datum : datum)",l=t.project.items.map(f=>{const h=e.fieldDef(f.channel);return(null==h?void 0:h.bin)?`[${a}[${Yi(e.vgField(f.channel,{}))}], ${a}[${Yi(e.vgField(f.channel,{binSuffix:"end"}))}]]`:`${a}[${Yi(f.field)}]`}).join(", "),u=`unit: ${oy(e)}, fields: ${o}, values`,c=t.events,g=Ta(null!==(i=e.component.selection)&&void 0!==i?i:{}).reduce((f,h)=>"interval"===h.type?f.concat(h.name+iy):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && ");return n.concat([{name:r+Cp,on:c?[{events:c,update:`${"datum && item().mark.marktype !== 'group'"+(g?` && ${g}`:"")} ? {${u}: [${l}]} : null`,force:!0}]:[]}])}};function ry(e,t,n,i){const r=eO(t)&&t.condition,o=i(t);return r?{[n]:[...Fr(r).map(l=>{const u=i(l);if(function(e){return e.param}(l)){const{param:c,empty:g}=l,d=GCe(e,{param:c,empty:g});return Object.assign({test:d},u)}{const c=OO(e,l.test);return Object.assign({test:c},u)}}),...void 0!==o?[o]:[]]}:void 0!==o?{[n]:o}:{}}function DV(e,t="text"){return ry(e,e.encoding[t],t,i=>yO(i,e.config))}function yO(e,t,n="datum"){if(e){if(Ng(e))return no(e.value);if(Kn(e)){const{format:i,formatType:r}=sO(e);return G7({fieldOrDatumDef:e,format:i,formatType:r,expr:n,config:t})}}}function lCe(e,t={}){const{encoding:n,markDef:i,config:r,stack:o}=e,s=n.tooltip;if(qt(s))return{tooltip:cCe({tooltip:s},o,r,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return ry(e,s,"tooltip",l=>{const u=yO(l,r,a);if(u)return u;if(null===l)return;let c=dr("tooltip",i,r);return!0===c&&(c={content:"encoding"}),Jn(c)?{value:c}:Sr(c)?Cn(c)?c:"encoding"===c.content?cCe(n,o,r,t):{signal:a}:void 0})}}function uCe(e,t,n,{reactiveGeom:i}={}){const r={},o=i?"datum.datum":"datum",s=[];function a(u,c){const g=yI(c),d=Sc(u)?u:Object.assign(Object.assign({},u),{type:e[g].type}),h=Fr(d.title||X7(d,n)).join(", ");let C;if(Vd(c)){const p="x"===c?"x2":"y2",I=Wd(e[p]);if(hl(d.bin)&&I){const m=bt(d,{expr:o}),y=bt(I,{expr:o}),{format:_,formatType:N}=sO(d);C=XN(m,y,_,N,n),r[p]=!0}else if(t&&t.fieldChannel===c&&"normalize"===t.offset){const{format:m,formatType:y}=sO(d);C=G7({fieldOrDatumDef:d,format:m,formatType:y,expr:o,config:n,normalizeStack:!0}).signal}}null!=C||(C=yO(d,n,o).signal),s.push({channel:c,key:h,value:C})}eV(e,(u,c)=>{Et(u)?a(u,c):tO(u)&&a(u.condition,c)});const l={};for(const{channel:u,key:c,value:g}of s)!r[u]&&!l[c]&&(l[c]=g);return l}function cCe(e,t,n,{reactiveGeom:i}={}){const r=uCe(e,t,n,{reactiveGeom:i}),o=ZC(r).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function ks(e,t,n={}){const{markDef:i,encoding:r,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;return void 0===a&&(null!=l||(l=dr(e,i,o,{vgChannel:s,ignoreVgConfig:!0})),void 0!==l&&(a=no(l))),ry(t,r[e],null!=s?s:e,c=>Tfe({channel:e,channelDef:c,markDef:i,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function gCe(e,t={filled:void 0}){var n,i,r,o;const{markDef:s,encoding:a,config:l}=e,{type:u}=s,c=null!==(n=t.filled)&&void 0!==n?n:dr("filled",s,l),g=ai(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,d=null!==(r=null!==(i=dr(!0===c?"color":void 0,s,l,{vgChannel:"fill"}))&&void 0!==i?i:l.mark[!0===c&&"color"])&&void 0!==r?r:g,f=null!==(o=dr(!1===c?"color":void 0,s,l,{vgChannel:"stroke"}))&&void 0!==o?o:l.mark[!1===c&&"color"],h=c?"fill":"stroke",C=Object.assign(Object.assign({},d?{fill:no(d)}:{}),f?{stroke:no(f)}:{});return s.color&&(c?s.fill:s.stroke)&&lt(tfe("property",{fill:"fill"in s,stroke:"stroke"in s})),Object.assign(Object.assign(Object.assign(Object.assign({},C),ks("color",e,{vgChannel:h,defaultValue:c?d:f})),ks("fill",e,{defaultValue:a.fill?d:void 0})),ks("stroke",e,{defaultValue:a.stroke?f:void 0}))}function oE(e,t){const i=t[function(e){switch(e){case ao:return"xOffset";case fs:return"yOffset";case xg:return"x2Offset";case Md:return"y2Offset";case Dg:return"thetaOffset";case Rd:return"radiusOffset";case ah:return"theta2Offset";case sh:return"radius2Offset"}}(e)];if(i)return i}function Oa(e,t,{defaultPos:n,vgChannel:i}){const{encoding:r,markDef:o,config:s,stack:a}=t,l=r[e],u=r[ch(e)],c=t.scaleName(e),g=t.getScaleComponent(e),d=oE(e,o),f=SV({model:t,defaultPos:n,channel:e,scaleName:c,scale:g}),h=!l&&Vd(e)&&(r.latitude||r.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,scaleName:i,stack:r,offset:o,markDef:s}=e;if(Kn(n)&&r&&t===r.fieldChannel){if(Et(n)){let a=n.bandPosition;if(void 0===a&&"text"===s.type&&("radius"===t||"theta"===t)&&(a=.5),void 0!==a)return KN({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return DI(n,i,{suffix:"end"},{offset:o})}return H7(e)}({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:g,stack:a,offset:d,defaultRef:f});return h?{[i||e]:h}:void 0}function SV({model:e,defaultPos:t,channel:n,scaleName:i,scale:r}){const{markDef:o,config:s}=e;return()=>{const a=yI(n),l=ep(n),u=dr(n,o,s,{vgChannel:l});if(void 0!==u)return Kw(n,u);switch(t){case"zeroOrMin":case"zeroOrMax":if(i){if(!ai(["log","time","utc"],r.get("type"))&&r.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===t)return"y"===a?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const c=e[Dc(n)];return Object.assign(Object.assign({},c),{mult:.5})}}}}const llt={left:"x",center:"xc",right:"x2"},ult={top:"y",middle:"yc",bottom:"y2"};function dCe(e,t,n,i="middle"){if("radius"===e||"theta"===e)return ep(e);const r="x"===e?"align":"baseline",o=dr(r,t,n);let s;return Cn(o)?(lt(function(e){return`The ${e} for range marks cannot be an expression`}(r)),s=void 0):s=o,"x"===e?llt[s||("top"===i?"left":"center")]:ult[s||i]}function bO(e,t,{defaultPos:n,defaultPos2:i,range:r}){return r?fCe(e,t,{defaultPos:n,defaultPos2:i}):Oa(e,t,{defaultPos:n})}function fCe(e,t,{defaultPos:n,defaultPos2:i}){const{markDef:r,config:o}=t,s=ch(e),a=Dc(e),l=function(e,t,n){const{encoding:i,mark:r,markDef:o,stack:s,config:a}=e,l=yI(n),u=Dc(n),c=ep(n),g=i[l],d=e.scaleName(l),f=e.getScaleComponent(l),h=oE(n in i||n in o?n:l,e.markDef);if(!g&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude)){const p=Dc(n),I=e.markDef[p];return null!=I?{[p]:{value:I}}:{[c]:{field:e.getName(n)}}}const C=function({channel:e,channelDef:t,channel2Def:n,markDef:i,config:r,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Kn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?DI(t,o,{suffix:"start"},{offset:l}):H7({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:i,config:r,offset:l,defaultRef:u})}({channel:n,channelDef:g,channel2Def:i[n],markDef:o,config:a,scaleName:d,scale:f,stack:s,offset:h,defaultRef:void 0});return void 0!==C?{[c]:C}:_O(n,o)||_O(n,{[n]:zN(n,o,a.style),[u]:zN(u,o,a.style)})||_O(n,a[r])||_O(n,a.mark)||{[c]:SV({model:e,defaultPos:t,channel:n,scaleName:d,scale:f})()}}(t,i,s),u=l[a]?dCe(e,r,o):ep(e);return Object.assign(Object.assign({},Oa(e,t,{defaultPos:n,vgChannel:u})),l)}function _O(e,t){const n=Dc(e),i=ep(e);if(void 0!==t[i])return{[i]:Kw(e,t[i])};if(void 0!==t[e])return{[i]:Kw(e,t[e])};if(t[n]){const r=t[n];if(!Zv(r))return{[n]:Kw(e,r)};lt(function(e){return`Position range does not support relative band size for ${e}.`}(n))}}function hp(e,t,n){var i,r,o,s;const{config:a,encoding:l,markDef:u}=e,c=ch(t),g=Dc(t),d=l[t],f=l[c],h=e.getScaleComponent(t),C=h?h.get("type"):void 0,p=e.scaleName(t),I=u.orient,m=null!==(r=null!==(i=l[g])&&void 0!==i?i:l.size)&&void 0!==r?r:dr("size",u,a,{vgChannel:g}),y="bar"===n&&("x"===t?"vertical"===I:"horizontal"===I);if(!Et(d)||!(Lr(d.bin)||hl(d.bin)||d.timeUnit&&!f)||m&&!Zv(m)||ka(C))return(Kn(d)&&ka(C)||y)&&!f?function(e,t,n){const{markDef:i,encoding:r,config:o,stack:s}=n,a=i.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=Dc(t),g=ch(t),d="horizontal"===a&&"y"===t||"vertical"===a&&"x"===t;let f;(r.size||i.size)&&(d?f=ks("size",n,{vgChannel:c,defaultRef:no(i.size)}):lt(function(e){return`Cannot apply size to non-oriented mark "${e}".`}(i.type)));const h=Hfe({channel:t,fieldDef:e,markDef:i,config:o,scaleType:null==u?void 0:u.get("type"),useVlSizeChannel:d});f=f||{[c]:dlt(c,l,u,o,h)};const p=dCe(t,i,o,"band"===(null==u?void 0:u.get("type"))&&"band"in f[c]?"top":"middle"),I="xc"===p||"yc"===p,m=oE(t,i),y=H7({channel:t,channelDef:e,markDef:i,config:o,scaleName:l,scale:u,stack:s,offset:m,defaultRef:SV({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:I?.5:Cn(h)?{signal:`(1-${h})/2`}:Zv(h)?(1-h.band)/2:0});if(c)return Object.assign({[p]:y},f);{const _=ep(g),N=f[c],O=m?Object.assign(Object.assign({},N),{offset:m}):N;return{[p]:y,[_]:qt(y)?[y[0],Object.assign(Object.assign({},y[1]),{offset:O})]:Object.assign(Object.assign({},y),{offset:O})}}}(d,t,e):fCe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"});{const _=Hfe({channel:t,fieldDef:d,markDef:u,config:a,scaleType:C}),N=null===(o=e.component.axes[t])||void 0===o?void 0:o[0];return function({fieldDef:e,fieldDef2:t,channel:n,bandSize:i,scaleName:r,markDef:o,spacing:s=0,axisTranslate:a,reverse:l,config:u}){const c=ch(n),g=ep(n),d=ep(c),f=oE(n,o),h=Cn(i)?{signal:`(1-${i.signal})/2`}:Zv(i)?(1-i.band)/2:.5;if(Lr(e.bin)||e.timeUnit)return{[d]:hCe({channel:n,fieldDef:e,scaleName:r,markDef:o,bandPosition:h,offset:sE(c,s,l,a,f),config:u}),[g]:hCe({channel:n,fieldDef:e,scaleName:r,markDef:o,bandPosition:Cn(h)?{signal:`1-${h.signal}`}:1-h,offset:sE(n,s,l,a,f),config:u})};if(hl(e.bin)){const C=DI(e,r,{},{offset:sE(c,s,l,a,f)});if(Et(t))return{[d]:C,[g]:DI(t,r,{},{offset:sE(n,s,l,a,f)})};if(bI(e.bin)&&e.bin.step)return{[d]:C,[g]:{signal:`scale("${r}", ${bt(e,{expr:"datum"})} + ${e.bin.step})`,offset:sE(n,s,l,a,f)}}}lt(sfe(c))}({fieldDef:d,fieldDef2:f,channel:t,markDef:u,scaleName:p,bandSize:_,axisTranslate:null!==(s=null==N?void 0:N.get("translate"))&&void 0!==s?s:.5,spacing:Vd(t)?dr("binSpacing",u,a):void 0,reverse:h.get("reverse"),config:a})}}function dlt(e,t,n,i,r){if(Zv(r)){if(!n)return{mult:r.band,field:{group:e}};{const s=n.get("type");if("band"===s)return{scale:t,band:r.band};1!==r.band&&(lt(function(e){return`Cannot use the relative band size with ${e} scale.`}(s)),r=void 0)}}else{if(Cn(r))return r;if(r)return{value:r}}if(n){const s=n.get("range");if(op(s)&&To(s.step))return{value:s.step-2}}return{value:pO(i.view,e)-2}}function sE(e,t,n,i,r){if(Ede(e))return 0;const o="x"===e||"y2"===e?-t/2:t/2;if(Cn(n)||Cn(r)||Cn(i)){const s=fh(n),a=fh(r),l=fh(i);return{signal:(l?`${l} + `:"")+(s?`(${s} ? -1 : 1) * `:"")+(a?`(${a} + ${o})`:o)}}return r=r||0,i+(n?-r-o:+r+o)}function hCe({channel:e,fieldDef:t,scaleName:n,markDef:i,bandPosition:r,offset:o,config:s}){return Sfe({fieldDef:t,channel:e,markDef:i,ref:KN({scaleName:n,fieldOrDatumDef:t,bandPosition:r,offset:o}),config:s})}const Clt=new Set(["aria","width","height"]);function Tc(e,t){const{fill:n,stroke:i}="include"===t.color?gCe(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return kit.reduce((n,i)=>(!Clt.has(i)&&void 0!==e[i]&&"ignore"!==t[i]&&(n[i]=no(e[i])),n),{})}(e.markDef,t)),CCe(e,"fill",n)),CCe(e,"stroke",i)),ks("opacity",e)),ks("fillOpacity",e)),ks("strokeOpacity",e)),ks("strokeWidth",e)),ks("strokeDash",e)),function(e){const{encoding:t,mark:n}=e,i=t.order;return!ap(n)&&Ng(i)?ry(e,i,"zindex",r=>no(r.value)):{}}(e)),lCe(e)),DV(e,"href")),function(e){const{markDef:t,config:n}=e,i=dr("aria",t,n);return!1===i?{}:Object.assign(Object.assign(Object.assign({},i?{aria:i}:{}),function(e){const{mark:t,markDef:n,config:i}=e;if(!1===i.aria)return{};const r=dr("ariaRoleDescription",n,i);return null!=r?{ariaRoleDescription:{value:r}}:t in Nit?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){const{encoding:t,markDef:n,config:i,stack:r}=e,o=t.description;if(o)return ry(e,o,"description",l=>yO(l,e.config));const s=dr("description",n,i);if(null!=s)return{description:no(s)};if(!1===i.aria)return{};const a=uCe(t,r,i);return br(a)?void 0:{description:{signal:ZC(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}(e))}(e))}function CCe(e,t,n){const{config:i,mark:r,markDef:o}=e;if("hide"===dr("invalid",o,i)&&n&&!ap(r)){const a=function(e,{invalid:t=!1,channels:n}){const i=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const l=a.get("type"),u=e.vgField(s,{expr:"datum"});u&&Tu(l)&&(o[u]=!0)}return o},{}),r=Ye(i);if(r.length>0){const o=t?"||":"&&";return r.map(s=>U7(s,t)).join(` ${o} `)}}(e,{invalid:!0,channels:jN});if(a)return{[t]:[{test:a,value:null},...Fr(n)]}}return n?{[t]:n}:{}}function TV(e){const{config:t,markDef:n}=e;if(dr("invalid",n,t)){const r=function(e,{invalid:t=!1,channels:n}){const i=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const l=a.get("type"),u=e.vgField(s,{expr:"datum"});u&&Tu(l)&&(o[u]=!0)}return o},{}),r=Ye(i);if(r.length>0){const o=t?"||":"&&";return r.map(s=>U7(s,t)).join(` ${o} `)}}(e,{channels:jd});if(r)return{defined:{signal:r}}}return{}}function pCe(e,t){if(void 0!==t)return{[e]:no(t)}}const kV="voronoi",ACe={defined:e=>"point"===e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(kV)},marks:(e,t,n)=>{const{x:i,y:r}=t.project.hasChannel,o=e.mark;if(ap(o))return lt(function(e){return`The "nearest" transform is not supported for ${e} marks.`}(o)),n;const s={name:e.getName(kV),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},lCe(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!r?"datum.datum.x || 0":"0"},y:{expr:r||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{var g;const d=null!==(g=u.name)&&void 0!==g?g:"";d===e.component.mark[0].name?a=c:d.indexOf(kV)>=0&&(l=!0)}),l||n.splice(a+1,0,s),n}},ICe={defined:e=>"point"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!lV(e.bind),parse:(e,t,n)=>SCe(t,n),topLevelSignals:(e,t,n)=>{const i=t.name,r=t.project,o=t.bind,s=t.init&&t.init[0],a=ACe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return r.items.forEach((l,u)=>{var c,g;const d=to(`${i}_${l.field}`);n.filter(h=>h.name===d).length||n.unshift(Object.assign(Object.assign({name:d},s?{init:ny(s[u])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Yi(l.field)}] : null`}]:[],bind:null!==(g=null!==(c=o[l.field])&&void 0!==c?c:o[l.channel])&&void 0!==g?g:o}))}),n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.filter(u=>u.name===i+Cp)[0],s=i+rE,a=r.items.map(u=>to(`${i}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},wO="_toggle",mCe={defined:e=>"point"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+wO,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Cp,i=t.name+wO;return`${i} ? null : ${n}, `+("global"===t.resolve?`${i} ? null : true, `:`${i} ? null : {unit: ${oy(e)}}, `)+`${i} ? ${n} : null`}},mlt={defined:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t)=>{t.clear&&(t.clear=Jn(t.clear)?ty(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(ICe.defined(t))for(const i of t.project.items){const r=n.findIndex(o=>o.name===to(`${t.name}_${i.field}`));-1!==r&&n[r].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function i(r,o){-1!==r&&n[r].on&&n[r].on.push({events:t.clear,update:o})}if("interval"===t.type)for(const r of t.project.items){const o=n.findIndex(s=>s.name===r.signals.visual);i(o,"[0, 0]"),-1===o&&i(n.findIndex(a=>a.name===r.signals.data),"null")}else{let r=n.findIndex(o=>o.name===t.name+Cp);i(r,"null"),mCe.defined(t)&&(r=n.findIndex(o=>o.name===t.name+wO),i(r,"false"))}return n}},vCe={defined:e=>{const t="global"===e.resolve&&e.bind&&lV(e.bind),n=1===e.project.items.length&&e.project.items[0].field!==eE;return t&&!n&&lt("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:(e,t,n)=>{var i;const r=ei(n);if(r.select=Jn(r.select)?{type:r.select,toggle:t.toggle}:Object.assign(Object.assign({},r.select),{toggle:t.toggle}),SCe(t,r),Un(n.select)&&(n.select.on||n.select.clear)){const a='event.item && indexof(event.item.mark.role, "legend") < 0';for(const l of t.events)l.filter=Fr(null!==(i=l.filter)&&void 0!==i?i:[]),l.filter.includes(a)||l.filter.push(a)}const o=uV(t.bind)?t.bind.legend:"click",s=Jn(o)?ty(o,"view"):Fr(o);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const i=t.name,r=uV(t.bind)&&t.bind.legend,o=s=>a=>{const l=ei(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${to(s.field)}_legend`,l=`${i}_${a}`;if(0===n.filter(c=>c.name===l).length){const c=r.merge.map(o(`${a}_symbols`)).concat(r.merge.map(o(`${a}_labels`))).concat(r.merge.map(o(`${a}_entries`)));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:r.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.find(d=>d.name===i+Cp),s=i+rE,a=r.items.filter(d=>d.hasLegend).map(d=>to(`${i}_${to(d.field)}_legend`)),u=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(d=>d.name===i+wO),g=uV(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:g})):c.on[0].events=g),n}},yCe="_translate_anchor",bCe="_translate_delta",blt={defined:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const i=t.name,r=fp.defined(t),o=i+yCe,{x:s,y:a}=t.project.hasChannel;let l=ty(t.translate,"scope");return r||(l=l.map(u=>(u.between[0].markname=i+iy,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==s?`, extent_x: ${r?wV(e,ao):`slice(${s.signals.visual})`}`:"")+(void 0!==a?`, extent_y: ${r?wV(e,fs):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:i+bCe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==s&&_Ce(e,t,s,"width",n),void 0!==a&&_Ce(e,t,a,"height",n),n}};function _Ce(e,t,n,i,r){var o,s;const a=t.name,l=a+yCe,u=a+bCe,c=n.channel,g=fp.defined(t),d=r.filter(k=>k.name===n.signals[g?"data":"visual"])[0],f=e.getSizeSignalRef(i).signal,h=e.getScaleComponent(c),C=h.get("type"),p=h.get("reverse"),m=`${l}.extent_${c}`,O=`${g?"log"===C?"panLog":"symlog"===C?"panSymlog":"pow"===C?"panPow":"panLinear":"panLinear"}(${m}, ${g?c===ao?p?"":"-":p?"-":"":""}${u}.${c} / ${g?`${f}`:`span(${m})`}${g?"pow"===C?`, ${null!==(o=h.get("exponent"))&&void 0!==o?o:1}`:"symlog"===C?`, ${null!==(s=h.get("constant"))&&void 0!==s?s:1}`:"":""})`;d.on.push({events:{signal:u},update:g?O:`clampRange(${O}, 0, ${f})`})}const wCe="_zoom_anchor",ECe="_zoom_delta",_lt={defined:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const i=t.name,r=fp.defined(t),o=i+ECe,{x:s,y:a}=t.project.hasChannel,l=Yi(e.scaleName(ao)),u=Yi(e.scaleName(fs));let c=ty(t.zoom,"scope");return r||(c=c.map(g=>(g.markname=i+iy,g))),n.push({name:i+wCe,on:[{events:c,update:r?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(g=>!!g).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==s&&xCe(e,t,s,"width",n),void 0!==a&&xCe(e,t,a,"height",n),n}};function xCe(e,t,n,i,r){var o,s;const a=t.name,l=n.channel,u=fp.defined(t),c=r.filter(_=>_.name===n.signals[u?"data":"visual"])[0],g=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(l),f=d.get("type"),h=u?wV(e,l):c.name,C=a+ECe,y=`${u?"log"===f?"zoomLog":"symlog"===f?"zoomSymlog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${h}, ${a}${wCe}.${l}, ${C}${u?"pow"===f?`, ${null!==(o=d.get("exponent"))&&void 0!==o?o:1}`:"symlog"===f?`, ${null!==(s=d.get("constant"))&&void 0!==s?s:1}`:"":""})`;c.on.push({events:{signal:C},update:u?y:`clampRange(${y}, 0, ${g})`})}const NI="_store",Cp="_tuple",wlt="_modify",DCe="vlSelectionResolve",EO=[nlt,elt,Qat,mCe,ICe,fp,vCe,mlt,blt,_lt,ACe];function oy(e,{escape:t}={escape:!0}){let n=t?Yi(e.name):e.name;const i=function(e){let t=e.parent;for(;t&&!Fg(t);)t=t.parent;return t}(e);if(i){const{facet:r}=i;for(const o of xc)r[o]&&(n+=` + '__facet_${o}_' + (facet[${Yi(i.vgField(o))}])`)}return n}function NV(e){var t;return Ta(null!==(t=e.component.selection)&&void 0!==t?t:{}).reduce((n,i)=>n||i.project.items.some(r=>r.field===eE),!1)}function SCe(e,t){($i(t.select)||!t.select.on)&&delete e.events,($i(t.select)||!t.select.clear)&&delete e.clear,($i(t.select)||!t.select.toggle)&&delete e.toggle}function Og(e){this.type=e}var qd,Zt,Le,Ma,Ar;Og.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1},(qd={})[1]="Boolean",qd[2]="<end>",qd[3]="Identifier",qd[4]="Keyword",qd[5]="Null",qd[6]="Numeric",qd[7]="Punctuator",qd[8]="String",qd[9]="RegularExpression";var TCe="Identifier",Ns="Unexpected token %0",OV="Invalid regular expression",MV="Invalid regular expression: missing /",kCe="Octal literals are not allowed in strict mode.",oa="ILLEGAL",uE="Disabled.",nut=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),iut=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function SO(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ih(e){return e>=48&&e<=57}function RV(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function cE(e){return"01234567".indexOf(e)>=0}function rut(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function gE(e){return 10===e||13===e||8232===e||8233===e}function dE(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&nut.test(String.fromCharCode(e))}function TO(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&iut.test(String.fromCharCode(e))}const out={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function NCe(){for(;Le<Ma;){const e=Zt.charCodeAt(Le);if(!rut(e)&&!gE(e))break;++Le}}function FV(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)Le<Ma&&RV(Zt[Le])?(i=Zt[Le++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):tr({},Ns,oa);return String.fromCharCode(r)}function sut(){var e,t;for(t=0,"}"===(e=Zt[Le])&&tr({},Ns,oa);Le<Ma&&RV(e=Zt[Le++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&tr({},Ns,oa),t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}function OCe(){var e,t;for(e=Zt.charCodeAt(Le++),t=String.fromCharCode(e),92===e&&(117!==Zt.charCodeAt(Le)&&tr({},Ns,oa),++Le,(!(e=FV("u"))||"\\"===e||!dE(e.charCodeAt(0)))&&tr({},Ns,oa),t=e);Le<Ma&&TO(e=Zt.charCodeAt(Le));)++Le,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Zt.charCodeAt(Le)&&tr({},Ns,oa),++Le,(!(e=FV("u"))||"\\"===e||!TO(e.charCodeAt(0)))&&tr({},Ns,oa),t+=e);return t}function PV(){var n,r,o,s,e=Le,t=Zt.charCodeAt(Le),i=Zt[Le];switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Le,{type:7,value:String.fromCharCode(t),start:e,end:Le};default:if(61===(n=Zt.charCodeAt(Le+1)))switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Le+=2,{type:7,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Le};case 33:case 61:return 61===Zt.charCodeAt(Le+=2)&&++Le,{type:7,value:Zt.slice(e,Le),start:e,end:Le}}}return">>>="===(s=Zt.substr(Le,4))?{type:7,value:s,start:e,end:Le+=4}:">>>"===(o=s.substr(0,3))||"<<="===o||">>="===o?{type:7,value:o,start:e,end:Le+=3}:i===(r=o.substr(0,2))[1]&&"+-<>&|".indexOf(i)>=0||"=>"===r?{type:7,value:r,start:e,end:Le+=2}:("//"===r&&tr({},Ns,oa),"<>=!+-*%&|^/".indexOf(i)>=0?{type:7,value:i,start:e,end:++Le}:void tr({},Ns,oa))}function MCe(){var e,t,n;if(SO(Ih((n=Zt[Le]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=Le,e="","."!==n){if(e=Zt[Le++],n=Zt[Le],"0"===e){if("x"===n||"X"===n)return++Le,function(e){let t="";for(;Le<Ma&&RV(Zt[Le]);)t+=Zt[Le++];return 0===t.length&&tr({},Ns,oa),dE(Zt.charCodeAt(Le))&&tr({},Ns,oa),{type:6,value:parseInt("0x"+t,16),start:e,end:Le}}(t);if(cE(n))return function(e){let t="0"+Zt[Le++];for(;Le<Ma&&cE(Zt[Le]);)t+=Zt[Le++];return(dE(Zt.charCodeAt(Le))||Ih(Zt.charCodeAt(Le)))&&tr({},Ns,oa),{type:6,value:parseInt(t,8),octal:!0,start:e,end:Le}}(t);n&&Ih(n.charCodeAt(0))&&tr({},Ns,oa)}for(;Ih(Zt.charCodeAt(Le));)e+=Zt[Le++];n=Zt[Le]}if("."===n){for(e+=Zt[Le++];Ih(Zt.charCodeAt(Le));)e+=Zt[Le++];n=Zt[Le]}if("e"===n||"E"===n)if(e+=Zt[Le++],("+"===(n=Zt[Le])||"-"===n)&&(e+=Zt[Le++]),Ih(Zt.charCodeAt(Le)))for(;Ih(Zt.charCodeAt(Le));)e+=Zt[Le++];else tr({},Ns,oa);return dE(Zt.charCodeAt(Le))&&tr({},Ns,oa),{type:6,value:parseFloat(e),start:t,end:Le}}function RCe(){if(NCe(),Le>=Ma)return{type:2,start:Le,end:Le};const e=Zt.charCodeAt(Le);return dE(e)?function(){var e,t;return e=Le,{type:1===(t=92===Zt.charCodeAt(Le)?OCe():function(){var e,t;for(e=Le++;Le<Ma;){if(92===(t=Zt.charCodeAt(Le)))return Le=e,OCe();if(!TO(t))break;++Le}return Zt.slice(e,Le)}()).length?3:out.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:Le}}():40===e||41===e||59===e?PV():39===e||34===e?function(){var t,n,i,r,e="",o=!1;for(SO("'"===(t=Zt[Le])||'"'===t,"String literal must starts with a quote"),n=Le,++Le;Le<Ma;){if((i=Zt[Le++])===t){t="";break}if("\\"===i)if((i=Zt[Le++])&&gE(i.charCodeAt(0)))"\r"===i&&"\n"===Zt[Le]&&++Le;else switch(i){case"u":case"x":"{"===Zt[Le]?(++Le,e+=sut()):e+=FV(i);break;case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:cE(i)?(0!==(r="01234567".indexOf(i))&&(o=!0),Le<Ma&&cE(Zt[Le])&&(o=!0,r=8*r+"01234567".indexOf(Zt[Le++]),"0123".indexOf(i)>=0&&Le<Ma&&cE(Zt[Le])&&(r=8*r+"01234567".indexOf(Zt[Le++]))),e+=String.fromCharCode(r)):e+=i}else{if(gE(i.charCodeAt(0)))break;e+=i}}return""!==t&&tr({},Ns,oa),{type:8,value:e,octal:o,start:n,end:Le}}():46===e?Ih(Zt.charCodeAt(Le+1))?MCe():PV():Ih(e)?MCe():PV()}function ql(){const e=Ar;return Le=e.end,Ar=RCe(),Le=e.end,e}function FCe(){const e=Le;Ar=RCe(),Le=e}function PCe(e,t,n){const i=new Og("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=n,i}function Iut(e,t){const n=new Og("CallExpression");return n.callee=e,n.arguments=t,n}function LV(e){const t=new Og(TCe);return t.name=e,t}function fE(e){const t=new Og("Literal");return t.value=e.value,t.raw=Zt.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function LCe(e,t,n){const i=new Og("MemberExpression");return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function BCe(e,t,n){const i=new Og("Property");return i.key=t,i.value=n,i.kind=e,i}function tr(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,(o,s)=>(SO(s<i.length,"Message reference must be in range"),i[s]));throw(n=new Error(r)).index=Le,n.description=r,n}function kO(e){2===e.type&&tr(e,"Unexpected end of input"),6===e.type&&tr(e,"Unexpected number"),8===e.type&&tr(e,"Unexpected string"),3===e.type&&tr(e,"Unexpected identifier"),4===e.type&&tr(e,"Unexpected reserved word"),tr(e,Ns,e.value)}function Ra(e){const t=ql();(7!==t.type||t.value!==e)&&kO(t)}function $r(e){return 7===Ar.type&&Ar.value===e}function BV(e){return 4===Ar.type&&Ar.value===e}function jCe(){Le=Ar.start;const e=ql();return 8===e.type||6===e.type?(e.octal&&tr(e,kCe),fE(e)):LV(e.value)}function _ut(){var e,t,n;return Le=Ar.start,3===(e=Ar).type?(n=jCe(),Ra(":"),BCe("init",n,RI())):2!==e.type&&7!==e.type?(t=jCe(),Ra(":"),BCe("init",t,RI())):void kO(e)}const xut={if:1};function Dut(){var e,t,n;if($r("("))return function(){Ra("(");const e=jV();return Ra(")"),e}();if($r("["))return function(){const e=[];for(Le=Ar.start,Ra("[");!$r("]");)$r(",")?(ql(),e.push(null)):(e.push(RI()),$r("]")||Ra(","));return ql(),function(e){const t=new Og("ArrayExpression");return t.elements=e,t}(e)}();if($r("{"))return function(){var t,i,e=[],r={},o=String;for(Le=Ar.start,Ra("{");!$r("}");)i="$"+((t=_ut()).key.type===TCe?t.key.name:o(t.key.value)),Object.prototype.hasOwnProperty.call(r,i)?tr({},"Duplicate data property in object literal not allowed in strict mode"):r[i]=!0,e.push(t),$r("}")||Ra(",");return Ra("}"),function(e){const t=new Og("ObjectExpression");return t.properties=e,t}(e)}();if(Le=Ar.start,3===(e=Ar.type)||xut[Ar.value])n=LV(ql().value);else if(8===e||6===e)Ar.octal&&tr(Ar,kCe),n=fE(ql());else{if(4===e)throw new Error(uE);1===e?((t=ql()).value="true"===t.value,n=fE(t)):5===e?((t=ql()).value=null,n=fE(t)):$r("/")||$r("/=")?(n=fE(function(){var e,t,n,i;return Ar=null,NCe(),e=Le,t=function(){var e,t,n,i;for(SO("/"===(e=Zt[Le]),"Regular expression literal must start with a slash"),t=Zt[Le++],n=!1,i=!1;Le<Ma;)if(t+=e=Zt[Le++],"\\"===e)gE((e=Zt[Le++]).charCodeAt(0))&&tr({},MV),t+=e;else if(gE(e.charCodeAt(0)))tr({},MV);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||tr({},MV),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";Le<Ma&&TO((e=Zt[Le]).charCodeAt(0));)++Le,"\\"===e&&Le<Ma?tr({},Ns,oa):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&tr({},OV,n),{value:n,literal:t}}(),i=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(i,r)=>{if(parseInt(r,16)<=1114111)return"x";tr({},OV)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(i){tr({},OV)}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:Le}}()),FCe()):kO(ql())}return n}function Sut(){const e=[];if(Ra("("),!$r(")"))for(;Le<Ma&&(e.push(RI()),!$r(")"));)Ra(",");return Ra(")"),e}function Nut(){Ra("[");const e=jV();return Ra("]"),e}function VCe(){const e=function(){var e;for(e=Dut();;)if($r("."))e=LCe(".",e,(Ra("."),function(){Le=Ar.start;const e=ql();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||kO(e),LV(e.value)}()));else if($r("("))e=Iut(e,Sut());else{if(!$r("["))break;e=LCe("[",e,Nut())}return e}();if(7===Ar.type&&($r("++")||$r("--")))throw new Error(uE);return e}function NO(){var e,t;if(7!==Ar.type&&4!==Ar.type)t=VCe();else{if($r("++")||$r("--"))throw new Error(uE);if($r("+")||$r("-")||$r("~")||$r("!"))e=ql(),t=NO(),t=function(e,t){const n=new Og("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(BV("delete")||BV("void")||BV("typeof"))throw new Error(uE);t=VCe()}}return t}function zCe(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function RI(){var e,t;return e=function(){var e,t,n,i,r,o,s,a,l,u;if(e=Ar,l=NO(),0===(r=zCe(i=Ar)))return l;for(i.prec=r,ql(),t=[e,Ar],o=[l,i,s=NO()];(r=zCe(Ar))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=PCe(a,l,s),o.push(n);(i=ql()).prec=r,o.push(i),t.push(Ar),n=NO(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)t.pop(),n=PCe(o[u-1].value,o[u-2],n),u-=2;return n}(),$r("?")&&(ql(),t=RI(),Ra(":"),e=function(e,t,n){const i=new Og("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,RI())),e}function jV(){const e=RI();if($r(","))throw new Error(uE);return e}function VV(e){const t=[];return"Identifier"===e.type?[e.name]:"Literal"===e.type?[e.value]:("MemberExpression"===e.type&&(t.push(...VV(e.object)),t.push(...VV(e.property))),t)}function HCe(e){return"MemberExpression"===e.object.type?HCe(e.object):"datum"===e.object.name}function UCe(e){const t=function(e){Le=0,Ma=(Zt=e).length,Ar=null,FCe();const t=jV();if(2!==Ar.type)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit(i=>{"MemberExpression"===i.type&&HCe(i)&&n.add(VV(i).slice(1).join("."))}),n}class sy extends _r{constructor(t,n,i){super(t),this.model=n,this.filter=i,this.expr=OO(this.model,this.filter,this),this._dependentFields=UCe(this.expr)}clone(){return new sy(null,this.model,ei(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function GCe(e,t,n,i="datum"){const r=Jn(t)?t:t.param,o=to(r),s=Yi(o+NI);let a;try{a=e.getSelectionComponent(o,r)}catch(c){return`!!${o}`}if(a.project.timeUnit){const c=null!=n?n:e.component.data.raw,g=a.project.timeUnit.clone();c.parent?g.insertAsParentOf(c):c.parent=g}const l=`vlSelectionTest(${s}, ${i}${"global"===a.resolve?")":`, ${Yi(a.resolve)})`}`,u=`length(data(${s}))`;return!1===t.empty?`${u} && ${l}`:`!${u} || ${l}`}function WCe(e,t,n){const i=to(t),r=n.encoding;let s,o=n.field;try{s=e.getSelectionComponent(i,t)}catch(a){return i}if(r||o){if(r&&!o){const a=s.project.items.filter(l=>l.channel===r);!a.length||a.length>1?(o=s.project.items[0].field,lt((a.length?"Multiple ":"No ")+`matching ${Yi(r)} encoding found for selection ${Yi(n.param)}. Using "field": ${Yi(o)}.`)):o=a[0].field}}else o=s.project.items[0].field,s.project.items.length>1&&lt(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Yi(o)}.`);return`${s.name}[${Yi(wc(o))}]`}function OO(e,t,n){return jw(t,i=>Jn(i)?i:function(e){return null==e?void 0:e.param}(i)?GCe(e,i,n):Cfe(i))}var MO=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function zV(e,t,n,i){var r,o,s,a,l;null!==(r=e.encode)&&void 0!==r||(e.encode={}),null!==(o=(a=e.encode)[t])&&void 0!==o||(a[t]={}),null!==(s=(l=e.encode[t]).update)&&void 0!==s||(l.update={}),e.encode[t].update[n]=i}function hE(e,t,n,i={header:!1}){var r,o;const s=e.combine(),{disable:a,orient:l,scale:u,labelExpr:c,title:g,zindex:d}=s,f=MO(s,["disable","orient","scale","labelExpr","title","zindex"]);if(!a){for(const h in f){const C=est[h],p=f[h];if(C&&C!==t&&"both"!==C)delete f[h];else if(Jw(p)){const{condition:I}=p,m=MO(p,["condition"]),y=Fr(I),_=Xfe[h];if(_){const{vgProp:N,part:O}=_;zV(f,O,N,[...y.map(M=>{const{test:V}=M,z=MO(M,["test"]);return Object.assign({test:OO(null,V)},z)}),m]),delete f[h]}else if(null===_){const N={signal:y.map(O=>{const{test:k}=O,M=MO(O,["test"]);return`${OO(null,k)} ? ${jde(M)} : `}).join("")+jde(m)};f[h]=N}}else if(Cn(p)){const I=Xfe[h];if(I){const{vgProp:m,part:y}=I;zV(f,y,m,p),delete f[h]}}ai(["labelAlign","labelBaseline"],h)&&null===f[h]&&delete f[h]}if("grid"===t){if(!f.grid)return;if(f.encode){const{grid:h}=f.encode;f.encode=Object.assign({},h?{grid:h}:{}),br(f.encode)&&delete f.encode}return Object.assign(Object.assign({scale:u,orient:l},f),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Wo(d,0)})}{if(!i.header&&e.mainExtracted)return;if(void 0!==c){let C=c;(null===(o=null===(r=f.encode)||void 0===r?void 0:r.labels)||void 0===o?void 0:o.update)&&Cn(f.encode.labels.update.text)&&(C=II(c,"datum.label",f.encode.labels.update.text.signal)),zV(f,"labels","text",{signal:C})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const C of Qfe)e.hasAxisPart(C)||delete f.encode[C];br(f.encode)&&delete f.encode}const h=function(e,t){if(e)return qt(e)&&!rp(e)?e.map(n=>X7(n,t)).join(", "):e}(g,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},h?{title:h}:{}),f),!1===n.aria?{aria:!1}:{}),{zindex:Wo(d,0)})}}}function $Ce(e){const{axes:t}=e.component,n=[];for(const i of jd)if(t[i])for(const r of t[i])if(!r.get("disable")&&!r.get("gridScale")){const o="x"===i?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}return n}function YCe(e,t,n,i){return Object.assign.apply(null,[{},...e.map(r=>{if("axisOrient"===r){const o="x"===n?"bottom":"left",s=t["x"===n?"axisBottom":"axisLeft"]||{},a=t["x"===n?"axisTop":"axisRight"]||{},l=new Set([...Ye(s),...Ye(a)]),u={};for(const c of l.values())u[c]={signal:`${i.signal} === "${o}" ? ${fh(s[c])} : ${fh(a[c])}`};return u}return t[r]})])}function Uut(e,t){var n;const i=[{}];for(const r of e){let o=null===(n=t[r])||void 0===n?void 0:n.style;if(o){o=Fr(o);for(const s of o)i.push(t.style[s])}}return Object.assign.apply(null,i)}function HV(e,t,n,i={}){var r;const o=zde(e,n,t);if(void 0!==o)return{configFrom:"style",configValue:o};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(r=i[s])||void 0===r?void 0:r[e]))return{configFrom:s,configValue:i[s][e]};return{}}const qCe={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:i,formatType:r}=n;return Ofe(e,e.type,i,r,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:i}=e;return Mfe(i,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var i;return null!==(i=t.grid)&&void 0!==i?i:function(e,t){return!ka(e)&&Et(t)&&!Lr(null==t?void 0:t.bin)&&!hl(null==t?void 0:t.bin)}(n,e)},gridScale:({model:e,channel:t})=>function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelAlign||KCe(t,n,i),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelBaseline||ZCe(t,n,i),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var i;return null!==(i=e.labelFlush)&&void 0!==i?i:function(e,t){if("x"===t&&ai(["quantitative","temporal"],e))return!0}(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var i;return null!==(i=e.labelOverlap)&&void 0!==i?i:function(e,t,n,i){if(n&&!Sr(i)||"nominal"!==e&&"ordinal"!==e)return"log"!==t&&"symlog"!==t||"greedy"}(t.type,n,Et(t)&&!!t.timeUnit,Et(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:i,scaleType:r})=>{var o;const s="x"===e?"width":"y"===e?"height":void 0,a=s?t.getSizeSignalRef(s):void 0;return null!==(o=n.tickCount)&&void 0!==o?o:function({fieldOrDatumDef:e,scaleType:t,size:n,values:i}){var r;if(!i&&!ka(t)&&"log"!==t){if(Et(e)){if(Lr(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&ai(["month","hours","day","quarter"],null===(r=Cl(e.timeUnit))||void 0===r?void 0:r.unit))return}return{signal:`ceil(${n.signal}/40)`}}}({fieldOrDatumDef:i,scaleType:r,size:a,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(void 0!==e.title)return e.title;const i=XCe(t,n);if(void 0!==i)return i;const r=t.typedFieldDef(n),s=t.fieldDef("x"===n?"x2":"y2");return Ude(r?[Vfe(r)]:[],Et(s)?[Vfe(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function(e,t){const n=e.values;return qt(n)?Kfe(t,n):Cn(n)?n:void 0}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var i;return null!==(i=e.zindex)&&void 0!==i?i:function(e,t){return"rect"===e&&oO(t)?1:0}(n,t)}};function UV(e){return`(((${e.signal} % 360) + 360) % 360)`}function ZCe(e,t,n,i){if(void 0!==e){if("x"===n){if(Cn(e)){const r=UV(e);return{signal:`(45 < ${r} && ${r} < 135) || (225 < ${r} && ${r} < 315) ? "middle" :(${r} <= 45 || 315 <= ${r}) === ${Cn(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}return 45<e&&e<135||225<e&&e<315?"middle":Cn(t)?{signal:`${t.signal} ${e<=45||315<=e?"===":"!=="} "top" ? "bottom" : "top"`}:(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(Cn(e)){const r=UV(e);return{signal:`${r} <= 45 || 315 <= ${r} || (135 <= ${r} && ${r} <= 225) ? ${i?'"middle"':"null"} : (45 <= ${r} && ${r} <= 135) === ${Cn(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}return e<=45||315<=e||135<=e&&e<=225?i?"middle":null:Cn(t)?{signal:`${t.signal} ${45<=e&&e<=135?"===":"!=="} "left" ? "top" : "bottom"`}:(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function KCe(e,t,n){if(void 0===e)return;const i="x"===n,r=i?0:90,o=i?"bottom":"left";if(Cn(e)){const s=UV(e);return{signal:`(${r?`(${s} + 90)`:s} % 180 === 0) ? ${i?null:'"center"'} :(${r} < ${s} && ${s} < ${180+r}) === ${Cn(t)?`(${t.signal} === "${o}")`:t===o} ? "left" : "right"`}}return(e+r)%180==0?i?null:"center":Cn(t)?{signal:`${t.signal} ${r<e&&e<180+r?"===":"!=="} "${o}" ? "left" : "right"`}:(r<e&&e<180+r)==(t===o)?"left":"right"}function XCe(e,t){const n="x"===t?"x2":"y2",i=e.fieldDef(t),r=e.fieldDef(n),o=i?i.title:void 0,s=r?r.title:void 0;return o&&s?Gde(o,s):o||s||(void 0!==o?o:void 0!==s?s:void 0)}class ay extends _r{constructor(t,n){super(t),this.transform=n,this._dependentFields=UCe(this.transform.calculate)}clone(){return new ay(null,ei(this.transform))}static parseAllForSortIndex(t,n){return n.forEachFieldDef((i,r)=>{if(TI(i)&&jfe(i.sort)){const{field:o,timeUnit:s}=i,a=i.sort,l=a.map((u,c)=>`${Cfe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new ay(t,{calculate:l,as:ly(i,r,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Pi(this.transform)}`}}function ly(e,t,n){return bt(e,Object.assign({prefix:t,suffix:"sort_index"},null!=n?n:{}))}function RO(e,t){return ai(["top","bottom"],t)?"column":ai(["left","right"],t)||"row"===e?"row":"column"}function uy(e,t,n,i){return Wo((t||{})[e],("row"===i?n.headerRow:"column"===i?n.headerColumn:n.headerFacet)[e],n.header[e])}function FO(e,t,n,i){const r={};for(const o of e){const s=uy(o,t||{},n,i);void 0!==s&&(r[o]=s)}return r}const GV=["row","column"],WV=["header","footer"];function Jut(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=FO(["titleAnchor","titleAngle","titleOrient"],r.header,i,t),l=RO(t,a),u=zw(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),JCe(u,l)),QCe(l,u,o)),epe(i,r,t,yst,Ahe))}}function QCe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=KCe(t,"row"===e?"left":"top","row"===e?"y":"x");return i?{align:i}:{}}function JCe(e,t){const n=ZCe(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function ect(e,t){const n=e.component.layoutHeaders[t],i=[];for(const r of WV)if(n[r])for(const o of n[r]){const s=nct(e,t,r,n,o);null!=s&&i.push(s)}return i}function tct(e,t){var n;const{sort:i}=e;return Ud(i)?{field:bt(i,{expr:"datum"}),order:null!==(n=i.order)&&void 0!==n?n:"ascending"}:qt(i)?{field:ly(e,t,{expr:"datum"}),order:"ascending"}:{field:bt(e,{expr:"datum"}),order:null!=i?i:"ascending"}}function $V(e,t,n){const{format:i,formatType:r,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=FO(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=G7({fieldOrDatumDef:e,format:i,formatType:r,expr:"parent",config:n}).signal,c=RO(t,a);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?II(II(l,"datum.label",u),"datum.value",bt(e,{expr:"parent"})):u}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),JCe(o,c)),QCe(c,o,s)),epe(n,e,t,bst,Ihe))}function nct(e,t,n,i,r){if(r){let o=null;const{facetFieldDef:s}=i,a=e.config?e.config:void 0;if(s&&r.labels){const{labelOrient:g}=FO(["labelOrient"],s.header,a,t);("row"===t&&!ai(["top","bottom"],g)||"column"===t&&!ai(["left","right"],g))&&(o=$V(s,t,a))}const l=Fg(e)&&!Xw(e.facet),u=r.axes,c=(null==u?void 0:u.length)>0;if(o||c){const g="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},i.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:tct(s,t)}:{}),c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),o?{title:o}:{}),r.sizeSignal?{encode:{update:{[g]:r.sizeSignal}}}:{}),c?{axes:u}:{})}}return null}const ict={column:{start:0,end:1},row:{start:1,end:0}};function rct(e,t){return ict[t][e]}function epe(e,t,n,i,r){const o={};for(const s of i){if(!r[s])continue;const a=uy(s,null==t?void 0:t.header,e,n);void 0!==a&&(o[r[s]]=a)}return o}function YV(e){return[...PO(e,"width"),...PO(e,"height"),...PO(e,"childWidth"),...PO(e,"childHeight")]}function PO(e,t){const n="width"===t?"x":"y",i=e.component.layoutSize.get(t);if(!i||"merged"===i)return[];const r=e.getSizeSignalRef(t).signal;if("step"===i){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(ka(s)&&op(a)){const l=e.scaleName(n);return Fg(e.parent)&&"independent"===e.parent.component.resolve.scale[n]?[tpe(l,a)]:[tpe(l,a),{name:r,update:npe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==i){const o=r.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",l=`isFinite(${s}) ? ${s} : ${fV(e.config.view,o?"width":"height")}`;return[{name:r,init:l,on:[{update:l,events:"window:resize"}]}]}return[{name:r,value:i}]}function tpe(e,t){return{name:`${e}_step`,value:t.step}}function npe(e,t,n){const i=t.get("type"),r=t.get("padding"),o=Wo(t.get("paddingOuter"),r);let s=t.get("paddingInner");return s="band"===i?void 0!==s?s:r:1,`bandspace(${n}, ${fh(s)}, ${fh(o)}) * ${e}_step`}function ipe(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function rpe(e,t){return Ye(e).reduce((n,i)=>{const r=e[i];return Object.assign(Object.assign({},n),ry(t,r,i,o=>no(o.value)))},{})}function ope(e,t){if(Fg(t))return"theta"===e?"independent":"shared";if(dy(t))return"shared";if(uz(t))return Vd(e)||"theta"===e||"radius"===e?"independent":"shared";throw new Error("invalid model type for resolve")}function qV(e,t){const n=e.scale[t],i=Vd(t)?"axis":"legend";return"independent"===n?("shared"===e[i][t]&&lt(function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[i][t]||"shared"}const sct=Object.assign(Object.assign({},yhe),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),spe=Ye(sct);class act extends ph{}const ape={symbols:function(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:r,legendType:o}){var s,a,l,u,c,g,d,f;if("symbol"!==o)return;const{markDef:h,encoding:C,config:p,mark:I}=n,m=h.filled&&"trail"!==I;let y=Object.assign(Object.assign({},function(e,t,n){for(const i of n){const r=_I(i,t.markDef,t.config);void 0!==r&&(e[i]=no(r))}return e}({},n,xot)),gCe(n,{filled:m}));const _=null!==(s=r.get("symbolOpacity"))&&void 0!==s?s:p.legend.symbolOpacity,N=null!==(a=r.get("symbolFillColor"))&&void 0!==a?a:p.legend.symbolFillColor,O=null!==(l=r.get("symbolStrokeColor"))&&void 0!==l?l:p.legend.symbolStrokeColor,k=void 0===_?null!==(u=lpe(C.opacity))&&void 0!==u?u:h.opacity:void 0;if(y.fill)if("fill"===i||m&&i===Gl)delete y.fill;else if(y.fill.field)N?delete y.fill:(y.fill=no(null!==(c=p.legend.symbolBaseFillColor)&&void 0!==c?c:"black"),y.fillOpacity=no(null!=k?k:1));else if(qt(y.fill)){const M=null!==(f=null!==(d=ZV(null!==(g=C.fill)&&void 0!==g?g:C.color))&&void 0!==d?d:h.fill)&&void 0!==f?f:m&&h.color;M&&(y.fill=no(M))}if(y.stroke)if("stroke"===i||!m&&i===Gl)delete y.stroke;else if(y.stroke.field||O)delete y.stroke;else if(qt(y.stroke)){const M=Wo(ZV(C.stroke||C.color),h.stroke,m?h.color:void 0);M&&(y.stroke={value:M})}if(i!==uh){const M=Et(t)&&cpe(0,r,t);M?y.opacity=[Object.assign({test:M},no(null!=k?k:1)),no(p.legend.unselectedOpacity)]:k&&(y.opacity=no(k))}return y=Object.assign(Object.assign({},y),e),br(y)?void 0:y},gradient:function(e,{model:t,legendType:n,legendCmpt:i}){var r;if("gradient"!==n)return;const{config:o,markDef:s,encoding:a}=t;let l={};const c=void 0===(null!==(r=i.get("gradientOpacity"))&&void 0!==r?r:o.legend.gradientOpacity)?lpe(a.opacity)||s.opacity:void 0;return c&&(l.opacity=no(c)),l=Object.assign(Object.assign({},l),e),br(l)?void 0:l},labels:function(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:r}){const o=n.legend(i)||{},s=n.config,a=Et(t)?cpe(0,r,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o,g=SI(c)?W7({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):void 0,d=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),g?{text:g}:{}),e);return br(d)?void 0:d},entries:function(e,{legendCmpt:t}){const n=t.get("selections");return(null==n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function lpe(e){return upe(e,(t,n)=>Math.max(t,n.value))}function ZV(e){return upe(e,(t,n)=>Wo(t,n.value))}function upe(e,t){return function(e){const t=e&&e.condition;return!!t&&(qt(t)||Ng(t))}(e)?Fr(e.condition).reduce(t,e.value):Ng(e)?e.value:void 0}function cpe(e,t,n){const i=t.get("selections");if(!(null==i?void 0:i.length))return;const r=Yi(n.field);return i.map(o=>`(!length(data(${Yi(to(o)+NI)})) || (${o}[${r}] && indexof(${o}[${r}], datum.value) >= 0))`).join(" || ")}const gpe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:i,formatType:r}=t;return Ofe(e,e.type,i,r,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:i}=e;return Mfe(i,t,n)},gradientLength:e=>{var t,n;const{legend:i,legendConfig:r}=e;return null!==(n=null!==(t=i.gradientLength)&&void 0!==t?t:r.gradientLength)&&void 0!==n?n:function({legendConfig:e,model:t,direction:n,orient:i,scaleType:r}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Tg(r))return"horizontal"===n?"top"===i||"bottom"===i?dpe(t,"width",s,o):s:dpe(t,"height",l,a)}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var i,r;return null!==(r=null!==(i=e.labelOverlap)&&void 0!==i?i:t.labelOverlap)&&void 0!==r?r:function(e){if(ai(["quantile","threshold","log","symlog"],e))return"greedy"}(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:i})=>{var r;return null!==(r=e.symbolType)&&void 0!==r?r:function(e,t,n,i){var r;if("shape"!==t){const o=null!==(r=ZV(n))&&void 0!==r?r:i;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,n,i.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>Kv(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if($v(n)&&Tg(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function(e,t){const n=e.values;return qt(n)?Kfe(t,n):Cn(n)?n:void 0}(t,e)};function dpe(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function fpe(e){const t=$o(e)?function(e){const{encoding:t}=e,n={};for(const i of[Gl,...vhe]){const r=Cs(t[i]);!r||!e.getScaleComponent(i)||i===Wl&&Et(r)&&r.type===qv||(n[i]=_ct(e,i))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const i of e.children){fpe(i);for(const r of Ye(i.component.legends))n.legend[r]=qV(e.component.resolve,r),"shared"===n.legend[r]&&(t[r]=hpe(t[r],i.component.legends[r]),t[r]||(n.legend[r]="independent",delete t[r]))}for(const i of Ye(t))for(const r of e.children)!r.component.legends[i]||"shared"===n.legend[i]&&delete r.component.legends[i];return t}(e);return e.component.legends=t,t}function bct(e,t,n,i){switch(t){case"disable":return void 0!==n;case"values":return!!(null==n?void 0:n.values);case"title":if("title"===t&&e===(null==i?void 0:i.title))return!0}return e===(n||{})[t]}function _ct(e,t){var n,i,r;let o=e.legend(t);const{markDef:s,encoding:a,config:l}=e,u=l.legend,c=new act({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var i,r,o,s;const a=null===(i=e.fieldDef(t))||void 0===i?void 0:i.field;for(const l of Ta(null!==(r=e.component.selection)&&void 0!==r?r:{})){const u=null!==(o=l.project.hasField[a])&&void 0!==o?o:l.project.hasChannel[t];if(u&&vCe.defined(l)){const c=null!==(s=n.get("selections"))&&void 0!==s?s:[];c.push(l.name),n.set("selections",c,!1),u.hasLegend=!0}}}(e,t,c);const g=void 0!==o?!o:u.disable;if(c.set("disable",g,void 0!==o),g)return c;o=o||{};const d=e.getScaleComponent(t).get("type"),f=Cs(a[t]),h=Et(f)?null===(n=Cl(f.timeUnit))||void 0===n?void 0:n.unit:void 0,C=o.orient||l.legend.orient||"right",p=function(e){const{legend:t}=e;return Wo(t.type,function({channel:e,timeUnit:t,scaleType:n}){if($v(e)){if(ai(["quarter","month","day"],t))return"symbol";if(Tg(n))return"gradient"}return"symbol"}(e))}({legend:o,channel:t,timeUnit:h,scaleType:d}),I=function({legendConfig:e,legendType:t,orient:n,legend:i}){var r,o;return null!==(o=null!==(r=i.direction)&&void 0!==r?r:e[t?"gradientDirection":"symbolDirection"])&&void 0!==o?o:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(n,t)}({legend:o,legendType:p,orient:C,legendConfig:u}),m={legend:o,channel:t,model:e,markDef:s,encoding:a,fieldOrDatumDef:f,legendConfig:u,config:l,scaleType:d,orient:C,legendType:p,direction:I};for(const k of spe){if("gradient"===p&&k.startsWith("symbol")||"symbol"===p&&k.startsWith("gradient"))continue;const M=k in gpe?gpe[k](m):o[k];if(void 0!==M){const V=bct(M,k,o,e.fieldDef(t));(V||void 0===l.legend[k])&&c.set(k,M,V)}}const y=null!==(i=null==o?void 0:o.encoding)&&void 0!==i?i:{},_=c.get("selections"),N={},O={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:c,legendType:p};for(const k of["labels","legend","title","symbols","gradient","entries"]){const M=rpe(null!==(r=y[k])&&void 0!==r?r:{},e),V=k in ape?ape[k](M,O):M;void 0!==V&&!br(V)&&(N[k]=Object.assign(Object.assign(Object.assign({},(null==_?void 0:_.length)&&Et(f)?{name:`${to(f.field)}_legend_${k}`}:{}),(null==_?void 0:_.length)?{interactive:!!_}:{}),{update:V}))}return br(N)||c.set("encode",N,!!(null==o?void 0:o.encoding)),c}function hpe(e,t){var n,i,r,o;if(!e)return t.clone();const s=e.getWithExplicit("orient"),a=t.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;let l=!1;for(const u of spe){const c=gp(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(g,d)=>{switch(u){case"symbolType":return Ect(g,d);case"title":return Wde(g,d);case"type":return l=!0,ku("symbol")}return IO(g,d,u,"legend")});e.setWithExplicit(u,c)}return l&&((null===(i=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===i?void 0:i.gradient)&&SN(e.implicit,["encode","gradient"]),(null===(o=null===(r=e.explicit)||void 0===r?void 0:r.encode)||void 0===o?void 0:o.gradient)&&SN(e.explicit,["encode","gradient"])),e}function Ect(e,t){return"circle"===t.value?t:e}function Cpe(e){const t=e.component.legends,n={};for(const r of Ye(t)){const o=e.getScaleComponent(r),s=Pr(o.get("domains"));if(n[s])for(const a of n[s])hpe(a,t[r])||n[s].push(t[r]);else n[s]=[t[r].clone()]}return Ta(n).flat().map(r=>function(e,t){var n,i,r;const o=e.combine(),{disable:s,labelExpr:a}=o,u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(o,["disable","labelExpr","selections"]);if(!s){if(!1===t.aria&&null==u.aria&&(u.aria=!1),null===(n=u.encode)||void 0===n?void 0:n.symbols){const c=u.encode.symbols.update;c.fill&&"transparent"!==c.fill.value&&!c.stroke&&!u.stroke&&(c.stroke={value:"transparent"});for(const g of vhe)u[g]&&delete c[g]}if(u.title||delete u.title,void 0!==a){let c=a;(null===(r=null===(i=u.encode)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.update)&&Cn(u.encode.labels.update.text)&&(c=II(a,"datum.label",u.encode.labels.update.text.signal)),function(e,t,n,i){var r,o,s,a,l;null!==(r=e.encode)&&void 0!==r||(e.encode={}),null!==(o=(a=e.encode)[t])&&void 0!==o||(a[t]={}),null!==(s=(l=e.encode[t]).update)&&void 0!==s||(l.update={}),e.encode[t].update.text=i}(u,"labels",0,{signal:c})}return u}}(r,e.config)).filter(r=>void 0!==r)}function ppe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n;if(t.data){const r={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Cn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return ai(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:i,size:r,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}return[Object.assign(Object.assign({name:i},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const Nct=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Ape extends ph{constructor(t,n,i,r){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=i,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function Ipe(e){e.component.projection=$o(e)?function(e){var t;if(e.hasProjection){const n=$l(e.specifiedProjection),i=!(n&&(null!=n.scale||null!=n.translate)),r=i?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=i?function(e){const t=[],{encoding:n}=e;for(const i of[[Pd,Fd],[Ec,Sg]])(Cs(n[i[0]])||Cs(n[i[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Wl)&&e.typedFieldDef(Wl).type===qv&&t.push({signal:e.getName(`geojson_${t.length}`)}),0===t.length&&t.push(e.requestDataName(Tr.Main)),t}(e):void 0,s=new Ape(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=$l(e.config.projection))&&void 0!==t?t:{}),null!=n?n:{}),r,o);return s.get("type")||s.set("type","equalEarth",!1),s}}(e):function(e){if(0===e.children.length)return;let t;for(const i of e.children)Ipe(i);const n=o7(e.children,i=>{const r=i.component.projection;if(r){if(t){const o=function(e,t){const n=o7(Nct,r=>!!(!_c(e.explicit,r)&&!_c(t.explicit,r)||_c(e.explicit,r)&&_c(t.explicit,r)&&Nd(e.get(r),t.get(r))));if(Nd(e.size,t.size)){if(n)return e;if(Nd(e.explicit,{}))return t;if(Nd(t.explicit,{}))return e}return null}(t,r);return o&&(t=o),!!o}return t=r,!0}return!0});if(t&&n){const i=e.projectionName(!0),r=new Ape(i,t.specifiedProjection,t.size,ei(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&r.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),i),s.merged=!0)}return r}}(e)}function mpe(e,t){return`${Rde(e)}_${t}`}function KV(e,t,n){var i;const o=mpe(null!==(i=lO(n,void 0))&&void 0!==i?i:{},t);return e.getName(`${o}_bins`)}function vpe(e,t,n){let i,r;i=function(e){return"as"in e}(e)?Jn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[bt(e,{forAs:!0}),bt(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},lO(t,void 0)),s=mpe(o,e.field),{signal:a,extentSignal:l}=function(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(n,s);if(VN(o.extent)){const c=o.extent;r=WCe(n,c.param,c),delete o.extent}return{key:s,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[i]},a?{signal:a}:{}),l?{extentSignal:l}:{}),r?{span:r}:{})}}class Zd extends _r{constructor(t,n){super(t),this.bins=n}clone(){return new Zd(null,ei(this.bins))}static makeFromEncoding(t,n){const i=n.reduceFieldDef((r,o,s)=>{if(Sc(o)&&Lr(o.bin)){const{key:a,binComponent:l}=vpe(o,o.bin,n);r[a]=Object.assign(Object.assign(Object.assign({},l),r[a]),function(e,t,n,i){var r,o;if(Qw(t,n)){const s=$o(e)&&null!==(o=null!==(r=e.axis(n))&&void 0!==r?r:e.legend(n))&&void 0!==o?o:{},a=bt(t,{expr:"datum"}),l=bt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:bt(t,{binSuffix:"range",forAs:!0}),formula:XN(a,l,s.format,s.formatType,i)}}return{}}(n,o,s,n.config))}return r},{});return br(i)?null:new Zd(t,i)}static makeFromTransform(t,n,i){const{key:r,binComponent:o}=vpe(n,n.bin,i);return new Zd(t,{[r]:o})}merge(t,n){for(const i of Ye(t.bins))i in this.bins?(n(t.bins[i].signal,this.bins[i].signal),this.bins[i].as=Od([...this.bins[i].as,...t.bins[i].as],Pi)):this.bins[i]=t.bins[i];for(const i of t.children)t.removeChild(i),i.parent=this;t.remove()}producedFields(){return new Set(Ta(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ta(this.bins).map(t=>t.field))}hash(){return`Bin ${Pi(this.bins)}`}assemble(){return Ta(this.bins).flatMap(t=>{const n=[],[i,...r]=t.as,o=t.bin,{extent:s}=o,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(o,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:wc(t.field),as:i,signal:t.signal},VN(s)?{extent:null}:{extent:s}),t.span?{span:{signal:`span(${t.span})`}}:{}),a);!s&&t.extentSignal&&(n.push({type:"extent",field:wc(t.field),signal:t.extentSignal}),l.extent={signal:t.extentSignal}),n.push(l);for(const u of r)for(let c=0;c<2;c++)n.push({type:"formula",expr:bt({field:i[c]},{expr:"datum"}),as:u[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}class Mg extends _r{constructor(t,n,i){super(t),this.dimensions=n,this.measures=i}clone(){return new Mg(null,new Set(this.dimensions),ei(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let i=!1;n.forEachFieldDef(s=>{s.aggregate&&(i=!0)});const r={},o=new Set;return i&&(n.forEachFieldDef((s,a)=>{var l,u,c,g;const{aggregate:d,field:f}=s;if(d)if("count"===d)null!==(l=r["*"])&&void 0!==l||(r["*"]={}),r["*"].count=new Set([bt(s,{forAs:!0})]);else{if(gh(d)||ip(d)){const h=gh(d)?"argmin":"argmax",C=d[h];null!==(u=r[C])&&void 0!==u||(r[C]={}),r[C][h]=new Set([bt({op:h,field:C},{forAs:!0})])}else null!==(c=r[f])&&void 0!==c||(r[f]={}),r[f][d]=new Set([bt(s,{forAs:!0})]);np(a)&&"unaggregated"===n.scaleDomain(a)&&(null!==(g=r[f])&&void 0!==g||(r[f]={}),r[f].min=new Set([bt({field:f,aggregate:"min"},{forAs:!0})]),r[f].max=new Set([bt({field:f,aggregate:"max"},{forAs:!0})]))}else!function(e,t,n,i){var r;const o=$o(i)?i.encoding[ch(t)]:void 0;if(Sc(n)&&$o(i)&&Ufe(n,o,i.markDef,i.config))e.add(bt(n,{})),e.add(bt(n,{suffix:"end"})),n.bin&&Qw(n,t)&&e.add(bt(n,{binSuffix:"range"}));else if(function(e){return e in g7}(t)){const s=function(e){switch(e){case Fd:return"y";case Sg:return"y2";case Pd:return"x";case Ec:return"x2"}}(t);e.add(i.getName(s))}else e.add(bt(n));TI(n)&&function(e){return Un(e)&&"field"in e}(null===(r=n.scale)||void 0===r?void 0:r.range)&&e.add(n.scale.range.field)}(o,a,s,n)}),o.size+Ye(r).length!==0)?new Mg(t,o,r):null}static makeFromTransform(t,n){var i,r,o;const s=new Set,a={};for(const l of n.aggregate){const{op:u,field:c,as:g}=l;u&&("count"===u?(null!==(i=a["*"])&&void 0!==i||(a["*"]={}),a["*"].count=new Set([g||bt(l,{forAs:!0})])):(null!==(r=a[c])&&void 0!==r||(a[c]={}),a[c][u]=new Set([g||bt(l,{forAs:!0})])))}for(const l of null!==(o=n.groupby)&&void 0!==o?o:[])s.add(l);return s.size+Ye(a).length===0?null:new Mg(t,s,a)}merge(t){return Ide(this.dimensions,t.dimensions)?(function(e,t){var n;for(const i of Ye(t)){const r=t[i];for(const o of Ye(r))i in e?e[i][o]=new Set([...null!==(n=e[i][o])&&void 0!==n?n:[],...r[o]]):e[i]={[o]:r[o]}}}(this.measures,t.measures),!0):(zd.debug("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Ye(this.measures)])}producedFields(){const t=new Set;for(const n of Ye(this.measures))for(const i of Ye(this.measures[n])){const r=this.measures[n][i];0===r.size?t.add(`${i}_${n}`):r.forEach(t.add,t)}return t}hash(){return`Aggregate ${Pi({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],i=[];for(const o of Ye(this.measures))for(const s of Ye(this.measures[o]))for(const a of this.measures[o][s])i.push(a),t.push(s),n.push("*"===o?null:wc(o));return{type:"aggregate",groupby:[...this.dimensions].map(wc),ops:t,fields:n,as:i}}}class cy extends _r{constructor(t,n,i,r){super(t),this.model=n,this.name=i,this.data=r;for(const o of xc){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]=Object.assign({name:n.getName(`${o}_domain`),fields:[bt(s),...Lr(a)?[bt(s,{binSuffix:"end"})]:[]]},Ud(l)?{sortField:l}:qt(l)?{sortIndexField:ly(s,o)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of xc)this[n]&&(t+=` ${n.charAt(0)}:${Pi(this[n])}`);return t}get fields(){var t;const n=[];for(const i of xc)(null===(t=this[i])||void 0===t?void 0:t.fields)&&n.push(...this[i].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of xc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of jd){const i=this.childModel.component.scales[n];if(i&&!i.merged){const r=i.get("type"),o=i.get("range");if(ka(r)&&op(o)){const a=sz(BO(this.childModel,n));a?t[n]=a:lt(v7(n))}}}return t}assembleRowColumnHeaderData(t,n,i){const r={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];r&&i&&i[r]&&(n?(o.push(`distinct_${i[r]}`),s.push("max")):(o.push(i[r]),s.push("distinct")),a.push(`distinct_${i[r]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=QN,field:g}=l;o.push(g),s.push(c),a.push(bt(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:null!=n?n:this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},o.length?{fields:o,ops:s,as:a}:{})]}}assembleFacetHeaderData(t){var n,i;const{columns:r}=this.model.layout,{layoutHeaders:o}=this.model.component,s=[],a={};for(const c of GV){for(const g of WV){const d=null!==(n=o[c]&&o[c][g])&&void 0!==n?n:[];for(const f of d)if((null===(i=f.axes)||void 0===i?void 0:i.length)>0){a[c]=!0;break}}if(a[c]){const g=`length(data("${this.facet.name}"))`;s.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:"row"===c?r?{signal:`ceil(${g} / ${r})`}:1:r?{signal:`min(${g}, ${r})`}:{signal:g}}]})}}const{row:l,column:u}=a;return(l||u)&&s.unshift(this.assembleRowColumnHeaderData("facet",null,t)),s}assemble(){var t,n;const i=[];let r=null;const o=this.getChildIndependentFieldsWithStep(),{column:s,row:a,facet:l}=this;if(s&&a&&(o.x||o.y)){r=`cross_${this.column.name}_${this.row.name}`;const u=[].concat(null!==(t=o.x)&&void 0!==t?t:[],null!==(n=o.y)&&void 0!==n?n:[]),c=u.map(()=>"distinct");i.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:u,ops:c}]})}for(const u of[oh,rh])this[u]&&i.push(this.assembleRowColumnHeaderData(u,r,o));if(l){const u=this.assembleFacetHeaderData(o);u&&i.push(...u)}return i}}function ype(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function Uct(e){const t={};return DN(e.filter,n=>{var i;if(hfe(n)){let r=null;D7(n)?r=Su(n.equal):T7(n)?r=Su(n.lte):S7(n)?r=Su(n.lt):k7(n)?r=Su(n.gt):N7(n)?r=Su(n.gte):O7(n)?r=n.range[0]:M7(n)&&(r=(null!==(i=n.oneOf)&&void 0!==i?i:n.in)[0]),r&&(wI(r)?t[n.field]="date":To(r)?t[n.field]="number":Jn(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}class Fa extends _r{constructor(t,n){super(t),this._parse=n}clone(){return new Fa(null,ei(this._parse))}hash(){return`Parse ${Pi(this._parse)}`}static makeExplicit(t,n,i){var r;let o={};const s=n.data;return!dp(s)&&(null===(r=null==s?void 0:s.format)||void 0===r?void 0:r.parse)&&(o=s.format.parse),this.makeWithAncestors(t,o,{},i)}static makeWithAncestors(t,n,i,r){for(const a of Ye(i)){const l=r.getWithExplicit(a);void 0!==l.value&&(l.explicit||l.value===i[a]||"derived"===l.value||"flatten"===i[a]?delete i[a]:lt(Qde(a,i[a],l.value)))}for(const a of Ye(n)){const l=r.get(a);void 0!==l&&(l===n[a]?delete n[a]:lt(Qde(a,n[a],l)))}const o=new ph(n,i);r.copyAll(o);const s={};for(const a of Ye(o.combine())){const l=o.get(a);null!==l&&(s[a]=l)}return 0===Ye(s).length||r.parseNothing?null:new Fa(t,s)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of Ye(this._parse)){const i=this._parse[n];1===Wv(n)&&(t[n]=i)}return t}producedFields(){return new Set(Ye(this._parse))}dependentFields(){return new Set(Ye(this._parse))}assembleTransforms(t=!1){return Ye(this._parse).filter(n=>!t||Wv(n)>1).map(n=>{const i=function(e,t){const n=u7(e);return"number"===t?`toNumber(${n})`:"boolean"===t?`toBoolean(${n})`:"string"===t?`toString(${n})`:"date"===t?`toDate(${n})`:"flatten"===t?n:t.startsWith("date:")?`timeParse(${n},'${ype(t.slice(5,t.length))}')`:t.startsWith("utc:")?`utcParse(${n},'${ype(t.slice(4,t.length))}')`:(lt(function(e){return`Unrecognized parse "${e}".`}(t)),null)}(n,this._parse[n]);return i?{type:"formula",expr:i,as:c7(n)}:null}).filter(n=>null!==n)}}class Ap extends _r{clone(){return new Ap(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([eE])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:eE}}}class CE extends _r{constructor(t,n){super(t),this.params=n}clone(){return new CE(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Pi(this.params)}`}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class pE extends _r{constructor(t,n){super(t),this.params=n}clone(){return new pE(null,this.params)}dependentFields(){return new Set}producedFields(){var t;return new Set([null!==(t=this.params.as)&&void 0!==t?t:"data"])}hash(){return`Hash ${Pi(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}class FI extends _r{constructor(t){let n;if(super(null),null!=t||(t={name:"source"}),dp(t)||(n=t.format?Object.assign({},Du(t.format,["parse"])):{}),nE(t))this._data={values:t.values};else if(ey(t)){if(this._data={url:t.url},!n.type){let i=/(?:\.([^.]+))?$/.exec(t.url)[1];ai(["json","csv","tsv","dsv","topojson"],i)||(i="json"),n.type=i}}else Qhe(t)?this._data={values:[{type:"Sphere"}]}:(Khe(t)||dp(t))&&(this._data={});this._generator=dp(t),t.name&&(this._name=t.name),n&&!br(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var AE,bpe=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};function XV(e){return e instanceof FI||e instanceof CE||e instanceof pE}class QV{constructor(){AE.set(this,void 0),bpe(this,AE,!1,"f")}setModified(){bpe(this,AE,!0,"f")}get modifiedFlag(){return function(e,t,n,i){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}(this,AE)}}AE=new WeakMap;class PI extends QV{getNodeDepths(t,n,i){i.set(t,n);for(const r of t.children)this.getNodeDepths(r,n+1,i);return i}optimize(t){const i=[...this.getNodeDepths(t,0,new Map).entries()].sort((r,o)=>o[1]-r[1]);for(const r of i)this.run(r[0]);return this.modifiedFlag}}class JV extends QV{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class Yct extends JV{mergeNodes(t,n){const i=n.shift();for(const r of n)t.removeChild(r),r.parent=i,r.remove()}run(t){const n=t.children.map(r=>r.hash()),i={};for(let r=0;r<n.length;r++)void 0===i[n[r]]?i[n[r]]=[t.children[r]]:i[n[r]].push(t.children[r]);for(const r of Ye(i))i[r].length>1&&(this.setModified(),this.mergeNodes(t,i[r]))}}class qct extends JV{constructor(t){super(),this.requiresSelectionId=t&&NV(t)}run(t){t instanceof Ap&&(this.requiresSelectionId&&(XV(t.parent)||t.parent instanceof Mg||t.parent instanceof Fa)||(this.setModified(),t.remove()))}}class Zct extends QV{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let i=new Set;t instanceof Yd&&(i=t.producedFields(),s7(i,n)&&(this.setModified(),t.removeFormulas(n),0===t.producedFields.length&&t.remove()));for(const r of t.children)this.run(r,new Set([...n,...i]))}}class Kct extends JV{constructor(){super()}run(t){t instanceof pl&&!t.isRequired()&&(this.setModified(),t.remove())}}class Xct extends PI{run(t){if(!(XV(t)||t.numChildren()>1))for(const n of t.children)if(n instanceof Fa)if(t instanceof Fa)this.setModified(),t.merge(n);else{if(l7(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}class Qct extends PI{run(t){const n=[...t.children],i=t.children.filter(r=>r instanceof Fa);if(t.numChildren()>1&&i.length>=1){const r={},o=new Set;for(const s of i){const a=s.parse;for(const l of Ye(a))l in r?r[l]!==a[l]&&o.add(l):r[l]=a[l]}for(const s of o)delete r[s];if(!br(r)){this.setModified();const s=new Fa(t,r);for(const a of n){if(a instanceof Fa)for(const l of Ye(r))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Fa&&0===Ye(a.parse).length&&a.remove()}}}}}class Jct extends PI{run(t){t instanceof pl||t.numChildren()>0||t instanceof cy||t instanceof FI||(this.setModified(),t.remove())}}class egt extends PI{run(t){const n=t.children.filter(r=>r instanceof Yd),i=n.pop();for(const r of n)this.setModified(),i.merge(r)}}class tgt extends PI{run(t){const n=t.children.filter(r=>r instanceof Mg),i={};for(const r of n){const o=Pi(r.groupBy);o in i||(i[o]=[]),i[o].push(r)}for(const r of Ye(i)){const o=i[r];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class ngt extends PI{constructor(t){super(),this.model=t}run(t){const n=!(XV(t)||t instanceof sy||t instanceof Fa||t instanceof Ap),i=[],r=[];for(const o of t.children)o instanceof Zd&&(n&&!l7(t.producedFields(),o.dependentFields())?i.push(o):r.push(o));if(i.length>0){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Zd?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(r.length>1){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class igt extends PI{run(t){const n=[...t.children];if(!Gv(n,s=>s instanceof pl)||t.numChildren()<=1)return;const r=[];let o;for(const s of n)if(s instanceof pl){let a=s;for(;1===a.numChildren();){const[l]=a.children;if(!(l instanceof pl))break;a=l}r.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else r.push(s);if(r.length){this.setModified();for(const s of r)s.parent.removeChild(s),s.parent=o}}}class LI extends _r{constructor(t,n){super(t),this.transform=n}clone(){return new LI(null,ei(this.transform))}addDimensions(t){this.transform.groupby=Od(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>void 0!==n).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return null!==(n=t.as)&&void 0!==n?n:bt(t)}hash(){return`JoinAggregateTransform ${Pi(this.transform)}`}assemble(){const t=[],n=[],i=[];for(const o of this.transform.joinaggregate)n.push(o.op),i.push(this.getDefaultName(o)),t.push(void 0===o.field?null:o.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:i,ops:n,fields:t},void 0!==r?{groupby:r}:{})}}class mh extends _r{constructor(t,n){super(t),this._stack=n}clone(){return new mh(null,ei(this._stack))}static makeFromTransform(t,n){const{stack:i,groupby:r,as:o,offset:s="zero"}=n,a=[],l=[];if(void 0!==n.sort)for(const g of n.sort)a.push(g.field),l.push(Wo(g.order,"ascending"));const u={field:a,order:l};let c;return c=function(e){return qt(e)&&e.every(t=>Jn(t))&&e.length>1}(o)?o:Jn(o)?[o,`${o}_end`]:[`${n.stack}_start`,`${n.stack}_end`],new mh(t,{stackField:i,groupby:r,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const i=n.stack,{encoding:r}=n;if(!i)return null;const{groupbyChannel:o,fieldChannel:s,offset:a,impute:l}=i;let u;o&&(u=Wd(r[o]));const c=function(e){return e.stack.stackBy.reduce((t,n)=>{const r=bt(n.fieldDef);return r&&t.push(r),t},[])}(n),g=n.encoding.order;let d;return d=qt(g)||Et(g)?Hde(g):c.reduce((f,h)=>(f.field.push(h),f.order.push("y"===s?"descending":"ascending"),f),{field:[],order:[]}),new mh(t,{dimensionFieldDef:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Pi(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:t,impute:n,groupby:i}=this._stack;return t?t.bin?n?[bt(t,{binSuffix:"mid"})]:[bt(t,{}),bt(t,{binSuffix:"end"})]:[bt(t)]:null!=i?i:[]}assemble(){const t=[],{facetby:n,dimensionFieldDef:i,stackField:r,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l&&i){const{bandPosition:c=.5,bin:g}=i;g&&t.push({type:"formula",expr:`${c}*`+bt(i,{expr:"datum"})+`+${1-c}*`+bt(i,{expr:"datum",binSuffix:"end"}),as:bt(i,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:r,groupby:[...o,...n],key:bt(i,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:r,sort:s,as:u,offset:a}),t}}class gy extends _r{constructor(t,n){super(t),this.transform=n}clone(){return new gy(null,ei(this.transform))}addDimensions(t){this.transform.groupby=Od(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const i=new Set;return(null!==(t=this.transform.groupby)&&void 0!==t?t:[]).forEach(i.add,i),(null!==(n=this.transform.sort)&&void 0!==n?n:[]).forEach(r=>i.add(r.field)),this.transform.window.map(r=>r.field).filter(r=>void 0!==r).forEach(i.add,i),i}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return null!==(n=t.as)&&void 0!==n?n:bt(t)}hash(){return`WindowTransform ${Pi(this.transform)}`}assemble(){var t;const n=[],i=[],r=[],o=[];for(const d of this.transform.window)i.push(d.op),r.push(this.getDefaultName(d)),o.push(void 0===d.param?null:d.param),n.push(void 0===d.field?null:d.field);const s=this.transform.frame,a=this.transform.groupby;if(s&&null===s[0]&&null===s[1]&&i.every(d=>p7(d)))return Object.assign({type:"joinaggregate",as:r,ops:i,fields:n},void 0!==a?{groupby:a}:{});const l=[],u=[];if(void 0!==this.transform.sort)for(const d of this.transform.sort)l.push(d.field),u.push(null!==(t=d.order)&&void 0!==t?t:"ascending");const g=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:r,ops:i,fields:n,sort:{field:l,order:u}},void 0!==g?{ignorePeers:g}:{}),void 0!==a?{groupby:a}:{}),void 0!==s?{frame:s}:{})}}function ez(e){if(e instanceof cy)if(1!==e.numChildren()||e.children[0]instanceof pl){const t=e.model.component.data.main;_pe(t);const n=function(e){return function t(n){if(!(n instanceof cy)){const i=n.clone();if(i instanceof pl){const r=tz+i.getSource();i.setSource(r),e.model.component.data.outputNodes[r]=i}else(i instanceof Mg||i instanceof mh||i instanceof gy||i instanceof LI)&&i.addDimensions(e.fields);for(const r of n.children.flatMap(t))r.parent=i;return[i]}return n.children.flatMap(t)}}(e),i=e.children.map(n).flat();for(const r of i)r.parent=t}else{const t=e.children[0];(t instanceof Mg||t instanceof mh||t instanceof gy||t instanceof LI)&&t.addDimensions(e.fields),t.swapWithParent(),ez(e)}else e.children.map(ez)}function _pe(e){if(e instanceof pl&&e.type===Tr.Main&&1===e.numChildren()){const t=e.children[0];t instanceof cy||(t.swapWithParent(),_pe(e))}}const tz="scale_";function nz(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!nz(t.children))return!1}return!0}function Rg(e,t){let n=!1;for(const i of t)n=e.optimize(i)||n;return n}function wpe(e,t,n){let i=e.sources,r=!1;return r=Rg(new Kct,i)||r,r=Rg(new qct(t),i)||r,i=i.filter(o=>o.numChildren()>0),r=Rg(new Jct,i)||r,i=i.filter(o=>o.numChildren()>0),n||(r=Rg(new Xct,i)||r,r=Rg(new ngt(t),i)||r,r=Rg(new Zct,i)||r,r=Rg(new Qct,i)||r,r=Rg(new tgt,i)||r,r=Rg(new egt,i)||r,r=Rg(new Yct,i)||r,r=Rg(new igt,i)||r),e.sources=i,r}class Zl{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Zl(()=>t(n))}}function Epe(e){$o(e)?function(e){const t=e.component.scales;for(const n of Ye(t)){const i=dgt(e,n);if(t[n].setWithExplicit("domains",i),hgt(e,n),e.component.data.isFaceted){let o=e;for(;!Fg(o)&&o.parent;)o=o.parent;if("shared"===o.component.resolve.scale[n])for(const a of i.value)dh(a)&&(a.data=tz+a.data.replace(tz,""))}}}(e):function(e){for(const n of e.children)Epe(n);const t=e.component.scales;for(const n of Ye(t)){let i,r=null;for(const o of e.children){const s=o.component.scales[n];if(s){i=void 0===i?s.getWithExplicit("domains"):gp(i,s.getWithExplicit("domains"),"domains","scale",oz);const a=s.get("selectionExtent");r&&a&&r.param!==a.param&&lt("The same selection must be used to override scale domains in a layered view."),r=a}}t[n].setWithExplicit("domains",i),r&&t[n].set("selectionExtent",r,!0)}}(e)}function dgt(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:i}=e,r=function(e,t,n,i){if("unaggregated"===e){const{valid:r,reason:o}=xpe(t,n);if(!r)return void lt(o)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:r}=xpe(t,n);if(r)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:r})),"x"===t&&Cs(i.x2)?Cs(i.x)?gp(Ip(n,r,e,"x"),Ip(n,r,e,"x2"),"domain","scale",oz):Ip(n,r,e,"x2"):"y"===t&&Cs(i.y2)?Cs(i.y)?gp(Ip(n,r,e,"y"),Ip(n,r,e,"y2"),"domain","scale",oz):Ip(n,r,e,"y2"):Ip(n,r,e,t)}function iz(e,t,n){var i;const r=null===(i=Cl(n))||void 0===i?void 0:i.unit;return"temporal"===t||r?function(e,t,n){return e.map(i=>({signal:`{data: ${uO(i,{timeUnit:n,type:t})}}`}))}(e,t,r):[e]}function Ip(e,t,n,i){const{encoding:r}=n,o=Cs(r[i]),{type:s}=o,a=o.timeUnit;if(function(e){return e&&e.unionWith}(t)){const g=Ip(e,void 0,n,i),d=iz(t.unionWith,s,a);return Ah([...g.value,...d])}if(Cn(t))return Ah([t]);if(t&&"unaggregated"!==t&&!Ife(t))return Ah(iz(t,s,a));const l=n.stack;if(l&&i===l.fieldChannel){if("normalize"===l.offset)return ku([[0,1]]);const g=n.requestDataName(Tr.Main);return ku([{data:g,field:n.vgField(i,{suffix:"start"})},{data:g,field:n.vgField(i,{suffix:"end"})}])}const u=np(i)&&Et(o)?function(e,t,n){if(!ka(n))return;const i=e.fieldDef(t),r=i.sort;if(jfe(r))return{op:"min",field:ly(i,t),order:"ascending"};const{stack:o}=e,s=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map(a=>a.fieldDef.field)]:void 0;if(Ud(r))return rz(r,o&&!ai(s,r.field));if(Bfe(r)){const{encoding:a,order:l}=r,u=e.fieldDef(a),{aggregate:c,field:g}=u,d=o&&!ai(s,g);if(gh(c)||ip(c))return rz({field:bt(u),order:l},d);if(p7(c)||!c)return rz({op:c,field:g,order:l},d)}else{if("descending"===r)return{op:"min",field:e.vgField(t),order:"descending"};if(ai(["ascending",void 0],r))return!0}}(n,i,e):void 0;if(lp(o))return ku(iz([o.datum],s,a));const c=o;if("unaggregated"===t){const g=n.requestDataName(Tr.Main),{field:d}=o;return ku([{data:g,field:bt({field:d,aggregate:"min"})},{data:g,field:bt({field:d,aggregate:"max"})}])}if(Lr(c.bin)){if(ka(e))return ku("bin-ordinal"===e?[]:[{data:Bw(u)?n.requestDataName(Tr.Main):n.requestDataName(Tr.Raw),field:n.vgField(i,Qw(c,i)?{binSuffix:"range"}:{}),sort:!0!==u&&Sr(u)?u:{field:n.vgField(i,{}),op:"min"}}]);{const{bin:g}=c;if(Lr(g)){const d=KV(n,c.field,g);return ku([new Zl(()=>{const f=n.getSignalName(d);return`[${f}.start, ${f}.stop]`})])}return ku([{data:n.requestDataName(Tr.Main),field:n.vgField(i,{})}])}}if(c.timeUnit&&ai(["time","utc"],e)&&Ufe(c,$o(n)?n.encoding[ch(i)]:void 0,n.markDef,n.config)){const g=n.requestDataName(Tr.Main);return ku([{data:g,field:n.vgField(i)},{data:g,field:n.vgField(i,{suffix:"end"})}])}return ku(u?[{data:Bw(u)?n.requestDataName(Tr.Main):n.requestDataName(Tr.Raw),field:n.vgField(i),sort:u}]:[{data:n.requestDataName(Tr.Main),field:n.vgField(i)}])}function rz(e,t){const{op:n,field:i,order:r}=e;return Object.assign(Object.assign({op:null!=n?n:t?"sum":QN},i?{field:wc(i)}:{}),r?{order:r}:{})}function hgt(e,t){var n;const i=e.component.scales[t],r=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,s=Ife(r)&&r,a=bI(o)&&VN(o.extent)&&o.extent;(s||a)&&i.set("selectionExtent",null!=s?s:a,!0)}function xpe(e,t){const{aggregate:n,type:i}=e;return n?Jn(n)&&!xit[n]?{valid:!1,reason:drt(n)}:"quantitative"===i&&"log"===t?{valid:!1,reason:frt(e)}:{valid:!0}:{valid:!1,reason:grt(e)}}function oz(e,t,n,i){return e.explicit&&t.explicit&&lt(function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${Pr(n)} and ${Pr(i)}). Using the union of the two domains.`}(n,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function sz(e){if(dh(e)&&Jn(e.field))return e.field;if(function(e){return!qt(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(dh(n)&&Jn(n.field))if(t){if(t!==n.field)return lt("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=n.field;return lt("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!qt(e)&&"fields"in e&&"data"in e}(e)){lt("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return Jn(t)?t:void 0}}function BO(e,t){return function(e){const t=Od(e.map(s=>dh(s)?function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(s,["sort"]):s),Pi),n=Od(e.map(s=>{if(dh(s)){const a=s.sort;return void 0!==a&&!Bw(a)&&("op"in a&&"count"===a.op&&delete a.field,"ascending"===a.order&&delete a.order),a}}).filter(s=>void 0!==s),Pi);if(0===t.length)return;if(1===t.length){const s=e[0];if(dh(s)&&n.length>0){let a=n[0];return n.length>1?(lt(rfe),a=!0):Sr(a)&&"field"in a&&s.field===a.field&&(a=!a.order||{order:a.order}),Object.assign(Object.assign({},s),{sort:a})}return s}const i=Od(n.map(s=>Bw(s)||!("op"in s)||Jn(s.op)&&s.op in bit?s:(lt(function(e){return`Dropping sort property ${Pr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(s)),!0)),Pi);let r;1===i.length?r=i[0]:i.length>1&&(lt(rfe),r=!0);const o=Od(e.map(s=>dh(s)?s.data:null),s=>s);return Object.assign(1===o.length&&null!==o[0]?{data:o[0],fields:t.map(a=>a.field)}:{fields:t},r?{sort:r}:{})}(e.component.scales[t].get("domains").map(r=>(dh(r)&&(r.data=e.lookupDataSource(r.data)),r)))}function Dpe(e){return dy(e)||uz(e)?e.children.reduce((t,n)=>t.concat(Dpe(n)),Spe(e)):Spe(e)}function Spe(e){return Ye(e.component.scales).reduce((t,n)=>{const i=e.component.scales[n];if(i.merged)return t;const r=i.combine(),{name:o,type:s,selectionExtent:a,reverse:c}=r,g=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["name","type","selectionExtent","domains","range","reverse"]),d=function(e,t,n,i){if(Vd(n)){if(op(e))return{step:{signal:`${t}_step`}}}else if(Sr(e)&&dh(e))return Object.assign(Object.assign({},e),{data:i.lookupDataSource(e.data)});return e}(r.range,o,n,e),f=BO(e,n),h=a?function(e,t,n,i){const r=WCe(e,t.param,t);return{signal:Tu(n.get("type"))&&qt(i)&&i[0]>i[1]?`isValid(${r}) && reverse(${r})`:r}}(e,a,i,f):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:s},f?{domain:f}:{}),h?{domainRaw:h}:{}),{range:d}),void 0!==c?{reverse:c}:{}),g)),t},[])}class Tpe extends ph{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||Gv(this.get("domains"),t=>qt(t)&&2===t.length&&t[0]<=0&&t[1]>=0)}}const mgt=["range","scheme"];function kpe(e){return"x"===e?"width":"y"===e?"height":void 0}function Npe(e,t){const n=e.fieldDef(t);if(null==n?void 0:n.bin){const{bin:i,field:r}=n,o=kpe(t),s=e.getName(o);if(Sr(i)&&i.binned&&void 0!==i.step)return new Zl(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${i.step}`;return`${e.getSignalName(s)} / (${l})`});if(Lr(i)){const a=KV(e,r,i);return new Zl(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function ygt(e,t){const n=t.specifiedScales[e],{size:i}=t,o=t.getScaleComponent(e).get("type");for(const u of mgt)if(void 0!==n[u]){const c=B7(o,u),g=mfe(e,u);if(c)if(g)lt(g);else switch(u){case"range":{const d=n.range;if(qt(d)){if(Vd(e))return Ah(d.map(f=>{if("width"===f||"height"===f){const h=t.getName(f),C=t.getSignalName.bind(t);return Zl.fromName(C,h)}return f}))}else if(Sr(d))return Ah({data:t.requestDataName(Tr.Main),field:d.field,sort:{op:"min",field:t.vgField(e)}});return Ah(d)}case"scheme":return Ah(bgt(n[u]))}else lt(nfe(o,u,e))}if(e===ao||e===fs){const u=e===ao?"width":"height",c=i[u];if($d(c)){if(ka(o))return Ah({step:c.step});lt(ife(u))}}const{rangeMin:s,rangeMax:a}=n,l=function(e,t){const{size:n,config:i,mark:r,encoding:o}=t,s=t.getSignalName.bind(t),{type:a}=Cs(o[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:g}=t.specifiedScales[e];switch(e){case ao:case fs:{if(ai(["point","band"],u))if(e!==ao||n.width){if(e===fs&&!n.height){const h=tE(i.view,"height");if($d(h))return h}}else{const h=tE(i.view,"width");if($d(h))return h}const d=kpe(e),f=t.getName(d);return e===fs&&Tu(u)?[Zl.fromName(s,f),0]:[0,Zl.fromName(s,f)]}case lh:{const f=Ope(r,t.component.scales[e].get("zero"),i),h=function(e,t,n,i){const r={x:Npe(n,"x"),y:Npe(n,"y")};switch(e){case"bar":case"tick":{if(void 0!==i.scale.maxBandSize)return i.scale.maxBandSize;const o=Rpe(t,r,i.view);return To(o)?o-1:new Zl(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":{if(i.scale.maxSize)return i.scale.maxSize;const o=Rpe(t,r,i.view);return To(o)?Math.pow(.95*o,2):new Zl(()=>`pow(0.95 * ${o.signal}, 2)`)}}throw new Error(HN("size",e))}(r,n,t,i);return Zw(u)?function(e,t,n){const i=()=>{const r=fh(t),o=fh(e),s=`(${r} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${r} + ${s}, ${s})`};return Cn(t)?new Zl(i):{signal:i()}}(f,h,function(e,t,n,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&qt(n)?n.length+1:(lt(function(e){return`Domain for ${e} is required for threshold scale.`}(i)),3)}}(u,i,c,e)):[f,h]}case Dg:return[0,2*Math.PI];case mI:return[0,360];case Rd:return[0,new Zl(()=>`min(${t.getSignalName("width")},${t.getSignalName("height")})/2`)];case QC:return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case JC:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Wl:return"symbol";case Gl:case Ld:case Bd:return"ordinal"===u?"nominal"===a?"category":"ordinal":void 0!==g?"diverging":"rect"===r||"geoshape"===r?"heatmap":"ramp";case uh:case KC:case XC:return[i.scale.minOpacity,i.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}(e,t);return(void 0!==s||void 0!==a)&&B7(o,"rangeMin")&&qt(l)&&2===l.length?Ah([null!=s?s:l[0],null!=a?a:l[1]]):ku(l)}function bgt(e){return function(e){return!Jn(e)&&!!e.name}(e)?Object.assign({scheme:e.name},Du(e,["name"])):{scheme:e}}function Ope(e,t,n){if(t)return Cn(t)?{signal:`${t.signal} ? 0 : ${Ope(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(HN("size",e))}function Rpe(e,t,n){const i=$d(e.width)?e.width.step:pO(n,"width"),r=$d(e.height)?e.height.step:pO(n,"height");return t.x||t.y?new Zl(()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:r].join(", ")})`):Math.min(i,r)}function Fpe(e,t){$o(e)?function(e,t){const n=e.component.scales,{config:i,encoding:r,markDef:o,specifiedScales:s}=e;for(const a of Ye(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),g=Cs(r[a]),d=l[t],f=c.get("type"),h=c.get("padding"),C=c.get("paddingInner"),p=B7(f,t),I=mfe(a,t);if(void 0!==d&&(p?I&&lt(I):lt(nfe(f,t,a))),p&&void 0===I)if(void 0!==d){const m=g.timeUnit,y=g.type;switch(t){case"domainMax":case"domainMin":wI(l[t])||"temporal"===y||m?u.set(t,{signal:uO(l[t],{type:y,timeUnit:m})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const m=t in Ppe?Ppe[t]({model:e,channel:a,fieldOrDatumDef:g,scaleType:f,scalePadding:h,scalePaddingInner:C,domain:l.domain,markDef:o,config:i}):i.scale[t];void 0!==m&&u.set(t,m,!1)}}}(e,t):Bpe(e,t)}const Ppe={bins:({model:e,fieldOrDatumDef:t})=>Et(t)?function(e,t){const n=t.bin;if(Lr(n)){const i=KV(e,t.field,n);return new Zl(()=>e.getSignalName(i))}if(hl(n)&&bI(n)&&void 0!==n.step)return{step:n.step}}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function(e,t){if(ai([Gl,Ld,Bd],e)&&"nominal"!==t)return"hcl"}(e,t.type),nice:({scaleType:e,channel:t,domain:n,fieldOrDatumDef:i})=>function(e,t,n,i){var r;if(!((null===(r=Wd(i))||void 0===r?void 0:r.bin)||qt(n)||ai(["time","utc"],e)))return t in tp||void 0}(e,t,n,i),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:i,config:r})=>function(e,t,n,i,r,o){if(e in tp){if(Tg(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:s,orient:a}=r;if("bar"===s&&(!Et(i)||!i.bin&&!i.timeUnit)&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if("point"===t)return n.pointPadding}}(e,t,r.scale,n,i,r.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,config:i})=>function(e,t,n,i){if(void 0===e&&t in tp){const{bandPaddingInner:r,barBandPaddingInner:o,rectBandPaddingInner:s}=i;return Wo(r,"bar"===n?o:s)}}(e,t,n.type,i.scale),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:o})=>function(e,t,n,i,r,o){if(void 0===e&&t in tp&&"band"===n){const{bandPaddingOuter:s}=o;return Wo(s,Cn(r)?{signal:`${r.signal}/2`}:r/2)}}(e,t,n,0,r,o.scale),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:i})=>function(e,t,n,i){return"x"===n&&void 0!==i.xReverse?Tu(e)&&"descending"===t?Cn(i.xReverse)?{signal:`!${i.xReverse.signal}`}:!i.xReverse:i.xReverse:!(!Tu(e)||"descending"!==t)||void 0}(t,Et(e)?e.sort:void 0,n,i.scale),zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:i,scaleType:r})=>function(e,t,n,i,r){if(n&&"unaggregated"!==n&&Tu(r)){if(qt(n)){const a=n[n.length-1];if(n[0]<=0&&a>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Zw(r))return!0;if((!Et(t)||!t.bin)&&ai([...jd,...Cit],e)){const{orient:s,type:a}=i;return!(ai(["bar","area","line","trail"],a)&&("horizontal"===s&&"y"===e||"vertical"===s&&"x"===e))}return!1}(e,t,n,i,r)};function Lpe(e){$o(e)?function(e){const t=e.component.scales;for(const n of jN){const i=t[n];if(!i)continue;const r=ygt(n,e);i.setWithExplicit("range",r)}}(e):Bpe(e,"range")}function Bpe(e,t){const n=e.component.scales;for(const i of e.children)"range"===t?Lpe(i):Fpe(i,t);for(const i of Ye(n)){let r;for(const o of e.children){const s=o.component.scales[i];s&&(r=gp(r,s.getWithExplicit(t),t,"scale",Zhe((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0})))}n[i].setWithExplicit(t,r)}}function jpe(e){e.component.scales=$o(e)?function(e){const{encoding:t,mark:n,markDef:i}=e;return jN.reduce((r,o)=>{const s=Cs(t[o]);if(s&&n===bfe&&o===Wl&&s.type===qv)return r;let a=s&&s.scale;if(s&&null!==a&&!1!==a){null!=a||(a={});const l=function(e,t,n,i){const r=function(e,t,n){var i;switch(t.type){case"nominal":case"ordinal":if($v(e)||"discrete"===C7(e))return"shape"===e&&"ordinal"===t.type&&lt(b7(e,"ordinal")),"ordinal";if(e in tp){if(ai(["rect","bar","image","rule"],n.type))return"band"}else if("arc"===n.type&&e in f7)return"band";return Zv(n[Dc(e)])||Z7(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return $v(e)?"time":"discrete"===C7(e)?(lt(b7(e,"temporal")),"ordinal"):Et(t)&&t.timeUnit&&Cl(t.timeUnit).utc?"utc":"time";case"quantitative":return $v(e)?Et(t)&&Lr(t.bin)?"bin-ordinal":"linear":"discrete"===C7(e)?(lt(b7(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(efe(t.type))}(t,n,i),{type:o}=e;return np(t)?void 0!==o?function(e,t){if(!np(e))return!1;switch(e){case ao:case fs:case Dg:case Rd:return Tg(t)||ai(["band","point"],t);case lh:case QC:case uh:case KC:case XC:case mI:return Tg(t)||Zw(t)||ai(["band","point","ordinal"],t);case Gl:case Ld:case Bd:return"band"!==t;case JC:case Wl:return"ordinal"===t||Zw(t)}}(t,o)?Et(n)&&!function(e,t){return ai([F7,P7],t)?void 0===e||ka(e):t===Yv?ai(["time","utc",void 0],e):t!==xI||ai(["log","pow","sqrt","symlog","quantile","quantize","threshold","linear",void 0],e)}(o,n.type)?(lt(function(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}(o,r)),r):o:(lt(function(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}(t,o,r)),r):r:null}(a,o,s,i);r[o]=new Tpe(e.scaleName(`${o}`,!0),{value:l,explicit:a.type===l})}return r},{})}(e):function(e){var t,n;const i=e.component.scales={},r={},o=e.component.resolve;for(const s of e.children){jpe(s);for(const a of Ye(s.component.scales))if(null!==(t=(n=o.scale)[a])&&void 0!==t||(n[a]=ope(a,e)),"shared"===o.scale[a]){const l=r[a],u=s.component.scales[a].getWithExplicit("type");l?iot(l.value,u.value)?r[a]=gp(l,u,"type","scale",Vgt):(o.scale[a]="independent",delete r[a]):r[a]=u}}for(const s of Ye(r)){const a=e.scaleName(s,!0);i[s]=new Tpe(a,r[s]);for(const u of e.children){const c=u.component.scales[s];c&&(u.renameScale(c.get("name"),a),c.merged=!0)}}return i}(e)}const Vgt=Zhe((e,t)=>pfe(e)-pfe(t));var az=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};class lz{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return void 0!==this.nameMap[t]}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function $o(e){return"unit"===(null==e?void 0:e.type)}function Fg(e){return"facet"===(null==e?void 0:e.type)}function uz(e){return"concat"===(null==e?void 0:e.type)}function dy(e){return"layer"===(null==e?void 0:e.type)}class cz{constructor(t,n,i,r,o,s,a){var l,u;this.type=n,this.parent=i,this.config=o,this.correctDataNames=c=>{var g,d,f;return(null===(g=c.from)||void 0===g?void 0:g.data)&&(c.from.data=this.lookupDataSource(c.from.data)),(null===(f=null===(d=c.from)||void 0===d?void 0:d.facet)||void 0===f?void 0:f.data)&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c},this.parent=i,this.config=o,this.view=$l(a),this.name=null!==(l=t.name)&&void 0!==l?l:r,this.title=rp(t.title)?{text:t.title}:t.title?$l(t.title):void 0,this.scaleNameMap=i?i.scaleNameMap:new lz,this.projectionNameMap=i?i.projectionNameMap:new lz,this.signalNameMap=i?i.signalNameMap:new lz,this.data=t.data,this.description=t.description,this.transforms=function(e){return e.map(t=>IV(t)?{filter:Hv(t.filter,eot)}:t)}(null!==(u=t.transform)&&void 0!==u?u:[]),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var i,r;const o=n[t],s={},{spacing:a,columns:l}=o;void 0!==a&&(s.spacing=a),void 0!==l&&(JN(e)&&!Xw(e.facet)||gV(e))&&(s.columns=l),CO(e)&&(s.columns=1);for(const u of Dst)if(void 0!==e[u])if("spacing"===u){const c=e[u];s[u]=To(c)?c:{row:null!==(i=c.row)&&void 0!==i?i:a,column:null!==(r=c.column)&&void 0!==r?r:a}}else s[u]=e[u];return s}(t,n,o),this.component={data:{sources:i?i.component.data.sources:[],outputNodes:i?i.component.data.outputNodes:{},outputNodeRefCounts:i?i.component.data.outputNodeRefCounts:{},isFaceted:JN(t)||i&&i.component.data.isFaceted&&void 0===t.data},layoutSize:new ph,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},s?ei(s):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e,{ignoreRange:t}={}){jpe(e),Epe(e);for(const n of Aot)Fpe(e,n);t||Lpe(e)}(this)}parseProjection(){Ipe(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){fpe(this)}assembleEncodeFromView(t){const i=az(t,["style"]),r={};for(const o of Ye(i)){const s=i[o];void 0!==s&&(r[o]=no(s))}return r}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),t||(this.description&&(n.description=no(this.description)),"unit"!==this.type&&"layer"!==this.type)?br(n)?void 0:n:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=n?n:{})}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,i=az(t,["spacing"]),{component:r,config:o}=this,s=function(e,t){const n={};for(const i of xc){const r=e[i];if(null==r?void 0:r.facetFieldDef){const{titleAnchor:o,titleOrient:s}=FO(["titleAnchor","titleOrient"],r.facetFieldDef.header,t,i),a=RO(i,s),l=rct(o,a);void 0!==l&&(n[a]=l)}}return br(n)?void 0:n}(r.layoutHeaders,o);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),i),s?{titleBand:s}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const i of xc)t[i].title&&n.push(Jut(this,i));for(const i of GV)n=n.concat(ect(this,i));return n}assembleAxes(){return function(e,t){const{x:n=[],y:i=[]}=e;return[...n.map(r=>hE(r,"grid",t)),...i.map(r=>hE(r,"grid",t)),...n.map(r=>hE(r,"main",t)),...i.map(r=>hE(r,"main",t))].filter(r=>r)}(this.component.axes,this.config)}assembleLegends(){return Cpe(this)}assembleProjections(){return function(e){return dy(e)||uz(e)?function(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),ppe(e))}(e):ppe(e)}(this)}assembleTitle(){var t,n,i;const r=null!==(t=this.title)&&void 0!==t?t:{},{encoding:o}=r,s=az(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},Pde(this.config.title).nonMarkTitleProperties),s),o?{encode:{update:o}}:{});if(a.text)return ai(["unit","layer"],this.type)?ai(["middle",void 0],a.anchor)&&(null!==(n=a.frame)&&void 0!==n||(a.frame="group")):null!==(i=a.anchor)&&void 0!==i||(a.anchor="start"),br(a)?void 0:a}assembleGroup(t=[]){const n={};(t=t.concat(this.assembleSignals())).length>0&&(n.signals=t);const i=this.assembleLayout();i&&(n.layout=i),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||Fg(this.parent)?Dpe(this):[];r.length>0&&(n.scales=r);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return to((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Tr[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),i=this.component.data.outputNodeRefCounts;return i[n]=(i[n]||0)+1,n}getSizeSignalRef(t){if(Fg(this.parent)){const i=BN(ipe(t)),r=this.component.scales[i];if(r&&!r.merged){const o=r.get("type"),s=r.get("range");if(ka(o)&&op(s)){const a=r.get("name"),u=sz(BO(this,i));return u?{signal:npe(a,r,bt({aggregate:"distinct",field:u},{expr:"datum"}))}:(lt(v7(i)),null)}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){return n?this.getName(t):Sde(t)&&np(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0}projectionName(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let i=this.component.selection[t];if(!i&&this.parent&&(i=this.parent.getSelectionComponent(t,n)),!i)throw new Error(function(e){return`Cannot find a selection named "${e}".`}(n));return i}hasAxisOrientSignalRef(){var t,n;return(null===(t=this.component.axes.x)||void 0===t?void 0:t.some(i=>i.hasOrientSignalRef()))||(null===(n=this.component.axes.y)||void 0===n?void 0:n.some(i=>i.hasOrientSignalRef()))}}class Vpe extends cz{vgField(t,n={}){const i=this.fieldDef(t);if(i)return bt(i,n)}reduceFieldDef(t,n){return function(e,t,n,i){return e?Ye(e).reduce((r,o)=>{const s=e[o];return qt(s)?s.reduce((a,l)=>t.call(i,a,l,o),r):t.call(i,r,s,o)},n):n}(this.getMapping(),(i,r,o)=>{const s=Wd(r);return s?t(i,s,o):i},n)}forEachFieldDef(t,n){eV(this.getMapping(),(i,r)=>{const o=Wd(i);o&&t(o,r)},n)}}class jO extends _r{constructor(t,n){var i,r,o;super(t),this.transform=n,this.transform=ei(n);const s=null!==(i=this.transform.as)&&void 0!==i?i:[void 0,void 0];this.transform.as=[null!==(r=s[0])&&void 0!==r?r:"value",null!==(o=s[1])&&void 0!==o?o:"density"]}clone(){return new jO(null,ei(this.transform))}dependentFields(){var t;return new Set([this.transform.density,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Pi(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["density"]);return Object.assign({type:"kde",field:n},i)}}class IE extends _r{constructor(t,n){super(t),this.filter=n}clone(){return new IE(null,Object.assign({},this.filter))}static make(t,n){const{config:i,mark:r,markDef:o}=n;if("filter"!==dr("invalid",o,i))return null;const a=n.reduceFieldDef((l,u,c)=>{const g=np(c)&&n.getScaleComponent(c);return g&&Tu(g.get("type"))&&"count"!==u.aggregate&&!ap(r)&&(l[u.field]=u),l},{});return Ye(a).length?new IE(t,a):null}dependentFields(){return new Set(Ye(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Pi(this.filter)}`}assemble(){const t=Ye(this.filter).reduce((n,i)=>{const r=this.filter[i],o=bt(r,{expr:"datum"});return null!==r&&("temporal"===r.type?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):"quantitative"===r.type&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class VO extends _r{constructor(t,n){super(t),this.transform=n,this.transform=ei(n);const{flatten:i,as:r=[]}=this.transform;this.transform.as=i.map((o,s)=>{var a;return null!==(a=r[s])&&void 0!==a?a:o})}clone(){return new VO(this.parent,ei(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Pi(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class zO extends _r{constructor(t,n){var i,r,o;super(t),this.transform=n,this.transform=ei(n);const s=null!==(i=this.transform.as)&&void 0!==i?i:[void 0,void 0];this.transform.as=[null!==(r=s[0])&&void 0!==r?r:"key",null!==(o=s[1])&&void 0!==o?o:"value"]}clone(){return new zO(null,ei(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Pi(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class fy extends _r{constructor(t,n,i,r){super(t),this.fields=n,this.geojson=i,this.signal=r}clone(){return new fy(null,ei(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let i=0;for(const r of[[Pd,Fd],[Ec,Sg]]){const o=r.map(s=>{const a=Cs(n.encoding[s]);return Et(a)?a.field:lp(a)?{expr:`${a.datum}`}:Ng(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new fy(t,o,null,n.getName("geojson_"+i++)))}if(n.channelHasField(Wl)){const r=n.typedFieldDef(Wl);r.type===qv&&(t=new fy(t,null,r.field,n.getName("geojson_"+i++)))}return t}dependentFields(){var t;const n=(null!==(t=this.fields)&&void 0!==t?t:[]).filter(Jn);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Pi(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class mE extends _r{constructor(t,n,i,r){super(t),this.projection=n,this.fields=i,this.as=r}clone(){return new mE(null,this.projection,ei(this.fields),ei(this.as))}static parseAll(t,n){if(!n.projectionName())return t;for(const i of[[Pd,Fd],[Ec,Sg]]){const r=i.map(s=>{const a=Cs(n.encoding[s]);return Et(a)?a.field:lp(a)?{expr:`${a.datum}`}:Ng(a)?{expr:`${a.value}`}:void 0}),o=i[0]===Ec?"2":"";(r[0]||r[1])&&(t=new mE(t,n.projectionName(),r,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Jn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Pi(this.fields)} ${Pi(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class BI extends _r{constructor(t,n){super(t),this.transform=n}clone(){return new BI(null,ei(this.transform))}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:i,step:r}=t;return{signal:`sequence(${[n,i,...r?[r]:[]].join(",")})`}}static makeFromTransform(t,n){return new BI(t,n)}static makeFromEncoding(t,n){const i=n.encoding,r=i.x,o=i.y;if(Et(r)&&Et(o)){const s=r.impute?r:o.impute?o:void 0;if(void 0===s)return;const a=r.impute?o:o.impute?r:void 0,{method:l,value:u,frame:c,keyvals:g}=s.impute,d=rhe(n.mark,i);return new BI(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:s.field,key:a.field},l?{method:l}:{}),void 0!==u?{value:u}:{}),c?{frame:c}:{}),void 0!==g?{keyvals:g}:{}),d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Pi(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:i,method:r,groupby:o,value:s,frame:a=[null,null]}=this.transform,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},i?{keyvals:rat(i)?this.processSequence(i):i}:{}),{method:"value"}),o?{groupby:o}:{}),{value:r&&"value"!==r?null:s});return r&&"value"!==r?[l,Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[r],fields:[t],frame:a,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t}]:[l]}}class HO extends _r{constructor(t,n){var i,r,o;super(t),this.transform=n,this.transform=ei(n);const s=null!==(i=this.transform.as)&&void 0!==i?i:[void 0,void 0];this.transform.as=[null!==(r=s[0])&&void 0!==r?r:n.on,null!==(o=s[1])&&void 0!==o?o:n.loess]}clone(){return new HO(null,ei(this.transform))}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Pi(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:i}=t,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["loess","on"]);return Object.assign({type:"loess",x:i,y:n},r)}}class vE extends _r{constructor(t,n,i){super(t),this.transform=n,this.secondary=i}clone(){return new vE(null,ei(this.transform),this.secondary)}static make(t,n,i,r){const o=n.component.data.sources,{from:s}=i;let a=null;if(function(e){return"data"in e}(s)){let l=Gpe(s.data,o);l||(l=new FI(s.data),o.push(l));const u=n.getName(`lookup_${r}`);a=new pl(l,u,Tr.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(function(e){return"param"in e}(s)){const l=s.param;let u;i=Object.assign({as:l},i);try{u=n.getSelectionComponent(to(l),l)}catch(c){throw new Error(function(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}(l))}if(a=u.materialized,!a)throw new Error(function(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(l))}return new vE(t,i,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Fr(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Pi({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Fr(this.transform.as)}:{});else{let n=this.transform.as;Jn(n)||(lt('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}class UO extends _r{constructor(t,n){var i,r,o;super(t),this.transform=n,this.transform=ei(n);const s=null!==(i=this.transform.as)&&void 0!==i?i:[void 0,void 0];this.transform.as=[null!==(r=s[0])&&void 0!==r?r:"prob",null!==(o=s[1])&&void 0!==o?o:"value"]}clone(){return new UO(null,ei(this.transform))}dependentFields(){var t;return new Set([this.transform.quantile,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Pi(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["quantile"]);return Object.assign({type:"quantile",field:n},i)}}class GO extends _r{constructor(t,n){var i,r,o;super(t),this.transform=n,this.transform=ei(n);const s=null!==(i=this.transform.as)&&void 0!==i?i:[void 0,void 0];this.transform.as=[null!==(r=s[0])&&void 0!==r?r:n.on,null!==(o=s[1])&&void 0!==o?o:n.regression]}clone(){return new GO(null,ei(this.transform))}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Pi(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:i}=t,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["regression","on"]);return Object.assign({type:"regression",x:i,y:n},r)}}class WO extends _r{constructor(t,n){super(t),this.transform=n}clone(){return new WO(null,ei(this.transform))}addDimensions(t){var n;this.transform.groupby=Od((null!==(n=this.transform.groupby)&&void 0!==n?n:[]).concat(t),i=>i)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...null!==(t=this.transform.groupby)&&void 0!==t?t:[]])}hash(){return`PivotTransform ${Pi(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:i,limit:r,op:o}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==r?{limit:r}:{}),void 0!==o?{op:o}:{}),void 0!==i?{groupby:i}:{})}}class $O extends _r{constructor(t,n){super(t),this.transform=n}clone(){return new $O(null,ei(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Pi(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function zpe(e){let t=0;return function n(i,r){var o;if(i instanceof FI&&!i.isGenerator&&!ey(i.data)&&(e.push(r),r={name:null,source:r.name,transform:[]}),i instanceof Fa&&(i.parent instanceof FI&&!r.source?(r.format=Object.assign(Object.assign({},null!==(o=r.format)&&void 0!==o?o:{}),{parse:i.assembleFormatParse()}),r.transform.push(...i.assembleTransforms(!0))):r.transform.push(...i.assembleTransforms())),i instanceof cy)return r.name||(r.name="data_"+t++),!r.source||r.transform.length>0?(e.push(r),i.data=r.name):i.data=r.source,void e.push(...i.assemble());switch((i instanceof CE||i instanceof pE||i instanceof IE||i instanceof sy||i instanceof ay||i instanceof mE||i instanceof Mg||i instanceof vE||i instanceof gy||i instanceof LI||i instanceof zO||i instanceof VO||i instanceof jO||i instanceof HO||i instanceof UO||i instanceof GO||i instanceof Ap||i instanceof $O||i instanceof WO)&&r.transform.push(i.assemble()),(i instanceof Zd||i instanceof Yd||i instanceof BI||i instanceof mh||i instanceof fy)&&r.transform.push(...i.assemble()),i instanceof pl&&(r.source&&0===r.transform.length?i.setSource(r.source):i.parent instanceof pl?i.setSource(r.name):(r.name||(r.name="data_"+t++),i.setSource(r.name),1===i.numChildren()&&(e.push(r),r={name:null,source:r.name,transform:[]}))),i.numChildren()){case 0:i instanceof pl&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(i.children[0],r);break;default:{r.name||(r.name="data_"+t++);let s=r.name;!r.source||r.transform.length>0?e.push(r):s=r.source;for(const a of i.children)n(a,{name:null,source:s,transform:[]});break}}}}function qgt(e){return"top"===e||"left"===e||Cn(e)?"header":"footer"}function Kgt(e,t){var n;const{facet:i,config:r,child:o,component:s}=e;if(e.channelHasField(t)){const a=i[t],l=uy("title",null,r,t);let u=Kv(a,r,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=qt(u)?u.join(", "):u,u+=` / ${o.component.layoutHeaders[t].title}`,o.component.layoutHeaders[t].title=null);const c=uy("labelOrient",a.header,r,t),g=null!==a.header&&Wo(null===(n=a.header)||void 0===n?void 0:n.labels,r.header.labels,!0),d=ai(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:null!==a.header?u:null,facetFieldDef:a,[d]:"facet"===t?[]:[Hpe(e,t,g)]}}}function Hpe(e,t,n){const i="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function Upe(e,t){var n;const{child:i}=e;if(i.component.axes[t]){const{layoutHeaders:r,resolve:o}=e.component;if(o.axis[t]=qV(o,t),"shared"===o.axis[t]){const s="x"===t?"column":"row",a=r[s];for(const l of i.component.axes[t]){const u=qgt(l.get("orient"));null!==(n=a[u])&&void 0!==n||(a[u]=[Hpe(e,s,!1)]);const c=hE(l,"main",e.config,{header:!0});c&&a[u][0].axes.push(c),l.mainExtracted=!0}}}}function gz(e){for(const t of e.children)t.parseLayoutSize()}function YO(e,t){var n;const i=ipe(t),r=BN(i),o=e.component.resolve,s=e.component.layoutSize;let a;for(const l of e.children){const u=l.component.layoutSize.getWithExplicit(i),c=null!==(n=o.scale[r])&&void 0!==n?n:ope(r,e);if("independent"===c&&"step"===u.value){a=void 0;break}if(a){if("independent"===c&&a.value!==u.value){a=void 0;break}a=gp(a,u,i,"")}else a=u}if(a){for(const l of e.children)e.renameSignal(l.getName(i),e.getName(t)),l.component.layoutSize.set(i,"merged",!1);s.setWithExplicit(t,a)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function edt(e,t){const i=e.config,r=e.getScaleComponent("width"===t?"x":"y");if(r){const o=r.get("type"),s=r.get("range");if(ka(o)){const a=tE(i.view,t);return op(s)||$d(a)?"step":a}return fV(i.view,t)}if(e.hasProjection||"arc"===e.mark)return fV(i.view,t);{const o=tE(i.view,t);return $d(o)?o.step:o}}function dz(e,t,n){return bt(t,Object.assign({suffix:`by_${bt(e)}`},null!=n?n:{}))}class yE extends Vpe{constructor(t,n,i,r){super(t,"facet",n,i,r,t.resolve),this.child=Az(t.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Xw(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Ye(t),i={};for(const r of n){if(![rh,oh].includes(r)){lt(HN(r,"facet"));break}const o=t[r];if(void 0===o.field){lt(y7(o,r));break}i[r]=this.initFacetFieldDef(o,r)}return i}initFacetFieldDef(t,n){const i=Q7(t,n);return i.header?i.header=$l(i.header):null===i.header&&(i.header=null),i}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=qO(this),this.child.parseData()}parseLayoutSize(){gz(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of xc)Kgt(e,t);Upe(e,"x"),Upe(e,"y")}(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,i;const r={};for(const o of xc)for(const s of WV){const a=this.component.layoutHeaders[o],l=a[s],{facetFieldDef:u}=a;if(u){const c=uy("titleOrient",u.header,this.config,o);if(["right","bottom"].includes(c)){const g=RO(o,c);null!==(t=r.titleAnchor)&&void 0!==t||(r.titleAnchor={}),r.titleAnchor[g]="end"}}if(null==l?void 0:l[0]){const c="row"===o?"height":"width",g="header"===s?"headerBand":"footerBand";"facet"!==o&&!this.child.component.layoutSize.get(c)&&(null!==(n=r[g])&&void 0!==n||(r[g]={}),r[g][o]=.5),a.title&&(null!==(i=r.offset)&&void 0!==i||(r.offset={}),r.offset["row"===o?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:t,row:n}=this.facet,i=t?this.columnDistinctSignal():n?1:void 0;let r="all";return(!n&&"independent"===this.component.resolve.scale.x||!t&&"independent"===this.component.resolve.scale.y)&&(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),i?{columns:i}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof yE))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof yE?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:bt(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],i=[];if(this.child instanceof yE){if(this.child.channelHasField("column")){const r=bt(this.child.facet.column);t.push(r),n.push("distinct"),i.push(`distinct_${r}`)}}else for(const r of jd){const o=this.child.component.scales[r];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(ka(s)&&op(a)){const u=sz(BO(this.child,r));u?(t.push(u),n.push("distinct"),i.push(`distinct_${u}`)):lt(v7(r))}}}return{fields:t,ops:n,as:i}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:i,column:r}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of xc){const g=this.facet[c];if(g){l.push(bt(g));const{bin:d,sort:f}=g;if(Lr(d)&&l.push(bt(g,{binSuffix:"end"})),Ud(f)){const{field:h,op:C=QN}=f,p=dz(g,f);i&&r?(o.push(p),s.push("max"),a.push(p)):(o.push(h),s.push(C),a.push(p))}else if(qt(f)){const h=ly(g,c);o.push(h),s.push("max"),a.push(h)}}}const u=!!i&&!!r;return Object.assign({name:t,data:n,groupby:l},u||o.length>0?{aggregate:Object.assign(Object.assign({},u?{cross:u}:{}),o.length?{fields:o,ops:s,as:a}:{})}:{})}facetSortFields(t){const{facet:n}=this,i=n[t];return i?Ud(i.sort)?[dz(i,i.sort,{expr:"datum"})]:qt(i.sort)?[ly(i,t,{expr:"datum"})]:[bt(i,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,i=n[t];if(i){const{sort:r}=i;return[(Ud(r)?r.order:!qt(r)&&r)||"ascending"]}return[]}assembleLabelTitle(){var t;const{facet:n,config:i}=this;if(n.facet)return $V(n.facet,"facet",i);const r={row:["top","bottom"],column:["left","right"]};for(const o of GV)if(n[o]){const s=uy("labelOrient",null===(t=n[o])||void 0===t?void 0:t.header,i,o);if(r[o].includes(s))return $V(n[o],o,i)}}assembleMarks(){const{child:t}=this,i=function(e){const t=[],n=zpe(t);for(const i of e.children)n(i,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},o?{title:o}:{}),s?{style:s}:{}),{from:{facet:this.assembleFacet()},sort:{field:xc.map(l=>this.facetSortFields(l)).flat(),order:xc.map(l=>this.facetSortOrder(l)).flat()}}),i.length>0?{data:i}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(Wat(this,[])))]}getMapping(){return this.facet}}function Gpe(e,t){var n,i,r,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=null===(n=e.format)||void 0===n?void 0:n.mesh,u=null===(i=a.format)||void 0===i?void 0:i.feature;if(l&&u)continue;const c=null===(r=e.format)||void 0===r?void 0:r.feature;if((c||u)&&c!==u)continue;const g=null===(o=a.format)||void 0===o?void 0:o.mesh;if(!l&&!g||l===g)if(nE(e)&&nE(a)){if(Nd(e.values,a.values))return s}else if(ey(e)&&ey(a)){if(e.url===a.url)return s}else if(Khe(e)&&e.name===s.dataName)return s}return null}function qO(e){var t,n,i,r,o,s,a,l,u,c;let g=function(e,t){if(e.data||!e.parent){if(null===e.data){const i=new FI({values:[]});return t.push(i),i}const n=Gpe(e.data,t);if(n)return dp(e.data)||(n.data.format=Ade({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const i=new FI(e.data);return t.push(i),i}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:f}=e.component.data,h=e.data,p=h&&(dp(h)||ey(h)||nE(h))||!e.parent?new Oat:e.parent.component.data.ancestorParse.clone();dp(h)?(Xhe(h)?g=new pE(g,h.sequence):yV(h)&&(g=new CE(g,h.graticule)),p.parseNothing=!0):null===(null===(t=null==h?void 0:h.format)||void 0===t?void 0:t.parse)&&(p.parseNothing=!0),g=null!==(n=Fa.makeExplicit(g,e,p))&&void 0!==n?n:g,g=new Ap(g);const I=e.parent&&dy(e.parent);($o(e)||Fg(e))&&I&&(g=null!==(i=Zd.makeFromEncoding(g,e))&&void 0!==i?i:g),e.transforms.length>0&&(g=function(e,t,n){var i,r;let o=0;for(const s of t.transforms){let a,l;if(pat(s))l=e=new ay(e,s),a="derived";else if(IV(s)){const u=Uct(s);l=e=null!==(i=Fa.makeWithAncestors(e,{},u,n))&&void 0!==i?i:e,e=new sy(e,t,s.filter)}else if(zhe(s))l=e=Zd.makeFromTransform(e,s,t),a="number";else if(Iat(s))a="date",void 0===n.getWithExplicit(s.field).value&&(e=new Fa(e,{[s.field]:a}),n.set(s.field,a,!1)),l=e=Yd.makeFromTransform(e,s);else if(mat(s))l=e=Mg.makeFromTransform(e,s),a="number",NV(t)&&(e=new Ap(e));else if(Vhe(s))l=e=vE.make(e,t,s,o++),a="derived";else if(fat(s))l=e=new gy(e,s),a="number";else if(hat(s))l=e=new LI(e,s),a="number";else if(vat(s))l=e=mh.makeFromTransform(e,s),a="derived";else if(yat(s))l=e=new zO(e,s),a="derived";else if(Cat(s))l=e=new VO(e,s),a="derived";else if(aat(s))l=e=new WO(e,s),a="derived";else if(dat(s))e=new $O(e,s);else if(Aat(s))l=e=BI.makeFromTransform(e,s),a="derived";else if(lat(s))l=e=new jO(e,s),a="derived";else if(uat(s))l=e=new UO(e,s),a="derived";else if(cat(s))l=e=new GO(e,s),a="derived";else{if(!gat(s)){lt(Yit(s));continue}l=e=new HO(e,s),a="derived"}if(l&&void 0!==a)for(const u of null!==(r=l.producedFields())&&void 0!==r?r:[])n.set(u,a,!1)}return e}(g,e,p));const m=function(e){const t={};if($o(e)&&e.component.selection)for(const n of Ye(e.component.selection)){const i=e.component.selection[n];for(const r of i.project.items)!r.channel&&Wv(r.field)>1&&(t[r.field]="flatten")}return t}(e),y=function(e){const t={};function n(i){Qv(i)?t[i.field]="date":"quantitative"===i.type&&function(e){return Jn(e)&&ai(["min","max"],e)}(i.aggregate)?t[i.field]="number":Wv(i.field)>1?i.field in t||(t[i.field]="flatten"):TI(i)&&Ud(i.sort)&&Wv(i.sort.field)>1&&(i.sort.field in t||(t[i.sort.field]="flatten"))}if(($o(e)||Fg(e))&&e.forEachFieldDef((i,r)=>{if(Sc(i))n(i);else{const o=yI(r),s=e.fieldDef(o);n(Object.assign(Object.assign({},i),{type:s.type}))}}),$o(e)){const{mark:i,markDef:r,encoding:o}=e;if(ap(i)&&!e.encoding.order){const a=o["horizontal"===r.orient?"y":"x"];Et(a)&&"quantitative"===a.type&&!(a.field in t)&&(t[a.field]="number")}}return t}(e);g=null!==(r=Fa.makeWithAncestors(g,{},Object.assign(Object.assign({},m),y),p))&&void 0!==r?r:g,$o(e)&&(g=fy.parseAll(g,e),g=mE.parseAll(g,e)),($o(e)||Fg(e))&&(I||(g=null!==(o=Zd.makeFromEncoding(g,e))&&void 0!==o?o:g),g=null!==(s=Yd.makeFromEncoding(g,e))&&void 0!==s?s:g,g=ay.parseAllForSortIndex(g,e));const _=e.getDataName(Tr.Raw),N=new pl(g,_,Tr.Raw,f);if(d[_]=N,g=N,$o(e)){const V=Mg.makeFromEncoding(g,e);V&&(g=V,NV(e)&&(g=new Ap(g))),g=null!==(a=BI.makeFromEncoding(g,e))&&void 0!==a?a:g,g=null!==(l=mh.makeFromEncoding(g,e))&&void 0!==l?l:g}$o(e)&&(g=null!==(u=IE.make(g,e))&&void 0!==u?u:g);const O=e.getDataName(Tr.Main),k=new pl(g,O,Tr.Main,f);d[O]=k,g=k,$o(e)&&function(e,t){var n;for(const[i,r]of ZC(null!==(n=e.component.selection)&&void 0!==n?n:{})){const o=e.getName(`lookup_${i}`);e.component.data.outputNodes[o]=r.materialized=new pl(new sy(t,e,{param:i}),o,Tr.Lookup,e.component.data.outputNodeRefCounts)}}(e,k);let M=null;if(Fg(e)){const V=e.getName("facet");g=null!==(c=function(e,t){const{row:n,column:i}=t;if(n&&i){let r=null;for(const o of[n,i])if(Ud(o.sort)){const{field:s,op:a=QN}=o.sort;e=r=new LI(e,{joinaggregate:[{op:a,field:s,as:dz(o,o.sort,{forAs:!0})}],groupby:[bt(o)]})}return r}return null}(g,e.facet))&&void 0!==c?c:g,M=new cy(g,e,V,k.getSource()),d[V]=M}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:f,raw:N,main:k,facetRoot:M,ancestorParse:p})}class rdt extends cz{constructor(t,n,i,r){var o,s,a,l;super(t,"concat",n,i,r,t.resolve),("shared"===(null===(s=null===(o=t.resolve)||void 0===o?void 0:o.axis)||void 0===s?void 0:s.x)||"shared"===(null===(l=null===(a=t.resolve)||void 0===a?void 0:a.axis)||void 0===l?void 0:l.y))&&lt("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(t).map((u,c)=>Az(u,this,this.getName(`concat_${c}`),void 0,r))}parseData(){this.component.data=qO(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ye(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return CO(t)?t.vconcat:dV(t)?t.hconcat:t.concat}parseLayoutSize(){!function(e){gz(e);const n=void 0===e.layout.columns?"height":"childHeight";YO(e,1===e.layout.columns?"width":"childWidth"),YO(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=YV(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,i)=>i.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),i=t.assembleGroupStyle(),r=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),i?{style:i}:{}),r?{encode:{update:r}}:{}),t.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},null!=t?{columns:t}:{}),{bounds:"full",align:"each"})}}const sdt=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},Jfe),{labelExpr:1,encode:1}),Wpe=Ye(sdt);class fz extends ph{constructor(t={},n={},i=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=i}clone(){return new fz(ei(this.explicit),ei(this.implicit),this.mainExtracted)}hasAxisPart(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function(e){return!1===e||null===e}(this.get(t)))}hasOrientSignalRef(){return Cn(this.explicit.orient)}}const udt={bottom:"top",top:"bottom",left:"right",right:"left"};function gdt(e,t){if(!e)return t.map(n=>n.clone());{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const r=e[i],o=t[i];if(!!r!=!!o)return;if(r&&o){const s=r.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[i]=ddt(r,o)}}}return e}function ddt(e,t){for(const n of Wpe){const i=gp(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(r,o)=>{switch(n){case"title":return Wde(r,o);case"gridScale":return{explicit:r.explicit,value:Wo(r.value,o.value)}}return IO(r,o,n,"axis")});e.setWithExplicit(n,i)}return e}function fdt(e,t,n,i,r){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Cn(n.labelAngle)?n.labelAngle:zw(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===XCe(i,r))return!0}return e===n[t]}const hdt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Cdt(e,t){var n,i,r;let o=t.axis(e);const s=new fz,a=Cs(t.encoding[e]),{mark:l,config:u}=t,c=(null==o?void 0:o.orient)||(null===(n=u["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(i=u.axis)||void 0===i?void 0:i.orient)||function(e){return"x"===e?"bottom":"left"}(e),g=t.getScaleComponent(e).get("type"),d=function(e,t,n,i){const r="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:function(e){return e in sot}(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",s=Cn(n)?"axisOrient":`axis${Vw(n)}`,a=[...r,...r.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:YCe(a,i,e,n),vgAxisConfig:YCe(l,i,e,n),axisConfigStyle:Uut([...l,...a],i)}}(e,g,c,t.config),f=void 0!==o?!o:HV("disable",u.style,null==o?void 0:o.style,d).configValue;if(s.set("disable",f,void 0!==o),f)return s;o=o||{};const h=function(e,t,n,i,r){const o=null==t?void 0:t.labelAngle;if(void 0!==o)return Cn(o)?o:zw(o);{const{configValue:s}=HV("labelAngle",i,null==t?void 0:t.style,r);return void 0!==s?zw(s):n!==ao||!ai([P7,F7],e.type)||Et(e)&&e.timeUnit?void 0:270}}(a,o,e,u.style,d),C={fieldOrDatumDef:a,axis:o,channel:e,model:t,scaleType:g,orient:c,labelAngle:h,mark:l,config:u};for(const m of Wpe){const y=m in qCe?qCe[m](C):the(m)?o[m]:void 0,_=void 0!==y,N=fdt(y,m,o,t,e);if(_&&N)s.set(m,y,N);else{const{configValue:O,configFrom:k}=the(m)&&"values"!==m?HV(m,u.style,o.style,d):{},M=void 0!==O;_&&!M?s.set(m,y,N):("vgAxisConfig"!==k||hdt.has(m)&&M||Jw(O)||Cn(O))&&s.set(m,O,!1)}}const p=null!==(r=o.encoding)&&void 0!==r?r:{},I=Qfe.reduce((m,y)=>{var _;if(!s.hasAxisPart(y))return m;const N=rpe(null!==(_=p[y])&&void 0!==_?_:{},t),O="labels"===y?function(e,t,n){var i;const{encoding:r,config:o}=e,s=null!==(i=Cs(r[t]))&&void 0!==i?i:Cs(r[ch(t)]),a=e.axis(t)||{},{format:l,formatType:u}=a;return SI(u)?Object.assign({text:W7({fieldOrDatumDef:s,field:"datum.value",format:l,formatType:u,config:o})},n):n}(t,e,N):N;return void 0!==O&&!br(O)&&(m[y]={update:O}),m},{});return br(I)||s.set("encode",I,!!o.encoding||void 0!==o.labelAngle),s}function hz(e,t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Oa("x",e,{defaultPos:"mid"})),Oa("y",e,{defaultPos:"mid"})),ks("size",e)),ks("angle",e)),function(e,t,n){return n?{shape:{value:n}}:ks("shape",e)}(e,0,t))}function jdt(e){var t;const{config:n,markDef:i}=e,{orient:r}=i,o="horizontal"===r?"width":"height",s=e.getScaleComponent("horizontal"===r?"x":"y"),a=null!==(t=dr("size",i,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==a)return a;{const l=s?s.get("range"):void 0;return l&&op(l)&&To(l.step)?3*l.step/4:3*pO(n.view,o)/4}}const ZO={arc:{vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Oa("x",e,{defaultPos:"mid"})),Oa("y",e,{defaultPos:"mid"})),hp(e,"radius","arc")),hp(e,"theta","arc"))},area:{vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),bO("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),bO("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),TV(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),hp(e,"x","bar")),hp(e,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:e=>hz(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&Et(n)&&n.type===qv?{field:bt(n,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),hp(e,"x","image")),hp(e,"y","image")),DV(e,"url"))},line:{vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Oa("x",e,{defaultPos:"mid"})),Oa("y",e,{defaultPos:"mid"})),ks("size",e,{vgChannel:"strokeWidth"})),TV(e))},point:{vgMark:"symbol",encodeEntry:e=>hz(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),hp(e,"x","rect")),hp(e,"y","rect"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),bO("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n})),bO("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n})),ks("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>hz(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Oa("x",e,{defaultPos:"mid"})),Oa("y",e,{defaultPos:"mid"})),DV(e)),ks("size",e,{vgChannel:"fontSize"})),ks("angle",e)),pCe("align",function(e,t,n){if(void 0===dr("align",e,n))return"center"}(e.markDef,0,t))),pCe("baseline",function(e,t,n){if(void 0===dr("baseline",e,n))return"middle"}(e.markDef,0,t))),Oa("radius",e,{defaultPos:null})),Oa("theta",e,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,i=n.orient,r="horizontal"===i?"width":"height",o="horizontal"===i?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Oa("x",e,{defaultPos:"mid",vgChannel:"xc"})),Oa("y",e,{defaultPos:"mid",vgChannel:"yc"})),ks("size",e,{defaultValue:jdt(e),vgChannel:r})),{[o]:no(dr("thickness",n,t))})}},trail:{vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Tc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Oa("x",e,{defaultPos:"mid"})),Oa("y",e,{defaultPos:"mid"})),ks("size",e)),TV(e))}};const $pe="faceted_path_",Ype="stack_group_";function Cz(e,t={fromPrefix:""}){const{mark:n,markDef:i,encoding:r,config:o}=e,s=Wo(i.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),a=Vde(i),l=r.key,u=function(e){var t;const{encoding:n,stack:i,mark:r,markDef:o,config:s}=e,a=n.order;if(!(!qt(a)&&Ng(a)&&r7(a.value)||!a&&r7(dr("order",o,s)))){if((qt(a)||Et(a))&&!i)return Hde(a,{expr:"datum"});if(ap(r)){const l="horizontal"===o.orient?"y":"x",u=n[l];if(Et(u)){const c=u.sort;return qt(c)?{field:bt(u,{prefix:l,suffix:"sort_index",expr:"datum"})}:Ud(c)?{field:bt({aggregate:J7(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})}:Bfe(c)?{field:bt(e.fieldDef(c.encoding),{expr:"datum"}),order:c.order}:null===c?void 0:{field:bt(u,{binSuffix:(null===(t=e.stack)||void 0===t?void 0:t.impute)?"mid":void 0,expr:"datum"})}}return}}}(e),c=function(e){if(!e.component.selection)return null;const t=Ye(e.component.selection).length;let n=t,i=e.parent;for(;i&&0===n;)n=Ye(i.component.selection).length,i=i.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}(e),g=dr("aria",i,o),d=ZO[n].postEncodingTransform?ZO[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:ZO[n].vgMark},s?{clip:!0}:{}),a?{style:a}:{}),l?{key:l.field}:{}),u?{sort:u}:{}),c||{}),!1===g?{aria:g}:{}),{from:{data:t.fromPrefix+e.requestDataName(Tr.Main)},encode:{update:ZO[n].encodeEntry(e)}}),d?{transform:d}:{})]}class qpe extends Vpe{constructor(t,n,i,r={},o){var s;super(t,"unit",n,i,o,void 0,_he(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const a=kg(t.mark)?Object.assign({},t.mark):{type:t.mark},l=a.type;void 0===a.filled&&(a.filled=function(e,t,{graticule:n}){if(n)return!1;const i=_I("filled",e,t),r=e.type;return Wo(i,r!==qN&&r!==YN&&r!==ZN)}(a,o,{graticule:t.data&&yV(t.data)}));const u=this.encoding=ist(t.encoding||{},l,a.filled,o);this.markDef=function(e,t,n){const i=$l(e),r=dr("orient",i,n);if(i.orient=function(e,t,n){switch(e){case qN:case V7:case z7:case yfe:case yot:case vot:return}const{x:i,y:r,x2:o,y2:s}=t;switch(e){case $N:if(Et(i)&&(hl(i.bin)||Et(r)&&r.aggregate&&!i.aggregate))return"vertical";if(Et(r)&&(hl(r.bin)||Et(i)&&i.aggregate&&!r.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o&&(Et(i)&&i.type===xI&&!Lr(i.bin)||rO(i)))return"horizontal";if(!s&&(Et(r)&&r.type===xI&&!Lr(r.bin)||rO(r)))return"vertical"}case ZN:if(o&&(!Et(i)||!hl(i.bin))&&s&&(!Et(r)||!hl(r.bin)))return;case WN:if(s)return Et(r)&&hl(r.bin)?"horizontal":"vertical";if(o)return Et(i)&&hl(i.bin)?"vertical":"horizontal";if(e===ZN){if(i&&!r)return"vertical";if(r&&!i)return"horizontal"}case YN:case j7:{const a=Gd(i),l=Gd(r);if(n)return n;if(a&&!l)return"tick"!==e?"horizontal":"vertical";if(!a&&l)return"tick"!==e?"vertical":"horizontal";if(a&&l){const u=i,c=r,g=u.type===Yv,d=c.type===Yv;return g&&!d?"tick"!==e?"vertical":"horizontal":!g&&d?"tick"!==e?"horizontal":"vertical":!u.aggregate&&c.aggregate?"tick"!==e?"vertical":"horizontal":u.aggregate&&!c.aggregate&&"tick"!==e?"horizontal":"vertical"}return}}return"vertical"}(i.type,t,r),void 0!==r&&r!==i.orient&&lt(function(e,t){return`Specified orient "${e}" overridden with "${t}".`}(i.orient,r)),"bar"===i.type&&i.orient){const a=dr("cornerRadiusEnd",i,n);if(void 0!==a){const l="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:Tot[i.orient];for(const u of l)i[u]=a;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}return void 0===dr("opacity",i,n)&&(i.opacity=function(e,t){if(ai([qN,j7,V7,z7],e)&&!J7(t))return.7}(i.type,t)),void 0===dr("cursor",i,n)&&(i.cursor=function(e,t,n){return t.href||e.href||dr("href",e,n)?"pointer":e.cursor}(i,t,n)),i}(a,u,o),this.size=function({encoding:e,size:t}){for(const n of jd){const i=Dc(n);$d(t[i])&&Gd(e[n])&&(delete t[i],lt(ife(i)))}return t}({encoding:u,size:_he(t)?Object.assign(Object.assign(Object.assign({},r),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):r}),this.stack=Nhe(l,u),this.specifiedScales=this.initScales(l,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(null!==(s=t.params)&&void 0!==s?s:[]).filter(c=>cV(c))}get hasProjection(){const{encoding:t}=this,n=this.mark===bfe,i=t&&uit.some(r=>Kn(t[r]));return n||i}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return jN.reduce((i,r)=>{var o;const s=Cs(n[r]);return s&&(i[r]=this.initScale(null!==(o=s.scale)&&void 0!==o?o:{})),i},{})}initScale(t){const{domain:n,range:i}=t,r=$l(t);return qt(n)&&(r.domain=n.map(Su)),qt(i)&&(r.range=i.map(Su)),r}initAxes(t){return jd.reduce((n,i)=>{const r=t[i];if(Kn(r)||i===ao&&Kn(t.x2)||i===fs&&Kn(t.y2)){const o=Kn(r)?r.axis:void 0;n[i]=o&&this.initAxis(Object.assign({},o))}return n},{})}initAxis(t){const n=Ye(t),i={};for(const r of n){const o=t[r];i[r]=Jw(o)?Lde(o):Su(o)}return i}initLegends(t){return pit.reduce((n,i)=>{const r=Cs(t[i]);if(r&&function(e){switch(e){case Gl:case Ld:case Bd:case lh:case Wl:case uh:case QC:case JC:return!0;case KC:case XC:case mI:return!1}}(i)){const o=r.legend;n[i]=o&&$l(o)}return n},{})}parseData(){this.component.data=qO(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const i of jd){const r=Dc(i);if(t[r]){const o=t[r];n.layoutSize.set(r,$d(o)?"step":o,!0)}else{const o=edt(e,r);n.layoutSize.set(r,o,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){var n;const i={},r=e.config.selection;if(!t||!t.length)return i;for(const o of t){const s=to(o.name),a=o.select,l=Jn(a)?a:a.type,u=Sr(a)?ei(a):{type:l},c=r[l];for(const d in c)"fields"===d||"encodings"===d||("mark"===d&&(u[d]=Object.assign(Object.assign({},c[d]),u[d])),(void 0===u[d]||!0===u[d])&&(u[d]=null!==(n=c[d])&&void 0!==n?n:u[d]));const g=i[s]=Object.assign(Object.assign({},u),{name:s,type:l,init:o.value,bind:o.bind,events:Jn(u.on)?ty(u.on,"scope"):Fr(ei(u.on))});for(const d of EO)d.defined(g)&&d.parse&&d.parse(e,g,o)}return i}(this,this.selection)}parseMarkGroup(){this.component.mark=function(e){if(ai([YN,WN,bot],e.mark)){const t=rhe(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:$pe+e.requestDataName(Tr.Main),data:e.requestDataName(Tr.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Cz(e,{fromPrefix:$pe})}]}(e,t)}else if(e.mark===$N){const t=A7.some(n=>dr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return function(e){const[t]=Cz(e,{fromPrefix:Ype}),n=e.scaleName(e.stack.fieldChannel),i=(u={})=>e.vgField(e.stack.fieldChannel,u),r=(u,c)=>`${u}(${[i({prefix:"min",suffix:"start",expr:c}),i({prefix:"max",suffix:"start",expr:c}),i({prefix:"min",suffix:"end",expr:c}),i({prefix:"max",suffix:"end",expr:c})].map(d=>`scale('${n}',${d})`).join(",")})`;let o,s;"x"===e.stack.fieldChannel?(o=Object.assign(Object.assign({},Uv(t.encode.update,["y","yc","y2","height",...A7])),{x:{signal:r("min","datum")},x2:{signal:r("max","datum")},clip:{value:!0}}),s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update=Object.assign(Object.assign({},Du(t.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},Uv(t.encode.update,["x","xc","x2","width"])),{y:{signal:r("min","datum")},y2:{signal:r("max","datum")},clip:{value:!0}}),s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update=Object.assign(Object.assign({},Du(t.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const u of A7){const c=_I(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):c&&(o[u]=no(c)),c&&(t.encode.update[u]={value:0})}const a=[];if(e.stack.groupbyChannel){const u=e.fieldDef(e.stack.groupbyChannel),c=bt(u);c&&a.push(c),((null==u?void 0:u.bin)||(null==u?void 0:u.timeUnit))&&a.push(bt(u,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,c)=>{if(t.encode.update[c])return Object.assign(Object.assign({},u),{[c]:t.encode.update[c]});{const g=_I(c,e.markDef,e.config);return void 0!==g?Object.assign(Object.assign({},u),{[c]:no(g)}):u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Tr.Main),name:Ype+e.requestDataName(Tr.Main),groupby:a,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}(e)}return Cz(e)}(this)}parseAxesAndHeaders(){this.component.axes=function(e){return jd.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Cdt(n,e)]),t),{})}(this)}assembleSelectionTopLevelSignals(t){return function(e,t){var n;let i=!1;for(const r of Ta(null!==(n=e.component.selection)&&void 0!==n?n:{})){const o=r.name,s=Yi(o+NI);if(0===t.filter(l=>l.name===o).length){const u="point"===r.type?", true, true)":")";t.push({name:r.name,update:`${DCe}(${s}, ${Yi("global"===r.resolve?"union":r.resolve)}${u}`})}i=!0;for(const l of EO)l.defined(r)&&l.topLevelSignals&&(t=l.topLevelSignals(e,r,t))}return i&&0===t.filter(o=>"unit"===o.name).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),_V(t)}(this,t)}assembleSignals(){return[...$Ce(this),...Gat(this,[])]}assembleSelectionData(t){return function(e,t){var n;const i=[...t];for(const r of Ta(null!==(n=e.component.selection)&&void 0!==n?n:{})){const o={name:r.name+NI};if(r.init){const a=r.project.items.map(l=>Uat(l,["signals"]));o.values=r.init.map(l=>({unit:oy(e,{escape:!1}),fields:a,values:ny(l,!1)}))}i.filter(a=>a.name===r.name+NI).length||i.push(o)}return i}(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return YV(this)}assembleMarks(){var t;let n=null!==(t=this.component.mark)&&void 0!==t?t:[];return(!this.parent||!dy(this.parent))&&(n=oCe(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return void 0!==t?t:this.encoding.x||this.encoding.y?"cell":void 0}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return kI(this.encoding,t)}fieldDef(t){return Wd(this.encoding[t])}typedFieldDef(t){const n=this.fieldDef(t);return Sc(n)?n:null}}class pz extends cz{constructor(t,n,i,r,o){super(t,"layer",n,i,o,t.resolve,t.view);const s=Object.assign(Object.assign(Object.assign({},r),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((a,l)=>{if(AO(a))return new pz(a,this,this.getName(`layer_${l}`),s,o);if(hh(a))return new qpe(a,this,this.getName(`layer_${l}`),s,o);throw new Error(m7(a))})}parseData(){this.component.data=qO(this);for(const t of this.children)t.parseData()}parseLayoutSize(){!function(e){gz(e),YO(e,"width"),YO(e,"height")}(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ye(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var t;const{axes:n,resolve:i}=e.component,r={top:0,bottom:0,right:0,left:0};for(const o of e.children){o.parseAxesAndHeaders();for(const s of Ye(o.component.axes))i.axis[s]=qV(e.component.resolve,s),"shared"===i.axis[s]&&(n[s]=gdt(n[s],o.component.axes[s]),n[s]||(i.axis[s]="independent",delete n[s]))}for(const o of jd){for(const s of e.children)if(s.component.axes[o]){if("independent"===i.axis[o]){n[o]=(null!==(t=n[o])&&void 0!==t?t:[]).concat(s.component.axes[o]);for(const a of s.component.axes[o]){const{value:l,explicit:u}=a.getWithExplicit("orient");if(!Cn(l)){if(r[l]>0&&!u){const c=udt[l];r[l]>r[c]&&a.set("orient",c,!1)}r[l]++}}}delete s.component.axes[o]}if("independent"===i.axis[o]&&n[o]&&n[o].length>1)for(const s of n[o])s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,i)=>i.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),$Ce(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),YV(this))}assembleSelectionData(t){return this.children.reduce((n,i)=>i.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const i of this.children)for(const r of Fr(i.assembleGroupStyle()))t.add(r);const n=Array.from(t);return n.length>1?n:1===n.length?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)$o(n)&&(t=oCe(n,t));return t}(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),Cpe(this))}}function Az(e,t,n,i,r){if(JN(e))return new yE(e,t,n,r);if(AO(e))return new pz(e,t,n,i,r);if(hh(e))return new qpe(e,t,n,i,r);if(function(e){return CO(e)||dV(e)||gV(e)}(e))return new rdt(e,t,n,r);throw new Error(m7(e))}function qdt(e,t={}){t.logger&&function(e){zd=e}(t.logger),t.fieldTitle&&qfe(t.fieldTitle);try{const n=The(cde(t.config,e.config)),i=$he(e,n),r=Az(i,null,"",void 0,n);return r.parse(),function(e,t){nz(e.sources);let n=0,i=0;for(let r=0;r<5&&wpe(e,t,!0);r++)n++;e.sources.map(ez);for(let r=0;r<5&&wpe(e,t,!1);r++)i++;nz(e.sources),5===Math.max(n,i)&&lt("Maximum optimization runs(5) reached.")}(r.component.data,r),{spec:Kdt(r,Zdt(e,i.autosize,n,r),e.datasets,e.usermeta),normalized:i}}finally{t.logger&&(zd=afe),t.fieldTitle&&qfe($fe)}}function Zdt(e,t,n,i){const r=i.component.layoutSize.get("width"),o=i.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):Jn(t)&&(t={type:t}),r&&o&&function(e){return"fit"===e||"fit-x"===e||"fit-y"===e}(t.type))if("step"===r&&"step"===o)lt(qde()),t.type="pad";else if("step"===r||"step"===o){const s="step"===r?"width":"height";lt(qde(BN(s))),t.type=function(e){return e?`fit-${BN(e)}`:"fit"}("width"===s?"height":"width")}return Object.assign(Object.assign(Object.assign({},1===Ye(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),qhe(n,!1)),qhe(e,!0))}function Kdt(e,t,n={},i){const r=e.config?function(e){e=ei(e);for(const t of Bst)delete e[t];if(e.axis)for(const t in e.axis)Jw(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of vst)delete e.legend[t];if(e.mark){for(const t of Efe)delete e.mark[t];e.mark.tooltip&&Sr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(bhe(e.params)),delete e.params);for(const t of Lst){for(const i of Efe)delete e[t][i];const n=jst[t];if(n)for(const i of n)delete e[t][i];Hst(e,t)}for(const t of Ye(sV))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:i}=Pde(e.title);br(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),br(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),br(i)?delete e.title:e.title=i}(e);for(const t in e)Sr(e[t])&&br(e[t])&&delete e[t];return br(e)?void 0:e}(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){var n,i;const r=[],o=zpe(r);let s=0;for(const l of e.sources){l.hasName()||(l.dataName="source_"+s++);const u=l.assemble();o(l,u)}for(const l of r)0===l.transform.length&&delete l.transform;let a=0;for(const[l,u]of r.entries())0===(null!==(n=u.transform)&&void 0!==n?n:[]).length&&!u.source&&r.splice(a++,0,r.splice(l,1)[0]);for(const l of r)for(const u of null!==(i=l.transform)&&void 0!==i?i:[])"lookup"===u.type&&(u.from=e.outputNodes[u.from].getSource());for(const l of r)l.name in t&&(l.values=t[l.name]);return r}(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(f=>"width"!==f.name&&"height"!==f.name||void 0===f.value||(t[f.name]=+f.value,!1));const{params:g}=t,d=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),d),a?{title:a}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),s.length>0?{projections:s}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...bhe(g)])),r?{config:r}:{}),i?{usermeta:i}:{})}const Xdt="5.1.1",Zpe=function(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}},hy="#fff",Aft={background:"#333",title:{color:hy,subtitleColor:hy},style:{"guide-label":{fill:hy},"guide-title":{fill:hy}},axis:{domainColor:hy,gridColor:"#888",tickColor:hy}},jI="#4572a7",Ift={background:"#fff",arc:{fill:jI},area:{fill:jI},line:{stroke:jI,strokeWidth:2},path:{stroke:jI},rect:{fill:jI},shape:{stroke:jI},symbol:{fill:jI,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},VI="#30a2da",Iz="#cbcbcb",yft={arc:{fill:VI},area:{fill:VI},axis:{domainColor:Iz,grid:!0,gridColor:Iz,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:Iz,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:VI,strokeWidth:2},path:{stroke:VI,strokeWidth:.5},rect:{fill:VI},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:VI},bar:{binSpacing:2,fill:VI,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},zI="#000",bft={group:{fill:"#e5e5e5"},arc:{fill:zI},area:{fill:zI},line:{stroke:zI},path:{stroke:zI},rect:{fill:zI},shape:{stroke:zI},symbol:{fill:zI,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Qpe="Benton Gothic, sans-serif",HI="#82c6df",mz="Benton Gothic Bold, sans-serif",bE={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},xft={background:"#ffffff",title:{anchor:"start",color:"#000000",font:mz,fontSize:22,fontWeight:"normal"},arc:{fill:HI},area:{fill:HI},line:{stroke:HI,strokeWidth:2},path:{stroke:HI},rect:{fill:HI},shape:{stroke:HI},symbol:{fill:HI,size:30},axis:{labelFont:Qpe,labelFontSize:11.5,labelFontWeight:"normal",titleFont:mz,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Qpe,labelFontSize:11.5,symbolType:"square",titleFont:mz,titleFontSize:13,titleFontWeight:"normal"},range:{category:bE["category-6"],diverging:bE["fireandice-6"],heatmap:bE["fire-7"],ordinal:bE["fire-7"],ramp:bE["fire-7"]}},UI="#ab5787",KO="#979797",Dft={background:"#f9f9f9",arc:{fill:UI},area:{fill:UI},line:{stroke:UI},path:{stroke:UI},rect:{fill:UI},shape:{stroke:UI},symbol:{fill:UI,size:30},axis:{domainColor:KO,domainWidth:.5,gridWidth:.2,labelColor:KO,tickColor:KO,tickWidth:.2,titleColor:KO},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},GI="#3e5c69",Sft={background:"#fff",arc:{fill:GI},area:{fill:GI},line:{stroke:GI},path:{stroke:GI},rect:{fill:GI},shape:{stroke:GI},symbol:{fill:GI},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},kc="#1696d2",XO="Lato",vz="Lato",_E={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Mft={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:XO},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:vz,labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:XO},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:vz,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:XO,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:vz,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:XO,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:_E["six-groups-cat-1"],diverging:_E["diverging-colors"],heatmap:_E["diverging-colors"],ordinal:_E["six-groups-seq"],ramp:_E["shades-blue"]},area:{fill:kc},rect:{fill:kc},line:{color:kc,stroke:kc,strokeWidth:5},trail:{color:kc,stroke:kc,strokeWidth:0,size:1},path:{stroke:kc,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:kc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:kc,stroke:null}},arc:{fill:kc},shape:{stroke:kc},symbol:{fill:kc,size:30}},WI="#3366CC",QO="Arial, sans-serif",Rft={arc:{fill:WI},area:{fill:WI},path:{stroke:WI},rect:{fill:WI},shape:{stroke:WI},symbol:{stroke:WI},circle:{fill:WI},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:QO,fontSize:12},"guide-title":{font:QO,fontSize:12},"group-title":{font:QO,fontSize:12}},title:{font:QO,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Fft="2.10.0";function rAe(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,i){if("object"!=typeof i||null===i)return i;const r=t.indexOf(this)+1;return t.length=r,t.length>e?"[Object]":t.indexOf(i)>=0?"[Circular]":(t.push(i),i)}}(t))}const oAe="vg-tooltip-element",sht={offsetX:10,offsetY:10,id:oAe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(rn(e))return`[${e.map(i=>t($i(i)?i:rAe(i,n))).join(", ")}]`;if(Un(e)){let i="";const r=e,{title:o,image:s}=r,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(r,["title","image"]);o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${t(s)}">`);const l=Object.keys(a);if(l.length>0){i+="<table>";for(const u of l){let c=a[u];void 0!==c&&(Un(c)&&(c=rAe(c,n)),i+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}};class sAe{constructor(t){this.options=Object.assign(Object.assign({},sht),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const i=document.createElement("style");i.setAttribute("id",this.options.styleId),i.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(oAe,e)}(n);const r=document.head;r.childNodes.length>0?r.insertBefore(i,r.childNodes[0]):r.appendChild(i)}}tooltipHandler(t,n,i,r){var o;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el)),(null!==(o=document.fullscreenElement)&&void 0!==o?o:document.body).appendChild(this.el),null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:l}=function(e,t,n,i){let r=e.clientX+n;r+t.width>window.innerWidth&&(r=+e.clientX-n-t.width);let o=e.clientY+i;return o+t.height>window.innerHeight&&(o=+e.clientY-i-t.height),{x:r,y:o}}(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${a}px`)}}function cht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aAe(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(i,r)}function JO(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function s(l){aAe(o,i,r,s,a,"next",l)}function a(l){aAe(o,i,r,s,a,"throw",l)}s(void 0)})}}var Kd,lAe=Object.prototype,$I=lAe.hasOwnProperty,yz="function"==typeof Symbol?Symbol:{},eM=yz.iterator||"@@iterator",ght=yz.asyncIterator||"@@asyncIterator",tM=yz.toStringTag||"@@toStringTag";function uAe(e,t,n,i){var o=Object.create((t&&t.prototype instanceof _z?t:_z).prototype),s=new Dz(i||[]);return o._invoke=function(e,t,n){var i=cAe;return function(o,s){if(i===gAe)throw new Error("Generator is already running");if(i===nM){if("throw"===o)throw s;return CAe()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=hAe(a,n);if(l){if(l===Pg)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===cAe)throw i=nM,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=gAe;var u=bz(e,t,n);if("normal"===u.type){if(i=n.done?nM:dht,u.arg===Pg)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=nM,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function bz(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}var cAe="suspendedStart",dht="suspendedYield",gAe="executing",nM="completed",Pg={};function _z(){}function iM(){}function Cy(){}var wz={};wz[eM]=function(){return this};var Ez=Object.getPrototypeOf,rM=Ez&&Ez(Ez(Sz([])));rM&&rM!==lAe&&$I.call(rM,eM)&&(wz=rM);var py=Cy.prototype=_z.prototype=Object.create(wz);function dAe(e){["next","throw","return"].forEach(function(t){e[t]=function(n){return this._invoke(t,n)}})}function fAe(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===iM||"GeneratorFunction"===(t.displayName||t.name))}function oM(e,t){function n(o,s,a,l){var u=bz(e[o],e,s);if("throw"!==u.type){var c=u.arg,g=c.value;return g&&"object"==typeof g&&$I.call(g,"__await")?t.resolve(g.__await).then(function(d){n("next",d,a,l)},function(d){n("throw",d,a,l)}):t.resolve(g).then(function(d){c.value=d,a(c)},function(d){return n("throw",d,a,l)})}l(u.arg)}var i;this._invoke=function(o,s){function a(){return new t(function(l,u){n(o,s,l,u)})}return i=i?i.then(a,a):a()}}function hAe(e,t){var n=e.iterator[t.method];if(n===Kd){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=Kd,hAe(e,t),"throw"===t.method))return Pg;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return Pg}var i=bz(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,Pg;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=Kd),t.delegate=null,Pg):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,Pg)}function Aht(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function xz(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Dz(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Aht,this),this.reset(!0)}function Sz(e){if(e){var t=e[eM];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if($I.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=Kd,r.done=!0,r};return i.next=i}}return{next:CAe}}function CAe(){return{value:Kd,done:!0}}iM.prototype=py.constructor=Cy,Cy.constructor=iM,Cy[tM]=iM.displayName="GeneratorFunction",dAe(oM.prototype),oM.prototype[ght]=function(){return this},dAe(py),py[tM]="Generator",py[eM]=function(){return this},py.toString=function(){return"[object Generator]"},Dz.prototype={constructor:Dz,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=Kd,this.done=!1,this.delegate=null,this.method="next",this.arg=Kd,this.tryEntries.forEach(xz),!t)for(var n in this)"t"===n.charAt(0)&&$I.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=Kd)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(u,c){return s.type="throw",s.arg=t,n.next=u,c&&(n.method="next",n.arg=Kd),!!c}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=$I.call(o,"catchLoc"),l=$I.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&$I.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=n,o?(this.method="next",this.next=o.finallyLoc,Pg):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),Pg},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),xz(i),Pg}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var o=r.arg;xz(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Sz(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=Kd),Pg}};var mp={wrap:uAe,isGeneratorFunction:fAe,AsyncIterator:oM,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,Cy):(e.__proto__=Cy,tM in e||(e[tM]="GeneratorFunction")),e.prototype=Object.create(py),e},awrap:function(e){return{__await:e}},async:function(e,t,n,i,r){void 0===r&&(r=Promise);var o=new oM(uAe(e,t,n,i),r);return fAe(t)?o:o.next().then(function(s){return s.done?s.value:o.next()})},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},values:Sz};function mht(e,t,n){var i=e.open(t),a=new URL(t).origin,l=40;e.addEventListener("message",function u(g){g.source===i&&(l=0,e.removeEventListener("message",u,!1))},!1),setTimeout(function c(){l<=0||(i.postMessage(n,a),setTimeout(c,250),l-=1)},250)}var Tz,vht='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper.fit-x {\n    width: 100%; }\n  .vega-embed .chart-wrapper.fit-y {\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function pAe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];yht(e,s)}return e}function yht(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];B1(e,r,t[r],!0)}}function AAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AAe(Object(n),!0).forEach(function(i){cht(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AAe(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var yp=It,wE=mt,sM="undefined"!=typeof window?window:void 0;void 0===wE&&null!=sM&&null!==(Tz=sM.vl)&&void 0!==Tz&&Tz.compile&&(wE=sM.vl);var bht={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},_ht={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},EE={vega:"Vega","vega-lite":"Vega-Lite"},aM={vega:yp.version,"vega-lite":wE?wE.version:"not available"},wht={vega:e=>e,"vega-lite":(e,t)=>wE.compile(e,{config:t}).spec},Eht='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',xht="chart-wrapper";function Dht(e){return"function"==typeof e}function IAe(e,t,n,i){var r="<html><head>".concat(t,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),s=window.open("");s.document.write(r+e+o),s.document.title="".concat(EE[i]," JSON Source")}function Sht(e,t){if(e.$schema){var i,n=Zpe(e.$schema);t&&t!==n.library&&console.warn("The given visualization spec is written in ".concat(EE[n.library],", but mode argument sets ").concat(null!==(i=EE[t])&&void 0!==i?i:t,"."));var r=n.library;return(0,hee.satisfies)(aM[r],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(EE[r]," ").concat(n.version,", but the current version of ").concat(EE[r]," is v").concat(aM[r],".")),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}function mAe(e){return function(e){return!(!e||!("load"in e))}(e)?e:yp.loader(e)}function vAe(e){var t;return null!==(t=e.usermeta&&e.usermeta.embedOptions)&&void 0!==t?t:{}}function Ay(e,t){return kz.apply(this,arguments)}function kz(){return(kz=JO(mp.mark(function e(t,n){var i,r,o,s,a,l,u,c,g,d,f=arguments;return mp.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(o=f.length>2&&void 0!==f[2]?f[2]:{},!$i(n)){C.next=10;break}return a=mAe(o.loader),C.t0=JSON,C.next=6,a.load(n);case 6:C.t1=C.sent,s=C.t0.parse.call(C.t0,C.t1),C.next=11;break;case 10:s=n;case 11:return l=vAe(s).loader,(!a||l)&&(a=mAe(null!==(u=o.loader)&&void 0!==u?u:l)),C.next=15,yAe(vAe(s),a);case 15:return c=C.sent,C.next=18,yAe(o,a);case 18:return d=vp(vp({},pAe(g=C.sent,c)),{},{config:iS(null!==(i=g.config)&&void 0!==i?i:{},null!==(r=c.config)&&void 0!==r?r:{})}),C.next=22,Nht(t,s,d,a);case 22:return C.abrupt("return",C.sent);case 23:case"end":return C.stop()}},e)}))).apply(this,arguments)}function yAe(e,t){return Nz.apply(this,arguments)}function Nz(){return(Nz=JO(mp.mark(function e(t,n){var i,r,o;return mp.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!$i(t.config)){a.next=8;break}return a.t1=JSON,a.next=4,n.load(t.config);case 4:a.t2=a.sent,a.t0=a.t1.parse.call(a.t1,a.t2),a.next=9;break;case 8:a.t0=null!==(i=t.config)&&void 0!==i?i:{};case 9:if(r=a.t0,!$i(t.patch)){a.next=18;break}return a.t4=JSON,a.next=14,n.load(t.patch);case 14:a.t5=a.sent,a.t3=a.t4.parse.call(a.t4,a.t5),a.next=19;break;case 18:a.t3=t.patch;case 19:return o=a.t3,a.abrupt("return",vp(vp(vp({},t),o?{patch:o}:{}),r?{config:r}:{}));case 21:case"end":return a.stop()}},e)}))).apply(this,arguments)}function kht(e){var n,t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:null!==(n=document.head)&&void 0!==n?n:document.body}}function Nht(e,t){return Oz.apply(this,arguments)}function Oz(){return(Oz=JO(mp.mark(function e(t,n){var i,r,o,s,a,l,u,c,g,d,f,h,C,p,I,m,y,_,O,k,M,V,z,H,ee,se,_e,ae,le,q,te,Te,zt,Bn,Xt,Zi,mn,ar,kr,_t,pn,Xn,Qe,Ko,Li,Mo,_o=arguments;return mp.wrap(function(Sh){for(;;)switch(Sh.prev=Sh.next){case 0:if(Mo=function(){zt&&document.removeEventListener("click",zt),le.finalize()},g=_o.length>3?_o[3]:void 0,d=(c=_o.length>2&&void 0!==_o[2]?_o[2]:{}).theme?iS(an[c.theme],null!==(i=c.config)&&void 0!==i?i:{}):c.config,f=sL(c.actions)?c.actions:pAe({},bht,null!==(r=c.actions)&&void 0!==r?r:{}),h=vp(vp({},_ht),c.i18n),C=null!==(o=c.renderer)&&void 0!==o?o:"canvas",p=null!==(s=c.logLevel)&&void 0!==s?s:yp.Warn,I=null!==(a=c.downloadFileName)&&void 0!==a?a:"visualization",m="string"==typeof t?document.querySelector(t):t){Sh.next=12;break}throw new Error("".concat(t," does not exist"));case 12:return!1!==c.defaultStyle&&(y="vega-embed-style",_=kht(m),O=_.rootContainer,_.root.getElementById(y)||((k=document.createElement("style")).id=y,k.innerText=void 0===c.defaultStyle||!0===c.defaultStyle?vht.toString():c.defaultStyle,O.appendChild(k))),M=Sht(n,c.mode),V=wht[M](n,d),"vega-lite"===M&&V.$schema&&(z=Zpe(V.$schema),(0,hee.satisfies)(aM.vega,"^".concat(z.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(z.version,", but current version is v").concat(aM.vega,"."))),m.classList.add("vega-embed"),f&&m.classList.add("has-actions"),m.innerHTML="",H=m,f&&((ee=document.createElement("div")).classList.add(xht),m.appendChild(ee),H=ee),(se=c.patch)&&(V=se instanceof Function?se(V):eS(V,se,!0,!1).newDocument),c.formatLocale&&yp.formatLocale(c.formatLocale),c.timeFormatLocale&&yp.timeFormatLocale(c.timeFormatLocale),ae=yp.parse(V,"vega-lite"===M?{}:d,{ast:_e=c.ast}),(le=new(c.viewClass||yp.View)(ae,vp({loader:g,logLevel:p,renderer:C},_e?{expr:null!==(l=null!==(u=yp.expressionInterpreter)&&void 0!==u?u:c.expr)&&void 0!==l?l:Nnt}:{}))).addSignalListener("autosize",(cf,tu)=>{var Pu=tu.type;"fit-x"==Pu?(H.classList.add("fit-x"),H.classList.remove("fit-y")):"fit-y"==Pu?(H.classList.remove("fit-x"),H.classList.add("fit-y")):"fit"==Pu?H.classList.add("fit-x","fit-y"):H.classList.remove("fit-x","fit-y")}),!1!==c.tooltip&&(q=Dht(c.tooltip)?c.tooltip:new sAe(!0===c.tooltip?{}:c.tooltip).call,le.tooltip(q)),void 0===(te=c.hover)&&(te="vega"===M),te&&le.hover((Te="boolean"==typeof te?{}:te).hoverSet,Te.updateSet),c&&(null!=c.width&&le.width(c.width),null!=c.height&&le.height(c.height),null!=c.padding&&le.padding(c.padding)),Sh.next=36,le.initialize(H,c.bind).runAsync();case 36:if(!1!==f){if(Bn=m,!1!==c.defaultStyle&&((Xt=document.createElement("details")).title=h.CLICK_TO_VIEW_ACTIONS,m.append(Xt),Bn=Xt,(Zi=document.createElement("summary")).innerHTML=Eht,Xt.append(Zi),zt=cf=>{Xt.contains(cf.target)||Xt.removeAttribute("open")},document.addEventListener("click",zt)),mn=document.createElement("div"),Bn.append(mn),mn.classList.add("vega-actions"),!0===f||!1!==f.export)for(ar=function(){var tu=_t[kr];if(!0===f||!0===f.export||f.export[tu]){var Pu=h["".concat(tu.toUpperCase(),"_ACTION")],Wy=document.createElement("a");Wy.text=Pu,Wy.href="#",Wy.target="_blank",Wy.download="".concat(I,".").concat(tu),Wy.addEventListener("mousedown",function(){var BEt=JO(mp.mark(function g1e(jEt){return mp.wrap(function(fx){for(;;)switch(fx.prev=fx.next){case 0:return jEt.preventDefault(),fx.next=3,le.toImageURL(tu,c.scaleFactor);case 3:this.href=fx.sent;case 5:case"end":return fx.stop()}},g1e,this)}));return function(g1e){return BEt.apply(this,arguments)}}()),mn.append(Wy)}},kr=0,_t=["svg","png"];kr<_t.length;kr++)ar();(!0===f||!1!==f.source)&&((pn=document.createElement("a")).text=h.SOURCE_ACTION,pn.href="#",pn.addEventListener("click",function(cf){var tu,Pu;IAe(J5()(n),null!==(tu=c.sourceHeader)&&void 0!==tu?tu:"",null!==(Pu=c.sourceFooter)&&void 0!==Pu?Pu:"",M),cf.preventDefault()}),mn.append(pn)),"vega-lite"===M&&(!0===f||!1!==f.compiled)&&((Xn=document.createElement("a")).text=h.COMPILED_ACTION,Xn.href="#",Xn.addEventListener("click",function(cf){var tu,Pu;IAe(J5()(V),null!==(tu=c.sourceHeader)&&void 0!==tu?tu:"",null!==(Pu=c.sourceFooter)&&void 0!==Pu?Pu:"","vega"),cf.preventDefault()}),mn.append(Xn)),(!0===f||!1!==f.editor)&&(Ko=null!==(Qe=c.editorUrl)&&void 0!==Qe?Qe:"https://vega.github.io/editor/",(Li=document.createElement("a")).text=h.EDITOR_ACTION,Li.href="#",Li.addEventListener("click",function(cf){mht(window,Ko,{config:d,mode:M,renderer:C,spec:J5()(n)}),cf.preventDefault()}),mn.append(Li))}return Sh.abrupt("return",{view:le,spec:n,vgSpec:V,finalize:Mo});case 38:case"end":return Sh.stop()}},e)}))).apply(this,arguments)}class bAe{}class _Ae{}class vh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let i=t[n];const r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(n,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof vh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new vh;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof vh?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Oht{encodeKey(t){return wAe(t)}encodeValue(t){return wAe(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Rht=/%(\d[a-f0-9])/gi,Fht={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function wAe(e){return encodeURIComponent(e).replace(Rht,(t,n)=>{var i;return null!==(i=Fht[n])&&void 0!==i?i:t})}function EAe(e){return`${e}`}class bp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Oht,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n];this.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new bp({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(EAe(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(EAe(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Pht{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function xAe(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function DAe(e){return"undefined"!=typeof Blob&&e instanceof Blob}function SAe(e){return"undefined"!=typeof FormData&&e instanceof FormData}class xE{constructor(t,n,i,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new vh),this.context||(this.context=new Pht),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new bp,this.urlWithParams=n}serializeBody(){return null===this.body?null:xAe(this.body)||DAe(this.body)||SAe(this.body)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||SAe(this.body)?null:DAe(this.body)?this.body.type||null:xAe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var n;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const g=null!==(n=t.context)&&void 0!==n?n:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),c)),new xE(i,r,s,{params:c,headers:u,context:g,reportProgress:l,responseType:o,withCredentials:a})}}var Yo=(()=>((Yo=Yo||{})[Yo.Sent=0]="Sent",Yo[Yo.UploadProgress=1]="UploadProgress",Yo[Yo.ResponseHeader=2]="ResponseHeader",Yo[Yo.DownloadProgress=3]="DownloadProgress",Yo[Yo.Response=4]="Response",Yo[Yo.User=5]="User",Yo))();class Mz{constructor(t,n=200,i="OK"){this.headers=t.headers||new vh,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rz extends Mz{constructor(t={}){super(t),this.type=Yo.ResponseHeader}clone(t={}){return new Rz({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class lM extends Mz{constructor(t={}){super(t),this.type=Yo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class TAe extends Mz{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Fz(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Iy=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof xE)o=n;else{let l,u;l=r.headers instanceof vh?r.headers:new vh(r.headers),r.params&&(u=r.params instanceof bp?r.params:new bp({fromObject:r.params})),o=new xE(n,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Fn(o).pipe(b0(l=>this.handler.handle(l)));if(n instanceof xE||"events"===r.observe)return s;const a=s.pipe(Uo(l=>l instanceof lM));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(wn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(wn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(wn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(wn(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new bp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Fz(r,i))}post(n,i,r={}){return this.request("POST",n,Fz(r,i))}put(n,i,r={}){return this.request("PUT",n,Fz(r,i))}}return e.\u0275fac=function(n){return new(n||e)(ke(bAe))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class kAe{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const NAe=new ti("HTTP_INTERCEPTORS");let jht=(()=>{class e{intercept(n,i){return i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const Vht=/^\)\]\}',?\n/;let OAe=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tn(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((f,h)=>r.setRequestHeader(f,h.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=1223===r.status?204:r.status,h=r.statusText||"OK",C=new vh(r.getAllResponseHeaders()),p=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return s=new Rz({headers:C,status:f,statusText:h,url:p}),s},l=()=>{let{headers:f,status:h,statusText:C,url:p}=a(),I=null;204!==h&&(I=void 0===r.response?r.responseText:r.response),0===h&&(h=I?200:0);let m=h>=200&&h<300;if("json"===n.responseType&&"string"==typeof I){const y=I;I=I.replace(Vht,"");try{I=""!==I?JSON.parse(I):null}catch(_){I=y,m&&(m=!1,I={error:_,text:I})}}m?(i.next(new lM({body:I,headers:f,status:h,statusText:C,url:p||void 0})),i.complete()):i.error(new TAe({error:I,headers:f,status:h,statusText:C,url:p||void 0}))},u=f=>{const{url:h}=a(),C=new TAe({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:h||void 0});i.error(C)};let c=!1;const g=f=>{c||(i.next(a()),c=!0);let h={type:Yo.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(h.total=f.total),"text"===n.responseType&&!!r.responseText&&(h.partialText=r.responseText),i.next(h)},d=f=>{let h={type:Yo.UploadProgress,loaded:f.loaded};f.lengthComputable&&(h.total=f.total),i.next(h)};return r.addEventListener("load",l),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),n.reportProgress&&(r.addEventListener("progress",g),null!==o&&r.upload&&r.upload.addEventListener("progress",d)),r.send(o),i.next({type:Yo.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",l),r.removeEventListener("timeout",u),n.reportProgress&&(r.removeEventListener("progress",g),null!==o&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(ke(bK))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const Pz=new ti("XSRF_COOKIE_NAME"),Lz=new ti("XSRF_HEADER_NAME");class MAe{}let Hht=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hK(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi),ke(e1),ke(Pz))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),Bz=(()=>{class e{constructor(n,i){this.tokenService=n,this.headerName=i}intercept(n,i){const r=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(n);const o=this.tokenService.getToken();return null!==o&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,o)})),i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ke(MAe),ke(Lz))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),Uht=(()=>{class e{constructor(n,i){this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=this.injector.get(NAe,[]);this.chain=i.reduceRight((r,o)=>new kAe(r,o),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ke(_Ae),ke(Di))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),Ght=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Bz,useClass:jht}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:Pz,useValue:n.cookieName}:[],n.headerName?{provide:Lz,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:[Bz,{provide:NAe,useExisting:Bz,multi:!0},{provide:MAe,useClass:Hht},{provide:Pz,useValue:"XSRF-TOKEN"},{provide:Lz,useValue:"X-XSRF-TOKEN"}]}),e})(),Wht=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:[Iy,{provide:bAe,useClass:Uht},OAe,{provide:_Ae,useExisting:OAe}],imports:[[Ght.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),$ht=(()=>{class e{transform(n,i){return"string"==typeof n?n:Number.isNaN(n)?null:n<1e3?n:(r=Math.floor(Math.log(n)/Math.log(1e3)),(n/Math.pow(1e3,r)).toFixed(i)+["k","M","B","T","P","E"][r-1]);var r}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ie({name:"bigNumSuff",type:e,pure:!0}),e})();function Yht(e,t){if(1&e&&(S(0,"span"),me(1),T()),2&e){const n=st();Me(1),jo("in "+n.report_params.year)}}function qht(e,t){1&e&&(S(0,"span"),me(1),T()),2&e&&(Me(1),jo(" for the most recent years"))}let Zht=(()=>{class e{constructor(n,i){this.http=n,this.route=i,this.total_market_cap="unknown",this.total_employees="Unknown",this.number_of_suppliers="Unknown",this.workers_in_supply_chain="Unknown"}ngOnInit(){this.report_params={year:this.route.snapshot.params.year},this.paramsSubscription=this.route.params.subscribe(i=>{this.report_params.year=i.year,this.http.get("https://wikirate.org/Core+Market_Cap+Answer.json?filter[not_ids]=&filter[year]="+this.report_params.year+"&filter[company_group][]=Apparel%20100%20Companies&limit=0&view=answer_list").subscribe(a=>{this.total_market_cap=this.getSum(a),this.updateChart(a)}),this.http.get("https://wikirate.org/Commons+Employee+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&filter[company_group][]=Apparel%20100%20Companies&limit=0&view=answer_list").subscribe(a=>{this.total_employees=this.getSum(a)}),this.http.get("https://wikirate.org/Commons+Supplied_By+Answers.json?filter[not_ids]=&filter[company_name]=&filter[company_group][]=Apparel%20100%20Companies&filter[year]="+this.report_params.year+"&limit=100&view=answer_list").subscribe(a=>{this.number_of_suppliers=this.getSum(a)})}),this.http.get("https://wikirate.org/Clean_Clothes_Campaign+Number_of_Workers+Answers.json?filter[not_ids]=&filter[company_name]=&filter[company_group][]=Supplier of Apparel 100&view=answer_list").subscribe(i=>{this.workers_in_supply_chain=this.getSum(i)})}ngAfterViewInit(){}ngOnDestroy(){this.paramsSubscription.unsubscribe()}updateChart(n){Ay("div#vis",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"Market Cap of Apparel Top 100 Companies",width:900,height:560,padding:{top:25,left:0,right:0,bottom:0},autosize:"none",signals:[{name:"type",value:"equalEarth"},{name:"rotate0",value:-15},{name:"rotate1",value:0},{name:"rotate2",value:0},{name:"center0",value:0},{name:"center1",value:0},{name:"translate0",update:"width / 2"},{name:"translate1",update:"height / 2"},{name:"borderWidth",value:1},{name:"hover",value:null,on:[{events:"@circles:mouseover",update:"datum"},{events:"@circles:mouseout",update:"null"}]},{name:"title",value:"Market Cap of Apparel Top 100 Companies",update:"hover ? hover.name + ' (' + hover.market_cap_text + ')' : 'Market Cap of Apparel Top 100 Companies'"},{name:"cell_stroke",value:null,on:[{events:"dblclick",update:"cell_stroke ? null : 'brown'"},{events:"mousedown!",update:"cell_stroke"}]},{name:"tx",update:"width / 2"},{name:"ty",update:"height / 2"}],data:[{name:"world",url:"assets/world-110m.json",format:{type:"topojson",feature:"countries"},transform:[{type:"geopath",projection:"projection"}]},{name:"market_cap",values:n,format:{type:"json",parse:{value:"number"}}},{name:"apparel_top_100_geo",values:[{company:"Puma",lat:49.5755269,lng:10.8714149},{company:"H&M",lat:59.3317973,lng:18.0583112},{company:"Gap inc.",lat:37.79081085,lng:-122.3909804},{company:"Marks and Spencer Group plc",lat:51.51865225,lng:-.175000995},{company:"Asos",lat:51.5333888,lng:-.139905636},{company:"Nike Inc.",lat:45.507191,lng:-122.827393},{company:"Adidas AG",lat:49.58253265,lng:10.91048856},{company:"Louis Vuitton Malletier SA (LVMH)",lat:48.8586162,lng:2.3429393},{company:"Burberry Group plc",lat:51.49437555,lng:-.126392473},{company:"Guess? Inc",lat:34.02410214,lng:-118.2391726},{company:"Zalando SE",lat:52.50655705,lng:13.44148723},{company:"Nordstrom",lat:47.614361,lng:-122.335852},{company:"Fossil Group, Inc.",lat:32.939486,lng:-96.745425},{company:"Inditex",lat:43.32307,lng:-8.49019},{company:"American Eagle Outfitters",lat:40.4282854,lng:-79.9606724},{company:"Hugo Boss AG",lat:48.54694115,lng:9.271591308},{company:"Urban Outfitters",lat:39.9046154,lng:-75.1739344},{company:"Skechers USA Inc",lat:33.88490024,lng:-118.4100629},{company:"Ralph Lauren Corporation",lat:40.7638797,lng:-73.97161599},{company:"Prada",lat:43.5463209,lng:11.5707173},{company:"Under Armour",lat:39.27516635,lng:-76.5903856},{company:"Tapestry Inc",lat:40.75274965,lng:-74.00152052},{company:"Columbia Sportswear",lat:45.52966955,lng:-122.8248874},{company:"Foot Locker Inc.",lat:40.7526738,lng:-73.9950505},{company:"Abercrombie & Fitch",lat:40.0904919,lng:-82.7755106},{company:"Macy's",lat:40.7509149,lng:-73.98933149},{company:"DSW Inc.",lat:39.98864,lng:-82.89824},{company:"Esprit Holdings Limited",lat:22.2924077,lng:114.20294},{company:"Moncler",lat:45.4540887,lng:9.1588378},{company:"Asics Corporation",lat:34.6913,lng:135.183},{company:"Ross Stores",lat:37.7079277,lng:-121.8881302},{company:"Chico's FAS Inc",lat:28.75054,lng:-82.5001},{company:"Gildan Activewear Inc.",lat:45.504205,lng:-73.571125},{company:"Boohoo.com",lat:53.480813,lng:-2.2326412},{company:"Anta Sports Products",lat:24.66745455,lng:118.5540534},{company:"Gerry Weber",lat:52.0603355,lng:8.3615619},{company:"Brunello Cucinelli",lat:43.0830538,lng:12.277156},{company:"Next",lat:52.6071351,lng:-1.2418189},{company:"Salvatore Ferragamo SpA",lat:43.7722809,lng:11.2513491},{company:"Express Inc",lat:40.001342,lng:-83.094886},{company:"Tiffany & Co.",lat:42.7158328,lng:-73.7079487},{company:"Hermes International",lat:48.8688993,lng:2.3217376},{company:"Hudson's Bay Company",lat:43.7823924,lng:-79.7718789},{company:"United Arrows",lat:35.706766,lng:139.7616265},{company:"Canada Goose",lat:43.6954839,lng:-79.46397981},{company:"Bosideng International Holdings Limited",lat:31.2322758,lng:121.4692071},{company:"Metersbonwe",lat:31.2322758,lng:121.4692071},{company:"Dick's Sporting Goods",lat:40.465624,lng:-80.205892},{company:"Capri Holdings Ltd (formerly Michael Kors)",lat:51.51414,lng:-.11828},{company:"Buckle Inc",lat:40.699424,lng:-99.105033},{company:"TOD'S",lat:43.2627,lng:13.7203},{company:"Dillard's, Inc.",lat:34.753373,lng:-92.287569},{company:"Li-Ning",lat:39.812904,lng:116.547259},{company:"Children's Place Inc",lat:40.78885,lng:-74.056035},{company:"Steve Madden",lat:40.75017166,lng:-73.91508484},{company:"lululemon athletica",lat:49.272004,lng:-123.147121},{company:"PVH",lat:40.74969101,lng:-73.98155975},{company:"Ted Baker",lat:51.537667,lng:-.132265},{company:"Fast Retailing",lat:34.0372,lng:131.3577},{company:"JD Sports Fashion plc",lat:53.573908,lng:-2.278928},{company:"Burlington Stores Inc",lat:40.094145,lng:-74.812232},{company:"Sports Direct",lat:53.2063042,lng:-1.2205319},{company:"Superdry plc",lat:51.9202605,lng:-2.0968209},{company:"VF",lat:39.751618,lng:-105.002998},{company:"Christian Dior",lat:48.8697044,lng:2.325038},{company:"Semir",lat:27.9963899,lng:120.695345},{company:"L Brands",lat:39.981797,lng:-83.033627},{company:"Deckers Outdoor Corporation",lat:34.4314978,lng:-119.8635551},{company:"Hanesbrands",lat:36.18900595,lng:-80.2640623},{company:"Carter's Inc",lat:33.848681,lng:-84.366387},{company:"TJX",lat:42.308755,lng:-71.382745},{company:"Oxford Industries Inc",lat:33.7811172,lng:-84.3837092},{company:"Cato Corp",lat:35.128699,lng:-80.87873},{company:"JC Penney",lat:33.0136764,lng:-96.6925096},{company:"G-III Apparel Group, LTD.",lat:40.6256945,lng:-73.9870861},{company:"Lojas Renner S.A.",lat:-30.0324999,lng:-51.2303767},{company:"Kering",lat:48.8464177,lng:2.3153025},{company:"Caleres Inc",lat:38.6526865,lng:-90.3477704},{company:"Genesco Inc.",lat:36.114742,lng:-86.693776},{company:"Ascena Retail Group Inc",lat:41.07202702,lng:-74.17060403},{company:"Wolverine World Wide",lat:43.13425389,lng:-85.54185089},{company:"Mulberry Group Plc",lat:51.50370825,lng:-.191581413},{company:"Luxottica Group SpA",lat:45.4673878,lng:9.1775777},{company:"Arvind Limited",lat:23.0583877,lng:72.6371753},{company:"Aditya Birla Fashion & Retail Ltd",lat:19.0652797,lng:72.8793805},{company:"Vipshop Holdings",lat:23.1025812,lng:113.2245207},{company:"Geox SpA",lat:45.7883555,lng:12.0476363},{company:"Alpargatas - Havaianas",lat:-23.5506507,lng:-46.6333824},{company:"Onward Holdings",lat:35.666255,lng:139.775565},{company:"Lao Feng Xiang Jewelry",lat:31.2322758,lng:121.4692071},{company:"Richemont",lat:46.2587,lng:6.1351},{company:"Cia Hering",lat:-7.33561,lng:-47.46218},{company:"Vera Bradley Inc.",lat:40.9570408,lng:-85.3015323},{company:"Boot Barn Holdings Inc.",lat:33.6596704,lng:-117.7380569},{company:"Swatch Group",lat:47.1354263,lng:7.234641},{company:"Francesca's",lat:29.83278726,lng:-95.51077112},{company:"Chow Tai Fook",lat:22.28365,lng:114.15494},{company:"Van de Velde",lat:51.01324,lng:3.9258203},{company:"YOOX NET-A-PORTER Group SpA",lat:45.4450409,lng:9.1514221},{company:"Grendene",lat:-3.68611,lng:-40.34972}]},{name:"apparel_top_100_companies",url:"https://wikirate.org/Company+browse_company_filter.json?filter[company_group][]=Apparel%20100%20Companies&limit=0",format:{type:"json",property:"items"},transform:[{type:"lookup",from:"market_cap",key:"company",fields:["id"],values:["value"],as:["market_cap"],default:0},{type:"lookup",from:"apparel_top_100_geo",key:"company",fields:["name"],values:["lat","lng"],as:["lat","lng"],default:0},{type:"geopoint",projection:"projection",fields:["lng","lat"]},{type:"formula",as:"market_cap_text",expr:"replace(format(datum.market_cap,'$,.4s'), 'G', 'B')"}]},{name:"graticule",transform:[{type:"graticule",step:[15,15]}]}],projections:[{name:"projection",type:"mercator"}],scales:[{name:"size",domain:{data:"apparel_top_100_companies",field:"market_cap"},zero:!1,range:[30,500]},{name:"color",type:"linear",nice:!0,domain:{data:"apparel_top_100_companies",field:"market_cap"},range:["#fef1eb","#F7733D"]}],marks:[{type:"shape",from:{data:"graticule"},encode:{update:{strokeWidth:{value:1},fill:{value:null}}},transform:[{type:"geoshape",projection:"projection"}]},{type:"shape",from:{data:"world"},encode:{update:{fill:{value:"#1D1E3F"},stroke:{value:"rgba(247,247,248, 0.8)"},strokeWidth:{signal:"+borderWidth"},zindex:{value:0}}},transform:[{type:"geoshape",projection:"projection"}]},{name:"circles",type:"symbol",from:{data:"apparel_top_100_companies"},encode:{enter:{x:{field:"x"},y:{field:"y"},size:{scale:"size",field:"market_cap"},fillOpacity:{value:1},stroke:{value:"white"},strokeWidth:{value:.5},tooltip:{signal:"{'title': datum.name,'Headquarters': datum.headquarters, 'Market Cap': datum.market_cap_text}"}},update:{fill:{scale:"color",field:"market_cap"},stroke:{value:"#171832"}},hover:{fill:{value:"#912E06"},stroke:{value:"#171832"}}},transform:[{type:"force",static:!0,forces:[{force:"collide",radius:{expr:"1 + sqrt(datum.size) / 2"}},{force:"x",x:"datum.x"},{force:"y",y:"datum.y"}]}]},{type:"text",interactive:!1,encode:{enter:{x:{value:895},y:{value:550},fill:{value:"#F7F7F8"},fontSize:{value:12},align:{value:"right"}},update:{text:{signal:"title"}}}}],legends:[{fill:"color",orient:"bottom-left",title:"Market Cap (in USD$)",labelColor:"#F7F7F8",titleColor:"#F7F7F8"}]}).then(i=>console.log(i)).catch(console.warn)}getSum(n){let i=0;for(var r=0;r<n.length;r++)"Unknown"!==n[r].value&&(i+=Number(n[r].value));return 0==i&&(this.workers_in_supply_chain="Unknown"),i}}return e.\u0275fac=function(n){return new(n||e)($(Iy),$(Au))},e.\u0275cmp=w({type:e,selectors:[["app-market-cap-map"]],decls:57,vars:26,consts:[[1,"wikirate-navy-box"],[1,"wikirate-container"],[1,"row"],[1,"map-title","cols-1","text-white"],[1,"row","justify-content-center","mt-4","mb-2"],["id","vis"],[1,"wikirate-box"],[1,"wikirate-container","align-content-center"],[1,"row","justify-content-md-center"],[1,"mini-title","mb-2","col-8"],[1,"mini-text","col-8"],[4,"ngIf"],[1,"row","align-content-center"],[1,"primary-info","mt-5","col-md","text-center"],[1,"secondary-info","mt-1","col-md"],[1,"explore","mt-1","col-md"],["target","_blank",3,"href"],[1,"bi","bi-arrow-right","ml-1"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),me(4," Discover who the Top 100 apparel companies are by market cap "),T(),T(),S(5,"div",4),je(6,"div",5),T(),T(),T(),S(7,"div",6),S(8,"div",7),S(9,"div",8),S(10,"div",9),me(11,"The largest apparel companies are huge and growing."),T(),S(12,"div",10),me(13),Rf(14,"bigNumSuff"),et(15,Yht,2,1,"span",11),et(16,qht,2,1,"span",11),me(17,", which is more than half of the global fashion industry \u2013 this group has tremendous potential for negative and positive impact. This potential creates a responsibility for the top 100 to share more information. Explore the top 100\u2019s growth by filtering the year in the menu bar: "),T(),T(),S(18,"div",12),S(19,"div",13),me(20),Rf(21,"bigNumSuff"),T(),S(22,"div",13),me(23),Rf(24,"bigNumSuff"),T(),S(25,"div",13),me(26),Rf(27,"bigNumSuff"),T(),S(28,"div",13),me(29),Rf(30,"bigNumSuff"),T(),T(),S(31,"div",12),S(32,"div",14),me(33,"Total Market Cap"),T(),S(34,"div",14),me(35,"Employees"),T(),S(36,"div",14),me(37,"Suppliers"),T(),S(38,"div",14),me(39," Employees in Supply Chain "),T(),T(),S(40,"div",12),S(41,"div",15),S(42,"a",16),me(43,"Explore More"),je(44,"i",17),T(),T(),S(45,"div",15),S(46,"a",16),me(47,"Explore More"),je(48,"i",17),T(),T(),S(49,"div",15),S(50,"a",16),me(51,"Explore More"),je(52,"i",17),T(),T(),S(53,"div",15),S(54,"a",16),me(55,"Explore More"),je(56,"i",17),T(),T(),T(),T(),T()),2&n&&(Me(13),Ya(" With a combined total market cap of over ",CA(14,11,i.total_market_cap,2)," USD$ "),Me(2),He("ngIf","latest"!==i.report_params.year),Me(1),He("ngIf","latest"===i.report_params.year),Me(4),Ya(" USD$ ",CA(21,14,i.total_market_cap,1),"+ "),Me(3),Ya("",CA(24,17,i.total_employees,2),"+"),Me(3),Ya("",CA(27,20,i.number_of_suppliers,2),"+"),Me(3),Ya("",CA(30,23,i.workers_in_supply_chain,2),"+"),Me(13),Yh("href","https://wikirate.org/Apparel_100_Analysis?filter%5Bnot_ids%5D=&filter%5Bcompany_name%5D=&filter%5Bmetric_name%5D=Market%20Cap&filter%5Byear%5D=",i.report_params.year,"",Ju),Me(4),Yh("href","https://wikirate.org/Apparel_100_Analysis?filter%5Bnot_ids%5D=&filter%5Bcompany_name%5D=&filter%5Bmetric_name%5D=Employees&filter%5Byear%5D=",i.report_params.year,"",Ju),Me(4),Yh("href","https://wikirate.org/Apparel_100_Analysis?filter%5Bnot_ids%5D=&filter%5Bcompany_name%5D=&filter%5Bmetric_name%5D=Supplied%20by&filter%5Byear%5D=",i.report_params.year,"",Ju),Me(4),Yh("href","https://wikirate.org/Clean_Clothes_Campaign+Number_of_Workers?filter%5Bnot_ids%5D=&filter%5Bcompany_name%5D=&filter%5Bcompany_group%5D%5B%5D=Supplier%20of%20Apparel%20100&filter%5Byear%5D=",i.report_params.year,"",Ju))},directives:[Ho],pipes:[$ht],styles:["#vis[_ngcontent-%COMP%]{width:900px;height:600px}.explore[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:bold;font-size:14px;line-height:16px;letter-spacing:.3px;color:#747485;text-transform:uppercase;text-align:center}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}"]}),e})();const Kht=["radarChartContainer"];function Xht(e,t){1&e&&(S(0,"div",21),je(1,"img",22),S(2,"p",23),me(3,"You explored unresearched areas"),T(),T())}let Qht=(()=>{class e{constructor(n,i,r,o){this.http=n,this.route=i,this.apparelService=r,this.renderer=o,this.environmental_disclosure_rate=0,this.social_disclosure_rate=0,this.governance_disclosure_rate=0,this.nodata=!0}ngOnInit(){this.report_params={year:this.route.snapshot.params.year,id:this.route.snapshot.params.id},this.paramsSubscription=this.route.params.subscribe(n=>{this.report_params.year=n.year,this.report_params.id=n.id,this.createBarChart(),null!=this.radarChart&&this.renderer.removeChild(this.radarChartContainer.nativeElement,this.radarChart),this.nodata=!0,0!=this.report_params.id?this.http.get("https://wikirate.org/Apparel_Research_Group+Environmental_Disclosure_Rate+~"+this.report_params.id+"+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&limit=0&view=answer_list").subscribe(i=>{i.length>0&&(this.environmental_disclosure_rate=i[0].value,this.http.get("https://wikirate.org/Apparel_Research_Group+Social_Disclosure_Rate+~"+this.report_params.id+"+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&limit=0&view=answer_list").subscribe(r=>{r.length>0&&(this.social_disclosure_rate=r[0].value,this.http.get("https://wikirate.org/Apparel_Research_Group+Governance_Disclosure_Rate+~"+this.report_params.id+"+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&limit=0&view=answer_list").subscribe(o=>{o.length>0&&(this.governance_disclosure_rate=o[0].value,this.nodata=!1,this.radarChart=this.renderer.createElement("div"),this.radarChart.id="esg-performance",this.radarChart.class="radar-chart-container m-2",this.renderer.appendChild(this.radarChartContainer.nativeElement,this.radarChart),this.createRadarChart("of "+this.apparelService.getCompany(+this.report_params.id).name))}))}))}):this.http.get("https://wikirate.org/Apparel_Research_Group+Environmental_Disclosure_Rate+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&limit=0&view=answer_list").subscribe(i=>{this.environmental_disclosure_rate=0;for(var r=0;r<i.length;r++)this.environmental_disclosure_rate+=+i[r].value;this.environmental_disclosure_rate=this.environmental_disclosure_rate/i.length,this.http.get("https://wikirate.org/Apparel_Research_Group+Social_Disclosure_Rate+Answer.json?filter[not_ids]=&filter[company_name]=&"+this.report_params.year+"&limit=0&view=answer_list").subscribe(o=>{this.social_disclosure_rate=0;for(var s=0;s<o.length;s++)this.social_disclosure_rate+=+o[s].value;this.social_disclosure_rate=this.social_disclosure_rate/o.length,this.http.get("https://wikirate.org/Apparel_Research_Group+Governance_Disclosure_Rate+Answer.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&limit=0&view=answer_list").subscribe(a=>{this.governance_disclosure_rate=0;for(var l=0;l<a.length;l++)this.governance_disclosure_rate+=+a[l].value;this.governance_disclosure_rate=this.governance_disclosure_rate/a.length,this.nodata=!1,this.radarChart=this.renderer.createElement("div"),this.radarChart.id="esg-performance",this.radarChart.class="m-2",this.renderer.appendChild(this.radarChartContainer.nativeElement,this.radarChart),this.createRadarChart("of Apparel Top 100 (avg Rating)")})})})})}createBarChart(){Ay("div#esg-overall-wikirating",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"ESG Disclosure Rate ",width:560,height:1400,padding:5,autosize:"fit",title:{text:["ESG Disclosure Rates ("+this.report_params.year+")"],subtitle:["What is the company's score on disclosure of","environmental, social and governance indicators?"],subtitleFontStyle:"italic",subtitlePadding:5,anchor:"start",frame:"group"},data:[{name:"companies",url:"https://wikirate.org/Company+browse_company_filter.json?filter[company_group][]=Apparel%20100%20Companies&limit=0",format:{type:"json",property:"items"}},{name:"suppplier_info",url:"https://wikirate.org/Apparel_Research_Group+ESG_Disclosure_Rate+Answers.json?filter[not_ids]=&filter[company_name]=&filter[year]="+this.report_params.year+"&filter[company_group][]=Apparel%20100%20Companies&view=answer_list&limit=0",format:{type:"json",parse:{value:"number"}},transform:[{type:"lookup",from:"companies",key:"id",fields:["company"],values:["name","headquarters"],as:["company_name","headquarters"],default:0},{type:"formula",as:"rate",expr:"format(datum.value,',.2f')"}]}],marks:[{type:"rect",from:{data:"suppplier_info"},encode:{update:{x:{scale:"x",value:0},x2:{scale:"x",field:"value"},y:{scale:"y",field:"company_name"},height:{scale:"y",band:1},tooltip:{signal:"{'Company':datum.company_name, 'Headquarters':datum.headquarters , 'ESG Disclosure Rate':datum.rate}"},fill:{scale:"color",field:"value"},cornerRadiusTopRight:{value:5},cornerRadiusBottomRight:{value:5}},hover:{fill:{value:"black"}}}}],scales:[{name:"x",type:"linear",domain:{data:"suppplier_info",field:"value"},range:"width",nice:!0},{name:"y",type:"band",domain:{data:"suppplier_info",field:"company_name",sort:{op:"max",field:"value",order:"descending"}},range:"height",padding:.1},{name:"color",type:"linear",nice:!0,domain:{data:"suppplier_info",field:"value"},range:["#dadbeb","#484C9D"]}],axes:[{scale:"x",orient:"bottom",format:",d",tickCount:5},{scale:"y",orient:"left"}]})}createRadarChart(n){Ay("div#esg-performance",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A radar chart example, showing multiple dimensions in a radial layout.",width:410,height:360,padding:40,autosize:{type:"none",contains:"padding"},title:{text:"ESG Disclosure Rate ("+this.report_params.year+")",anchor:"middle",fontSize:14,dy:-8,dx:{signal:"-width/4"},subtitle:n,color:"#F7F7F8",subtitleColor:"#F7F7F8"},signals:[{name:"radius",update:"width / 2.2"}],data:[{name:"table",values:[{key:["Environmental","Disclosure","Rate"],value:(Math.round(100*this.environmental_disclosure_rate)/100).toFixed(2),category:0},{key:["Social","Disclosure","Rate"],value:(Math.round(100*this.social_disclosure_rate)/100).toFixed(2),category:0},{key:["Governance","Disclosure","Rate"],value:(Math.round(100*this.governance_disclosure_rate)/100).toFixed(2),category:0}]},{name:"keys",source:"table",transform:[{type:"aggregate",groupby:["key"]}]}],scales:[{name:"angular",type:"point",range:[-3.14159,3.14159],padding:.5,domain:{data:"table",field:"key"}},{name:"radial",type:"linear",range:{signal:"[0, radius]"},zero:!0,nice:!1,domain:[0,10],domainMin:0},{name:"color",type:"ordinal",domain:{data:"table",field:"category"},range:["#F7733D","#F7733D"]}],encode:{enter:{x:{signal:"radius"},y:{signal:"radius"}}},marks:[{type:"group",name:"categories",zindex:1,from:{facet:{data:"table",name:"facet",groupby:["category"]}},marks:[{type:"line",name:"category-line",from:{data:"facet"},encode:{enter:{interpolate:{value:"linear-closed"},x:{signal:"scale('radial', datum.value) * cos(scale('angular', datum.key))"},y:{signal:"scale('radial', datum.value) * sin(scale('angular', datum.key))"},stroke:{scale:"color",field:"category"},strokeWidth:{value:1},fill:{scale:"color",field:"category"},fillOpacity:{value:.2}}}},{type:"text",name:"value-text",from:{data:"category-line"},encode:{enter:{x:{signal:"datum.x + 14 * cos(scale('angular', datum.datum.key))"},y:{signal:"datum.y + 14 * sin(scale('angular', datum.datum.key))"},text:{signal:"datum.datum.value"},align:{value:"center"},baseline:{value:"middle"},fontWeight:{value:"bold"},fill:{value:"#F7F7F8"}}}}]},{type:"rule",name:"radial-grid",from:{data:"keys"},zindex:0,encode:{enter:{x:{value:0},y:{value:0},x2:{signal:"radius * cos(scale('angular', datum.key))"},y2:{signal:"radius * sin(scale('angular', datum.key))"},stroke:{value:"lightgray"},strokeWidth:{value:1}}}},{type:"text",name:"key-label",from:{data:"keys"},zindex:1,encode:{enter:{x:{signal:"(radius + 11) * cos(scale('angular', datum.key))"},y:{signal:"(radius - 5) * sin(scale('angular', datum.key))"},text:{field:"key"},align:[{test:"abs(scale('angular', datum.key)) > PI / 2",value:"right"},{value:"left"}],baseline:[{test:"scale('angular', datum.key) > 0",value:"top"},{test:"scale('angular', datum.key) == 0",value:"middle"},{value:"bottom"}],fill:{value:"#F7F7F8"},fontWeight:{value:"bold"}}}},{type:"line",name:"outer-line",from:{data:"radial-grid"},encode:{enter:{interpolate:{value:"linear-closed"},x:{field:"x2"},y:{field:"y2"},stroke:{value:"#F7F7F8"},strokeWidth:{value:1}}}}]})}}return e.\u0275fac=function(n){return new(n||e)($(Iy),$(Au),$(S0),$(Do))},e.\u0275cmp=w({type:e,selectors:[["app-esg-performance"]],viewQuery:function(n,i){if(1&n&&rc(Kht,5),2&n){let r;Mi(r=Ri())&&(i.radarChartContainer=r.first)}},decls:47,vars:1,consts:[[1,"wikirate-creme-tile-box"],[1,"wikirate-container","align-content-center"],[1,"row","justify-content-md-center"],[1,"mini-title","mb-2","col-8"],[1,"mini-text","col-8"],[1,"wikirate-box"],[1,"wikirate-container"],[1,"row"],[1,"col-md"],[1,"bar-chart-container"],["id","esg-overall-wikirating",1,"m-2"],[1,"col-md","vertical-center"],[1,"content-container"],[1,"showcase-title"],[1,"showcase-main-text","mt-2"],["onclick","window.open('https://wikirate.org/Apparel_100_Analysis','_blank')",1,"btn","btn-showcase","m-1"],[1,"wikirate-navy-box"],[1,"showcase-title","text-white"],[1,"showcase-main-text","mt-2","showcase-main-text-white"],["radarChartContainer",""],["id","no_data","class","text-center",4,"ngIf"],["id","no_data",1,"text-center"],["src","assets/moon-light.svg","width","60px",1,"mb-1"],[1,"mt-3","showcase-main-text","text-white"]],template:function(n,i){1&n&&(S(0,"div",0),je(1,"hr"),S(2,"div",1),S(3,"div",2),S(4,"div",3),me(5,"How much ESG data are they sharing? "),T(),S(6,"div",4),S(7,"p"),me(8,"We\u2019ve analyzed the top 100\u2019s ESG reporting and scored each company on how much information they share. "),T(),T(),T(),T(),je(9,"hr"),T(),S(10,"div",5),S(11,"div",6),S(12,"div",7),S(13,"div",8),S(14,"div",9),je(15,"div",10),T(),T(),S(16,"div",11),S(17,"div",12),S(18,"div",13),me(19," Apparel companies need to share more ESG data "),T(),S(20,"div",14),S(21,"p"),me(22,"On average the top 100 Apparel companies share "),S(23,"b"),me(24,"less than half"),T(),me(25," of the key environmental, social and governance indicators. "),T(),S(26,"p"),me(27,"Nearly a third of the top 100 don\u2019t publish a recent report with sustainability information and only half share information about their GHG emissions for example. "),T(),S(28,"p"),me(29," While company transparency is increasing, we need to see stronger follow-up reporting of their commitments. "),T(),S(30,"button",15),me(31,"Explore Dataset "),T(),T(),T(),T(),T(),T(),T(),S(32,"div",16),je(33,"hr"),S(34,"div",6),S(35,"div",7),S(36,"div",11),S(37,"div",12),S(38,"div",17),me(39," Explore ESG data disclosure rates "),T(),S(40,"div",18),S(41,"p"),me(42,"Discover a company's environmental, social and governance disclosure rate scores for different years using the filter."),T(),T(),T(),T(),S(43,"div",8),S(44,"div",null,19),et(46,Xht,4,0,"div",20),T(),T(),T(),T(),T()),2&n&&(Me(46),He("ngIf",i.nodata))},directives:[Ho],styles:[".bar-chart-container[_ngcontent-%COMP%]{width:650px;height:650px;overflow-y:auto;border-radius:5px}.radar-chart-container[_ngcontent-%COMP%]{width:470px;height:380px;border-radius:5px}"]}),e})(),Jht=(()=>{class e{constructor(){}ngOnInit(){this.createChart()}createChart(){Ay("div#line-chart",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"Apparel Top 100 Companies Reporting their Suppliers.",width:400,height:200,padding:5,signals:[{name:"interpolate",value:"cardinal"}],title:{text:"Apparel Top 100 Companies Reporting their Suppliers.",subtitle:["Number of Apparel Top 100 Companies making their list of suppliers publicly","available over the years."],subtitleFontStyle:"italic",subtitlePadding:5,frame:"bounds",anchor:"start",offset:12,zindex:0},data:[{name:"supplier_lists",url:"https://wikirate.org/Commons+Supplier_List_all+Answer.json?filter[not_ids]=&filter[company_name]=&filter[value][]=Yes&filter[company_group][]=Apparel%20100%20Companies&limit=0&view=answer_list",format:{type:"json",property:"items"},transform:[{type:"aggregate",groupby:["year"],fields:["company"],ops:["count"],as:["number_of_lists"]},{type:"filter",expr:"datum.year > 2016 && datum.year < 2021"}]}],scales:[{name:"x",type:"linear",range:"width",nice:!0,zero:!1,round:!0,domain:[2016,2021]},{name:"y",type:"linear",domain:[0,100],range:"height",nice:!0,zero:!1,round:!0},{name:"align",type:"ordinal",domain:["left","right","top","bottom"],range:["right","left","center","center"]},{name:"base",type:"ordinal",domain:["left","right","top","bottom"],range:["middle","middle","bottom","top"]},{name:"dx",type:"ordinal",domain:["left","right","top","bottom"],range:[-7,6,0,0]},{name:"dy",type:"ordinal",domain:["left","right","top","bottom"],range:[1,1,-5,8]}],axes:[{orient:"bottom",scale:"x",tickMinStep:1,format:""},{orient:"left",scale:"y",tickMinStep:2}],marks:[{type:"line",from:{data:"supplier_lists"},encode:{enter:{interpolate:{value:"linear"},x:{scale:"x",field:"year"},y:{scale:"y",field:"number_of_lists"},stroke:{value:"#000"},strokeWidth:{value:3}}}},{type:"symbol",from:{data:"supplier_lists"},encode:{enter:{x:{scale:"x",field:"year"},y:{scale:"y",field:"number_of_lists"},fill:{value:"#fff"},stroke:{value:"#000"},strokeWidth:{value:1},size:{value:60},tooltip:{signal:"{'Number of Companies': datum.number_of_lists, 'Year': datum.year}"}},update:{fill:{value:"#fff"},stroke:{value:"#000"}},hover:{fill:{value:"#000"},stroke:{value:"#fff"}}}}]})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["app-supplier-lists-on-wikirate"]],decls:22,vars:0,consts:[[1,"wikirate-creme-tile-box"],[1,"wikirate-container","align-content-center"],[1,"row","justify-content-md-center"],[1,"mini-title","mb-2","col-8"],[1,"mini-text","col-8"],[1,"wikirate-container"],[1,"row"],[1,"col-md"],[1,"wikirate","chart-container"],["id","line-chart",1,"m-2"],[1,"col-md","vertical-center"],[1,"content-container"],[1,"showcase-title"],[1,"showcase-main-text","mt-2"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),me(4,"A vital part of ESG data disclosures is Supply Chain Transparency "),T(),S(5,"div",4),je(6,"br"),S(7,"p"),me(8,"Sharing the name and exact location of suppliers may not sound transformational. But it is fundamental to creating better working conditions and preventing modern slavery."),T(),T(),T(),T(),je(9,"hr"),T(),S(10,"div",5),S(11,"div",6),S(12,"div",7),S(13,"div",8),je(14,"div",9),T(),T(),S(15,"div",10),S(16,"div",11),S(17,"div",12),me(18," The good news is more companies are reporting "),T(),S(19,"div",13),S(20,"p"),me(21,"In recent years, community pressure on big apparel companies to make their supply chains more transparent has seen some success. The number of the top apparel companies reporting their suppliers more than doubled from 10 to 23 between 2017 and 2020."),T(),T(),T(),T(),T(),T())},styles:[".chart-container[_ngcontent-%COMP%]{height:305px;width:500px;border-radius:5px}"]}),e})(),eCt=(()=>{class e{transform(n,i){return"string"==typeof n?n:Number.isNaN(n)?null:n<1e3?n:n.toString().slice(0,n.toString().length-3)+","+n.toString().slice(-3)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ie({name:"numFormat",type:e,pure:!0}),e})();function tCt(e,t){if(1&e&&(S(0,"span"),me(1),T()),2&e){const n=st();Me(1),jo("For "+n.report_params.year)}}function nCt(e,t){1&e&&(S(0,"span"),me(1),T()),2&e&&(Me(1),jo("For the most recent years"))}let iCt=(()=>{class e{constructor(n,i){this.http=n,this.route=i,this.number_of_reporting_companies="Unknown",this.unique_suppliers="Unknown"}ngOnInit(){this.updateChart(),this.report_params={year:this.route.snapshot.params.year},this.paramsSubscription=this.route.params.subscribe(n=>{this.report_params.year=n.year,this.http.get("https://wikirate.org/Commons+Supplied_By+Answer.json?filter[not_ids]=&filter[company_name]=&filter[company_group][]=Apparel%20100%20Companies&view=answer_list&limit=0&filter[year]="+this.report_params.year).subscribe(o=>{this.number_of_reporting_companies=0;for(var s=0;s<o.length;s++)"Unknown"!==o[s].value&&this.number_of_reporting_companies++}),this.http.get("https://wikirate.org/Commons+Supplier_of+Answer.json?filter[not_ids]=&filter[company_name]=&filter[company_group][]=Supplier%20of%20Apparel%20100&filter[year]="+this.report_params.year+"&view=answer_list&limit=0").subscribe(o=>{this.unique_suppliers=o.length})})}ngAfterViewInit(){}ngOnDestroy(){this.paramsSubscription.unsubscribe()}updateChart(){Ay("div#bar-chart",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"Number of Published Supplier Lists",width:550,height:410,padding:5,autosize:"fit",title:{text:{signal:"'Number of Published Supplier Lists'"},subtitle:"per company over the years (available on WikiRate)",subtitleFontStyle:"italic",subtitlePadding:5,anchor:"start",frame:"group",color:"#F7F7F8",subtitleColor:"#F7F7F8"},data:[{name:"companies",url:"https://wikirate.org/Company+browse_company_filter.json?filter[company_group][]=Apparel%20100%20Companies&limit=0",format:{type:"json",property:"items"}},{name:"published_supplier_lists",url:"https://wikirate.org/Commons+Supplier_List_all+Answers.json?filter[not_ids]=&filter[company_name]=&filter[value][]=Yes&filter[company_group][]=Apparel%20100%20Companies&view=answer_list&limit=0",transform:[{type:"lookup",from:"companies",key:"id",fields:["company"],values:["name","headquarters"],as:["company_name","headquarters"],default:0},{type:"aggregate",groupby:["company_name","headquarters"]}]}],marks:[{type:"rect",from:{data:"published_supplier_lists"},encode:{update:{x:{scale:"x",value:0},x2:{scale:"x",field:"count"},y:{scale:"y",field:"company_name"},height:{scale:"y",band:1},tooltip:{signal:"{'Company':datum.company_name, 'Headquarters':datum.headquarters , 'No. of Supplier Lists':datum.count}"},fill:{scale:"color",field:"count"},cornerRadiusTopRight:{value:5},cornerRadiusBottomRight:{value:5}},hover:{fill:{value:"#912E06"}}}}],scales:[{name:"x",type:"linear",domain:{data:"published_supplier_lists",field:"count"},range:"width",nice:!0},{name:"y",type:"band",domain:{data:"published_supplier_lists",field:"company_name",sort:{op:"max",field:"count",order:"descending"}},range:"height",padding:.1},{name:"color",type:"linear",nice:!0,domain:{data:"published_supplier_lists",field:"count"},range:["#fef1eb","#F7733D"]}],axes:[{scale:"x",orient:"bottom",format:",d",tickCount:5,tickColor:"#F7F7F8",labelColor:"#F7F7F8"},{scale:"y",orient:"left",tickColor:"#F7F7F8",labelColor:"#F7F7F8"}]})}}return e.\u0275fac=function(n){return new(n||e)($(Iy),$(Au))},e.\u0275cmp=w({type:e,selectors:[["app-number-of-suppliers-per-company"]],decls:20,vars:7,consts:[[1,"wikirate-navy-box"],[1,"wikirate-container"],[1,"row"],[1,"col-md","vertical-center"],[1,"content-container"],[1,"showcase-title","text-white"],[1,"mt-2","showcase-main-text-white"],[4,"ngIf"],["onclick","window.open('https://wikirate.org/Apparel_100_Analysis','_blank')",1,"btn","btn-highlight","m-1"],[1,"col-md"],[1,"wikirate-box","chart-container"],["id","bar-chart",1,"m-2"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),S(4,"div",4),S(5,"div",5),me(6," But our findings show we need to strengthen transparency. "),T(),S(7,"div",6),S(8,"p"),et(9,tCt,2,1,"span",7),et(10,nCt,2,1,"span",7),me(11),Rf(12,"numFormat"),T(),S(13,"p"),me(14,"Explore the most sourced from countries below, and go to WikiRate to see the top 100 apparel suppliers. "),T(),S(15,"button",8),me(16,"Explore the Analysis"),T(),T(),T(),T(),S(17,"div",9),S(18,"div",10),je(19,"div",11),T(),T(),T(),T(),T()),2&n&&(Me(9),He("ngIf","latest"!==i.report_params.year),Me(1),He("ngIf","latest"===i.report_params.year),Me(1),eP(" WikiRate's researchers managed to retrieve the supplier lists of ",i.number_of_reporting_companies," companies out of the top 100 companies, unveiling interesting patterns. In total, these ",i.number_of_reporting_companies," companies were supplied by ",wP(12,5,i.unique_suppliers)," different suppliers."))},directives:[Ho],pipes:[eCt],styles:[".chart-container[_ngcontent-%COMP%]{height:450px;width:615px;border-radius:5px}"]}),e})();const rCt=["map"];function oCt(e,t){if(1&e&&(S(0,"span"),me(1),T()),2&e){const n=st();Me(1),jo("in "+n.report_params.year)}}function sCt(e,t){1&e&&(S(0,"span"),me(1),T()),2&e&&(Me(1),jo(" based on the most recent available data"))}function aCt(e,t){1&e&&(S(0,"div",8),je(1,"img",9),S(2,"p",10),me(3,"You explored unresearched areas"),T(),T())}let lCt=(()=>{class e{constructor(n,i,r,o){this.http=n,this.route=i,this.apparelService=r,this.renderer=o,this.title="were the Apparel Top 100",this.suppliers=[]}ngOnInit(){this.report_params={year:this.route.snapshot.params.year,id:this.route.snapshot.params.id},this.paramsSubscription=this.route.params.subscribe(n=>{this.report_params.year=n.year,this.report_params.id=n.id;let i=this.apparelService.getCompany(+this.report_params.id);0!=i.id&&(this.title="was "+i.name),this.updateChart(this.report_params.year,i)})}ngAfterViewInit(){}ngOnDestroy(){this.paramsSubscription.unsubscribe()}updateChart(n,i){let r="https://wikirate.org/Commons+Supplied_By+RelationshipAnswer/answer_list.json?filter[company_group]=Apparel%20100%20Companies&filter[year]="+n;0!=i.id&&(r="https://wikirate.org/Commons+Supplied_By+RelationshipAnswer/answer_list.json?filter[company_id]="+i.id+"&filter[year]="+n),this.suppliers=[],null!=this.suppliers_map&&this.renderer.removeChild(this.mapElement.nativeElement,this.suppliers_map),this.http.get(r).subscribe(o=>{this.suppliers=o,this.suppliers.length>0&&(this.suppliers_map=this.renderer.createElement("div"),this.suppliers_map.id="supplier-map",this.renderer.appendChild(this.mapElement.nativeElement,this.suppliers_map),Ay("div#supplier-map",{$schema:"https://vega.github.io/schema/vega/v5.json",description:"Number of Apparel Top 100 Suppliers per Country",width:900,height:560,padding:{top:25,left:0,right:0,bottom:0},autosize:"none",signals:[{name:"type",value:"equalEarth"},{name:"scale",value:200},{name:"rotate0",value:-15},{name:"rotate1",value:0},{name:"rotate2",value:0},{name:"center0",value:0},{name:"center1",value:0},{name:"translate0",update:"width / 2"},{name:"translate1",update:"height / 2"},{name:"borderWidth",value:2},{name:"hover",value:null,on:[{events:"@circles:mouseover",update:"datum"},{events:"@circles:mouseout",update:"null"}]},{name:"title",value:"Number of Apparel Top 100 Suppliers per Country",update:"hover ? hover.country + ' (' + hover.companies + ')' : 'Number of Apparel Top 100 Suppliers per Country'"},{name:"cell_stroke",value:null,on:[{events:"dblclick",update:"cell_stroke ? null : 'brown'"},{events:"mousedown!",update:"cell_stroke"}]}],data:[{name:"world",url:"assets/world-110m.json",format:{type:"topojson",feature:"countries"},transform:[{type:"geopath",projection:"projection"}]},{name:"suppliers_country",url:"https://wikirate.org/Core+Country+Answer.json?filter[not_ids]=&filter[company_name]=&filter[company_group][]=Supplier%20of%20Apparel%20100&view=answer_list&limit=0",format:{type:"json",parse:"auto"}},{name:"suppliers",values:this.suppliers,transform:[{type:"lookup",from:"suppliers_country",key:"company",fields:["object_company"],values:["value"],as:["country"]}]},{name:"wikirate_countries",values:[{code:"AD",name:"Andorra",card_id:2917786},{code:"AE",name:"United Arab Emirates",card_id:169529},{code:"AF",name:"Afghanistan",card_id:2917789},{code:"AG",name:"Antigua and Barbuda",card_id:2917790},{code:"AI",name:"Anguilla",card_id:2917791},{code:"AL",name:"Albania",card_id:2917792},{code:"AM",name:"Armenia",card_id:2917793},{code:"AO",name:"Angola",card_id:2917794},{code:"AQ",name:"Antarctica",card_id:2917795},{code:"AR",name:"Argentina",card_id:14400},{code:"AS",name:"American Samoa",card_id:2917796},{code:"AT",name:"Austria",card_id:17233},{code:"AU",name:"Australia",card_id:14405},{code:"AW",name:"Aruba",card_id:2917797},{code:"AX",name:"\xc5land Islands",card_id:2917798},{code:"AZ",name:"Azerbaijan",card_id:2917799},{code:"BA",name:"Bosnia and Herzegovina",card_id:2917800},{code:"BB",name:"Barbados",card_id:2917801},{code:"BD",name:"Bangladesh",card_id:14386},{code:"BE",name:"Belgium",card_id:19867},{code:"BF",name:"Burkina Faso",card_id:14408},{code:"BG",name:"Bulgaria",card_id:13973},{code:"BH",name:"Bahrain",card_id:2917802},{code:"BI",name:"Burundi",card_id:2917803},{code:"BJ",name:"Benin",card_id:2917804},{code:"BL",name:"Saint Barth\xe9lemy",card_id:2917805},{code:"BM",name:"Bermuda",card_id:2917806},{code:"BN",name:"Brunei Darussalam",card_id:2917807},{code:"BO",name:"Bolivia",card_id:2917808},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba",card_id:2917809},{code:"BR",name:"Brazil",card_id:12379},{code:"BS",name:"Bahamas",card_id:2917810},{code:"BT",name:"Bhutan",card_id:2917811},{code:"BV",name:"Bouvet Island",card_id:2917812},{code:"BW",name:"Botswana",card_id:2917813},{code:"BY",name:"Belarus",card_id:2917814},{code:"BZ",name:"Belize",card_id:2917815},{code:"CA",name:"Canada",card_id:14965},{code:"CC",name:"Cocos (Keeling) Islands",card_id:2917828},{code:"CD",name:"Democratic Republic of the Congo",card_id:2917829},{code:"CF",name:"Central African Republic",card_id:2917830},{code:"CG",name:"Congo",card_id:38190},{code:"CH",name:"Switzerland",card_id:15220},{code:"CI",name:"C\xf4te d'Ivoire",card_id:2917831},{code:"CK",name:"Cook Islands",card_id:2917832},{code:"CL",name:"Chile",card_id:14404},{code:"CM",name:"Cameroon",card_id:2917833},{code:"CN",name:"China",card_id:12378},{code:"CO",name:"Colombia",card_id:12320},{code:"CR",name:"Costa Rica",card_id:2917834},{code:"CU",name:"Cuba",card_id:19542},{code:"CV",name:"Cape Verde",card_id:2917835},{code:"CW",name:"Cura\xe7ao",card_id:2917836},{code:"CX",name:"Christmas Island",card_id:2917837},{code:"CY",name:"Cyprus",card_id:2917838},{code:"CZ",name:"Czech Republic",card_id:45425},{code:"DE",name:"Germany",card_id:15272},{code:"DJ",name:"Djibouti",card_id:2917839},{code:"DK",name:"Denmark",card_id:21425},{code:"DM",name:"Dominica",card_id:2917840},{code:"DO",name:"Dominican Republic",card_id:18543},{code:"DZ",name:"Algeria",card_id:2917841},{code:"EC",name:"Ecuador",card_id:2917842},{code:"EE",name:"Estonia",card_id:2917843},{code:"EG",name:"Egypt",card_id:2917844},{code:"EH",name:"Western Sahara",card_id:2917845},{code:"ER",name:"Eritrea",card_id:2917846},{code:"ES",name:"Spain",card_id:12333},{code:"ET",name:"Ethiopia",card_id:14424},{code:"FI",name:"Finland",card_id:2917847},{code:"FJ",name:"Fiji",card_id:2917848},{code:"FK",name:"Falkland Islands (Malvinas)",card_id:2917849},{code:"FM",name:"Micronesia, Federated States of",card_id:2917850},{code:"FO",name:"Faroe Islands",card_id:2917851},{code:"FR",name:"France",card_id:19365},{code:"GA",name:"Gabon",card_id:2917852},{code:"GB",name:"United Kingdom",card_id:14908},{code:"GD",name:"Grenada",card_id:2917853},{code:"GE",name:"Georgia",card_id:2917854},{code:"GF",name:"French Guiana",card_id:2917855},{code:"GG",name:"Guernsey",card_id:2917856},{code:"GH",name:"Ghana",card_id:18541},{code:"GI",name:"Gibraltar",card_id:2917857},{code:"GL",name:"Greenland",card_id:2917858},{code:"GM",name:"Gambia",card_id:2917859},{code:"GN",name:"Guinea",card_id:2917860},{code:"GP",name:"Guadeloupe",card_id:2917861},{code:"GQ",name:"Equatorial Guinea",card_id:2917862},{code:"GR",name:"Greece",card_id:34142},{code:"GS",name:"South Georgia and the South Sandwich Islands",card_id:2917863},{code:"GT",name:"Guatemala",card_id:2917864},{code:"GU",name:"Guam",card_id:2917865},{code:"GW",name:"Guinea-Bissau",card_id:2917866},{code:"GY",name:"Guyana",card_id:2917867},{code:"HK",name:"Hong Kong",card_id:2917868},{code:"HM",name:"Heard Island and McDonald Islands",card_id:2917869},{code:"HN",name:"Honduras",card_id:18094},{code:"HR",name:"Croatia",card_id:2917870},{code:"HT",name:"Haiti",card_id:2917871},{code:"HU",name:"Hungary",card_id:45424},{code:"ID",name:"Indonesia",card_id:14371},{code:"IE",name:"Ireland",card_id:14394},{code:"IL",name:"Israel",card_id:14701},{code:"IM",name:"Isle of Man",card_id:2917872},{code:"IN",name:"India",card_id:14389},{code:"IO",name:"British Indian Ocean Territory",card_id:2917873},{code:"IQ",name:"Iraq",card_id:3913},{code:"IR",name:"Iran",card_id:2917874},{code:"IS",name:"Iceland",card_id:2917875},{code:"IT",name:"Italy",card_id:16175},{code:"JE",name:"Jersey",card_id:2917876},{code:"JM",name:"Jamaica",card_id:2917877},{code:"JO",name:"Jordan",card_id:1812107},{code:"JP",name:"Japan",card_id:14387},{code:"KE",name:"Kenya",card_id:21392},{code:"KG",name:"Kyrgyzstan",card_id:2917878},{code:"KH",name:"Cambodia",card_id:13908},{code:"KI",name:"Kiribati",card_id:2917879},{code:"KM",name:"Comoros",card_id:2917880},{code:"KN",name:"Saint Kitts and Nevis",card_id:2917881},{code:"KP",name:"Korea, Democratic People's Republic of",card_id:2917882},{code:"KR",name:"Korea, Republic of",card_id:2917883},{code:"KW",name:"Kuwait",card_id:2917884},{code:"KY",name:"Cayman Islands",card_id:2917885},{code:"KZ",name:"Kazakhstan",card_id:2917886},{code:"LA",name:"Laos",card_id:2917887},{code:"LB",name:"Lebanon",card_id:2917888},{code:"LC",name:"Saint Lucia",card_id:2917889},{code:"LI",name:"Liechtenstein",card_id:2917890},{code:"LK",name:"Sri Lanka",card_id:2917891},{code:"LR",name:"Liberia",card_id:2917892},{code:"LS",name:"Lesotho",card_id:2917893},{code:"LT",name:"Lithuania",card_id:2917894},{code:"LU",name:"Luxembourg",card_id:20766},{code:"LV",name:"Latvia",card_id:2917895},{code:"LY",name:"Libya",card_id:2917896},{code:"MA",name:"Morocco",card_id:14426},{code:"MC",name:"Monaco",card_id:2917897},{code:"MD",name:"Moldova",card_id:2917898},{code:"ME",name:"Montenegro",card_id:2917899},{code:"MF",name:"Saint Martin (French part)",card_id:2917900},{code:"MG",name:"Madagascar",card_id:40709},{code:"MH",name:"Marshall Islands",card_id:2917901},{code:"MK",name:"North Macedonia",card_id:2917902},{code:"ML",name:"Mali",card_id:20033},{code:"MM",name:"Myanmar",card_id:2917903},{code:"MN",name:"Mongolia",card_id:2917904},{code:"MO",name:"Macao",card_id:2917905},{code:"MP",name:"Northern Mariana Islands",card_id:2917906},{code:"MQ",name:"Martinique",card_id:2917907},{code:"MR",name:"Mauritania",card_id:2917908},{code:"MS",name:"Montserrat",card_id:2917909},{code:"MT",name:"Malta",card_id:2917910},{code:"MU",name:"Mauritius",card_id:2917911},{code:"MV",name:"Maldives",card_id:2917912},{code:"MW",name:"Malawi",card_id:14410},{code:"MX",name:"Mexico",card_id:14403},{code:"MY",name:"Malaysia",card_id:16948},{code:"MZ",name:"Mozambique",card_id:2917913},{code:"NA",name:"Namibia",card_id:2917914},{code:"NC",name:"New Caledonia",card_id:2917915},{code:"NE",name:"Niger",card_id:2917916},{code:"NF",name:"Norfolk Island",card_id:2917917},{code:"NG",name:"Nigeria",card_id:14384},{code:"NI",name:"Nicaragua",card_id:2917918},{code:"NL",name:"Netherlands",card_id:2917919},{code:"NO",name:"Norway",card_id:2917920},{code:"NP",name:"Nepal",card_id:45091},{code:"NR",name:"Nauru",card_id:2917921},{code:"NU",name:"Niue",card_id:2917922},{code:"NZ",name:"New Zealand",card_id:2917923},{code:"OM",name:"Oman",card_id:2917924},{code:"PA",name:"Panama",card_id:2917925},{code:"PE",name:"Peru",card_id:16184},{code:"PF",name:"French Polynesia",card_id:2917926},{code:"PG",name:"Papua New Guinea",card_id:16949},{code:"PH",name:"Philippines",card_id:37238},{code:"PK",name:"Pakistan",card_id:36162},{code:"PL",name:"Poland",card_id:37189},{code:"PM",name:"Saint Pierre and Miquelon",card_id:2917927},{code:"PN",name:"Pitcairn",card_id:2917928},{code:"PR",name:"Puerto Rico",card_id:2917929},{code:"PS",name:"Palestinian Territory",card_id:2917930},{code:"PT",name:"Portugal",card_id:2917931},{code:"PW",name:"Palau",card_id:2917932},{code:"PY",name:"Paraguay",card_id:2917933},{code:"QA",name:"Qatar",card_id:168817},{code:"RE",name:"R\xe9union",card_id:2917934},{code:"RO",name:"Romania",card_id:13974},{code:"RS",name:"Serbia",card_id:2917935},{code:"RU",name:"Russia",card_id:35176},{code:"RW",name:"Rwanda",card_id:2917936},{code:"SA",name:"Saudi Arabia",card_id:43202},{code:"SB",name:"Solomon Islands",card_id:2917937},{code:"SC",name:"Seychelles",card_id:2917938},{code:"SD",name:"Sudan",card_id:14149},{code:"SE",name:"Sweden",card_id:43201},{code:"SG",name:"Singapore",card_id:2917939},{code:"SH",name:"Saint Helena, Ascension and Tristan da Cunha",card_id:2917940},{code:"SI",name:"Slovenia",card_id:20157},{code:"SJ",name:"Svalbard and Jan Mayen",card_id:2917941},{code:"SK",name:"Slovakia",card_id:2917942},{code:"SL",name:"Sierra Leone",card_id:2917943},{code:"SM",name:"San Marino",card_id:2917944},{code:"SN",name:"Senegal",card_id:15492},{code:"SO",name:"Somalia",card_id:2917945},{code:"SR",name:"Suriname",card_id:2917946},{code:"SS",name:"South Sudan",card_id:2917947},{code:"ST",name:"Sao Tome and Principe",card_id:2917948},{code:"SV",name:"El Salvador",card_id:33639},{code:"SX",name:"Sint Maarten (Dutch part)",card_id:2917949},{code:"SY",name:"Syrian Arab Republic",card_id:2917950},{code:"SZ",name:"Swaziland",card_id:2917951},{code:"TC",name:"Turks and Caicos Islands",card_id:2917952},{code:"TD",name:"Chad",card_id:2917953},{code:"TF",name:"French Southern Territories",card_id:2917954},{code:"TG",name:"Togo",card_id:2917955},{code:"TH",name:"Thailand",card_id:14214},{code:"TJ",name:"Tajikistan",card_id:2917956},{code:"TK",name:"Tokelau",card_id:2917957},{code:"TL",name:"Timor-Leste",card_id:2917958},{code:"TM",name:"Turkmenistan",card_id:2917959},{code:"TN",name:"Tunisia",card_id:2917960},{code:"TO",name:"Tonga",card_id:2917961},{code:"TR",name:"Turkey",card_id:13972},{code:"TT",name:"Trinidad and Tobago",card_id:2917962},{code:"TV",name:"Tuvalu",card_id:2917963},{code:"TW",name:"Taiwan, Province of China",card_id:2917964},{code:"TZ",name:"Tanzania",card_id:16808},{code:"UA",name:"Ukraine",card_id:2917965},{code:"UG",name:"Uganda",card_id:40396},{code:"UM",name:"United States Minor Outlying Islands",card_id:2917966},{code:"US",name:"United States",card_id:14551},{code:"UY",name:"Uruguay",card_id:2918018},{code:"UZ",name:"Uzbekistan",card_id:14412},{code:"VA",name:"Holy See (Vatican City State)",card_id:2918019},{code:"VC",name:"Saint Vincent and the Grenadines",card_id:2918020},{code:"VE",name:"Venezuela",card_id:2918021},{code:"VG",name:"British Virgin Islands",card_id:2918022},{code:"VI",name:"U.S. Virgin Islands",card_id:2918023},{code:"VN",name:"Vietnam",card_id:2918024},{code:"VU",name:"Vanuatu",card_id:2918025},{code:"WF",name:"Wallis and Futuna",card_id:2918026},{code:"WS",name:"Samoa",card_id:2918027},{code:"XK",name:"Kosovo",card_id:2918028},{code:"YE",name:"Yemen",card_id:2918029},{code:"YT",name:"Mayotte",card_id:2918030},{code:"ZA",name:"South Africa",card_id:14938},{code:"ZM",name:"Zambia",card_id:2918031},{code:"ZW",name:"Zimbabwe",card_id:2918032}]},{name:"country_codes",values:[{name:"Afghanistan","alpha-2":"AF","country-code":"004"},{name:"\xc5land Islands","alpha-2":"AX","country-code":"248"},{name:"Albania","alpha-2":"AL","country-code":"008"},{name:"Algeria","alpha-2":"DZ","country-code":"012"},{name:"American Samoa","alpha-2":"AS","country-code":"016"},{name:"Andorra","alpha-2":"AD","country-code":"020"},{name:"Angola","alpha-2":"AO","country-code":"024"},{name:"Anguilla","alpha-2":"AI","country-code":"660"},{name:"Antarctica","alpha-2":"AQ","country-code":"010"},{name:"Antigua and Barbuda","alpha-2":"AG","country-code":"028"},{name:"Argentina","alpha-2":"AR","country-code":"032"},{name:"Armenia","alpha-2":"AM","country-code":"051"},{name:"Aruba","alpha-2":"AW","country-code":"533"},{name:"Australia","alpha-2":"AU","country-code":"036"},{name:"Austria","alpha-2":"AT","country-code":"040"},{name:"Azerbaijan","alpha-2":"AZ","country-code":"031"},{name:"Bahamas","alpha-2":"BS","country-code":"044"},{name:"Bahrain","alpha-2":"BH","country-code":"048"},{name:"Bangladesh","alpha-2":"BD","country-code":"050"},{name:"Barbados","alpha-2":"BB","country-code":"052"},{name:"Belarus","alpha-2":"BY","country-code":"112"},{name:"Belgium","alpha-2":"BE","country-code":"056"},{name:"Belize","alpha-2":"BZ","country-code":"084"},{name:"Benin","alpha-2":"BJ","country-code":"204"},{name:"Bermuda","alpha-2":"BM","country-code":"060"},{name:"Bhutan","alpha-2":"BT","country-code":"064"},{name:"Bolivia (Plurinational State of)","alpha-2":"BO","country-code":"068"},{name:"Bonaire, Sint Eustatius and Saba","alpha-2":"BQ","country-code":"535"},{name:"Bosnia and Herzegovina","alpha-2":"BA","country-code":"070"},{name:"Botswana","alpha-2":"BW","country-code":"072"},{name:"Bouvet Island","alpha-2":"BV","country-code":"074"},{name:"Brazil","alpha-2":"BR","country-code":"076"},{name:"British Indian Ocean Territory","alpha-2":"IO","country-code":"086"},{name:"Brunei Darussalam","alpha-2":"BN","country-code":"096"},{name:"Bulgaria","alpha-2":"BG","country-code":"100"},{name:"Burkina Faso","alpha-2":"BF","country-code":"854"},{name:"Burundi","alpha-2":"BI","country-code":"108"},{name:"Cabo Verde","alpha-2":"CV","country-code":"132"},{name:"Cambodia","alpha-2":"KH","country-code":"116"},{name:"Cameroon","alpha-2":"CM","country-code":"120"},{name:"Canada","alpha-2":"CA","country-code":"124"},{name:"Cayman Islands","alpha-2":"KY","country-code":"136"},{name:"Central African Republic","alpha-2":"CF","country-code":"140"},{name:"Chad","alpha-2":"TD","country-code":"148"},{name:"Chile","alpha-2":"CL","country-code":"152"},{name:"China","alpha-2":"CN","country-code":"156"},{name:"Christmas Island","alpha-2":"CX","country-code":"162"},{name:"Cocos (Keeling) Islands","alpha-2":"CC","country-code":"166"},{name:"Colombia","alpha-2":"CO","country-code":"170"},{name:"Comoros","alpha-2":"KM","country-code":"174"},{name:"Congo","alpha-2":"CG","country-code":"178"},{name:"Congo, Democratic Republic of the","alpha-2":"CD","country-code":"180"},{name:"Cook Islands","alpha-2":"CK","country-code":"184"},{name:"Costa Rica","alpha-2":"CR","country-code":"188"},{name:"C\xf4te d'Ivoire","alpha-2":"CI","country-code":"384"},{name:"Croatia","alpha-2":"HR","country-code":"191"},{name:"Cuba","alpha-2":"CU","country-code":"192"},{name:"Cura\xe7ao","alpha-2":"CW","country-code":"531"},{name:"Cyprus","alpha-2":"CY","country-code":"196"},{name:"Czechia","alpha-2":"CZ","country-code":"203"},{name:"Denmark","alpha-2":"DK","country-code":"208"},{name:"Djibouti","alpha-2":"DJ","country-code":"262"},{name:"Dominica","alpha-2":"DM","country-code":"212"},{name:"Dominican Republic","alpha-2":"DO","country-code":"214"},{name:"Ecuador","alpha-2":"EC","country-code":"218"},{name:"Egypt","alpha-2":"EG","country-code":"818"},{name:"El Salvador","alpha-2":"SV","country-code":"222"},{name:"Equatorial Guinea","alpha-2":"GQ","country-code":"226"},{name:"Eritrea","alpha-2":"ER","country-code":"232"},{name:"Estonia","alpha-2":"EE","country-code":"233"},{name:"Eswatini","alpha-2":"SZ","country-code":"748"},{name:"Ethiopia","alpha-2":"ET","country-code":"231"},{name:"Falkland Islands (Malvinas)","alpha-2":"FK","country-code":"238"},{name:"Faroe Islands","alpha-2":"FO","country-code":"234"},{name:"Fiji","alpha-2":"FJ","country-code":"242"},{name:"Finland","alpha-2":"FI","country-code":"246"},{name:"France","alpha-2":"FR","country-code":"250"},{name:"French Guiana","alpha-2":"GF","country-code":"254"},{name:"French Polynesia","alpha-2":"PF","country-code":"258"},{name:"French Southern Territories","alpha-2":"TF","country-code":"260"},{name:"Gabon","alpha-2":"GA","country-code":"266"},{name:"Gambia","alpha-2":"GM","country-code":"270"},{name:"Georgia","alpha-2":"GE","country-code":"268"},{name:"Germany","alpha-2":"DE","country-code":"276"},{name:"Ghana","alpha-2":"GH","country-code":"288"},{name:"Gibraltar","alpha-2":"GI","country-code":"292"},{name:"Greece","alpha-2":"GR","country-code":"300"},{name:"Greenland","alpha-2":"GL","country-code":"304"},{name:"Grenada","alpha-2":"GD","country-code":"308"},{name:"Guadeloupe","alpha-2":"GP","country-code":"312"},{name:"Guam","alpha-2":"GU","country-code":"316"},{name:"Guatemala","alpha-2":"GT","country-code":"320"},{name:"Guernsey","alpha-2":"GG","country-code":"831"},{name:"Guinea","alpha-2":"GN","country-code":"324"},{name:"Guinea-Bissau","alpha-2":"GW","country-code":"624"},{name:"Guyana","alpha-2":"GY","country-code":"328"},{name:"Haiti","alpha-2":"HT","country-code":"332"},{name:"Heard Island and McDonald Islands","alpha-2":"HM","country-code":"334"},{name:"Holy See","alpha-2":"VA","country-code":"336"},{name:"Honduras","alpha-2":"HN","country-code":"340"},{name:"Hong Kong","alpha-2":"HK","country-code":"344"},{name:"Hungary","alpha-2":"HU","country-code":"348"},{name:"Iceland","alpha-2":"IS","country-code":"352"},{name:"India","alpha-2":"IN","country-code":"356"},{name:"Indonesia","alpha-2":"ID","country-code":"360"},{name:"Iran (Islamic Republic of)","alpha-2":"IR","country-code":"364"},{name:"Iraq","alpha-2":"IQ","country-code":"368"},{name:"Ireland","alpha-2":"IE","country-code":"372"},{name:"Isle of Man","alpha-2":"IM","country-code":"833"},{name:"Israel","alpha-2":"IL","country-code":"376"},{name:"Italy","alpha-2":"IT","country-code":"380"},{name:"Jamaica","alpha-2":"JM","country-code":"388"},{name:"Japan","alpha-2":"JP","country-code":"392"},{name:"Jersey","alpha-2":"JE","country-code":"832"},{name:"Jordan","alpha-2":"JO","country-code":"400"},{name:"Kazakhstan","alpha-2":"KZ","country-code":"398"},{name:"Kenya","alpha-2":"KE","country-code":"404"},{name:"Kiribati","alpha-2":"KI","country-code":"296"},{name:"Korea (Democratic People's Republic of)","alpha-2":"KP","country-code":"408"},{name:"Korea, Republic of","alpha-2":"KR","country-code":"410"},{name:"Kuwait","alpha-2":"KW","country-code":"414"},{name:"Kyrgyzstan","alpha-2":"KG","country-code":"417"},{name:"Lao People's Democratic Republic","alpha-2":"LA","country-code":"418"},{name:"Latvia","alpha-2":"LV","country-code":"428"},{name:"Lebanon","alpha-2":"LB","country-code":"422"},{name:"Lesotho","alpha-2":"LS","country-code":"426"},{name:"Liberia","alpha-2":"LR","country-code":"430"},{name:"Libya","alpha-2":"LY","country-code":"434"},{name:"Liechtenstein","alpha-2":"LI","country-code":"438"},{name:"Lithuania","alpha-2":"LT","country-code":"440"},{name:"Luxembourg","alpha-2":"LU","country-code":"442"},{name:"Macao","alpha-2":"MO","country-code":"446"},{name:"Madagascar","alpha-2":"MG","country-code":"450"},{name:"Malawi","alpha-2":"MW","country-code":"454"},{name:"Malaysia","alpha-2":"MY","country-code":"458"},{name:"Maldives","alpha-2":"MV","country-code":"462"},{name:"Mali","alpha-2":"ML","country-code":"466"},{name:"Malta","alpha-2":"MT","country-code":"470"},{name:"Marshall Islands","alpha-2":"MH","country-code":"584"},{name:"Martinique","alpha-2":"MQ","country-code":"474"},{name:"Mauritania","alpha-2":"MR","country-code":"478"},{name:"Mauritius","alpha-2":"MU","country-code":"480"},{name:"Mayotte","alpha-2":"YT","country-code":"175"},{name:"Mexico","alpha-2":"MX","country-code":"484"},{name:"Micronesia (Federated States of)","alpha-2":"FM","country-code":"583"},{name:"Moldova, Republic of","alpha-2":"MD","country-code":"498"},{name:"Monaco","alpha-2":"MC","country-code":"492"},{name:"Mongolia","alpha-2":"MN","country-code":"496"},{name:"Montenegro","alpha-2":"ME","country-code":"499"},{name:"Montserrat","alpha-2":"MS","country-code":"500"},{name:"Morocco","alpha-2":"MA","country-code":"504"},{name:"Mozambique","alpha-2":"MZ","country-code":"508"},{name:"Myanmar","alpha-2":"MM","country-code":"104"},{name:"Namibia","alpha-2":"NA","country-code":"516"},{name:"Nauru","alpha-2":"NR","country-code":"520"},{name:"Nepal","alpha-2":"NP","country-code":"524"},{name:"Netherlands","alpha-2":"NL","country-code":"528"},{name:"New Caledonia","alpha-2":"NC","country-code":"540"},{name:"New Zealand","alpha-2":"NZ","country-code":"554"},{name:"Nicaragua","alpha-2":"NI","country-code":"558"},{name:"Niger","alpha-2":"NE","country-code":"562"},{name:"Nigeria","alpha-2":"NG","country-code":"566"},{name:"Niue","alpha-2":"NU","country-code":"570"},{name:"Norfolk Island","alpha-2":"NF","country-code":"574"},{name:"North Macedonia","alpha-2":"MK","country-code":"807"},{name:"Northern Mariana Islands","alpha-2":"MP","country-code":"580"},{name:"Norway","alpha-2":"NO","country-code":"578"},{name:"Oman","alpha-2":"OM","country-code":"512"},{name:"Pakistan","alpha-2":"PK","country-code":"586"},{name:"Palau","alpha-2":"PW","country-code":"585"},{name:"Palestine, State of","alpha-2":"PS","country-code":"275"},{name:"Panama","alpha-2":"PA","country-code":"591"},{name:"Papua New Guinea","alpha-2":"PG","country-code":"598"},{name:"Paraguay","alpha-2":"PY","country-code":"600"},{name:"Peru","alpha-2":"PE","country-code":"604"},{name:"Philippines","alpha-2":"PH","country-code":"608"},{name:"Pitcairn","alpha-2":"PN","country-code":"612"},{name:"Poland","alpha-2":"PL","country-code":"616"},{name:"Portugal","alpha-2":"PT","country-code":"620"},{name:"Puerto Rico","alpha-2":"PR","country-code":"630"},{name:"Qatar","alpha-2":"QA","country-code":"634"},{name:"R\xe9union","alpha-2":"RE","country-code":"638"},{name:"Romania","alpha-2":"RO","country-code":"642"},{name:"Russian Federation","alpha-2":"RU","country-code":"643"},{name:"Rwanda","alpha-2":"RW","country-code":"646"},{name:"Saint Barth\xe9lemy","alpha-2":"BL","country-code":"652"},{name:"Saint Helena, Ascension and Tristan da Cunha","alpha-2":"SH","country-code":"654"},{name:"Saint Kitts and Nevis","alpha-2":"KN","country-code":"659"},{name:"Saint Lucia","alpha-2":"LC","country-code":"662"},{name:"Saint Martin (French part)","alpha-2":"MF","country-code":"663"},{name:"Saint Pierre and Miquelon","alpha-2":"PM","country-code":"666"},{name:"Saint Vincent and the Grenadines","alpha-2":"VC","country-code":"670"},{name:"Samoa","alpha-2":"WS","country-code":"882"},{name:"San Marino","alpha-2":"SM","country-code":"674"},{name:"Sao Tome and Principe","alpha-2":"ST","country-code":"678"},{name:"Saudi Arabia","alpha-2":"SA","country-code":"682"},{name:"Senegal","alpha-2":"SN","country-code":"686"},{name:"Serbia","alpha-2":"RS","country-code":"688"},{name:"Seychelles","alpha-2":"SC","country-code":"690"},{name:"Sierra Leone","alpha-2":"SL","country-code":"694"},{name:"Singapore","alpha-2":"SG","country-code":"702"},{name:"Sint Maarten (Dutch part)","alpha-2":"SX","country-code":"534"},{name:"Slovakia","alpha-2":"SK","country-code":"703"},{name:"Slovenia","alpha-2":"SI","country-code":"705"},{name:"Solomon Islands","alpha-2":"SB","country-code":"090"},{name:"Somalia","alpha-2":"SO","country-code":"706"},{name:"South Africa","alpha-2":"ZA","country-code":"710"},{name:"South Georgia and the South Sandwich Islands","alpha-2":"GS","country-code":"239"},{name:"South Sudan","alpha-2":"SS","country-code":"728"},{name:"Spain","alpha-2":"ES","country-code":"724"},{name:"Sri Lanka","alpha-2":"LK","country-code":"144"},{name:"Sudan","alpha-2":"SD","country-code":"729"},{name:"Suriname","alpha-2":"SR","country-code":"740"},{name:"Svalbard and Jan Mayen","alpha-2":"SJ","country-code":"744"},{name:"Sweden","alpha-2":"SE","country-code":"752"},{name:"Switzerland","alpha-2":"CH","country-code":"756"},{name:"Syrian Arab Republic","alpha-2":"SY","country-code":"760"},{name:"Taiwan, Province of China","alpha-2":"TW","country-code":"158"},{name:"Tajikistan","alpha-2":"TJ","country-code":"762"},{name:"Tanzania, United Republic of","alpha-2":"TZ","country-code":"834"},{name:"Thailand","alpha-2":"TH","country-code":"764"},{name:"Timor-Leste","alpha-2":"TL","country-code":"626"},{name:"Togo","alpha-2":"TG","country-code":"768"},{name:"Tokelau","alpha-2":"TK","country-code":"772"},{name:"Tonga","alpha-2":"TO","country-code":"776"},{name:"Trinidad and Tobago","alpha-2":"TT","country-code":"780"},{name:"Tunisia","alpha-2":"TN","country-code":"788"},{name:"Turkey","alpha-2":"TR","country-code":"792"},{name:"Turkmenistan","alpha-2":"TM","country-code":"795"},{name:"Turks and Caicos Islands","alpha-2":"TC","country-code":"796"},{name:"Tuvalu","alpha-2":"TV","country-code":"798"},{name:"Uganda","alpha-2":"UG","country-code":"800"},{name:"Ukraine","alpha-2":"UA","country-code":"804"},{name:"United Arab Emirates","alpha-2":"AE","country-code":"784"},{name:"United Kingdom of Great Britain and Northern Ireland","alpha-2":"GB","country-code":"826"},{name:"United States of America","alpha-2":"US","country-code":"840"},{name:"United States Minor Outlying Islands","alpha-2":"UM","country-code":"581"},{name:"Uruguay","alpha-2":"UY","country-code":"858"},{name:"Uzbekistan","alpha-2":"UZ","country-code":"860"},{name:"Vanuatu","alpha-2":"VU","country-code":"548"},{name:"Venezuela (Bolivarian Republic of)","alpha-2":"VE","country-code":"862"},{name:"Viet Nam","alpha-2":"VN","country-code":"704"},{name:"Virgin Islands (British)","alpha-2":"VG","country-code":"092"},{name:"Virgin Islands (U.S.)","alpha-2":"VI","country-code":"850"},{name:"Wallis and Futuna","alpha-2":"WF","country-code":"876"},{name:"Western Sahara","alpha-2":"EH","country-code":"732"},{name:"Yemen","alpha-2":"YE","country-code":"887"},{name:"Zambia","alpha-2":"ZM","country-code":"894"},{name:"Zimbabwe","alpha-2":"ZW","country-code":"716"}],format:{type:"json",parse:{"country-code":"number"}}},{name:"suppliers_per_country",source:"suppliers",transform:[{type:"aggregate",groupby:["country"],fields:["name"],ops:["count"],as:["companies"]},{type:"lookup",from:"wikirate_countries",key:"name",fields:["country"],values:["code"],as:["country_code"]},{type:"lookup",from:"country_codes",key:"alpha-2",fields:["country_code"],values:["country-code"],as:["country_number"]},{type:"lookup",from:"world",key:"id",fields:["country_number"],as:["geo"]},{type:"filter",expr:"datum.geo"},{type:"formula",as:"centroid",expr:"geoCentroid('projection', datum.geo)"}]},{name:"graticule",transform:[{type:"graticule"}]}],projections:[{name:"projection",type:{signal:"type"},scale:{signal:"scale"},rotate:[{signal:"rotate0"},{signal:"rotate1"},{signal:"rotate2"}],center:[{signal:"center0"},{signal:"center1"}],translate:[{signal:"translate0"},{signal:"translate1"}]}],scales:[{name:"size",domain:{data:"suppliers_per_country",field:"companies"},zero:!1,range:[50,2e3]},{name:"color",type:"linear",nice:!0,domain:{data:"suppliers_per_country",field:"companies"},range:["#fef1eb","#F7733D"]}],marks:[{type:"shape",from:{data:"graticule"},encode:{update:{strokeWidth:{value:1},stroke:{signal:"'#ddd'"},fill:{value:null}}},transform:[{type:"geoshape",projection:"projection"}]},{type:"shape",from:{data:"world"},encode:{update:{strokeWidth:{signal:"+borderWidth"},fill:{value:"#171832"},zindex:{value:0}}},transform:[{type:"geoshape",projection:"projection"}]},{name:"circles",type:"symbol",from:{data:"suppliers_per_country"},encode:{enter:{x:{field:"centroid[0]"},y:{field:"centroid[1]"},size:{scale:"size",field:"companies"},strokeWidth:{value:.7},tooltip:{signal:"{'title': datum.country, 'Number of Companies': datum.companies}"}},update:{fill:{scale:"color",field:"companies"},stroke:{value:"#171832"}},hover:{fill:{value:"#912E06"},stroke:{value:"#171832"}}},transform:[{type:"force",static:!0,forces:[{force:"collide",radius:{expr:"1 + sqrt(datum.size) / 2"}},{force:"x",x:"datum.centroid[0]"},{force:"y",y:"datum.centroid[1]"}]}]}],legends:[{fill:"color",orient:"bottom-left",title:"No. of Suppliers"}]}))},o=>{})}}return e.\u0275fac=function(n){return new(n||e)($(Iy),$(Au),$(S0),$(Do))},e.\u0275cmp=w({type:e,selectors:[["app-suppliers-map"]],viewQuery:function(n,i){if(1&n&&rc(rCt,5),2&n){let r;Mi(r=Ri())&&(i.mapElement=r.first)}},decls:11,vars:4,consts:[[1,"wikirate-creme-box"],[1,"wikirate-container"],[1,"row"],[1,"showcase-title","cols-1"],[4,"ngIf"],[1,"row","justify-content-center","mt-4","mb-2"],["map",""],["id","no_data","class","mt-4 text-center",4,"ngIf"],["id","no_data",1,"mt-4","text-center"],["src","assets/moon.svg","width","60px",1,"mb-1"],[1,"mt-2","showcase-main-text"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),me(4),et(5,oCt,2,1,"span",4),et(6,sCt,2,1,"span",4),me(7," ? "),T(),T(),S(8,"div",5,6),et(10,aCt,4,0,"div",7),T(),T(),T()),2&n&&(Me(4),Ya(" Where ",i.title," sourcing from "),Me(1),He("ngIf","latest"!==i.report_params.year),Me(1),He("ngIf","latest"===i.report_params.year),Me(4),He("ngIf",i.suppliers&&0==i.suppliers.length))},directives:[Ho],styles:[""]}),e})();var RAe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uM=function(e){return e&&e.Math==Math&&e},ps=uM("object"==typeof globalThis&&globalThis)||uM("object"==typeof window&&window)||uM("object"==typeof self&&self)||uM("object"==typeof RAe&&RAe)||function(){return this}()||Function("return this")(),my={},yo=function(e){try{return!!e()}catch(t){return!0}},Os=!yo(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),DE={},FAe={}.propertyIsEnumerable,PAe=Object.getOwnPropertyDescriptor,uCt=PAe&&!FAe.call({1:2},1);DE.f=uCt?function(e){var t=PAe(this,e);return!!t&&t.enumerable}:FAe;var YI,cM,SE=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},cCt={}.toString,TE=function(e){return cCt.call(e).slice(8,-1)},gCt=TE,dCt="".split,gM=yo(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==gCt(e)?dCt.call(e,""):Object(e)}:Object,kE=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},fCt=gM,hCt=kE,Xd=function(e){return fCt(hCt(e))},Ms=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Hi={},jz=Hi,Vz=ps,LAe=function(e){return"function"==typeof e?e:void 0},_p=function(e,t){return arguments.length<2?LAe(jz[e])||LAe(Vz[e]):jz[e]&&jz[e][t]||Vz[e]&&Vz[e][t]},NE=_p("navigator","userAgent")||"",zz=NE,jAe=ps.process,VAe=ps.Deno,zAe=jAe&&jAe.versions||VAe&&VAe.version,HAe=zAe&&zAe.v8;HAe?cM=(YI=HAe.split("."))[0]<4?1:YI[0]+YI[1]:zz&&(!(YI=zz.match(/Edge\/(\d+)/))||YI[1]>=74)&&(YI=zz.match(/Chrome\/(\d+)/))&&(cM=YI[1]);var OE=cM&&+cM,UAe=OE,Hz=!!Object.getOwnPropertySymbols&&!yo(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&UAe&&UAe<41}),GAe=Hz&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,pCt=_p,dM=GAe?function(e){return"symbol"==typeof e}:function(e){var t=pCt("Symbol");return"function"==typeof t&&Object(e)instanceof t},Uz=Ms,fM={exports:{}},WAe=ps,Gz=ps["__core-js_shared__"]||function(e,t){try{Object.defineProperty(WAe,e,{value:t,configurable:!0,writable:!0})}catch(n){WAe[e]=t}return t}("__core-js_shared__",{}),$Ae=Gz;(fM.exports=function(e,t){return $Ae[e]||($Ae[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.1",mode:"pure",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"});var ICt=kE,Kl=function(e){return Object(ICt(e))},mCt=Kl,vCt={}.hasOwnProperty,Nu=Object.hasOwn||function(e,t){return vCt.call(mCt(e),t)},yCt=0,bCt=Math.random(),hM=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++yCt+bCt).toString(36)},_Ct=ps,YAe=Nu,ECt=hM,qAe=Hz,xCt=GAe,ME=(0,fM.exports)("wks"),RE=_Ct.Symbol,DCt=xCt?RE:RE&&RE.withoutSetter||ECt,As=function(e){return YAe(ME,e)&&(qAe||"string"==typeof ME[e])||(ME[e]=qAe&&YAe(RE,e)?RE[e]:DCt("Symbol."+e)),ME[e]},ZAe=Ms,KAe=dM,TCt=As("toPrimitive"),NCt=dM,CM=function(e){var t=function(e,t){if(!ZAe(e)||KAe(e))return e;var n,i=e[TCt];if(void 0!==i){if(void 0===t&&(t="default"),n=i.call(e,t),!ZAe(n)||KAe(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,i;if("string"===t&&"function"==typeof(n=e.toString)&&!Uz(i=n.call(e))||"function"==typeof(n=e.valueOf)&&!Uz(i=n.call(e))||"string"!==t&&"function"==typeof(n=e.toString)&&!Uz(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}(e,t)}(e,"string");return NCt(t)?t:String(t)},XAe=Ms,Wz=ps.document,OCt=XAe(Wz)&&XAe(Wz.createElement),QAe=function(e){return OCt?Wz.createElement(e):{}},MCt=QAe,JAe=!Os&&!yo(function(){return 7!=Object.defineProperty(MCt("div"),"a",{get:function(){return 7}}).a}),FCt=DE,PCt=SE,LCt=Xd,BCt=CM,jCt=Nu,VCt=JAe,eIe=Object.getOwnPropertyDescriptor;my.f=Os?eIe:function(e,t){if(e=LCt(e),t=BCt(t),VCt)try{return eIe(e,t)}catch(n){}if(jCt(e,t))return PCt(!FCt.f.call(e,t),e[t])};var zCt=yo,HCt=/#|\.prototype\./,FE=function(e,t){var n=GCt[UCt(e)];return n==$Ct||n!=WCt&&("function"==typeof t?zCt(t):!!t)},UCt=FE.normalize=function(e){return String(e).replace(HCt,".").toLowerCase()},GCt=FE.data={},WCt=FE.NATIVE="N",$Ct=FE.POLYFILL="P",YCt=FE,vy=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},qCt=vy,yy=function(e,t,n){if(qCt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,o){return e.call(t,i,r,o)}}return function(){return e.apply(t,arguments)}},Nc={},ZCt=Ms,Ou=function(e){if(!ZCt(e))throw TypeError(String(e)+" is not an object");return e},XCt=JAe,tIe=Ou,QCt=CM,nIe=Object.defineProperty;Nc.f=Os?nIe:function(e,t,n){if(tIe(e),t=QCt(t),tIe(n),XCt)try{return nIe(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var JCt=Nc,ept=SE,yh=Os?function(e,t,n){return JCt.f(e,t,ept(1,n))}:function(e,t,n){return e[t]=n,e},pM=ps,tpt=my.f,npt=YCt,by=Hi,iIe=yy,$z=yh,rIe=Nu,ipt=function(e){var t=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t},Gn=function(e,t){var n,i,r,o,s,a,l,u,c=e.target,g=e.global,d=e.stat,f=e.proto,h=g?pM:d?pM[c]:(pM[c]||{}).prototype,C=g?by:by[c]||(by[c]={}),p=C.prototype;for(r in t)n=!npt(g?r:c+(d?".":"#")+r,e.forced)&&h&&rIe(h,r),s=C[r],n&&(a=e.noTargetGet?(u=tpt(h,r))&&u.value:h[r]),o=n&&a?a:t[r],n&&typeof s==typeof o||(l=e.bind&&n?iIe(o,pM):e.wrap&&n?ipt(o):f&&"function"==typeof o?iIe(Function.call,o):o,(e.sham||o&&o.sham||s&&s.sham)&&$z(l,"sham",!0),C[r]=l,f&&(rIe(by,i=c+"Prototype")||$z(by,i,{}),by[i][r]=o,e.real&&p&&!p[r]&&$z(p,r,o)))},rpt=Math.ceil,opt=Math.floor,AM=function(e){return isNaN(e=+e)?0:(e>0?opt:rpt)(e)},spt=AM,apt=Math.min,Oc=function(e){return e>0?apt(spt(e),9007199254740991):0},lpt=AM,upt=Math.max,cpt=Math.min,IM=function(e,t){var n=lpt(e);return n<0?upt(n+t,0):cpt(n,t)},gpt=Xd,dpt=Oc,fpt=IM,oIe=function(e){return function(t,n,i){var r,o=gpt(t),s=dpt(o.length),a=fpt(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},Yz={includes:oIe(!0),indexOf:oIe(!1)},PE={},qz=Nu,hpt=Xd,Cpt=Yz.indexOf,ppt=PE,sIe=function(e,t){var n,i=hpt(e),r=0,o=[];for(n in i)!qz(ppt,n)&&qz(i,n)&&o.push(n);for(;t.length>r;)qz(i,n=t[r++])&&(~Cpt(o,n)||o.push(n));return o},Zz=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Apt=sIe,Ipt=Zz,LE=Object.keys||function(e){return Apt(e,Ipt)},mM={};mM.f=Object.getOwnPropertySymbols;var aIe=Os,Kz=LE,vpt=mM,ypt=DE,bpt=Kl,_pt=gM,_y=Object.assign,lIe=Object.defineProperty,uIe=!_y||yo(function(){if(aIe&&1!==_y({b:1},_y(lIe({},"a",{enumerable:!0,get:function(){lIe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(r){t[r]=r}),7!=_y({},e)[n]||Kz(_y({},t)).join("")!=i})?function(e,t){for(var n=bpt(e),i=arguments.length,r=1,o=vpt.f,s=ypt.f;i>r;)for(var a,l=_pt(arguments[r++]),u=o?Kz(l).concat(o(l)):Kz(l),c=u.length,g=0;c>g;)a=u[g++],aIe&&!s.call(l,a)||(n[a]=l[a]);return n}:_y;Gn({target:"Object",stat:!0,forced:Object.assign!==uIe},{assign:uIe});var bo=Hi.Object.assign,wpt=vy,Ept=Ms,cIe=[].slice,Xz={},xpt=function(e,t,n){if(!(t in Xz)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";Xz[t]=Function("C,a","return new C("+i.join(",")+")")}return Xz[t](e,n)},gIe=Function.bind||function(e){var t=wpt(this),n=cIe.call(arguments,1),i=function(){var r=n.concat(cIe.call(arguments));return this instanceof i?xpt(t,r.length,r):t.apply(e,r)};return Ept(t.prototype)&&(i.prototype=t.prototype),i};Gn({target:"Function",proto:!0},{bind:gIe});var Dpt=Hi,ko=function(e){return Dpt[e+"Prototype"]},Spt=ko("Function").bind,dIe=Function.prototype,rt=function(e){var t=e.bind;return e===dIe||e instanceof Function&&t===dIe.bind?Spt:t};function Qz(e,t,n,i){e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!1),e.closePath()}function fIe(e,t,n,i,r,o){var s=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.arc(t+i-o,n+o,o,270*s,360*s,!1),e.lineTo(t+i,n+r-o),e.arc(t+i-o,n+r-o,o,0,90*s,!1),e.lineTo(t+o,n+r),e.arc(t+o,n+r-o,o,90*s,180*s,!1),e.lineTo(t,n+o),e.arc(t+o,n+o,o,180*s,270*s,!1),e.closePath()}function Jz(e,t,n,i,r){var o=.5522848,s=i/2*o,a=r/2*o,l=t+i,u=n+r,c=t+i/2,g=n+r/2;e.beginPath(),e.moveTo(t,g),e.bezierCurveTo(t,g-a,c-s,n,c,n),e.bezierCurveTo(c+s,n,l,g-a,l,g),e.bezierCurveTo(l,g+a,c+s,u,c,u),e.bezierCurveTo(c-s,u,t,g+a,t,g),e.closePath()}function hIe(e,t,n,i,r){var o=r*(1/3),s=.5522848,a=i/2*s,l=o/2*s,u=t+i,c=n+o,g=t+i/2,d=n+o/2,f=n+(r-o/2),h=n+r;e.beginPath(),e.moveTo(u,d),e.bezierCurveTo(u,d+l,g+a,c,g,c),e.bezierCurveTo(g-a,c,t,d+l,t,d),e.bezierCurveTo(t,d-l,g-a,n,g,n),e.bezierCurveTo(g+a,n,u,d-l,u,d),e.lineTo(u,f),e.bezierCurveTo(u,f+l,g+a,h,g,h),e.bezierCurveTo(g-a,h,t,f+l,t,f),e.lineTo(t,d)}function CIe(e,t,n,i,r,o){e.beginPath(),e.moveTo(t,n);for(var s=o.length,a=i-t,l=r-n,u=l/a,c=Math.sqrt(a*a+l*l),g=0,d=!0,f=0,h=+o[0];c>=.1;)(h=+o[g++%s])>c&&(h=c),f=Math.sqrt(h*h/(1+u*u)),t+=f=a<0?-f:f,n+=u*f,!0===d?e.lineTo(t,n):e.moveTo(t,n),c-=h,d=!d}var pIe={circle:Qz,dashedLine:CIe,database:hIe,diamond:function(e,t,n,i){e.beginPath(),e.lineTo(t,n+i),e.lineTo(t+i,n),e.lineTo(t,n-i),e.lineTo(t-i,n),e.closePath()},ellipse:Jz,ellipse_vis:Jz,hexagon:function(e,t,n,i){e.beginPath();var r=2*Math.PI/6;e.moveTo(t+i,n);for(var o=1;o<6;o++)e.lineTo(t+i*Math.cos(r*o),n+i*Math.sin(r*o));e.closePath()},roundRect:fIe,square:function(e,t,n,i){e.beginPath(),e.rect(t-i,n-i,2*i,2*i),e.closePath()},star:function(e,t,n,i){e.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2==0?1.3*i:.5*i;e.lineTo(t+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}e.closePath()},triangle:function(e,t,n,i){e.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n-(a-s)),e.lineTo(t+o,n+s),e.lineTo(t-o,n+s),e.lineTo(t,n-(a-s)),e.closePath()},triangleDown:function(e,t,n,i){e.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,s=Math.sqrt(3)/6*r,a=Math.sqrt(r*r-o*o);e.moveTo(t,n+(a-s)),e.lineTo(t+o,n-s),e.lineTo(t-o,n-s),e.lineTo(t,n+(a-s)),e.closePath()}};function qI(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}qI(".vis-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10}.vis-active{box-shadow:0 0 10px #86d5f8}"),qI(".vis [class*=span]{min-height:0;width:auto}"),qI('div.vis-color-picker{position:absolute;top:0;left:30px;margin-top:-140px;margin-left:30px;width:310px;height:444px;z-index:1;padding:10px;border-radius:15px;background-color:#fff;display:none;box-shadow:0 0 10px 0 rgba(0,0,0,.5)}div.vis-color-picker div.vis-arrow{position:absolute;top:147px;left:5px}div.vis-color-picker div.vis-arrow:after,div.vis-color-picker div.vis-arrow:before{right:100%;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}div.vis-color-picker div.vis-arrow:after{border-color:hsla(0,0%,100%,0) #fff hsla(0,0%,100%,0) hsla(0,0%,100%,0);border-width:30px;margin-top:-30px}div.vis-color-picker div.vis-color{position:absolute;width:289px;height:289px;cursor:pointer}div.vis-color-picker div.vis-brightness{position:absolute;top:313px}div.vis-color-picker div.vis-opacity{position:absolute;top:350px}div.vis-color-picker div.vis-selector{position:absolute;top:137px;left:137px;width:15px;height:15px;border-radius:15px;border:1px solid #fff;background:#4c4c4c;background:-moz-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#4c4c4c),color-stop(12%,#595959),color-stop(25%,#666),color-stop(39%,#474747),color-stop(50%,#2c2c2c),color-stop(51%,#000),color-stop(60%,#111),color-stop(76%,#2b2b2b),color-stop(91%,#1c1c1c),color-stop(100%,#131313));background:-webkit-linear-gradient(top,#4c4c4c,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313);background:-o-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:-ms-linear-gradient(top,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313 100%);background:linear-gradient(180deg,#4c4c4c 0,#595959 12%,#666 25%,#474747 39%,#2c2c2c 50%,#000 51%,#111 60%,#2b2b2b 76%,#1c1c1c 91%,#131313);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4c4c4c",endColorstr="#131313",GradientType=0)}div.vis-color-picker div.vis-new-color{left:159px;text-align:right;padding-right:2px}div.vis-color-picker div.vis-initial-color,div.vis-color-picker div.vis-new-color{position:absolute;width:140px;height:20px;border:1px solid rgba(0,0,0,.1);border-radius:5px;top:380px;font-size:10px;color:rgba(0,0,0,.4);vertical-align:middle;line-height:20px}div.vis-color-picker div.vis-initial-color{left:10px;text-align:left;padding-left:2px}div.vis-color-picker div.vis-label{position:absolute;width:300px;left:10px}div.vis-color-picker div.vis-label.vis-brightness{top:300px}div.vis-color-picker div.vis-label.vis-opacity{top:338px}div.vis-color-picker div.vis-button{position:absolute;width:68px;height:25px;border-radius:10px;vertical-align:middle;text-align:center;line-height:25px;top:410px;border:2px solid #d9d9d9;background-color:#f7f7f7;cursor:pointer}div.vis-color-picker div.vis-button.vis-cancel{left:5px}div.vis-color-picker div.vis-button.vis-load{left:82px}div.vis-color-picker div.vis-button.vis-apply{left:159px}div.vis-color-picker div.vis-button.vis-save{left:236px}div.vis-color-picker input.vis-range{width:290px;height:20px}'),qI('div.vis-configuration{position:relative;display:block;float:left;font-size:12px}div.vis-configuration-wrapper{display:block;width:700px}div.vis-configuration-wrapper:after{clear:both;content:"";display:block}div.vis-configuration.vis-config-option-container{display:block;width:495px;background-color:#fff;border:2px solid #f7f8fa;border-radius:4px;margin-top:20px;left:10px;padding-left:5px}div.vis-configuration.vis-config-button{display:block;width:495px;height:25px;vertical-align:middle;line-height:25px;background-color:#f7f8fa;border:2px solid #ceced0;border-radius:4px;margin-top:20px;left:10px;padding-left:5px;cursor:pointer;margin-bottom:30px}div.vis-configuration.vis-config-button.hover{background-color:#4588e6;border:2px solid #214373;color:#fff}div.vis-configuration.vis-config-item{display:block;float:left;width:495px;height:25px;vertical-align:middle;line-height:25px}div.vis-configuration.vis-config-item.vis-config-s2{left:10px;background-color:#f7f8fa;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-item.vis-config-s3{left:20px;background-color:#e4e9f0;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-item.vis-config-s4{left:30px;background-color:#cfd8e6;padding-left:5px;border-radius:3px}div.vis-configuration.vis-config-header{font-size:18px;font-weight:700}div.vis-configuration.vis-config-label{width:120px;height:25px;line-height:25px}div.vis-configuration.vis-config-label.vis-config-s3{width:110px}div.vis-configuration.vis-config-label.vis-config-s4{width:100px}div.vis-configuration.vis-config-colorBlock{top:1px;width:30px;height:19px;border:1px solid #444;border-radius:2px;padding:0;margin:0;cursor:pointer}input.vis-configuration.vis-config-checkbox{left:-5px}input.vis-configuration.vis-config-rangeinput{position:relative;top:-5px;width:60px;padding:1px;margin:0;pointer-events:none}input.vis-configuration.vis-config-range{-webkit-appearance:none;border:0 solid #fff;background-color:transparent;width:300px;height:20px}input.vis-configuration.vis-config-range::-webkit-slider-runnable-track{width:300px;height:5px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(180deg,#dedede 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#dedede",endColorstr="#c8c8c8",GradientType=0);border:1px solid #999;box-shadow:0 0 3px 0 #aaa;border-radius:3px}input.vis-configuration.vis-config-range::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #14334b;height:17px;width:17px;border-radius:50%;background:#3876c2;background:-moz-linear-gradient(top,#3876c2 0,#385380 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#3876c2),color-stop(100%,#385380));background:-webkit-linear-gradient(top,#3876c2,#385380);background:-o-linear-gradient(top,#3876c2 0,#385380 100%);background:-ms-linear-gradient(top,#3876c2 0,#385380 100%);background:linear-gradient(180deg,#3876c2 0,#385380);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#3876c2",endColorstr="#385380",GradientType=0);box-shadow:0 0 1px 0 #111927;margin-top:-7px}input.vis-configuration.vis-config-range:focus{outline:none}input.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track{background:#9d9d9d;background:-moz-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#9d9d9d),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#9d9d9d,#c8c8c8 99%);background:-o-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#9d9d9d 0,#c8c8c8 99%);background:linear-gradient(180deg,#9d9d9d 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#9d9d9d",endColorstr="#c8c8c8",GradientType=0)}input.vis-configuration.vis-config-range::-moz-range-track{width:300px;height:10px;background:#dedede;background:-moz-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#dedede),color-stop(99%,#c8c8c8));background:-webkit-linear-gradient(top,#dedede,#c8c8c8 99%);background:-o-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:-ms-linear-gradient(top,#dedede 0,#c8c8c8 99%);background:linear-gradient(180deg,#dedede 0,#c8c8c8 99%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#dedede",endColorstr="#c8c8c8",GradientType=0);border:1px solid #999;box-shadow:0 0 3px 0 #aaa;border-radius:3px}input.vis-configuration.vis-config-range::-moz-range-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-configuration.vis-config-range:-moz-focusring{outline:1px solid #fff;outline-offset:-1px}input.vis-configuration.vis-config-range::-ms-track{width:300px;height:5px;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}input.vis-configuration.vis-config-range::-ms-fill-lower{background:#777;border-radius:10px}input.vis-configuration.vis-config-range::-ms-fill-upper{background:#ddd;border-radius:10px}input.vis-configuration.vis-config-range::-ms-thumb{border:none;height:16px;width:16px;border-radius:50%;background:#385380}input.vis-configuration.vis-config-range:focus::-ms-fill-lower{background:#888}input.vis-configuration.vis-config-range:focus::-ms-fill-upper{background:#ccc}.vis-configuration-popup{position:absolute;background:rgba(57,76,89,.85);border:2px solid #f2faff;line-height:30px;height:30px;width:150px;text-align:center;color:#fff;font-size:14px;border-radius:4px;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.vis-configuration-popup:after,.vis-configuration-popup:before{left:100%;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.vis-configuration-popup:after{border-color:rgba(136,183,213,0) rgba(136,183,213,0) rgba(136,183,213,0) rgba(57,76,89,.85);border-width:8px;margin-top:-8px}.vis-configuration-popup:before{border-color:rgba(194,225,245,0) rgba(194,225,245,0) rgba(194,225,245,0) #f2faff;border-width:12px;margin-top:-12px}'),qI("div.vis-tooltip{position:absolute;visibility:hidden;padding:5px;white-space:nowrap;font-family:verdana;font-size:14px;color:#000;background-color:#f5f4ed;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:1px solid #808074;box-shadow:3px 3px 10px rgba(0,0,0,.2);pointer-events:none;z-index:5}");var AIe={exports:{}};!function(e){function t(n){if(n)return function(i){for(var r in t.prototype)i[r]=t.prototype[r];return i}(n)}AIe.exports=t,t.prototype.on=t.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},t.prototype.once=function(n,i){function r(){this.off(n,r),i.apply(this,arguments)}return r.fn=i,this.on(n,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,o=this._callbacks["$"+n];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var s=0;s<o.length;s++)if((r=o[s])===i||r.fn===i){o.splice(s,1);break}return 0===o.length&&delete this._callbacks["$"+n],this},t.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),r=this._callbacks["$"+n],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(r){o=0;for(var s=(r=r.slice(0)).length;o<s;++o)r[o].apply(this,i)}return this},t.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},t.prototype.hasListeners=function(n){return!!this.listeners(n).length}}();var IIe=AIe.exports,Tpt=dM,wp=function(e){if(Tpt(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},kpt=AM,Npt=wp,Opt=kE,mIe=function(e){return function(t,n){var i,r,o=Npt(Opt(t)),s=kpt(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},Mpt={codeAt:mIe(!1),charAt:mIe(!0)},eH=Gz,Rpt=Function.toString;"function"!=typeof eH.inspectSource&&(eH.inspectSource=function(e){return Rpt.call(e)});var vM,BE,yM,vIe=ps.WeakMap,yIe="function"==typeof vIe&&/native code/.test((0,eH.inspectSource)(vIe)),Lpt=hM,bIe=(0,fM.exports)("keys"),bM=function(e){return bIe[e]||(bIe[e]=Lpt(e))},jpt=Ms,Vpt=yh,tH=Nu,zpt=bM,Hpt=PE;if(yIe||Gz.state){var ZI=Gz.state||(Gz.state=new(0,ps.WeakMap)),Gpt=ZI.get,_Ie=ZI.has,Wpt=ZI.set;vM=function(e,t){if(_Ie.call(ZI,e))throw new TypeError("Object already initialized");return t.facade=e,Wpt.call(ZI,e,t),t},BE=function(e){return Gpt.call(ZI,e)||{}},yM=function(e){return _Ie.call(ZI,e)}}else{var wy=zpt("state");Hpt[wy]=!0,vM=function(e,t){if(tH(e,wy))throw new TypeError("Object already initialized");return t.facade=e,Vpt(e,wy,t),t},BE=function(e){return tH(e,wy)?e[wy]:{}},yM=function(e){return tH(e,wy)}}var KI,wIe,EIe,Qd={set:vM,get:BE,has:yM,enforce:function(e){return yM(e)?BE(e):vM(e,{})},getterFor:function(e){return function(t){var n;if(!jpt(t)||(n=BE(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},xIe=!yo(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),$pt=Nu,Ypt=Kl,qpt=xIe,DIe=bM("IE_PROTO"),Zpt=Object.prototype,_M=qpt?Object.getPrototypeOf:function(e){return e=Ypt(e),$pt(e,DIe)?e[DIe]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Zpt:null},Kpt=yo,SIe=_M,Xpt=yh,Qpt=Nu,iH=As("iterator"),TIe=!1;[].keys&&("next"in(EIe=[].keys())?(wIe=SIe(SIe(EIe)))!==Object.prototype&&(KI=wIe):TIe=!0);var kIe=null==KI||Kpt(function(){var e={};return KI[iH].call(e)!==e});kIe&&(KI={}),kIe&&!Qpt(KI,iH)&&Xpt(KI,iH,function(){return this});var wM,rH={IteratorPrototype:KI,BUGGY_SAFARI_ITERATORS:TIe},Jpt=Nc,eAt=Ou,tAt=LE,NIe=Os?Object.defineProperties:function(e,t){eAt(e);for(var n,i=tAt(t),r=i.length,o=0;r>o;)Jpt.f(e,n=i[o++],t[n]);return e},nAt=_p("document","documentElement"),iAt=Ou,rAt=NIe,OIe=Zz,oAt=PE,sAt=nAt,aAt=QAe,MIe=bM("IE_PROTO"),oH=function(){},RIe=function(e){return"<script>"+e+"<\/script>"},FIe=function(e){e.write(RIe("")),e.close();var t=e.parentWindow.Object;return e=null,t},EM=function(){try{wM=new ActiveXObject("htmlfile")}catch(t){}EM=document.domain&&wM?FIe(wM):function(){var t,n=aAt("iframe");if(n.style)return n.style.display="none",sAt.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write(RIe("document.F=Object")),t.close(),t.F}()||FIe(wM);for(var e=OIe.length;e--;)delete EM.prototype[OIe[e]];return EM()};oAt[MIe]=!0;var jE=Object.create||function(e,t){var n;return null!==e?(oH.prototype=iAt(e),n=new oH,oH.prototype=null,n[MIe]=e):n=EM(),void 0===t?n:rAt(n,t)},PIe={};PIe[As("toStringTag")]="z";var sH="[object z]"===String(PIe),lAt=sH,xM=TE,uAt=As("toStringTag"),cAt="Arguments"==xM(function(){return arguments}()),XI=lAt?xM:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(r,o){try{return r[o]}catch(s){}}(t=Object(e),uAt))?n:cAt?xM(t):"Object"==(i=xM(t))&&"function"==typeof t.callee?"Arguments":i},gAt=XI,fAt=sH,hAt=Nc.f,CAt=yh,pAt=Nu,AAt=sH?{}.toString:function(){return"[object "+gAt(this)+"]"},LIe=As("toStringTag"),VE=function(e,t,n,i){if(e){var r=n?e:e.prototype;pAt(r,LIe)||hAt(r,LIe,{configurable:!0,value:t}),i&&!fAt&&CAt(r,"toString",AAt)}},Ey={},IAt=rH.IteratorPrototype,mAt=jE,vAt=SE,yAt=VE,bAt=Ey,_At=function(){return this},wAt=Ms,EAt=Ou,DAt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(i){}return function(i,r){return EAt(i),function(e){if(!wAt(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(i,r):i.__proto__=r,i}}():void 0),SAt=yh,aH=function(e,t,n,i){i&&i.enumerable?e[t]=n:SAt(e,t,n)},TAt=Gn,NAt=_M,OAt=VE,MAt=yh,RAt=aH,BIe=Ey,FAt=rH.IteratorPrototype,DM=rH.BUGGY_SAFARI_ITERATORS,lH=As("iterator"),PAt=function(){return this},uH=function(e,t,n,i,r,o,s){!function(e,t,n){var i=t+" Iterator";e.prototype=mAt(IAt,{next:vAt(1,n)}),yAt(e,i,!1,!0),bAt[i]=_At}(n,t,i);var a,l,u,c=function(I){if(I===r&&C)return C;if(!DM&&I in f)return f[I];switch(I){case"keys":case"values":case"entries":return function(){return new n(this,I)}}return function(){return new n(this)}},g=t+" Iterator",d=!1,f=e.prototype,h=f[lH]||f["@@iterator"]||r&&f[r],C=!DM&&h||c(r),p="Array"==t&&f.entries||h;if(p&&(a=NAt(p.call(new e)),FAt!==Object.prototype&&a.next&&(OAt(a,g,!0,!0),BIe[g]=PAt)),"values"==r&&h&&"values"!==h.name&&(d=!0,C=function(){return h.call(this)}),s&&f[lH]!==C&&MAt(f,lH,C),BIe[t]=C,r)if(l={values:c("values"),keys:o?C:c("keys"),entries:c("entries")},s)for(u in l)(DM||d||!(u in f))&&RAt(f,u,l[u]);else TAt({target:t,proto:!0,forced:DM||d},l);return l},LAt=Mpt.charAt,BAt=wp,jAt=uH,VAt=Qd.set,zAt=Qd.getterFor("String Iterator");jAt(String,"String",function(e){VAt(this,{type:"String Iterator",string:BAt(e),index:0})},function(){var e,t=zAt(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=LAt(n,i),t.index+=e.length,{value:e,done:!1})});var HAt=Ou,VIe=function(e){var t=e.return;if(void 0!==t)return HAt(t.call(e)).value},UAt=Ou,GAt=VIe,WAt=Ey,$At=As("iterator"),YAt=Array.prototype,zIe=function(e){return void 0!==e&&(WAt.Array===e||YAt[$At]===e)},qAt=CM,ZAt=Nc,KAt=SE,zE=function(e,t,n){var i=qAt(t);i in e?ZAt.f(e,i,KAt(0,n)):e[i]=n},XAt=XI,QAt=Ey,JAt=As("iterator"),SM=function(e){if(null!=e)return e[JAt]||e["@@iterator"]||QAt[XAt(e)]},eIt=yy,tIt=Kl,nIt=function(e,t,n,i){try{return i?t(UAt(n)[0],n[1]):t(n)}catch(r){throw GAt(e),r}},iIt=zIe,rIt=Oc,HIe=zE,oIt=SM,UIe=As("iterator"),GIe=!1;try{var sIt=0,WIe={next:function(){return{done:!!sIt++}},return:function(){GIe=!0}};WIe[UIe]=function(){return this},Array.from(WIe,function(){throw 2})}catch(e){}Gn({target:"Array",stat:!0,forced:!function(e,t){if(!GIe)return!1;var n=!1;try{var i={};i[UIe]=function(){return{next:function(){return{done:n=!0}}}},function(e){Array.from(e)}(i)}catch(r){}return n}()},{from:function(e){var t,n,i,r,o,s,a=tIt(e),l="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,g=void 0!==c,d=oIt(a),f=0;if(g&&(c=eIt(c,u>2?arguments[2]:void 0,2)),null==d||l==Array&&iIt(d))for(n=new l(t=rIt(a.length));t>f;f++)s=g?c(a[f],f):a[f],HIe(n,f,s);else for(o=(r=d.call(a)).next,n=new l;!(i=o.call(r)).done;f++)s=g?nIt(r,c,[i.value,f],!0):i.value,HIe(n,f,s);return n.length=f,n}});var $Ie=Hi.Array.from,bh=$Ie,lIt=Xd,YIe=Ey,uIt=uH,cIt=Qd.set,gIt=Qd.getterFor("Array Iterator");uIt(Array,"Array",function(e,t){cIt(this,{type:"Array Iterator",target:lIt(e),index:0,kind:t})},function(){var e=gIt(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),YIe.Arguments=YIe.Array;var dIt=SM,hIt=ps,CIt=XI,pIt=yh,ZIe=Ey,KIe=As("toStringTag");for(var cH in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var XIe=hIt[cH],gH=XIe&&XIe.prototype;gH&&CIt(gH)!==KIe&&pIt(gH,KIe,cH),ZIe[cH]=ZIe.Array}var Lg=dIt,AIt=TE,QI=Array.isArray||function(e){return"Array"==AIt(e)},HE={},IIt=sIe,mIt=Zz.concat("length","prototype");HE.f=Object.getOwnPropertyNames||function(e){return IIt(e,mIt)};var TM={},vIt=Xd,QIe=HE.f,yIt={}.toString,JIe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];TM.f=function(e){return JIe&&"[object Window]"==yIt.call(e)?function(t){try{return QIe(t)}catch(n){return JIe.slice()}}(e):QIe(vIt(e))};var kM={};kM.f=As;var eme=Hi,_It=Nu,wIt=kM,EIt=Nc.f,No=function(e){var t=eme.Symbol||(eme.Symbol={});_It(t,e)||EIt(t,e,{value:wIt.f(e)})},xIt=Ms,tme=QI,DIt=As("species"),NM=function(e,t){return new(function(e){var t;return tme(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!tme(t.prototype)?xIt(t)&&null===(t=t[DIt])&&(t=void 0):t=void 0),void 0===t?Array:t}(e))(0===t?0:t)},TIt=yy,kIt=gM,NIt=Kl,OIt=Oc,MIt=NM,nme=[].push,Ep=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(l,u,c,g){for(var d,f,h=NIt(l),C=kIt(h),p=TIt(u,c,3),I=OIt(C.length),m=0,y=g||MIt,_=t?y(l,I):n||s?y(l,0):void 0;I>m;m++)if((a||m in C)&&(f=p(d=C[m],m,h),e))if(t)_[m]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:nme.call(_,d)}else switch(e){case 4:return!1;case 7:nme.call(_,d)}return o?-1:i||r?r:_}},_h={forEach:Ep(0),map:Ep(1),filter:Ep(2),some:Ep(3),every:Ep(4),find:Ep(5),findIndex:Ep(6),filterReject:Ep(7)},xy=Gn,ime=ps,RIt=_p,Dy=Os,JI=Hz,dH=yo,qo=Nu,FIt=QI,PIt=Ms,fH=dM,hH=Ou,LIt=Kl,OM=Xd,CH=CM,rme=wp,pH=SE,UE=jE,ome=LE,BIt=HE,sme=TM,AH=mM,ame=my,lme=Nc,ume=DE,jIt=yh,cme=aH,GE=fM.exports,gme=PE,dme=hM,fme=As,VIt=kM,zIt=No,HIt=VE,hme=Qd,MM=_h.forEach,Xl=bM("hidden"),Cme=fme("toPrimitive"),UIt=hme.set,pme=hme.getterFor("Symbol"),Bg=Object.prototype,Mc=ime.Symbol,WE=RIt("JSON","stringify"),Ame=ame.f,xp=lme.f,Ime=sme.f,GIt=ume.f,wh=GE("symbols"),$E=GE("op-symbols"),IH=GE("string-to-symbol-registry"),mH=GE("symbol-to-string-registry"),WIt=GE("wks"),vH=ime.QObject,yH=!vH||!vH.prototype||!vH.prototype.findChild,bH=Dy&&dH(function(){return 7!=UE(xp({},"a",{get:function(){return xp(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=Ame(Bg,t);i&&delete Bg[t],xp(e,t,n),i&&e!==Bg&&xp(Bg,t,i)}:xp,_H=function(e,t){var n=wh[e]=UE(Mc.prototype);return UIt(n,{type:"Symbol",tag:e,description:t}),Dy||(n.description=t),n},RM=function(e,t,n){e===Bg&&RM($E,t,n),hH(e);var i=CH(t);return hH(n),qo(wh,i)?(n.enumerable?(qo(e,Xl)&&e[Xl][i]&&(e[Xl][i]=!1),n=UE(n,{enumerable:pH(0,!1)})):(qo(e,Xl)||xp(e,Xl,pH(1,{})),e[Xl][i]=!0),bH(e,i,n)):xp(e,i,n)},mme=function(e,t){hH(e);var n=OM(t),i=ome(n).concat(wH(n));return MM(i,function(r){Dy&&!vme.call(n,r)||RM(e,r,n[r])}),e},vme=function(e){var t=CH(e),n=GIt.call(this,t);return!(this===Bg&&qo(wh,t)&&!qo($E,t))&&(!(n||!qo(this,t)||!qo(wh,t)||qo(this,Xl)&&this[Xl][t])||n)},yme=function(e,t){var n=OM(e),i=CH(t);if(n!==Bg||!qo(wh,i)||qo($E,i)){var r=Ame(n,i);return!r||!qo(wh,i)||qo(n,Xl)&&n[Xl][i]||(r.enumerable=!0),r}},bme=function(e){var t=Ime(OM(e)),n=[];return MM(t,function(i){qo(wh,i)||qo(gme,i)||n.push(i)}),n},wH=function(e){var t=e===Bg,n=Ime(t?$E:OM(e)),i=[];return MM(n,function(r){!qo(wh,r)||t&&!qo(Bg,r)||i.push(wh[r])}),i};JI||(cme((Mc=function(){if(this instanceof Mc)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?rme(arguments[0]):void 0,t=dme(e),n=function(i){this===Bg&&n.call($E,i),qo(this,Xl)&&qo(this[Xl],t)&&(this[Xl][t]=!1),bH(this,t,pH(1,i))};return Dy&&yH&&bH(Bg,t,{configurable:!0,set:n}),_H(t,e)}).prototype,"toString",function(){return pme(this).tag}),cme(Mc,"withoutSetter",function(e){return _H(dme(e),e)}),ume.f=vme,lme.f=RM,ame.f=yme,BIt.f=sme.f=bme,AH.f=wH,VIt.f=function(e){return _H(fme(e),e)},Dy&&xp(Mc.prototype,"description",{configurable:!0,get:function(){return pme(this).description}})),xy({global:!0,wrap:!0,forced:!JI,sham:!JI},{Symbol:Mc}),MM(ome(WIt),function(e){zIt(e)}),xy({target:"Symbol",stat:!0,forced:!JI},{for:function(e){var t=rme(e);if(qo(IH,t))return IH[t];var n=Mc(t);return IH[t]=n,mH[n]=t,n},keyFor:function(e){if(!fH(e))throw TypeError(e+" is not a symbol");if(qo(mH,e))return mH[e]},useSetter:function(){yH=!0},useSimple:function(){yH=!1}}),xy({target:"Object",stat:!0,forced:!JI,sham:!Dy},{create:function(e,t){return void 0===t?UE(e):mme(UE(e),t)},defineProperty:RM,defineProperties:mme,getOwnPropertyDescriptor:yme}),xy({target:"Object",stat:!0,forced:!JI},{getOwnPropertyNames:bme,getOwnPropertySymbols:wH}),xy({target:"Object",stat:!0,forced:dH(function(){AH.f(1)})},{getOwnPropertySymbols:function(e){return AH.f(LIt(e))}}),WE&&xy({target:"JSON",stat:!0,forced:!JI||dH(function(){var e=Mc();return"[null]"!=WE([e])||"{}"!=WE({a:e})||"{}"!=WE(Object(e))})},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(PIt(t)||void 0!==e)&&!fH(e))return FIt(t)||(t=function(s,a){if("function"==typeof i&&(a=i.call(this,s,a)),!fH(a))return a}),r[1]=t,WE.apply(null,r)}}),Mc.prototype[Cme]||jIt(Mc.prototype,Cme,Mc.prototype.valueOf),HIt(Mc,"Symbol"),gme[Xl]=!0;var Jd=Hi.Object.getOwnPropertySymbols,_me={exports:{}},$It=Gn,qIt=Xd,wme=my.f,Eme=Os,ZIt=yo(function(){wme(1)});$It({target:"Object",stat:!0,forced:!Eme||ZIt,sham:!Eme},{getOwnPropertyDescriptor:function(e,t){return wme(qIt(e),t)}});var xme=Hi.Object,KIt=_me.exports=function(e,t){return xme.getOwnPropertyDescriptor(e,t)};xme.getOwnPropertyDescriptor.sham&&(KIt.sham=!0);var Dme=_me.exports,ef=Dme,XIt=HE,QIt=mM,JIt=Ou,Sme=_p("Reflect","ownKeys")||function(e){var t=XIt.f(JIt(e)),n=QIt.f;return n?t.concat(n(e)):t},emt=Sme,tmt=Xd,nmt=my,imt=zE;Gn({target:"Object",stat:!0,sham:!Os},{getOwnPropertyDescriptors:function(e){for(var t,n,i=tmt(e),r=nmt.f,o=emt(i),s={},a=0;o.length>a;)void 0!==(n=r(i,t=o[a++]))&&imt(s,t,n);return s}});var tf=Hi.Object.getOwnPropertyDescriptors,Tme={exports:{}};Gn({target:"Object",stat:!0,forced:!Os,sham:!Os},{defineProperties:NIe});var kme=Hi.Object,rmt=Tme.exports=function(e,t){return kme.defineProperties(e,t)};kme.defineProperties.sham&&(rmt.sham=!0);var YE=Tme.exports,Nme={exports:{}};Gn({target:"Object",stat:!0,forced:!Os,sham:!Os},{defineProperty:Nc.f});var Ome=Hi.Object,omt=Nme.exports=function(e,t,n){return Ome.defineProperty(e,t,n)};Ome.defineProperty.sham&&(omt.sham=!0);var Mme=Nme.exports,Sy=Mme;function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Rme=Mme;function Fme(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Rme(e,i.key,i)}}function ht(e,t,n){return t&&Fme(e.prototype,t),n&&Fme(e,n),e}function jg(e,t,n){return t in e?Rme(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gn({target:"Array",stat:!0},{isArray:QI});var Pme=Hi.Array.isArray,Lme=Pme,smt=yo,amt=OE,lmt=As("species"),qE=function(e){return amt>=51||!smt(function(){var t=[];return(t.constructor={})[lmt]=function(){return{foo:1}},1!==t[e](Boolean).foo})},umt=Gn,cmt=yo,gmt=QI,dmt=Ms,fmt=Kl,hmt=Oc,Bme=zE,Cmt=NM,pmt=qE,Amt=OE,jme=As("isConcatSpreadable"),Imt=Amt>=51||!cmt(function(){var e=[];return e[jme]=!1,e.concat()[0]!==e}),mmt=pmt("concat"),vmt=function(e){if(!dmt(e))return!1;var t=e[jme];return void 0!==t?!!t:gmt(e)};umt({target:"Array",proto:!0,forced:!Imt||!mmt},{concat:function(e){var t,n,i,r,o,s=fmt(this),a=Cmt(s,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(vmt(o=-1===t?s:arguments[t])){if(l+(r=hmt(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&Bme(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Bme(a,l++,o)}return a.length=l,a}}),No("asyncIterator"),No("hasInstance"),No("isConcatSpreadable"),No("iterator"),No("match"),No("matchAll"),No("replace"),No("search"),No("species"),No("split"),No("toPrimitive"),No("toStringTag"),No("unscopables"),VE(ps.JSON,"JSON",!0);var Vme=Hi.Symbol;No("asyncDispose"),No("dispose"),No("matcher"),No("metadata"),No("observable"),No("patternMatch"),No("replaceAll");var Ty=Vme,ymt=Gn,bmt=Ms,zme=QI,Hme=IM,_mt=Oc,wmt=Xd,Emt=zE,xmt=As,Dmt=qE("slice"),Smt=xmt("species"),Tmt=[].slice,kmt=Math.max;ymt({target:"Array",proto:!0,forced:!Dmt},{slice:function(e,t){var n,i,r,o=wmt(this),s=_mt(o.length),a=Hme(e,s),l=Hme(void 0===t?s:t,s);if(zme(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!zme(n.prototype)?bmt(n)&&null===(n=n[Smt])&&(n=void 0):n=void 0,n===Array||void 0===n))return Tmt.call(o,a,l);for(i=new(void 0===n?Array:n)(kmt(l-a,0)),r=0;a<l;a++,r++)a in o&&Emt(i,r,o[a]);return i.length=r,i}});var Nmt=ko("Array").slice,Ume=Array.prototype,Gme=function(e){var t=e.slice;return e===Ume||e instanceof Array&&t===Ume.slice?Nmt:t},Omt=Gme,Wme=$Ie;function EH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $me(e,t){var n;if(e){if("string"==typeof e)return EH(e,t);var i=Omt(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Wme(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?EH(e,t):void 0}}function Ti(e,t){return function(n){if(Lme(n))return n}(e)||function(n,i){var r=null==n?null:void 0!==Ty&&Lg(n)||n["@@iterator"];if(null!=r){var o,s,a=[],l=!0,u=!1;try{for(r=r.call(n);!(l=(o=r.next()).done)&&(a.push(o.value),!i||a.length!==i);l=!0);}catch(c){u=!0,s=c}finally{try{l||null==r.return||r.return()}finally{if(u)throw s}}return a}}(e,t)||$me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yme=kM.f("iterator"),Mmt=Yme;function vi(e){return(vi="function"==typeof Ty&&"symbol"==typeof Mmt?function(t){return typeof t}:function(t){return t&&"function"==typeof Ty&&t.constructor===Ty&&t!==Ty.prototype?"symbol":typeof t})(e)}function Yr(e){return function(t){if(Lme(t))return EH(t)}(e)||function(t){if(void 0!==Ty&&null!=Lg(t)||null!=t["@@iterator"])return Wme(t)}(e)||$me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nf=Vme,Rmt=ko("Array").concat,qme=Array.prototype,em=function(e){var t=e.concat;return e===qme||e instanceof Array&&t===qme.concat?Rmt:t},Zo=Gme;Gn({target:"Reflect",stat:!0},{ownKeys:Sme});var Zme=Hi.Reflect.ownKeys,ri=Pme,Fmt=_h.map;Gn({target:"Array",proto:!0,forced:!qE("map")},{map:function(e){return Fmt(this,e,arguments.length>1?arguments[1]:void 0)}});var Pmt=ko("Array").map,Kme=Array.prototype,Is=function(e){var t=e.map;return e===Kme||e instanceof Array&&t===Kme.map?Pmt:t},Lmt=Kl,Xme=LE;Gn({target:"Object",stat:!0,forced:yo(function(){Xme(1)})},{keys:function(e){return Xme(Lmt(e))}});var qr=Hi.Object.keys;Gn({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var FM=Hi.Date.now,Bmt=yo,ky=function(e,t){var n=[][e];return!!n&&Bmt(function(){n.call(null,t||function(){throw 1},1)})},jmt=_h.forEach,Qme=ky("forEach")?[].forEach:function(e){return jmt(this,e,arguments.length>1?arguments[1]:void 0)};Gn({target:"Array",proto:!0,forced:[].forEach!=Qme},{forEach:Qme});var Vmt=ko("Array").forEach,zmt=XI,Jme=Array.prototype,Hmt={DOMTokenList:!0,NodeList:!0},Ui=function(e){var t=e.forEach;return e===Jme||e instanceof Array&&t===Jme.forEach||Hmt.hasOwnProperty(zmt(e))?Vmt:t},Umt=QI,Gmt=[].reverse,e0e=[1,2];Gn({target:"Array",proto:!0,forced:String(e0e)===String(e0e.reverse())},{reverse:function(){return Umt(this)&&(this.length=this.length),Gmt.call(this)}});var Wmt=ko("Array").reverse,t0e=Array.prototype,tm=function(e){var t=e.reverse;return e===t0e||e instanceof Array&&t===t0e.reverse?Wmt:t},$mt=Gn,Ymt=IM,qmt=AM,Zmt=Oc,Kmt=Kl,Xmt=NM,Qmt=zE,Jmt=qE("splice"),e0t=Math.max,t0t=Math.min;$mt({target:"Array",proto:!0,forced:!Jmt},{splice:function(e,t){var n,i,r,o,s,a,l=Kmt(this),u=Zmt(l.length),c=Ymt(e,u),g=arguments.length;if(0===g?n=i=0:1===g?(n=0,i=u-c):(n=g-2,i=t0t(e0t(qmt(t),0),u-c)),u+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=Xmt(l,i),o=0;o<i;o++)(s=c+o)in l&&Qmt(r,o,l[s]);if(r.length=i,n<i){for(o=c;o<u-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=u;o>u-i+n;o--)delete l[o-1]}else if(n>i)for(o=u-i;o>c;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+c]=arguments[o+2];return l.length=u-i+n,r}});var n0t=ko("Array").splice,n0e=Array.prototype,rf=function(e){var t=e.splice;return e===n0e||e instanceof Array&&t===n0e.splice?n0t:t},i0t=Yz.includes;Gn({target:"Array",proto:!0},{includes:function(e){return i0t(this,e,arguments.length>1?arguments[1]:void 0)}});var r0t=ko("Array").includes,o0t=Ms,s0t=TE,a0t=As("match"),u0t=As("match"),c0t=function(e){if(function(e){var t;return o0t(e)&&(void 0!==(t=e[a0t])?!!t:"RegExp"==s0t(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},g0t=kE,i0e=wp;Gn({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[u0t]=!1,"/./"[e](t)}catch(i){}}return!1}("includes")},{includes:function(e){return!!~i0e(g0t(this)).indexOf(i0e(c0t(e)),arguments.length>1?arguments[1]:void 0)}});var d0t=ko("String").includes,f0t=r0t,h0t=d0t,r0e=Array.prototype,o0e=String.prototype,of=function(e){var t=e.includes;return e===r0e||e instanceof Array&&t===r0e.includes?f0t:"string"==typeof e||e===o0e||e instanceof String&&t===o0e.includes?h0t:t},C0t=Kl,s0e=_M,p0t=xIe;Gn({target:"Object",stat:!0,forced:yo(function(){s0e(1)}),sham:!p0t},{getPrototypeOf:function(e){return s0e(C0t(e))}});var a0e=Hi.Object.getPrototypeOf,l0e=a0e,A0t=_h.filter;Gn({target:"Array",proto:!0,forced:!qE("filter")},{filter:function(e){return A0t(this,e,arguments.length>1?arguments[1]:void 0)}});var I0t=ko("Array").filter,u0e=Array.prototype,nr=function(e){var t=e.filter;return e===u0e||e instanceof Array&&t===u0e.filter?I0t:t},m0t=Os,v0t=LE,y0t=Xd,b0t=DE.f,c0e=function(e){return function(t){for(var n,i=y0t(t),r=v0t(i),o=r.length,s=0,a=[];o>s;)n=r[s++],m0t&&!b0t.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},_0t=(c0e(!0),c0e(!1));Gn({target:"Object",stat:!0},{values:function(e){return _0t(e)}});var E0t=kE,x0t=wp,PM="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",D0t=RegExp("^"+PM+PM+"*"),S0t=RegExp(PM+PM+"*$"),xH=function(e){return function(t){var n=x0t(E0t(t));return 1&e&&(n=n.replace(D0t,"")),2&e&&(n=n.replace(S0t,"")),n}},DH={start:xH(1),end:xH(2),trim:xH(3)},T0t=wp,k0t=DH.trim,LM=ps.parseInt,N0t=/^[+-]?0[Xx]/,g0e=8!==LM("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff08")||22!==LM("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff0x16")?function(e,t){var n=k0t(T0t(e));return LM(n,t>>>0||(N0t.test(n)?16:10))}:LM;Gn({global:!0,forced:parseInt!=g0e},{parseInt:g0e});var Vg=Hi.parseInt,O0t=Gn,M0t=Yz.indexOf,R0t=ky,d0e=[].indexOf,f0e=!!d0e&&1/[1].indexOf(1,-0)<0,F0t=R0t("indexOf");O0t({target:"Array",proto:!0,forced:f0e||!F0t},{indexOf:function(e){return f0e?d0e.apply(this,arguments)||0:M0t(this,e,arguments.length>1?arguments[1]:void 0)}});var P0t=ko("Array").indexOf,h0e=Array.prototype,ir=function(e){var t=e.indexOf;return e===h0e||e instanceof Array&&t===h0e.indexOf?P0t:t},L0t=yo,C0e="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",B0t=DH.trim;Gn({target:"String",proto:!0,forced:function(e){return L0t(function(){return!!C0e[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||C0e[e].name!==e})}("trim")},{trim:function(){return B0t(this)}}),ko("String"),Gn({target:"Object",stat:!0,sham:!Os},{create:jE});var j0t=Hi.Object,p0e=function(e,t){return j0t.create(e,t)},Dp=p0e,V0t=Gn,z0t=yo,BM=_p("JSON","stringify"),H0t=/[\uD800-\uDFFF]/g,A0e=/^[\uD800-\uDBFF]$/,I0e=/^[\uDC00-\uDFFF]$/,U0t=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return A0e.test(e)&&!I0e.test(r)||I0e.test(e)&&!A0e.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},G0t=z0t(function(){return'"\\udf06\\ud834"'!==BM("\udf06\ud834")||'"\\udead"'!==BM("\udead")});BM&&V0t({target:"JSON",stat:!0,forced:G0t},{stringify:function(e,t,n){var i=BM.apply(null,arguments);return"string"==typeof i?i.replace(H0t,U0t):i}});var SH=Hi;SH.JSON||(SH.JSON={stringify:JSON.stringify});var Ny=function(e,t,n){return SH.JSON.stringify.apply(null,arguments)},m0e=ps,W0t=[].slice,v0e=function(e){return function(t,n){var i=arguments.length>2,r=i?W0t.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};Gn({global:!0,bind:!0,forced:/MSIE .\./.test(NE)},{setTimeout:v0e(m0e.setTimeout),setInterval:v0e(m0e.setInterval)});var zg=Hi.setTimeout,$0t=Kl,y0e=IM,Y0t=Oc;Gn({target:"Array",proto:!0},{fill:function(e){for(var t=$0t(this),n=Y0t(t.length),i=arguments.length,r=y0e(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,s=void 0===o?n:y0e(o,n);s>r;)t[r++]=e;return t}});var q0t=ko("Array").fill,b0e=Array.prototype,ZE=function(e){var t=e.fill;return e===b0e||e instanceof Array&&t===b0e.fill?q0t:t};function sf(){return(sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Rc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function jM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Sp,nm="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign,_0e=["","webkit","Moz","MS","ms","o"],Z0t="undefined"==typeof document?{style:{}}:document.createElement("div"),Oy=Math.round,im=Math.abs,TH=Date.now;function VM(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<_0e.length;){if((i=(n=_0e[o])?n+r:t)in e)return i;o++}}Sp="undefined"==typeof window?{}:window;var w0e=VM(Z0t.style,"touchAction"),E0e=void 0!==w0e,zM=function(){if(!E0e)return!1;var e={},t=Sp.CSS&&Sp.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||Sp.CSS.supports("touch-action",n)}),e}(),x0e="ontouchstart"in Sp,K0t=void 0!==VM(Sp,"PointerEvent"),X0t=x0e&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),D0e=["x","y"],HM=["clientX","clientY"];function Eh(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function UM(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function rm(e,t){return e.indexOf(t)>-1}var S0e=function(){function e(n,i){this.manager=n,this.set(i)}var t=e.prototype;return t.set=function(n){"compute"===n&&(n=this.compute()),E0e&&this.manager.element.style&&zM[n]&&(this.manager.element.style[w0e]=n),this.actions=n.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var n=[];return Eh(this.manager.recognizers,function(i){UM(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),function(i){if(rm(i,"none"))return"none";var r=rm(i,"pan-x"),o=rm(i,"pan-y");return r&&o?"none":r||o?r?"pan-x":"pan-y":rm(i,"manipulation")?"manipulation":"auto"}(n.join(" "))},t.preventDefaults=function(n){var i=n.srcEvent,r=n.offsetDirection;if(this.manager.session.prevented)i.preventDefault();else{var o=this.actions,s=rm(o,"none")&&!zM.none,a=rm(o,"pan-y")&&!zM["pan-y"],l=rm(o,"pan-x")&&!zM["pan-x"];if(s&&1===n.pointers.length&&n.distance<2&&n.deltaTime<250)return;if(!l||!a)return s||a&&6&r||l&&24&r?this.preventSrc(i):void 0}},t.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function kH(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function T0e(e){var t=e.length;if(1===t)return{x:Oy(e[0].clientX),y:Oy(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:Oy(n/t),y:Oy(i/t)}}function k0e(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Oy(e.pointers[n].clientX),clientY:Oy(e.pointers[n].clientY)},n++;return{timeStamp:TH(),pointers:t,center:T0e(t),deltaX:e.deltaX,deltaY:e.deltaY}}function GM(e,t,n){n||(n=D0e);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function NH(e,t,n){return n||(n=D0e),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}function N0e(e,t){return e===t?1:im(e)>=im(t)?e<0?2:4:t<0?8:16}function O0e(e,t,n){return{x:t/e||0,y:n/e||0}}function J0t(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,s=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=k0e(t)),r>1&&!n.firstMultiple?n.firstMultiple=k0e(t):1===r&&(n.firstMultiple=!1);var C,p,I,m,y,_,o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,l=t.center=T0e(i);t.timeStamp=TH(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=NH(a,l),t.distance=GM(a,l),I=(p=t).center,m=(C=n).offsetDelta||{},y=C.prevDelta||{},_=C.prevInput||{},1!==p.eventType&&4!==_.eventType||(y=C.prevDelta={x:_.deltaX||0,y:_.deltaY||0},m=C.offsetDelta={x:I.x,y:I.y}),p.deltaX=y.x+(I.x-m.x),p.deltaY=y.y+(I.y-m.y),t.offsetDirection=N0e(t.deltaX,t.deltaY);var u,c,g=O0e(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=g.x,t.overallVelocityY=g.y,t.overallVelocity=im(g.x)>im(g.y)?g.x:g.y,t.scale=s?(u=s.pointers,GM((c=i)[0],c[1],HM)/GM(u[0],u[1],HM)):1,t.rotation=s?function(C,p){return NH(p[1],p[0],HM)+NH(C[1],C[0],HM)}(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(C,p){var I,m,y,_,N=C.lastInterval||p,O=p.timeStamp-N.timeStamp;if(8!==p.eventType&&(O>25||void 0===N.velocity)){var k=p.deltaX-N.deltaX,M=p.deltaY-N.deltaY,V=O0e(O,k,M);m=V.x,y=V.y,I=im(V.x)>im(V.y)?V.x:V.y,_=N0e(k,M),C.lastInterval=p}else I=N.velocity,m=N.velocityX,y=N.velocityY,_=N.direction;p.velocity=I,p.velocityX=m,p.velocityY=y,p.direction=_}(n,t);var d,f=e.element,h=t.srcEvent;kH(d=h.composedPath?h.composedPath()[0]:h.path?h.path[0]:h.target,f)&&(f=d),t.target=f}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function KE(e){return e.trim().split(/\s+/g)}function XE(e,t,n){Eh(KE(t),function(i){e.addEventListener(i,n,!1)})}function QE(e,t,n){Eh(KE(t),function(i){e.removeEventListener(i,n,!1)})}function M0e(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var My=function(){function e(n,i){var r=this;this.manager=n,this.callback=i,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(o){UM(n.options.enable,[n])&&r.handler(o)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&XE(this.element,this.evEl,this.domHandler),this.evTarget&&XE(this.target,this.evTarget,this.domHandler),this.evWin&&XE(M0e(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&QE(this.element,this.evEl,this.domHandler),this.evTarget&&QE(this.target,this.evTarget,this.domHandler),this.evWin&&QE(M0e(this.element),this.evWin,this.domHandler)},e}();function om(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var evt={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},tvt={2:"touch",3:"pen",4:"mouse",5:"kinect"},R0e="pointerdown",F0e="pointermove pointerup pointercancel";Sp.MSPointerEvent&&!Sp.PointerEvent&&(R0e="MSPointerDown",F0e="MSPointerMove MSPointerUp MSPointerCancel");var P0e=function(e){function t(){var n,i=t.prototype;return i.evEl=R0e,i.evWin=F0e,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Rc(t,e),t.prototype.handler=function(n){var i=this.store,r=!1,o=n.type.toLowerCase().replace("ms",""),s=evt[o],a=tvt[n.pointerType]||n.pointerType,l="touch"===a,u=om(i,n.pointerId,"pointerId");1&s&&(0===n.button||l)?u<0&&(i.push(n),u=i.length-1):12&s&&(r=!0),u<0||(i[u]=n,this.callback(this.manager,s,{pointers:i,changedPointers:[n],pointerType:a,srcEvent:n}),r&&i.splice(u,1))},t}(My);function JE(e){return Array.prototype.slice.call(e,0)}function OH(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];om(r,s)<0&&i.push(e[o]),r[o]=s,o++}return n&&(i=t?i.sort(function(a,l){return a[t]>l[t]}):i.sort()),i}var nvt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},MH=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return Rc(t,e),t.prototype.handler=function(n){var i=nvt[n.type],r=ivt.call(this,n,i);r&&this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:n})},t}(My);function ivt(e,t){var n,i,r=JE(e.touches),o=this.targetIds;if(3&t&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=JE(e.changedTouches),a=[],l=this.target;if(i=r.filter(function(u){return kH(u.target,l)}),1===t)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<s.length;)o[s[n].identifier]&&a.push(s[n]),12&t&&delete o[s[n].identifier],n++;return a.length?[OH(i.concat(a),"identifier",!0),a]:void 0}var rvt={mousedown:1,mousemove:2,mouseup:4},RH=function(e){function t(){var n,i=t.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return Rc(t,e),t.prototype.handler=function(n){var i=rvt[n.type];1&i&&0===n.button&&(this.pressed=!0),2&i&&1!==n.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[n],changedPointers:[n],pointerType:"mouse",srcEvent:n}))},t}(My);function L0e(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout(function(){var r=i.indexOf(n);r>-1&&i.splice(r,1)},2500)}}function ovt(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,L0e.call(this,t)):12&e&&L0e.call(this,t)}function svt(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),s=Math.abs(n-r.y);if(o<=25&&s<=25)return!0}return!1}var B0e=function(e){function t(n,i){var r;return(r=e.call(this,n,i)||this).handler=function(o,s,a){var u="mouse"===a.pointerType;if(!(u&&a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents)){if("touch"===a.pointerType)ovt.call(jM(jM(r)),s,a);else if(u&&svt.call(jM(jM(r)),a))return;r.callback(o,s,a)}},r.touch=new MH(r.manager,r.handler),r.mouse=new RH(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Rc(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(My);function Ry(e,t,n){return!!Array.isArray(e)&&(Eh(e,n[t],n),!0)}var avt=1;function WM(e,t){var n=t.manager;return n?n.get(e):e}function j0e(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var ex=function(){function e(n){void 0===n&&(n={}),this.options=sf({enable:!0},n),this.id=avt++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(n){return nm(this.options,n),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(n){if(Ry(n,"recognizeWith",this))return this;var i=this.simultaneous;return i[(n=WM(n,this)).id]||(i[n.id]=n,n.recognizeWith(this)),this},t.dropRecognizeWith=function(n){return Ry(n,"dropRecognizeWith",this)||(n=WM(n,this),delete this.simultaneous[n.id]),this},t.requireFailure=function(n){if(Ry(n,"requireFailure",this))return this;var i=this.requireFail;return-1===om(i,n=WM(n,this))&&(i.push(n),n.requireFailure(this)),this},t.dropRequireFailure=function(n){if(Ry(n,"dropRequireFailure",this))return this;n=WM(n,this);var i=om(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},t.emit=function(n){var i=this,r=this.state;function o(s){i.manager.emit(s,n)}r<8&&o(i.options.event+j0e(r)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),r>=8&&o(i.options.event+j0e(r))},t.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=32},t.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(33&this.requireFail[n].state))return!1;n++}return!0},t.recognize=function(n){var i=nm({},n);if(!UM(this.options.enable,[this,i]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(i),30&this.state&&this.tryEmit(i)},t.process=function(n){},t.getTouchAction=function(){},t.reset=function(){},e}(),FH=function(e){function t(i){var r;return void 0===i&&(i={}),(r=e.call(this,sf({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){return["manipulation"]},n.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,a=i.distance<o.threshold,l=i.deltaTime<o.time;if(this.reset(),1&i.eventType&&0===this.count)return this.failTimeout();if(a&&l&&s){if(4!==i.eventType)return this.failTimeout();var u=!this.pTime||i.timeStamp-this.pTime<o.interval,c=!this.pCenter||GM(this.pCenter,i.center)<o.posThreshold;if(this.pTime=i.timeStamp,this.pCenter=i.center,c&&u?this.count+=1:this.count=1,this._input=i,this.count%o.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.interval),2):8}return 32},n.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=32},this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(ex),Fy=function(e){function t(i){return void 0===i&&(i={}),e.call(this,sf({pointers:1},i))||this}Rc(t,e);var n=t.prototype;return n.attrTest=function(i){var r=this.options.pointers;return 0===r||i.pointers.length===r},n.process=function(i){var r=this.state,o=i.eventType,s=6&r,a=this.attrTest(i);return s&&(8&o||!a)?16|r:s||a?4&o?8|r:2&r?4|r:2:32},t}(ex);function V0e(e){return 16===e?"down":8===e?"up":2===e?"left":4===e?"right":""}var PH=function(e){function t(i){var r;return void 0===i&&(i={}),(r=e.call(this,sf({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,r.pY=null,r}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){var i=this.options.direction,r=[];return 6&i&&r.push("pan-y"),24&i&&r.push("pan-x"),r},n.directionTest=function(i){var r=this.options,o=!0,s=i.distance,a=i.direction,l=i.deltaX,u=i.deltaY;return a&r.direction||(6&r.direction?(a=0===l?1:l<0?2:4,o=l!==this.pX,s=Math.abs(i.deltaX)):(a=0===u?1:u<0?8:16,o=u!==this.pY,s=Math.abs(i.deltaY))),i.direction=a,o&&s>r.threshold&&a&r.direction},n.attrTest=function(i){return Fy.prototype.attrTest.call(this,i)&&(2&this.state||!(2&this.state)&&this.directionTest(i))},n.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var r=V0e(i.direction);r&&(i.additionalEvent=this.options.event+r),e.prototype.emit.call(this,i)},t}(Fy),z0e=function(e){function t(i){return void 0===i&&(i={}),e.call(this,sf({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){return PH.prototype.getTouchAction.call(this)},n.attrTest=function(i){var r,o=this.options.direction;return 30&o?r=i.overallVelocity:6&o?r=i.overallVelocityX:24&o&&(r=i.overallVelocityY),e.prototype.attrTest.call(this,i)&&o&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&im(r)>this.options.velocity&&4&i.eventType},n.emit=function(i){var r=V0e(i.offsetDirection);r&&this.manager.emit(this.options.event+r,i),this.manager.emit(this.options.event,i)},t}(Fy),H0e=function(e){function t(i){return void 0===i&&(i={}),e.call(this,sf({event:"pinch",threshold:0,pointers:2},i))||this}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(i){return e.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||2&this.state)},n.emit=function(i){1!==i.scale&&(i.additionalEvent=this.options.event+(i.scale<1?"in":"out")),e.prototype.emit.call(this,i)},t}(Fy),U0e=function(e){function t(i){return void 0===i&&(i={}),e.call(this,sf({event:"rotate",threshold:0,pointers:2},i))||this}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){return["none"]},n.attrTest=function(i){return e.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||2&this.state)},t}(Fy),G0e=function(e){function t(i){var r;return void 0===i&&(i={}),(r=e.call(this,sf({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,r._input=null,r}Rc(t,e);var n=t.prototype;return n.getTouchAction=function(){return["auto"]},n.process=function(i){var r=this,o=this.options,s=i.pointers.length===o.pointers,a=i.distance<o.threshold,l=i.deltaTime>o.time;if(this._input=i,!a||!s||12&i.eventType&&!l)this.reset();else if(1&i.eventType)this.reset(),this._timer=setTimeout(function(){r.state=8,r.tryEmit()},o.time);else if(4&i.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(i){8===this.state&&(i&&4&i.eventType?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=TH(),this.manager.emit(this.options.event,this._input)))},t}(ex),W0e={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$0e=[[U0e,{enable:!1}],[H0e,{enable:!1},["rotate"]],[z0e,{direction:6}],[PH,{direction:6},["swipe"]],[FH],[FH,{event:"doubletap",taps:2},["tap"]],[G0e]];function Y0e(e,t){var n,i=e.element;i.style&&(Eh(e.options.cssProps,function(r,o){n=VM(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var q0e=function(){function e(n,i){var o=this;this.options=nm({},W0e,i||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=new(this.options.inputClass||(K0t?P0e:X0t?MH:x0e?B0e:RH))(this,J0t),this.touchAction=new S0e(this,this.options.touchAction),Y0e(this,!0),Eh(this.options.recognizers,function(s){var a=o.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var t=e.prototype;return t.set=function(n){return nm(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},t.stop=function(n){this.session.stopped=n?2:1},t.recognize=function(n){var i=this.session;if(!i.stopped){var r;this.touchAction.preventDefaults(n);var o=this.recognizers,s=i.curRecognizer;(!s||s&&8&s.state)&&(i.curRecognizer=null,s=null);for(var a=0;a<o.length;)r=o[a],2===i.stopped||s&&r!==s&&!r.canRecognizeWith(s)?r.reset():r.recognize(n),!s&&14&r.state&&(i.curRecognizer=r,s=r),a++}},t.get=function(n){if(n instanceof ex)return n;for(var i=this.recognizers,r=0;r<i.length;r++)if(i[r].options.event===n)return i[r];return null},t.add=function(n){if(Ry(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},t.remove=function(n){if(Ry(n,"remove",this))return this;var i=this.get(n);if(n){var r=this.recognizers,o=om(r,i);-1!==o&&(r.splice(o,1),this.touchAction.update())}return this},t.on=function(n,i){if(void 0===n||void 0===i)return this;var r=this.handlers;return Eh(KE(n),function(o){r[o]=r[o]||[],r[o].push(i)}),this},t.off=function(n,i){if(void 0===n)return this;var r=this.handlers;return Eh(KE(n),function(o){i?r[o]&&r[o].splice(om(r[o],i),1):delete r[o]}),this},t.emit=function(n,i){var s,a,l;this.options.domEvents&&(s=n,a=i,(l=document.createEvent("Event")).initEvent(s,!0,!0),l.gesture=a,a.target.dispatchEvent(l));var r=this.handlers[n]&&this.handlers[n].slice();if(r&&r.length){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](i),o++}},t.destroy=function(){this.element&&Y0e(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),lvt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},uvt=function(e){function t(){var n,i=t.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return Rc(t,e),t.prototype.handler=function(n){var i=lvt[n.type];if(1===i&&(this.started=!0),this.started){var r=cvt.call(this,n,i);12&i&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:r[0],changedPointers:r[1],pointerType:"touch",srcEvent:n})}},t}(My);function cvt(e,t){var n=JE(e.touches),i=JE(e.changedTouches);return 12&t&&(n=OH(n.concat(i),"identifier",!0)),[n,i]}function Z0e(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var r=new Error("get-stack-trace"),o=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),e.apply(this,arguments)}}var K0e=Z0e(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),gvt=Z0e(function(e,t){return K0e(e,t,!0)},"merge","Use `assign`.");function dvt(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&nm(i,n)}function X0e(e,t){return function(){return e.apply(t,arguments)}}var fvt=function(){var e=function(t,n){return void 0===n&&(n={}),new q0e(t,sf({recognizers:$0e.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=16,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=16,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=32,e.Manager=q0e,e.Input=My,e.TouchAction=S0e,e.TouchInput=MH,e.MouseInput=RH,e.PointerEventInput=P0e,e.TouchMouseInput=B0e,e.SingleTouchInput=uvt,e.Recognizer=ex,e.AttrRecognizer=Fy,e.Tap=FH,e.Pan=PH,e.Swipe=z0e,e.Pinch=H0e,e.Rotate=U0e,e.Press=G0e,e.on=XE,e.off=QE,e.each=Eh,e.merge=gvt,e.extend=K0e,e.bindFn=X0e,e.assign=nm,e.inherit=dvt,e.bindFn=X0e,e.prefixed=VM,e.toArray=JE,e.inArray=om,e.uniqueArray=OH,e.splitStr=KE,e.boolOrFn=UM,e.hasParent=kH,e.addEventListeners=XE,e.removeEventListeners=QE,e.defaults=nm({},W0e,{preset:$0e}),e}();function LH(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return Q0e(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Q0e(l,u)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Q0e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var BH=nf("DELETE");function J0e(){var e=$M.apply(void 0,arguments);return tve(e),e}function $M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)return t[0];var i;if(t.length>2)return $M.apply(void 0,em(i=[J0e(t[0],t[1])]).call(i,Yr(Zo(t).call(t,2))));var r,o=t[0],s=t[1],a=LH(Zme(s));try{for(a.s();!(r=a.n()).done;){var l=r.value;Object.prototype.propertyIsEnumerable.call(s,l)&&(s[l]===BH?delete o[l]:o[l]=null===o[l]||null===s[l]||"object"!==vi(o[l])||"object"!==vi(s[l])||ri(o[l])||ri(s[l])?eve(s[l]):$M(o[l],s[l]))}}catch(u){a.e(u)}finally{a.f()}return o}function eve(e){return ri(e)?Is(e).call(e,function(t){return eve(t)}):"object"===vi(e)&&null!==e?$M({},e):e}function tve(e){for(var t=0,n=qr(e);t<n.length;t++){var i=n[t];e[i]===BH?delete e[i]:"object"===vi(e[i])&&null!==e[i]&&tve(e[i])}}function YM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hvt(t.length?t:[FM()])}function hvt(e){var t=Ti(function(){for(var a=Cvt(),l=a(" "),u=a(" "),c=a(" "),g=0;g<arguments.length;g++)(l-=a(g<0||arguments.length<=g?void 0:arguments[g]))<0&&(l+=1),(u-=a(g<0||arguments.length<=g?void 0:arguments[g]))<0&&(u+=1),(c-=a(g<0||arguments.length<=g?void 0:arguments[g]))<0&&(c+=1);return[l,u,c]}(e),3),n=t[0],i=t[1],r=t[2],o=1,s=function(){var a=2091639*n+2.3283064365386963e-10*o;return n=i,i=r,r=a-(o=0|a)};return s.uint32=function(){return 4294967296*s()},s.fract53=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.algorithm="Alea",s.seed=e,s.version="0.9",s}function Cvt(){var e=4022871197;return function(t){for(var n=t.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(e+=n.charCodeAt(i));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}var jH="undefined"!=typeof window?window.Hammer||fvt:function(){return{on:e=function(){},off:e,destroy:e,emit:e,get:function(){return{set:e}}};var e};function af(e){var t,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)});var i=jH(this._dom.overlay);i.on("tap",rt(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){i.destroy()});var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ui(r).call(r,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){(function(s,a){for(;s;){if(s===a)return!0;s=s.parentNode}return!1})(o.target,e)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",n._onClick)})),this._escListener=function(o){("key"in o?"Escape"===o.key:27===o.keyCode)&&n.deactivate()}}IIe(af.prototype),af.current=null,af.prototype.destroy=function(){var e,t;this.deactivate();var n,i=LH(tm(e=rf(t=this._cleanupQueue).call(t,0)).call(e));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}},af.prototype.activate=function(){af.current&&af.current.deactivate(),af.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},af.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},af.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var pvt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Avt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ivt=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,mvt=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Tp(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(Tp(t),e.removeChild(t))}}function kp(e){return e instanceof String||"string"==typeof e}function nve(e){return"object"===vi(e)&&null!==e}function sm(e,t,n,i){var r=!1;!0===i&&(r=null===t[n]&&void 0!==e[n]),r?delete e[n]:e[n]=t[n]}function ive(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e)if(void 0!==t[i])if(null===t[i]||"object"!==vi(t[i]))sm(e,t,i,n);else{var r=e[i],o=t[i];nve(r)&&nve(o)&&ive(r,o,n)}}function Py(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ri(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<e.length;r++){var o=e[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?Br(t[o],n[o],!1,i):sm(t,n,o,i);else{if(ri(n[o]))throw new TypeError("Arrays are not supported by deepExtend");sm(t,n,o,i)}}return t}function qM(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(ri(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!of(e).call(e,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?Br(t[r],n[r]):sm(t,n,r,i);else if(ri(n[r])){t[r]=[];for(var o=0;o<n[r].length;o++)t[r].push(n[r][o])}else sm(t,n,r,i);return t}function Br(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)||!0===n)if("object"===vi(t[r])&&null!==t[r]&&l0e(t[r])===Object.prototype)void 0===e[r]?e[r]=Br({},t[r],n):"object"===vi(e[r])&&null!==e[r]&&l0e(e[r])===Object.prototype?Br(e[r],t[r],n):sm(e,t,r,i);else if(ri(t[r])){var o;e[r]=Zo(o=t[r]).call(o)}else sm(e,t,r,i);return e}function ZM(e,t){var n;return em(n=[]).call(n,Yr(e),[t])}function vvt(e){return Zo(e).call(e)}function yvt(e){return e.getBoundingClientRect().top}function Ai(e,t){if(ri(e))for(var n=e.length,i=0;i<n;i++)t(e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function VH(e){var t;switch(e.length){case 3:case 4:return(t=Avt.exec(e))?{r:Vg(t[1]+t[1],16),g:Vg(t[2]+t[2],16),b:Vg(t[3]+t[3],16)}:null;case 6:case 7:return(t=pvt.exec(e))?{r:Vg(t[1],16),g:Vg(t[2],16),b:Vg(t[3],16)}:null;default:return null}}function Fc(e,t){if(of(e).call(e,"rgba"))return e;if(of(e).call(e,"rgb")){var n=e.substr(ir(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}var i=VH(e);return null==i?e:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}function rve(e,t,n){var i;return"#"+Zo(i=((1<<24)+(e<<16)+(t<<8)+n).toString(16)).call(i,1)}function zH(e,t){if(kp(e)){var n=e;if(sve(n)){var i,r=Is(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,function(c){return Vg(c)});n=rve(r[0],r[1],r[2])}if(!0===ove(n)){var o=function(c){var g=VH(c);if(!g)throw new TypeError("'".concat(c,"' is not a valid color."));return tx(g.r,g.g,g.b)}(n),s={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},a={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=HH(a.h,a.s,a.v),u=HH(s.h,s.s,s.v);return{background:n,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:kp(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:kp(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:kp(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:kp(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function tx(e,t,n){e/=255,t/=255,n/=255;var i=Math.min(e,Math.min(t,n)),r=Math.max(e,Math.max(t,n));return i===r?{h:0,s:0,v:i}:{h:60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(r-i))/360,s:(r-i)/r,v:r}}function KM(e,t,n){var i,r,o,s=Math.floor(6*e),a=6*e-s,l=n*(1-t),u=n*(1-a*t),c=n*(1-(1-a)*t);switch(s%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function HH(e,t,n){var i=KM(e,t,n);return rve(i.r,i.g,i.b)}function ove(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function sve(e){return Ivt.test(e)}function bvt(e){return mvt.test(e)}function Np(e){if(null===e||"object"!==vi(e))return null;if(e instanceof Element)return e;var t=Dp(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==vi(e[n])&&(t[n]=Np(e[n]));return t}function Pc(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(f){return null!=f},o=function(f){return null!==f&&"object"===vi(f)},s=function(f){for(var h in f)if(Object.prototype.hasOwnProperty.call(f,h))return!1;return!0};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=function(f,h,C){o(f[C])||(f[C]={});var p=h[C],I=f[C];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(I[m]=p[m])},l=t[n],u=o(i)&&!s(i),c=u?i[n]:void 0,g=c?c.enabled:void 0;if(void 0!==l){if("boolean"==typeof l)return o(e[n])||(e[n]={}),void(e[n].enabled=l);if(null===l&&!o(e[n])){if(!r(c))return;e[n]=Dp(c)}if(o(l)){var d=!0;void 0!==l.enabled?d=l.enabled:void 0!==g&&(d=c.enabled),a(e,t,n),e[n].enabled=d}}}var _vt={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function Op(e,t){var n;ri(t)||(t=[t]);var i,r=LH(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[t[0]];for(var s=1;s<t.length;s++)n&&(n=n[t[s]]);if(void 0!==n)break}}}catch(a){r.e(a)}finally{r.f()}return n}var wvt={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Evt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;ft(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return ht(e,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return wvt[t]}},{key:"setColor",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,r=this._isColorString(t);if(void 0!==r&&(t=r),!0===kp(t)){if(!0===sve(t)){var o=t.substr(4).substr(0,t.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(!0===bvt(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===ove(t)){var a=VH(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ny(t));this._setColor(i,n)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===n&&(this.previousColor=bo({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",zg(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===n&&(this.initialColor=bo({},t)),this.color=t;var i=tx(t.r,t.g,t.b),r=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(r*i.h),a=this.centerCoordinates.y+o*Math.cos(r*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var n=tx(this.color.r,this.color.g,this.color.b);n.v=t/100;var i=KM(n.h,n.s,n.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,n=tx(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,r,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-n.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ZE(i).call(i),this.brightnessRange.value=100*n.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,n,i,r;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(l){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(l){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var a=this;this.opacityRange.onchange=function(){a._setOpacity(this.value)},this.opacityRange.oninput=function(){a._setOpacity(this.value)},this.brightnessRange.onchange=function(){a._setBrightness(this.value)},this.brightnessRange.oninput=function(){a._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=rt(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=rt(n=this._apply).call(n,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=rt(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=rt(r=this._loadLast).call(r,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new jH(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(n){n.isFirst&&t._moveSelector(n)}),this.hammer.on("tap",function(n){t._moveSelector(n)}),this.hammer.on("panstart",function(n){t._moveSelector(n)}),this.hammer.on("panmove",function(n){t._moveSelector(n)}),this.hammer.on("panend",function(n){t._moveSelector(n)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n,i,r,o,s=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,s,a),this.centerCoordinates={x:.5*s,y:.5*a},this.r=.49*s;var l,u=2*Math.PI/360,c=1/this.r;for(r=0;r<360;r++)for(o=0;o<this.r;o++)n=this.centerCoordinates.x+o*Math.sin(u*r),i=this.centerCoordinates.y+o*Math.cos(u*r),l=KM(.002777777777777778*r,o*c,1),t.fillStyle="rgb("+l.r+","+l.g+","+l.b+")",t.fillRect(n-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,s,a)}this.generated=!0}},{key:"_moveSelector",value:function(t){var n=this.colorPickerDiv.getBoundingClientRect(),o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=t.center.x-n.left-s,l=t.center.y-n.top-o,u=Math.atan2(a,l),c=.98*Math.min(Math.sqrt(a*a+l*l),s),g=Math.cos(u)*c+o,d=Math.sin(u)*c+s;this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";var f=u/(2*Math.PI);f=f<0?f+1:f;var h=c/this.r,C=tx(this.color.r,this.color.g,this.color.b);C.h=f,C.s=h;var p=KM(C.h,C.s,C.v);p.a=this.color.a,this.color=p,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function UH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(UH.apply(void 0,Yr(Zo(t).call(t,1)))),i}var ave,nx=!1,xvt=af,Dvt=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};ft(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},bo(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Evt(r),this.wrapper=void 0}return ht(e,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var n=!0;if("string"==typeof t)this.options.filter=t;else if(ri(t))this.options.filter=t.join();else if("object"===vi(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==nr(t)&&(this.options.filter=nr(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(n=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,n=t):"function"==typeof t&&(this.options.filter=t,n=!0);!1===nr(this.options)&&(n=!1),this.options.enabled=n}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=nr(this.options),n=0,i=!1;for(var r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==t&&-1===ir(t).call(t,r)||(i=!0),!1!==i&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),n++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var n=this.moduleOptions,i=0;i<t.length;i++){if(void 0===n[t[i]]){n=void 0;break}n=n[t[i]]}return n}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var n=document.createElement("div");n.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return Ui(r).call(r,function(s){n.appendChild(s)}),this.domElements.push(n),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var n=document.createElement("div");n.className="vis-configuration vis-config-header",n.innerText=t,this._makeItem([],n)}},{key:"_makeLabel",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+n.length,!0===i){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(UH("i","b",t))}else r.innerText=t+":";return r}},{key:"_makeDropdown",value:function(t,n,i){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var o=0;void 0!==n&&-1!==ir(t).call(t,n)&&(o=ir(t).call(t,n));for(var s=0;s<t.length;s++){var a=document.createElement("option");a.value=t[s],s===o&&(a.selected="selected"),a.innerText=t[s],r.appendChild(a)}var l=this;r.onchange=function(){l._update(this.value,i)};var u=this._makeLabel(i[i.length-1],i);this._makeItem(i,u,r)}},{key:"_makeRange",value:function(t,n,i){var r=t[0],o=t[1],s=t[2],a=t[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=s}catch(p){}l.step=a;var u="",c=0;if(void 0!==n){var g=1.2;n<0&&n*g<o?(l.min=Math.ceil(n*g),c=l.min,u="range increased"):n/g<o&&(l.min=Math.ceil(n/g),c=l.min,u="range increased"),n*g>s&&1!==s&&(l.max=Math.ceil(n*g),c=l.max,u="range increased"),l.value=n}else l.value=r;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;var f=this;l.onchange=function(){d.value=this.value,f._update(Number(this.value),i)},l.oninput=function(){d.value=this.value};var h=this._makeLabel(i[i.length-1],i),C=this._makeItem(i,h,l,d);""!==u&&this.popupHistory[C]!==c&&(this.popupHistory[C]=c,this._setupPopup(u,C))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var n=document.createElement("div");n.className="vis-configuration vis-config-button",n.innerText="generate options",n.onclick=function(){t._printOptions()},n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"},n.onmouseout=function(){n.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(n)}}},{key:"_setupPopup",value:function(t,n){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=t,r.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:n}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var n=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=n.left+"px",this.popupDiv.html.style.top=n.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=zg(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=zg(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,n,i){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=t,void 0!==n&&(r.checked=n,n!==t&&("object"===vi(t)?n!==t.enabled&&this.changedOptions.push({path:i,value:n}):this.changedOptions.push({path:i,value:n})));var o=this;r.onchange=function(){o._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeTextInput",value:function(t,n,i){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=n,n!==t&&this.changedOptions.push({path:i,value:n});var o=this;r.onchange=function(){o._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_makeColorField",value:function(t,n,i){var r=this,o=t[1],s=document.createElement("div");"none"!==(n=void 0===n?o:n)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=n):s.className="vis-configuration vis-config-colorBlock none",n=void 0===n?o:n,s.onclick=function(){r._showColorPicker(n,s,i)};var a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,s)}},{key:"_showColorPicker",value:function(t,n,i){var r=this;n.onclick=function(){},this.colorPicker.insertTo(n),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(o){var s="rgba("+o.r+","+o.g+","+o.b+","+o.a+")";n.style.backgroundColor=s,r._update(s,i)}),this.colorPicker.setCloseCallback(function(){n.onclick=function(){r._showColorPicker(t,n,i)}})}},{key:"_handleObject",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,o=nr(this.options),s=!1;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){r=!0;var l=t[a],u=ZM(n,a);if("function"==typeof o&&!1===(r=o(a,n))&&!ri(l)&&"string"!=typeof l&&"boolean"!=typeof l&&l instanceof Object&&(this.allowCreation=!1,r=this._handleObject(l,u,!0),this.allowCreation=!1===i),!1!==r){s=!0;var c=this._getValue(u);if(ri(l))this._handleArray(l,c,u);else if("string"==typeof l)this._makeTextInput(l,c,u);else if("boolean"==typeof l)this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(n,a,this.moduleOptions))if(void 0!==l.enabled){var g=ZM(u,"enabled"),d=this._getValue(g);if(!0===d){var f=this._makeLabel(a,u,!0);this._makeItem(u,f),s=this._handleObject(l,u)||s}else this._makeCheckbox(l,d,u)}else{var h=this._makeLabel(a,u,!0);this._makeItem(u,h),s=this._handleObject(l,u)||s}}else console.error("dont know how to handle",l,a,u)}}return s}},{key:"_handleArray",value:function(t,n,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,n,i),t[1]!==n&&this.changedOptions.push({path:i,value:n})):"string"==typeof t[0]?(this._makeDropdown(t,n,i),t[0]!==n&&this.changedOptions.push({path:i,value:n})):"number"==typeof t[0]&&(this._makeRange(t,n,i),t[0]!==n&&this.changedOptions.push({path:i,value:Number(n)}))}},{key:"_update",value:function(t,n){var i=this._constructOptions(t,n);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<n.length;o++)"global"!==n[o]&&(void 0===r[n[o]]&&(r[n[o]]={}),o!==n.length-1?r=r[n[o]]:r[n[o]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(UH("pre","const options = "+Ny(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},n=0;n<this.changedOptions.length;n++)this._constructOptions(this.changedOptions[n].value,this.changedOptions[n].path,t);return t}}]),e}(),Ly=jH,Svt=function(){function e(t,n){ft(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return ht(e,[{key:"setPosition",value:function(t,n){this.x=Vg(t),this.y=Vg(n)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var n=this.frame.clientHeight,i=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,s=0,a=0;if("flip"==this.overflowMethod){var l=!1,u=!0;this.y-n<this.padding&&(u=!1),this.x+i>o-this.padding&&(l=!0),s=l?this.x-i:this.x,a=u?this.y-n:this.y}else(a=this.y-n)+n+this.padding>r&&(a=r-n-this.padding),a<this.padding&&(a=this.padding),(s=this.x)+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),Tvt=function(){function e(){ft(this,e)}return ht(e,null,[{key:"validate",value:function(t,n,i){nx=!1,ave=n;var r=n;return void 0!==i&&(r=n[i]),e.parse(t,r,[]),nx}},{key:"parse",value:function(t,n,i){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.check(r,t,n,i)}},{key:"check",value:function(t,n,i,r){if(void 0!==i[t]||void 0!==i.__any__){var o=t,s=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",s="object"===e.getType(n[t]));var a=i[o];s&&void 0!==a.__type__&&(a=a.__type__),e.checkFields(t,n,i,o,a,r)}else e.getSuggestion(t,i,r)}},{key:"checkFields",value:function(t,n,i,r,o,s){var a=function(c){console.error("%c"+c+e.printLocation(s,t),"background: #FFeeee; color: #dd0000")},l=e.getType(n[t]),u=o[l];void 0!==u?"array"===e.getType(u)&&-1===ir(u).call(u,n[t])?(a('Invalid option detected in "'+t+'". Allowed values are:'+e.print(u)+' not "'+n[t]+'". '),nx=!0):"object"===l&&"__any__"!==r&&(s=ZM(s,t),e.parse(n[t],i[r],s)):void 0===o.any&&(a('Invalid type received for "'+t+'". Expected: '+e.print(qr(o))+". Received ["+l+'] "'+n[t]+'"'),nx=!0)}},{key:"getType",value:function(t){var n=vi(t);return"object"===n?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":ri(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===n?"number":"boolean"===n?"boolean":"string"===n?"string":void 0===n?"undefined":n}},{key:"getSuggestion",value:function(t,n,i){var r,o=e.findInOptions(t,n,i,!1),s=e.findInOptions(t,ave,[],!0);r=void 0!==o.indexMatch?" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':s.distance<=4&&o.distance>s.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(s.path,s.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print(qr(n))+e.printLocation(i,t),console.error('%cUnknown option detected: "'+t+'"'+r,"background: #FFeeee; color: #dd0000"),nx=!0}},{key:"findInOptions",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=1e9,s="",a=[],l=t.toLowerCase(),u=void 0;for(var c in n){var g=void 0;if(void 0!==n[c].__type__&&!0===r){var d=e.findInOptions(t,n[c],ZM(i,c));o>d.distance&&(s=d.closestMatch,a=d.path,o=d.distance,u=d.indexMatch)}else{var f;-1!==ir(f=c.toLowerCase()).call(f,l)&&(u=c),o>(g=e.levenshteinDistance(t,c))&&(s=c,a=vvt(i),o=g)}}return{closestMatch:s,path:a,distance:o,indexMatch:u}}},{key:"printLocation",value:function(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",r="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var s=0;s<o+1;s++)r+="  ";r+=t[o]+": {\n"}for(var a=0;a<t.length+1;a++)r+="  ";r+=n+"\n";for(var l=0;l<t.length+1;l++){for(var u=0;u<t.length-l;u++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(t){return Ny(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,n){if(0===t.length)return n.length;if(0===n.length)return t.length;var i,r,o=[];for(i=0;i<=n.length;i++)o[i]=[i];for(r=0;r<=t.length;r++)o[0][r]=r;for(i=1;i<=n.length;i++)for(r=1;r<=t.length;r++)o[i][r]=n.charAt(i-1)==t.charAt(r-1)?o[i-1][r-1]:Math.min(o[i-1][r-1]+1,Math.min(o[i][r-1]+1,o[i-1][r]+1));return o[n.length][t.length]}}]),e}();function lve(e){return Mp=e,function(){var t={};if(By=0,hi=Mp.charAt(0),jr(),"strict"===Tn&&(t.strict=!0,jr()),"graph"!==Tn&&"digraph"!==Tn||(t.type=Tn,jr()),Ql===xh&&(t.id=Tn,jr()),"{"!=Tn)throw Al("Angle bracket { expected");if(jr(),Cve(t),"}"!=Tn)throw Al("Angle bracket } expected");if(jr(),""!==Tn)throw Al("End of file expected");return jr(),delete t.node,delete t.edge,delete t.graph,t}()}var uve={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},GH=Dp(uve);GH.color="color.color",GH.style="dashes";var xh=2,gve={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Mp="",By=0,hi="",Tn="",Ql=0;function Rs(){By++,hi=Mp.charAt(By)}function jy(){return Mp.charAt(By+1)}function dve(e){var t=e.charCodeAt(0);return t<47?35===t||46===t:t<59?t>47:t<91?t>64:t<96?95===t:t<123&&t>96}function Rp(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Nvt(e,t,n){for(var i=t.split("."),r=e;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function fve(e,t){for(var n,i,r=null,o=[e],s=e;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(t.id===s.nodes[n].id){r=s.nodes[n];break}for(r||(r={id:t.id},e.node&&(r.attr=Rp(r.attr,e.node))),n=o.length-1;n>=0;n--){var a,l=o[n];l.nodes||(l.nodes=[]),-1===ir(a=l.nodes).call(a,r)&&l.nodes.push(r)}t.attr&&(r.attr=Rp(r.attr,t.attr))}function Ovt(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=Rp({},e.edge);t.attr=Rp(n,t.attr)}}function hve(e,t,n,i,r){var o={from:t,to:n,type:i};return e.edge&&(o.attr=Rp({},e.edge)),o.attr=Rp(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function jr(){for(Ql=0,Tn="";" "===hi||"\t"===hi||"\n"===hi||"\r"===hi;)Rs();do{var e=!1;if("#"===hi){for(var t=By-1;" "===Mp.charAt(t)||"\t"===Mp.charAt(t);)t--;if("\n"===Mp.charAt(t)||""===Mp.charAt(t)){for(;""!=hi&&"\n"!=hi;)Rs();e=!0}}if("/"===hi&&"/"===jy()){for(;""!=hi&&"\n"!=hi;)Rs();e=!0}if("/"===hi&&"*"===jy()){for(;""!=hi;){if("*"===hi&&"/"===jy()){Rs(),Rs();break}Rs()}e=!0}for(;" "===hi||"\t"===hi||"\n"===hi||"\r"===hi;)Rs()}while(e);if(""!==hi){var n=hi+jy();if(gve[n])return Ql=1,Tn=n,Rs(),void Rs();if(gve[hi])return Ql=1,Tn=hi,void Rs();if(dve(hi)||"-"===hi){for(Tn+=hi,Rs();dve(hi);)Tn+=hi,Rs();return"false"===Tn?Tn=!1:"true"===Tn?Tn=!0:isNaN(Number(Tn))||(Tn=Number(Tn)),void(Ql=xh)}if('"'===hi){for(Rs();""!=hi&&('"'!=hi||'"'===hi&&'"'===jy());)'"'===hi?(Tn+=hi,Rs()):"\\"===hi&&"n"===jy()?(Tn+="\n",Rs()):Tn+=hi,Rs();if('"'!=hi)throw Al('End of string " expected');return Rs(),void(Ql=xh)}for(Ql=3;""!=hi;)Tn+=hi,Rs();throw new SyntaxError('Syntax error in part "'+Ive(Tn,30)+'"')}Ql=1}function Cve(e){for(;""!==Tn&&"}"!=Tn;)Mvt(e),";"===Tn&&jr()}function Mvt(e){var i,t=pve(e);if(t)Ave(e,t);else if(i=e,!("node"===Tn?(jr(),i.node=ix(),"node"):"edge"===Tn?(jr(),i.edge=ix(),"edge"):"graph"===Tn&&(jr(),i.graph=ix(),"graph"))){if(Ql!=xh)throw Al("Identifier expected");var n=Tn;if(jr(),"="===Tn){if(jr(),Ql!=xh)throw Al("Identifier expected");e[n]=Tn,jr()}else!function(i,r){var o={id:r},s=ix();s&&(o.attr=s),fve(i,o),Ave(i,r)}(e,n)}}function pve(e){var t=null;if("subgraph"===Tn&&((t={}).type="subgraph",jr(),Ql===xh&&(t.id=Tn,jr())),"{"===Tn){if(jr(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,Cve(t),"}"!=Tn)throw Al("Angle bracket } expected");jr(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function Ave(e,t){for(;"->"===Tn||"--"===Tn;){var n,i=Tn;jr();var r=pve(e);if(r)n=r;else{if(Ql!=xh)throw Al("Identifier or subgraph expected");fve(e,{id:n=Tn}),jr()}Ovt(e,hve(e,t,n,i,ix())),t=n}}function ix(){for(var e,t,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,s=new Array;"["===Tn;){for(jr(),n={};""!==Tn&&"]"!=Tn;){if(Ql!=xh)throw Al("Attribute name expected");var a=Tn;if(jr(),"="!=Tn)throw Al("Equal sign = expected");if(jr(),Ql!=xh)throw Al("Attribute value expected");var l=Tn;"style"===a&&(l=i[l]),"arrowhead"===a&&(a="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===a&&(a="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:n,name:a,value:l}),s.push(a),jr(),","==Tn&&jr()}if("]"!=Tn)throw Al("Bracket ] expected");jr()}if(of(s).call(s,"dir")){var u={arrows:{}};for(e=0;e<o.length;e++)if("arrows"===o[e].name)if(null!=o[e].value.to)u.arrows.to=e;else{if(null==o[e].value.from)throw Al("Invalid value of arrows");u.arrows.from=e}else"dir"===o[e].name&&(u.dir=e);var c,g,d=o[u.dir].value;if(!of(s).call(s,"arrows"))if("both"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1,o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else{if("none"!==d)throw Al('Invalid dir type "'+d+'"');o.push({attr:o[u.dir].attr,name:"arrows",value:""}),u.arrows.to=o.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}},rf(o).call(o,u.arrows.from,1)):u.arrows.to?o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c="arrow"}}}:u.arrows.from&&(o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g="arrow"},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}});else if("back"===d)u.arrows.to&&u.arrows.from?o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g=""},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}}:u.arrows.to?(g="",c="arrow",u.arrows.from=u.arrows.to,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}):u.arrows.from&&(o[u.arrows.to]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g=""},from:{enabled:!0,type:c=o[u.arrows.from].value.from.type}}}),o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{from:{enabled:!0,type:o[u.arrows.from].value.from.type}}};else if("none"===d){var f;o[f=u.arrows.to?u.arrows.to:u.arrows.from]={attr:o[f].attr,name:o[f].name,value:""}}else{if("forward"!==d)throw Al('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g=o[u.arrows.to].value.to.type},from:{enabled:!0,type:c=""}}}:u.arrows.from&&(g="arrow",c="",u.arrows.to=u.arrows.from,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}),o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:o[u.arrows.to].value.to.type}}}}rf(o).call(o,u.dir,1)}if(of(s).call(s,"penwidth")){var h=[];for(t=o.length,e=0;e<t;e++)"width"!==o[e].name&&("penwidth"===o[e].name&&(o[e].name="width"),h.push(o[e]));o=h}for(t=o.length,e=0;e<t;e++)Nvt(o[e].attr,o[e].name,o[e].value);return n}function Al(e){return new SyntaxError(e+', got "'+Ive(Tn,30)+'" (char '+By+")")}function Ive(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function mve(e,t,n){for(var i=t.split("."),r=i.pop(),o=e,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[r]=n,e}function vve(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=t[i];ri(r)?Ui(r).call(r,function(o){mve(n,o,e[i])}):mve(n,"string"==typeof r?r:i,e[i])}return n}function yve(e){var t,n=lve(e),i={nodes:[],edges:[],options:{}};if(n.nodes&&Ui(t=n.nodes).call(t,function(s){var a={id:s.id,label:String(s.label||s.id)};Rp(a,vve(s.attr,uve)),a.image&&(a.shape="image"),i.nodes.push(a)}),n.edges){var r,o=function(s){var a={from:s.from,to:s.to};return Rp(a,vve(s.attr,GH)),null==a.arrows&&"->"===s.type&&(a.arrows="to"),a};Ui(r=n.edges).call(r,function(s){var a,l,u,c,g,d,f;a=s.from instanceof Object?s.from.nodes:{id:s.from},l=s.to instanceof Object?s.to.nodes:{id:s.to},s.from instanceof Object&&s.from.edges&&Ui(u=s.from.edges).call(u,function(h){var C=o(h);i.edges.push(C)}),g=l,d=function(h,C){var p=hve(i,h.id,C.id,s.type,s.attr),I=o(p);i.edges.push(I)},ri(c=a)?Ui(c).call(c,function(h){ri(g)?Ui(g).call(g,function(C){d(h,C)}):d(h,g)}):ri(g)?Ui(g).call(g,function(h){d(c,h)}):d(c,g),s.to instanceof Object&&s.to.edges&&Ui(f=s.to.edges).call(f,function(h){var C=o(h);i.edges.push(C)})})}return n.attr&&(i.options=n.attr),i}function bve(e,t){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(i.nodes.fixed=t.fixed),null!=t.parseColor&&(i.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(i.edges.inheritColor=t.inheritColor));var r=e.edges,o=Is(r).call(r,function(s){var a={from:s.source,id:s.id,to:s.target};return null!=s.attributes&&(a.attributes=s.attributes),null!=s.label&&(a.label=s.label),null!=s.attributes&&null!=s.attributes.title&&(a.title=s.attributes.title),"Directed"===s.type&&(a.arrows="to"),s.color&&!1===i.edges.inheritColor&&(a.color=s.color),a});return{nodes:Is(n=e.nodes).call(n,function(s){var a={id:s.id,fixed:i.nodes.fixed&&null!=s.x&&null!=s.y};return null!=s.attributes&&(a.attributes=s.attributes),null!=s.label&&(a.label=s.label),null!=s.size&&(a.size=s.size),null!=s.attributes&&null!=s.attributes.title&&(a.title=s.attributes.title),null!=s.title&&(a.title=s.title),null!=s.x&&(a.x=s.x),null!=s.y&&(a.y=s.y),null!=s.color&&(a.color=!0===i.nodes.parseColor?s.color:{background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}),a}),edges:o}}Object.freeze({__proto__:null,parseDOT:lve,DOTToGraph:yve}),Object.freeze({__proto__:null,parseGephi:bve});var Rvt=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}}),Fvt=function(){function e(){ft(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return ht(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,n=this.image.height;this.width=t,this.height=n;var i=Math.floor(n/2),r=Math.floor(n/4),o=Math.floor(n/8),s=Math.floor(n/16),a=Math.floor(t/2),l=Math.floor(t/4),u=Math.floor(t/8),c=Math.floor(t/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,l,r],[a,r,u,o],[5*u,r,c,s]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),n=this.coordinates[0];t.drawImage(this.image,n[0],n[1],n[2],n[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var r=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,r[0],r[1],r[2],r[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,n,i,r,o,s){if(this.initialized())if(n>2){n*=.5;for(var a=0;n>2&&a<this.NUM_ITERATIONS;)n*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var l=this.coordinates[a];t.drawImage(this.canvas,l[0],l[1],l[2],l[3],i,r,o,s)}else t.drawImage(this.image,i,r,o,s)}}]),e}(),Pvt=function(){function e(t){ft(this,e),this.images={},this.imageBroken={},this.callback=t}return ht(e,[{key:"_tryloadBrokenUrl",value:function(t,n,i){void 0!==t&&void 0!==i&&(void 0!==n?(i.image.onerror=function(){console.error("Could not load brokenImage:",n)},i.image.src=n):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,n){var i=this,r=this.images[t];if(r)return r;var o=new Fvt;return this.images[t]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,n,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),e}(),rx={exports:{}},Lvt=!yo(function(){return Object.isExtensible(Object.preventExtensions({}))}),Bvt=Gn,jvt=PE,Vvt=Ms,$H=Nu,zvt=Nc.f,_ve=HE,Hvt=TM,Uvt=Lvt,wve=!1,Dh=hM("meta"),Gvt=0,YH=Object.isExtensible||function(){return!0},qH=function(e){zvt(e,Dh,{value:{objectID:"O"+Gvt++,weakData:{}}})},Wvt=rx.exports={enable:function(){Wvt.enable=function(){},wve=!0;var e=_ve.f,t=[].splice,n={};n[Dh]=1,e(n).length&&(_ve.f=function(i){for(var r=e(i),o=0,s=r.length;o<s;o++)if(r[o]===Dh){t.call(r,o,1);break}return r},Bvt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Hvt.f}))},fastKey:function(e,t){if(!Vvt(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!$H(e,Dh)){if(!YH(e))return"F";if(!t)return"E";qH(e)}return e[Dh].objectID},getWeakData:function(e,t){if(!$H(e,Dh)){if(!YH(e))return!0;if(!t)return!1;qH(e)}return e[Dh].weakData},onFreeze:function(e){return Uvt&&wve&&YH(e)&&!$H(e,Dh)&&qH(e),e}};jvt[Dh]=!0;var $vt=Ou,Yvt=zIe,qvt=Oc,Zvt=yy,Kvt=SM,Eve=VIe,ox=function(e,t){this.stopped=e,this.result=t},ZH=function(e,t,n){var i,r,o,s,a,l,u,g=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),h=Zvt(t,n&&n.that,1+g+f),C=function(I){return i&&Eve(i),new ox(!0,I)},p=function(I){return g?($vt(I),f?h(I[0],I[1],C):h(I[0],I[1])):f?h(I,C):h(I)};if(d)i=e;else{if("function"!=typeof(r=Kvt(e)))throw TypeError("Target is not iterable");if(Yvt(r)){for(o=0,s=qvt(e.length);s>o;o++)if((a=p(e[o]))&&a instanceof ox)return a;return new ox(!1)}i=r.call(e)}for(l=i.next;!(u=l.call(i)).done;){try{a=p(u.value)}catch(I){throw Eve(i),I}if("object"==typeof a&&a&&a instanceof ox)return a}return new ox(!1)},KH=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Xvt=Gn,Qvt=ps,Jvt=rx.exports,eyt=yo,tyt=yh,nyt=ZH,iyt=KH,ryt=Ms,oyt=VE,syt=Nc.f,ayt=_h.forEach,lyt=Os,uyt=Qd.set,cyt=Qd.getterFor,XH=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),s=r?"set":"add",a=Qvt[e],l=a&&a.prototype,u={};if(lyt&&"function"==typeof a&&(o||l.forEach&&!eyt(function(){(new a).entries().next()}))){i=t(function(g,d){uyt(iyt(g,i,e),{type:e,collection:new a}),null!=d&&nyt(d,g[s],{that:g,AS_ENTRIES:r})});var c=cyt(e);ayt(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(g){var d="add"==g||"set"==g;!(g in l)||o&&"clear"==g||tyt(i.prototype,g,function(f,h){var C=c(this).collection;if(!d&&o&&!ryt(f))return"get"==g&&void 0;var p=C[g](0===f?0:f,h);return d?this:p})}),o||syt(i.prototype,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else i=n.getConstructor(t,e,r,s),Jvt.enable();return oyt(i,e,!1,!0),u[e]=i,Xvt({global:!0,forced:!0},u),o||n.setStrong(i,e,r),i},gyt=aH,QH=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:gyt(e,i,t[i],n);return e},dyt=_p,fyt=Nc,hyt=Os,xve=As("species"),Cyt=Nc.f,pyt=jE,Dve=QH,Ayt=yy,Iyt=KH,myt=ZH,vyt=uH,sx=Os,Sve=rx.exports.fastKey,Tve=Qd.set,JH=Qd.getterFor,kve={getConstructor:function(e,t,n,i){var r=e(function(l,u){Iyt(l,r,t),Tve(l,{type:t,index:pyt(null),first:void 0,last:void 0,size:0}),sx||(l.size=0),null!=u&&myt(u,l[i],{that:l,AS_ENTRIES:n})}),o=JH(t),s=function(l,u,c){var g,d,f=o(l),h=a(l,u);return h?h.value=c:(f.last=h={index:d=Sve(u,!0),key:u,value:c,previous:g=f.last,next:void 0,removed:!1},f.first||(f.first=h),g&&(g.next=h),sx?f.size++:l.size++,"F"!==d&&(f.index[d]=h)),l},a=function(l,u){var c,g=o(l),d=Sve(u);if("F"!==d)return g.index[d];for(c=g.first;c;c=c.next)if(c.key==u)return c};return Dve(r.prototype,{clear:function(){for(var l=o(this),u=l.index,c=l.first;c;)c.removed=!0,c.previous&&(c.previous=c.previous.next=void 0),delete u[c.index],c=c.next;l.first=l.last=void 0,sx?l.size=0:this.size=0},delete:function(l){var u=this,c=o(u),g=a(u,l);if(g){var d=g.next,f=g.previous;delete c.index[g.index],g.removed=!0,f&&(f.next=d),d&&(d.previous=f),c.first==g&&(c.first=d),c.last==g&&(c.last=f),sx?c.size--:u.size--}return!!g},forEach:function(l){for(var u,c=o(this),g=Ayt(l,arguments.length>1?arguments[1]:void 0,3);u=u?u.next:c.first;)for(g(u.value,u.key,this);u&&u.removed;)u=u.previous},has:function(l){return!!a(this,l)}}),Dve(r.prototype,n?{get:function(l){var u=a(this,l);return u&&u.value},set:function(l,u){return s(this,0===l?0:l,u)}}:{add:function(l){return s(this,l=0===l?0:l,l)}}),sx&&Cyt(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=JH(t),o=JH(i);vyt(e,t,function(s,a){Tve(this,{type:i,target:s,state:r(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return s.target&&(s.last=l=l?l.next:s.state.first)?"keys"==a?{value:l.key,done:!1}:"values"==a?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=dyt(e);hyt&&t&&!t[xve]&&(0,fyt.f)(t,xve,{configurable:!0,get:function(){return this}})}(t)}};XH("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},kve);var XM=Hi.Map,byt=function(){function e(){ft(this,e),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},bo(this.options,this.defaultOptions)}return ht(e,[{key:"setOptions",value:function(t){var n=["useDefaultGroups"];if(void 0!==t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===ir(n).call(n,i)&&this.add(i,t[i])}},{key:"clear",value:function(){this._groups=new XM,this._groupNames=[]}},{key:"get",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&n)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var r=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[r]),this._groups.set(t,i)}else{var o=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[o],this._groups.set(t,i)}return i}},{key:"add",value:function(t,n){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,n),n}}]),e}();Gn({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var eU=Hi.Number.isNaN,_yt=ps.isFinite;Gn({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&_yt(e)}});var am=Hi.Number.isFinite,wyt=_h.some;Gn({target:"Array",proto:!0,forced:!ky("some")},{some:function(e){return wyt(this,e,arguments.length>1?arguments[1]:void 0)}});var Eyt=ko("Array").some,Nve=Array.prototype,Ove=function(e){var t=e.some;return e===Nve||e instanceof Array&&t===Nve.some?Eyt:t},xyt=Gn,Mve=vy,Dyt=Ou,Rve=Ms,Syt=jE,Tyt=gIe,Fve=yo,tU=_p("Reflect","construct"),Pve=Fve(function(){function e(){}return!(tU(function(){},[],e)instanceof e)}),Lve=!Fve(function(){tU(function(){})}),Bve=Pve||Lve;xyt({target:"Reflect",stat:!0,forced:Bve,sham:Bve},{construct:function(e,t){Mve(e),Dyt(t);var n=arguments.length<3?e:Mve(arguments[2]);if(Lve&&!Pve)return tU(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(Tyt.apply(e,i))}var r=n.prototype,o=Syt(Rve(r)?r:Object.prototype),s=Function.apply.call(e,o,t);return Rve(s)?s:o}});var Ue=Hi.Reflect.construct;function jve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var kyt=p0e;Gn({target:"Object",stat:!0},{setPrototypeOf:DAt});var Vve=Hi.Object.setPrototypeOf;function zve(e,t){return(zve=Vve||function(n,i){return n.__proto__=i,n})(e,t)}function qi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=kyt(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zve(e,t)}function fr(e,t){if(t&&("object"===vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jve(e)}var Hve=a0e;function Gt(e){return(Gt=Vve?Hve:function(t){return t.__proto__||Hve(t)})(e)}var Uve={exports:{}};!function(e){var t=function(n){var i,r=Object.prototype,o=r.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(q,te,Te){return Object.defineProperty(q,te,{value:Te,enumerable:!0,configurable:!0,writable:!0}),q[te]}try{c({},"")}catch(q){c=function(te,Te,Xe){return te[Te]=Xe}}function g(q,te,Te,Xe){var Xt,Zi,mn,ar,zt=Object.create((te&&te.prototype instanceof m?te:m).prototype),Bn=new _e(Xe||[]);return zt._invoke=(Xt=q,Zi=Te,mn=Bn,ar=f,function(kr,_t){if(ar===C)throw new Error("Generator is already running");if(ar===p){if("throw"===kr)throw _t;return le()}for(mn.method=kr,mn.arg=_t;;){var pn=mn.delegate;if(pn){var Xn=H(pn,mn);if(Xn){if(Xn===I)continue;return Xn}}if("next"===mn.method)mn.sent=mn._sent=mn.arg;else if("throw"===mn.method){if(ar===f)throw ar=p,mn.arg;mn.dispatchException(mn.arg)}else"return"===mn.method&&mn.abrupt("return",mn.arg);ar=C;var Qe=d(Xt,Zi,mn);if("normal"===Qe.type){if(ar=mn.done?p:h,Qe.arg===I)continue;return{value:Qe.arg,done:mn.done}}"throw"===Qe.type&&(ar=p,mn.method="throw",mn.arg=Qe.arg)}}),zt}function d(q,te,Te){try{return{type:"normal",arg:q.call(te,Te)}}catch(Xe){return{type:"throw",arg:Xe}}}n.wrap=g;var f="suspendedStart",h="suspendedYield",C="executing",p="completed",I={};function m(){}function y(){}function _(){}var N={};N[a]=function(){return this};var O=Object.getPrototypeOf,k=O&&O(O(ae([])));k&&k!==r&&o.call(k,a)&&(N=k);var M=_.prototype=m.prototype=Object.create(N);function V(q){["next","throw","return"].forEach(function(te){c(q,te,function(Te){return this._invoke(te,Te)})})}function z(q,te){function Te(at,zt,Bn,Xt){var Zi=d(q[at],q,zt);if("throw"!==Zi.type){var mn=Zi.arg,ar=mn.value;return ar&&"object"==typeof ar&&o.call(ar,"__await")?te.resolve(ar.__await).then(function(kr){Te("next",kr,Bn,Xt)},function(kr){Te("throw",kr,Bn,Xt)}):te.resolve(ar).then(function(kr){mn.value=kr,Bn(mn)},function(kr){return Te("throw",kr,Bn,Xt)})}Xt(Zi.arg)}var Xe;this._invoke=function(at,zt){function Bn(){return new te(function(Xt,Zi){Te(at,zt,Xt,Zi)})}return Xe=Xe?Xe.then(Bn,Bn):Bn()}}function H(q,te){var Te=q.iterator[te.method];if(Te===i){if(te.delegate=null,"throw"===te.method){if(q.iterator.return&&(te.method="return",te.arg=i,H(q,te),"throw"===te.method))return I;te.method="throw",te.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var Xe=d(Te,q.iterator,te.arg);if("throw"===Xe.type)return te.method="throw",te.arg=Xe.arg,te.delegate=null,I;var at=Xe.arg;return at?at.done?(te[q.resultName]=at.value,te.next=q.nextLoc,"return"!==te.method&&(te.method="next",te.arg=i),te.delegate=null,I):at:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,I)}function ee(q){var te={tryLoc:q[0]};1 in q&&(te.catchLoc=q[1]),2 in q&&(te.finallyLoc=q[2],te.afterLoc=q[3]),this.tryEntries.push(te)}function se(q){var te=q.completion||{};te.type="normal",delete te.arg,q.completion=te}function _e(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(ee,this),this.reset(!0)}function ae(q){if(q){var te=q[a];if(te)return te.call(q);if("function"==typeof q.next)return q;if(!isNaN(q.length)){var Te=-1,Xe=function at(){for(;++Te<q.length;)if(o.call(q,Te))return at.value=q[Te],at.done=!1,at;return at.value=i,at.done=!0,at};return Xe.next=Xe}}return{next:le}}function le(){return{value:i,done:!0}}return y.prototype=M.constructor=_,_.constructor=y,y.displayName=c(_,u,"GeneratorFunction"),n.isGeneratorFunction=function(q){var te="function"==typeof q&&q.constructor;return!!te&&(te===y||"GeneratorFunction"===(te.displayName||te.name))},n.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,_):(q.__proto__=_,c(q,u,"GeneratorFunction")),q.prototype=Object.create(M),q},n.awrap=function(q){return{__await:q}},V(z.prototype),z.prototype[l]=function(){return this},n.AsyncIterator=z,n.async=function(q,te,Te,Xe,at){void 0===at&&(at=Promise);var zt=new z(g(q,te,Te,Xe),at);return n.isGeneratorFunction(te)?zt:zt.next().then(function(Bn){return Bn.done?Bn.value:zt.next()})},V(M),c(M,u,"Generator"),M[a]=function(){return this},M.toString=function(){return"[object Generator]"},n.keys=function(q){var te=[];for(var Te in q)te.push(Te);return te.reverse(),function Xe(){for(;te.length;){var at=te.pop();if(at in q)return Xe.value=at,Xe.done=!1,Xe}return Xe.done=!0,Xe}},n.values=ae,_e.prototype={constructor:_e,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(se),!q)for(var te in this)"t"===te.charAt(0)&&o.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=i)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if("throw"===q.type)throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var te=this;function Te(Zi,mn){return zt.type="throw",zt.arg=q,te.next=Zi,mn&&(te.method="next",te.arg=i),!!mn}for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var at=this.tryEntries[Xe],zt=at.completion;if("root"===at.tryLoc)return Te("end");if(at.tryLoc<=this.prev){var Bn=o.call(at,"catchLoc"),Xt=o.call(at,"finallyLoc");if(Bn&&Xt){if(this.prev<at.catchLoc)return Te(at.catchLoc,!0);if(this.prev<at.finallyLoc)return Te(at.finallyLoc)}else if(Bn){if(this.prev<at.catchLoc)return Te(at.catchLoc,!0)}else{if(!Xt)throw new Error("try statement without catch or finally");if(this.prev<at.finallyLoc)return Te(at.finallyLoc)}}}},abrupt:function(q,te){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Xe=this.tryEntries[Te];if(Xe.tryLoc<=this.prev&&o.call(Xe,"finallyLoc")&&this.prev<Xe.finallyLoc){var at=Xe;break}}at&&("break"===q||"continue"===q)&&at.tryLoc<=te&&te<=at.finallyLoc&&(at=null);var zt=at?at.completion:{};return zt.type=q,zt.arg=te,at?(this.method="next",this.next=at.finallyLoc,I):this.complete(zt)},complete:function(q,te){if("throw"===q.type)throw q.arg;return"break"===q.type||"continue"===q.type?this.next=q.arg:"return"===q.type?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):"normal"===q.type&&te&&(this.next=te),I},finish:function(q){for(var te=this.tryEntries.length-1;te>=0;--te){var Te=this.tryEntries[te];if(Te.finallyLoc===q)return this.complete(Te.completion,Te.afterLoc),se(Te),I}},catch:function(q){for(var te=this.tryEntries.length-1;te>=0;--te){var Te=this.tryEntries[te];if(Te.tryLoc===q){var Xe=Te.completion;if("throw"===Xe.type){var at=Xe.arg;se(Te)}return at}}throw new Error("illegal catch attempt")},delegateYield:function(q,te,Te){return this.delegate={iterator:ae(q),resultName:te,nextLoc:Te},"next"===this.method&&(this.arg=i),I}},n}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(Uve);var Jl=Uve.exports,Nyt=vy,Oyt=Kl,Myt=gM,Ryt=Oc,Gve=function(e){return function(t,n,i,r){Nyt(n);var o=Oyt(t),s=Myt(o),a=Ryt(o.length),l=e?a-1:0,u=e?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=u;break}if(l+=u,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=u)l in s&&(r=n(r,s[l],l,o));return r}},Fyt={left:Gve(!1),right:Gve(!0)},Pyt="process"==TE(ps.process),Lyt=Fyt.left,Wve=OE,Byt=Pyt;Gn({target:"Array",proto:!0,forced:!ky("reduce")||!Byt&&Wve>79&&Wve<83},{reduce:function(e){return Lyt(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var jyt=ko("Array").reduce,$ve=Array.prototype,QM=function(e){var t=e.reduce;return e===$ve||e instanceof Array&&t===$ve.reduce?jyt:t},Vyt=QI,zyt=Oc,Hyt=yy,Yve=function(e,t,n,i,r,o,s,a){for(var l,u=r,c=0,g=!!s&&Hyt(s,a,3);c<i;){if(c in n){if(l=g?g(n[c],c,t):n[c],o>0&&Vyt(l))u=Yve(e,t,l,zyt(l.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=l}u++}c++}return u},Uyt=Yve,Gyt=Kl,Wyt=Oc,$yt=vy,Yyt=NM;Gn({target:"Array",proto:!0},{flatMap:function(e){var t,n=Gyt(this),i=Wyt(n.length);return $yt(e),(t=Yyt(n,0)).length=Uyt(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var qyt=ko("Array").flatMap,qve=Array.prototype;XH("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},kve);var Hg=Hi.Set,lm=Yme,Kyt=Ou,Xyt=SM,nU=function(e){var t=Xyt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Kyt(t.call(e))},Qyt=Math.floor,iU=function(e,t){var n=e.length,i=Qyt(n/2);return n<8?Jyt(e,t):ebt(iU(e.slice(0,i),t),iU(e.slice(i),t),t)},Jyt=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},ebt=function(e,t,n){for(var i=e.length,r=t.length,o=0,s=0,a=[];o<i||s<r;)a.push(o<i&&s<r?n(e[o],t[s])<=0?e[o++]:t[s++]:o<i?e[o++]:t[s++]);return a},tbt=iU,Zve=NE.match(/firefox\/(\d+)/i),nbt=!!Zve&&+Zve[1],ibt=/MSIE|Trident/.test(NE),Kve=NE.match(/AppleWebKit\/(\d+)\./),obt=Gn,sbt=vy,abt=Kl,lbt=Oc,Xve=wp,rU=yo,ubt=tbt,cbt=ky,Qve=nbt,gbt=ibt,Jve=OE,eye=!!Kve&&+Kve[1],um=[],tye=um.sort,dbt=rU(function(){um.sort(void 0)}),fbt=rU(function(){um.sort(null)}),hbt=cbt("sort"),nye=!rU(function(){if(Jve)return Jve<70;if(!(Qve&&Qve>3)){if(gbt)return!0;if(eye)return eye<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)um.push({k:t+i,v:n})}for(um.sort(function(o,s){return s.v-o.v}),i=0;i<um.length;i++)t=um[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}});obt({target:"Array",proto:!0,forced:dbt||!fbt||!hbt||!nye},{sort:function(e){void 0!==e&&sbt(e);var t=abt(this);if(nye)return void 0===e?tye.call(t):tye.call(t,e);var n,i,r=[],o=lbt(t.length);for(i=0;i<o;i++)i in t&&r.push(t[i]);for(n=(r=ubt(r,function(s){return function(a,l){return void 0===l?-1:void 0===a?1:void 0!==s?+s(a,l)||0:Xve(a)>Xve(l)?1:-1}}(e))).length,i=0;i<n;)t[i]=r[i++];for(;i<o;)delete t[i++];return t}});var oU,Cbt=ko("Array").sort,iye=Array.prototype,Vy=function(e){var t=e.sort;return e===iye||e instanceof Array&&t===iye.sort?Cbt:t},pbt=ko("Array").keys,Abt=XI,rye=Array.prototype,Ibt={DOMTokenList:!0,NodeList:!0},cm=function(e){var t=e.keys;return e===rye||e instanceof Array&&t===rye.keys||Ibt.hasOwnProperty(Abt(e))?pbt:t},mbt=ko("Array").values,vbt=XI,oye=Array.prototype,ybt={DOMTokenList:!0,NodeList:!0},JM=function(e){var t=e.values;return e===oye||e instanceof Array&&t===oye.values||ybt.hasOwnProperty(vbt(e))?mbt:t},bbt=ko("Array").entries,_bt=XI,sye=Array.prototype,wbt={DOMTokenList:!0,NodeList:!0},xbt=new Uint8Array(16);function Dbt(){if(!oU&&!(oU="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oU(xbt)}var Sbt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Tbt(e){return"string"==typeof e&&Sbt.test(e)}for(var sa=[],sU=0;sU<256;++sU)sa.push((sU+256).toString(16).substr(1));function zy(e,t,n){var i=(e=e||{}).random||(e.rng||Dbt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(sa[o[s+0]]+sa[o[s+1]]+sa[o[s+2]]+sa[o[s+3]]+"-"+sa[o[s+4]]+sa[o[s+5]]+"-"+sa[o[s+6]]+sa[o[s+7]]+"-"+sa[o[s+8]]+sa[o[s+9]]+"-"+sa[o[s+10]]+sa[o[s+11]]+sa[o[s+12]]+sa[o[s+13]]+sa[o[s+14]]+sa[o[s+15]]).toLowerCase();if(!Tbt(a))throw TypeError("Stringified UUID is invalid");return a}(i)}function aye(e,t){var n=qr(e);if(Jd){var i=Jd(e);t&&(i=nr(i).call(i,function(r){return ef(e,r).enumerable})),n.push.apply(n,i)}return n}function lye(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ui(n=aye(Object(i),!0)).call(n,function(o){jg(e,o,i[o])});else if(tf)YE(e,tf(i));else{var r;Ui(r=aye(Object(i))).call(r,function(o){Sy(e,o,ef(i,o))})}}return e}function uye(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}function eu(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return cye(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return cye(l,u)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function cye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var kbt=function(){function e(t,n,i){var r,o,s;ft(this,e),this._source=t,this._transformers=n,this._target=i,this._listeners={add:rt(r=this._add).call(r,this),remove:rt(o=this._remove).call(o,this),update:rt(s=this._update).call(s,this)}}return ht(e,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var n;return QM(n=this._transformers).call(n,function(i,r){return r(i)},t)}},{key:"_add",value:function(t,n){null!=n&&this._target.add(this._transformItems(this._source.get(n.items)))}},{key:"_update",value:function(t,n){null!=n&&this._target.update(this._transformItems(this._source.get(n.items)))}},{key:"_remove",value:function(t,n){null!=n&&this._target.remove(this._transformItems(n.oldData))}}]),e}(),Nbt=function(){function e(t){ft(this,e),this._source=t,this._transformers=[]}return ht(e,[{key:"filter",value:function(t){return this._transformers.push(function(n){return nr(n).call(n,t)}),this}},{key:"map",value:function(t){return this._transformers.push(function(n){return Is(n).call(n,t)}),this}},{key:"flatMap",value:function(t){return this._transformers.push(function(n){return function(e){var t=e.flatMap;return e===qve||e instanceof Array&&t===qve.flatMap?qyt:t}(n).call(n,t)}),this}},{key:"to",value:function(t){return new kbt(this._source,this._transformers,t)}}]),e}();function aU(e){return"string"==typeof e||"number"==typeof e}var gye=function(){function e(t){ft(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}return ht(e,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,n=this._extended.methods,i=0;i<n.length;i++){var r=n[i];r.original?t[r.name]=r.original:delete t[r.name]}this._extended=null}}},{key:"replace",value:function(t,n){var i=this,r=t[n];if(!r)throw new Error("Method "+n+" undefined");t[n]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.queue({args:s,fn:r,context:this})}}},{key:"queue",value:function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=zg(function(){t.flush()},this.delay))}},{key:"flush",value:function(){var t,n;Ui(t=rf(n=this._queue).call(n,0)).call(t,function(i){i.fn.apply(i.context||i.fn,i.args||[])})}}],[{key:"extend",value:function(t,n){var i=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var s=n.replace[o];r.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:r},i}}]),e}(),dye=function(){function e(){ft(this,e),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return ht(e,[{key:"_trigger",value:function(t,n,i){var r,o;if("*"===t)throw new Error("Cannot trigger event *");Ui(r=em(o=[]).call(o,Yr(this._subscribers[t]),Yr(this._subscribers["*"]))).call(r,function(s){s(t,n,null!=i?i:null)})}},{key:"on",value:function(t,n){"function"==typeof n&&this._subscribers[t].push(n)}},{key:"off",value:function(t,n){var i;this._subscribers[t]=nr(i=this._subscribers[t]).call(i,function(r){return r!==n})}}]),e}(),lU=function(e){function t(n){ft(this,t),this._pairs=n}return ht(t,[{key:lm,value:Jl.mark(function n(){var i,r,o,s,a;return Jl.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=eu(this._pairs),l.prev=1,i.s();case 3:if((r=i.n()).done){l.next=9;break}return o=Ti(r.value,2),s=o[0],a=o[1],l.next=7,[s,a];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},n,this,[[1,11,14,17]])})},{key:"entries",value:Jl.mark(function n(){var i,r,o,s,a;return Jl.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=eu(this._pairs),l.prev=1,i.s();case 3:if((r=i.n()).done){l.next=9;break}return o=Ti(r.value,2),s=o[0],a=o[1],l.next=7,[s,a];case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},n,this,[[1,11,14,17]])})},{key:"keys",value:Jl.mark(function n(){var i,r,o,s;return Jl.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=eu(this._pairs),a.prev=1,i.s();case 3:if((r=i.n()).done){a.next=9;break}return o=Ti(r.value,1),s=o[0],a.next=7,s;case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),i.e(a.t0);case 14:return a.prev=14,i.f(),a.finish(14);case 17:case"end":return a.stop()}},n,this,[[1,11,14,17]])})},{key:"values",value:Jl.mark(function n(){var i,r,o,s;return Jl.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:i=eu(this._pairs),a.prev=1,i.s();case 3:if((r=i.n()).done){a.next=9;break}return o=Ti(r.value,2),s=o[1],a.next=7,s;case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),i.e(a.t0);case 14:return a.prev=14,i.f(),a.finish(14);case 17:case"end":return a.stop()}},n,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var n;return Is(n=Yr(this._pairs)).call(n,function(i){return i[0]})}},{key:"toItemArray",value:function(){var n;return Is(n=Yr(this._pairs)).call(n,function(i){return i[1]})}},{key:"toEntryArray",value:function(){return Yr(this._pairs)}},{key:"toObjectMap",value:function(){var n,i=Dp(null),r=eu(this._pairs);try{for(r.s();!(n=r.n()).done;){var o=Ti(n.value,2);i[o[0]]=o[1]}}catch(l){r.e(l)}finally{r.f()}return i}},{key:"toMap",value:function(){return new XM(this._pairs)}},{key:"toIdSet",value:function(){return new Hg(this.toIdArray())}},{key:"toItemSet",value:function(){return new Hg(this.toItemArray())}},{key:"cache",value:function(){return new t(Yr(this._pairs))}},{key:"distinct",value:function(n){var i,r=new Hg,o=eu(this._pairs);try{for(o.s();!(i=o.n()).done;){var s=Ti(i.value,2);r.add(n(s[1],s[0]))}}catch(u){o.e(u)}finally{o.f()}return r}},{key:"filter",value:function(n){var i=this._pairs;return new t(jg({},lm,Jl.mark(function r(){var o,s,a,l,u;return Jl.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=eu(i),c.prev=1,o.s();case 3:if((s=o.n()).done){c.next=10;break}if(a=Ti(s.value,2),!n(u=a[1],l=a[0])){c.next=8;break}return c.next=8,[l,u];case 8:c.next=3;break;case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),o.e(c.t0);case 15:return c.prev=15,o.f(),c.finish(15);case 18:case"end":return c.stop()}},r,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(n){var i,r=eu(this._pairs);try{for(r.s();!(i=r.n()).done;){var o=Ti(i.value,2);n(o[1],o[0])}}catch(a){r.e(a)}finally{r.f()}}},{key:"map",value:function(n){var i=this._pairs;return new t(jg({},lm,Jl.mark(function r(){var o,s,a,l,u;return Jl.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=eu(i),c.prev=1,o.s();case 3:if((s=o.n()).done){c.next=9;break}return a=Ti(s.value,2),l=a[0],u=a[1],c.next=7,[l,n(u,l)];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),o.e(c.t0);case 14:return c.prev=14,o.f(),c.finish(14);case 17:case"end":return c.stop()}},r,null,[[1,11,14,17]])})))}},{key:"max",value:function(n){var i=nU(this._pairs),r=i.next();if(r.done)return null;for(var o=r.value[1],s=n(r.value[1],r.value[0]);!(r=i.next()).done;){var a=Ti(r.value,2),u=a[1],c=n(u,a[0]);c>s&&(s=c,o=u)}return o}},{key:"min",value:function(n){var i=nU(this._pairs),r=i.next();if(r.done)return null;for(var o=r.value[1],s=n(r.value[1],r.value[0]);!(r=i.next()).done;){var a=Ti(r.value,2),u=a[1],c=n(u,a[0]);c<s&&(s=c,o=u)}return o}},{key:"reduce",value:function(n,i){var r,o=eu(this._pairs);try{for(o.s();!(r=o.n()).done;){var s=Ti(r.value,2);i=n(i,s[1],s[0])}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"sort",value:function(n){var i=this;return new t(jg({},lm,function(){var r;return nU(Vy(r=Yr(i._pairs)).call(r,function(o,s){var a=Ti(o,2),l=a[0],u=a[1],c=Ti(s,2);return n(u,c[1],l,c[0])}))}))}}]),t}(),Fp=function(e){qi(n,dye);var t=uye(n);function n(i,r){var o;return ft(this,n),(o=t.call(this))._queue=null,i&&!ri(i)&&(r=i,i=[]),o._options=r||{},o._data=new XM,o.length=0,o._idProp=o._options.fieldId||"id",i&&i.length&&o.add(i),o.setOptions(r),o}return ht(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(i){i&&void 0!==i.queue&&(!1===i.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=gye.extend(this,{replace:["add","update","remove"]})),i.queue&&"object"===vi(i.queue)&&this._queue.setOptions(i.queue)))}},{key:"add",value:function(i,r){var o,s=this,a=[];if(ri(i)){var l=Is(i).call(i,function(g){return g[s._idProp]});if(Ove(l).call(l,function(g){return s._data.has(g)}))throw new Error("A duplicate id was found in the parameter array.");for(var u=0,c=i.length;u<c;u++)o=this._addItem(i[u]),a.push(o)}else{if(!i||"object"!==vi(i))throw new Error("Unknown dataType");o=this._addItem(i),a.push(o)}return a.length&&this._trigger("add",{items:a},r),a}},{key:"update",value:function(i,r){var o=this,s=[],a=[],l=[],u=[],c=this._idProp,g=function(C){var p=C[c];if(null!=p&&o._data.has(p)){var I=C,m=bo({},o._data.get(p)),y=o._updateItem(I);a.push(y),u.push(I),l.push(m)}else{var _=o._addItem(C);s.push(_)}};if(ri(i))for(var d=0,f=i.length;d<f;d++)i[d]&&"object"===vi(i[d])?g(i[d]):console.warn("Ignoring input item, which is not an object at index "+d);else{if(!i||"object"!==vi(i))throw new Error("Unknown dataType");g(i)}return s.length&&this._trigger("add",{items:s},r),a.length&&this._trigger("update",{items:a,oldData:l,data:u},r),em(s).call(s,a)}},{key:"updateOnly",value:function(i,r){var o,s=this;ri(i)||(i=[i]);var a=Is(o=Is(i).call(i,function(u){var c=s._data.get(u[s._idProp]);if(null==c)throw new Error("Updating non-existent items is not allowed.");return{oldData:c,update:u}})).call(o,function(u){var c=u.oldData,d=c[s._idProp],f=function(h){for(var C,p=arguments.length,I=new Array(p>1?p-1:0),m=1;m<p;m++)I[m-1]=arguments[m];return J0e.apply(void 0,em(C=[{},h]).call(C,I))}(c,u.update);return s._data.set(d,f),{id:d,oldData:c,updatedData:f}});if(a.length){var l={items:Is(a).call(a,function(u){return u.id}),oldData:Is(a).call(a,function(u){return u.oldData}),data:Is(a).call(a,function(u){return u.updatedData})};return this._trigger("update",l,r),l.items}return[]}},{key:"get",value:function(i,r){var o=void 0,s=void 0,a=void 0;aU(i)?(o=i,a=r):ri(i)?(s=i,a=r):a=i;var l,u=a&&"Object"===a.returnType?"Object":"Array",c=a&&nr(a),g=[],d=void 0,f=void 0;if(null!=o)(d=this._data.get(o))&&c&&!c(d)&&(d=void 0);else if(null!=s)for(var C=0,p=s.length;C<p;C++)null==(d=this._data.get(s[C]))||c&&!c(d)||g.push(d);else for(var I,m=0,y=(f=Yr(cm(I=this._data).call(I))).length;m<y;m++)null==(d=this._data.get(f[m]))||c&&!c(d)||g.push(d);if(a&&a.order&&null==o&&this._sort(g,a.order),a&&a.fields){var _=a.fields;if(null!=o&&null!=d)d=this._filterFields(d,_);else for(var N=0,O=g.length;N<O;N++)g[N]=this._filterFields(g[N],_)}if("Object"==u){for(var k={},M=0,V=g.length;M<V;M++){var z=g[M];k[z[this._idProp]]=z}return k}return null!=o?null!==(l=d)&&void 0!==l?l:null:g}},{key:"getIds",value:function(i){var r=this._data,o=i&&nr(i),s=i&&i.order,a=Yr(cm(r).call(r)),l=[];if(o)if(s){for(var u=[],c=0,g=a.length;c<g;c++){var f=this._data.get(a[c]);null!=f&&o(f)&&u.push(f)}this._sort(u,s);for(var h=0,C=u.length;h<C;h++)l.push(u[h][this._idProp])}else for(var p=0,I=a.length;p<I;p++){var y=this._data.get(a[p]);null!=y&&o(y)&&l.push(y[this._idProp])}else if(s){for(var _=[],N=0,O=a.length;N<O;N++)_.push(r.get(a[N]));this._sort(_,s);for(var M=0,V=_.length;M<V;M++)l.push(_[M][this._idProp])}else for(var z=0,H=a.length;z<H;z++){var se=r.get(a[z]);null!=se&&l.push(se[this._idProp])}return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(i,r){var o=r&&nr(r),s=this._data,a=Yr(cm(s).call(s));if(r&&r.order)for(var l=this.get(r),u=0,c=l.length;u<c;u++){var g=l[u];i(g,g[this._idProp])}else for(var d=0,f=a.length;d<f;d++){var h=a[d],C=this._data.get(h);null==C||o&&!o(C)||i(C,h)}}},{key:"map",value:function(i,r){for(var o=r&&nr(r),s=[],a=this._data,l=Yr(cm(a).call(a)),u=0,c=l.length;u<c;u++){var g=l[u],d=this._data.get(g);null==d||o&&!o(d)||s.push(i(d,g))}return r&&r.order&&this._sort(s,r.order),s}},{key:"_filterFields",value:function(i,r){var o;return i&&QM(o=ri(r)?r:qr(r)).call(o,function(s,a){return s[a]=i[a],s},{})}},{key:"_sort",value:function(i,r){if("string"==typeof r){var o=r;Vy(i).call(i,function(s,a){var l=s[o],u=a[o];return l>u?1:l<u?-1:0})}else{if("function"!=typeof r)throw new TypeError("Order must be a function or a string");Vy(i).call(i,r)}}},{key:"remove",value:function(i,r){for(var o=[],s=[],a=ri(i)?i:[i],l=0,u=a.length;l<u;l++){var c=this._remove(a[l]);if(c){var g=c[this._idProp];null!=g&&(o.push(g),s.push(c))}}return o.length&&this._trigger("remove",{items:o,oldData:s},r),o}},{key:"_remove",value:function(i){var r;if(aU(i)?r=i:i&&"object"===vi(i)&&(r=i[this._idProp]),null!=r&&this._data.has(r)){var o=this._data.get(r)||null;return this._data.delete(r),--this.length,o}return null}},{key:"clear",value:function(i){for(var r,o=Yr(cm(r=this._data).call(r)),s=[],a=0,l=o.length;a<l;a++)s.push(this._data.get(o[a]));return this._data.clear(),this.length=0,this._trigger("remove",{items:o,oldData:s},i),o}},{key:"max",value:function(i){var r,o,s=null,a=null,l=eu(JM(r=this._data).call(r));try{for(l.s();!(o=l.n()).done;){var u=o.value,c=u[i];"number"==typeof c&&(null==a||c>a)&&(s=u,a=c)}}catch(g){l.e(g)}finally{l.f()}return s||null}},{key:"min",value:function(i){var r,o,s=null,a=null,l=eu(JM(r=this._data).call(r));try{for(l.s();!(o=l.n()).done;){var u=o.value,c=u[i];"number"==typeof c&&(null==a||c<a)&&(s=u,a=c)}}catch(g){l.e(g)}finally{l.f()}return s||null}},{key:"distinct",value:function(i){for(var r=this._data,o=Yr(cm(r).call(r)),s=[],a=0,l=0,u=o.length;l<u;l++){for(var g=r.get(o[l])[i],d=!1,f=0;f<a;f++)if(s[f]==g){d=!0;break}d||void 0===g||(s[a]=g,a++)}return s}},{key:"_addItem",value:function(i){var s,a,r=(null==(s=i)[a=this._idProp]&&(s[a]=zy()),s),o=r[this._idProp];if(this._data.has(o))throw new Error("Cannot add item: item with id "+o+" already exists");return this._data.set(o,r),++this.length,o}},{key:"_updateItem",value:function(i){var r=i[this._idProp];if(null==r)throw new Error("Cannot update item: item has no id (item: "+Ny(i)+")");var o=this._data.get(r);if(!o)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,lye(lye({},o),i)),r}},{key:"stream",value:function(i){if(i){var r=this._data;return new lU(jg({},lm,Jl.mark(function s(){var a,l,u,c;return Jl.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:a=eu(i),g.prev=1,a.s();case 3:if((l=a.n()).done){g.next=11;break}if(null==(c=r.get(u=l.value))){g.next=9;break}return g.next=9,[u,c];case 9:g.next=3;break;case 11:g.next=16;break;case 13:g.prev=13,g.t0=g.catch(1),a.e(g.t0);case 16:return g.prev=16,a.f(),g.finish(16);case 19:case"end":return g.stop()}},s,null,[[1,13,16,19]])})))}var o;return new lU(jg({},lm,rt(o=function(e){var t=e.entries;return e===sye||e instanceof Array&&t===sye.entries||wbt.hasOwnProperty(_bt(e))?bbt:t}(this._data)).call(o,this._data)))}}]),n}(),Obt=function(e){qi(n,dye);var t=uye(n);function n(i,r){var o,s;return ft(this,n),(s=t.call(this)).length=0,s._ids=new Hg,s._options=r||{},s._listener=rt(o=s._onEvent).call(o,jve(s)),s.setData(i),s}return ht(n,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(i){if(this._data){this._data.off&&this._data.off("*",this._listener);var r=this._data.getIds({filter:nr(this._options)}),o=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:o})}if(null!=i){this._data=i;for(var s=this._data.getIds({filter:nr(this._options)}),a=0,l=s.length;a<l;a++)this._ids.add(s[a]);this.length=s.length,this._trigger("add",{items:s})}else this._data=new Fp;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var i=this._data.getIds({filter:nr(this._options)}),r=Yr(this._ids),o={},s=[],a=[],l=[],u=0,c=i.length;u<c;u++){var g=i[u];o[g]=!0,this._ids.has(g)||(s.push(g),this._ids.add(g))}for(var d=0,f=r.length;d<f;d++){var h=r[d],C=this._data.get(h);null==C?console.error("If you see this, report it please."):o[h]||(a.push(h),l.push(C),this._ids.delete(h))}this.length+=s.length-a.length,s.length&&this._trigger("add",{items:s}),a.length&&this._trigger("remove",{items:a,oldData:l})}},{key:"get",value:function(i,r){if(null==this._data)return null;var o,s=null;aU(i)||ri(i)?(s=i,o=r):o=i;var a=bo({},this._options,o),l=nr(this._options),u=o&&nr(o);return l&&u&&(a.filter=function(c){return l(c)&&u(c)}),null==s?this._data.get(a):this._data.get(s,a)}},{key:"getIds",value:function(i){if(this._data.length){var o=nr(this._options),s=null!=i?nr(i):null;return this._data.getIds({filter:s?o?function(a){return o(a)&&s(a)}:s:o,order:i&&i.order})}return[]}},{key:"forEach",value:function(i,r){if(this._data){var o,s,a=nr(this._options),l=r&&nr(r);s=l?a?function(u){return a(u)&&l(u)}:l:a,Ui(o=this._data).call(o,i,{filter:s,order:r&&r.order})}}},{key:"map",value:function(i,r){if(this._data){var o,s,a=nr(this._options),l=r&&nr(r);return s=l?a?function(u){return a(u)&&l(u)}:l:a,Is(o=this._data).call(o,i,{filter:s,order:r&&r.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(i){var r;return this._data.stream(i||jg({},lm,rt(r=cm(this._ids)).call(r,this._ids)))}},{key:"dispose",value:function(){var i;null!==(i=this._data)&&void 0!==i&&i.off&&this._data.off("*",this._listener);var r,o="This data view has already been disposed of.",s={get:function(){throw new Error(o)},set:function(){throw new Error(o)},configurable:!1},a=eu(Zme(n.prototype));try{for(a.s();!(r=a.n()).done;)Sy(this,r.value,s)}catch(u){a.e(u)}finally{a.f()}}},{key:"_onEvent",value:function(i,r,o){if(r&&r.items&&this._data){var s=r.items,a=[],l=[],u=[],c=[],g=[],d=[];switch(i){case"add":for(var f=0,h=s.length;f<h;f++){var C=s[f];this.get(C)&&(this._ids.add(C),a.push(C))}break;case"update":for(var p=0,I=s.length;p<I;p++){var m=s[p];this.get(m)?this._ids.has(m)?(l.push(m),g.push(r.data[p]),c.push(r.oldData[p])):(this._ids.add(m),a.push(m)):this._ids.has(m)&&(this._ids.delete(m),u.push(m),d.push(r.oldData[p]))}break;case"remove":for(var y=0,_=s.length;y<_;y++){var N=s[y];this._ids.has(N)&&(this._ids.delete(N),u.push(N),d.push(r.oldData[y]))}}this.length+=a.length-u.length,a.length&&this._trigger("add",{items:a},o),l.length&&this._trigger("update",{items:l,oldData:c,data:g},o),u.length&&this._trigger("remove",{items:u,oldData:d},o)}}}]),n}();function fye(e,t){return"object"===vi(t)&&null!==t&&e===t.idProp&&"function"==typeof t.add&&"function"==typeof t.clear&&"function"==typeof t.distinct&&"function"==typeof Ui(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof Is(t)&&"function"==typeof t.max&&"function"==typeof t.min&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.remove&&"function"==typeof t.setOptions&&"function"==typeof t.stream&&"function"==typeof t.update&&"function"==typeof t.updateOnly}function uU(e,t){return"object"===vi(t)&&null!==t&&e===t.idProp&&"function"==typeof Ui(t)&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof Is(t)&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.stream&&fye(e,t.getDataSet())}Object.freeze({__proto__:null,DELETE:BH,DataSet:Fp,DataStream:lU,DataView:Obt,Queue:gye,createNewDataPipeFrom:function(e){return new Nbt(e)},isDataSetLike:fye,isDataViewLike:uU});var Mbt=wp,Rbt=DH.trim,cU=ps.parseFloat,hye=1/cU("\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")!=-1/0?function(e){var t=Rbt(Mbt(e)),n=cU(t);return 0===n&&"-"==t.charAt(0)?-0:n}:cU;Gn({global:!0,forced:parseFloat!=hye},{parseFloat:hye});var Cye=Hi.parseFloat,Lbt=TM.f;Gn({target:"Object",stat:!0,forced:yo(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:Lbt});var Bbt=Hi.Object;function gU(e,t){var n=["node","edge","label"],i=!0,r=Op(t,"chosen");if("boolean"==typeof r)i=r;else if("object"===vi(r)){if(-1===ir(n).call(n,e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var o=Op(t,["chosen",e]);"boolean"!=typeof o&&"function"!=typeof o||(i=o)}return i}function dU(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){var i={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){var r=-n.angle;t={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else t=i}return e.left<t.x&&e.x+e.width>t.x&&e.top<t.y&&e.y+e.width>t.y}function eR(e){return"string"==typeof e&&""!==e}function pye(e,t,n,i){var r=i.x,o=i.y;if("function"==typeof i.distanceToBorder){var s=i.distanceToBorder(e,t),a=Math.sin(t)*s,l=Math.cos(t)*s;l===s?(r+=s,o=i.y):a===s?(r=i.x,o-=s):(r+=l,o-=a)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var Vbt=function(){function e(t){ft(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return ht(e,[{key:"_add",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var r=n;void 0!==n&&""!==n||(r=" ");var o=this.measureText(r,i),s=bo({},JM(o));s.text=n,s.width=o.width,s.mod=i,void 0!==n&&""!==n||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,n)}},{key:"newLine",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,n),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var n=this.lines[t],i=0;if(void 0!==n.blocks)for(var r=0;r<n.blocks.length;r++){var o=n.blocks[r];i<o.height&&(i=o.height)}n.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,n=0,i=0;i<this.lines.length;i++){var r=this.lines[i];r.width>t&&(t=r.width),n+=r.height}this.width=t,this.height=n}},{key:"removeEmptyBlocks",value:function(){for(var t=[],n=0;n<this.lines.length;n++){var i=this.lines[n];if(0!==i.blocks.length&&(n!==this.lines.length-1||0!==i.width)){var r={};bo(r,i),r.blocks=[];for(var o=void 0,s=[],a=0;a<i.blocks.length;a++){var l=i.blocks[a];0!==l.width?s.push(l):void 0===o&&(o=l)}0===s.length&&void 0!==o&&s.push(o),r.blocks=s,t.push(r)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),e}(),zbt={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},Aye=function(){function e(t){ft(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return ht(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,n){return!(this.mono||this[t]||!this.match(n)||(this.setTag(t),0))}},{key:"match",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.prepareRegExp(t),r=Ti(i,2),o=r[0],s=r[1],a=o.test(this.text.substr(this.position,s));return a&&n&&(this.position+=s-1),a}},{key:"parseEndTag",value:function(t,n,i){var r=this.mod()===t;return!(!(r="mono"===t?r&&this.mono:r&&!this.mono)||!this.match(n)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}},{key:"replace",value:function(t,n){return!!this.match(t)&&(this.add(n),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var n,i;if(t instanceof RegExp)i=t,n=1;else{var r=zbt[t];i=void 0!==r?r:new RegExp(t),n=t.length}return[i,n]}}]),e}(),Hbt=function(){function e(t,n,i,r){var o=this;ft(this,e),this.ctx=t,this.parent=n,this.selected=i,this.hover=r,this.lines=new Vbt(function(s,a){if(void 0===s)return 0;var l=o.parent.getFormattingValues(t,i,r,a),u=0;return""!==s&&(u=o.ctx.measureText(s).width),{width:u,values:l}})}return ht(e,[{key:"process",value:function(t){if(!eR(t))return this.lines.finalize();var n=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),r=i.length;if(n.multi)for(var o=0;o<r;o++){var s=this.splitBlocks(i[o],n.multi);if(void 0!==s)if(0!==s.length){if(n.maxWdt>0)for(var a=0;a<s.length;a++)this.splitStringIntoLines(s[a].text,s[a].mod,!0);else for(var c=0;c<s.length;c++)this.lines.append(s[c].text,s[c].mod);this.lines.newLine()}else this.lines.newLine("")}else if(n.maxWdt>0)for(var f=0;f<r;f++)this.splitStringIntoLines(i[f]);else for(var h=0;h<r;h++)this.lines.newLine(i[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var n="none";return"markdown"===t||"md"===t?n="markdown":!0!==t&&"html"!==t||(n="html"),n}},{key:"splitHtmlBlocks",value:function(t){for(var n=new Aye(t);n.position<n.text.length;){var r=n.text.charAt(n.position);n.parseWS(r)||/</.test(r)&&(n.parseStartTag("bold","<b>")||n.parseStartTag("ital","<i>")||n.parseStartTag("mono","<code>")||n.parseEndTag("bold","</b>")||n.parseEndTag("ital","</i>")||n.parseEndTag("mono","</code>"))||!!/&/.test(r)&&(n.replace(n.text,"&lt;","<")||n.replace(n.text,"&amp;","&")||n.add("&"),!0)||n.add(r),n.position++}return n.emitBlock(),n.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var i=new Aye(t),r=!0;i.position<i.text.length;){var s=i.text.charAt(i.position);i.parseWS(s)||!!/\\/.test(a=s)&&(i.position<this.text.length+1&&(i.position++,a=this.text.charAt(i.position),/ \t/.test(a)?i.spacing=!0:(i.add(a),r=!1)),!0)||(r||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(s),r=!1),i.position++}var a;return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,n){var i=this.decodeMarkupSystem(n);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var n=this.ctx.measureText(t).width;return this.lines.curWidth()+n>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var n="",i=0;i<t.length;){var r=n+(""===n?"":" ")+t[i];if(this.overMaxWidth(r))break;n=r,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var n=0;n<t.length&&!this.overMaxWidth(Zo(t).call(t,0,n));)n++;return n}},{key:"splitStringIntoLines",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,n);for(var r=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");r.length>0;){var o=this.getLongestFit(r);if(0===o){var s=r[0],a=this.getLongestFitWord(s);this.lines.newLine(Zo(s).call(s,0,a),n),r[0]=Zo(s).call(s,a)}else{var l=o;" "===r[o-1]?o--:" "===r[l]&&l++;var u=Zo(r).call(r,0,o).join("");o==r.length&&i?this.lines.append(u,n):this.lines.newLine(u,n),r=Zo(r).call(r,l)}}}}]),e}(),ax=["bold","ital","boldital","mono"],Iye=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ft(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return ht(e,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),eR(t.label)?this.labelDirty=!0:t.label=void 0,null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===vi(t.font)){var n=t.font.size;void 0!==n&&(this.baseSize=n)}}},{key:"initFontOptions",value:function(t){var n=this;Ai(ax,function(i){n.fontOptions[i]={}}),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:Ai(t,function(i,r){null!=i&&"object"!==vi(i)&&(n.fontOptions[r]=i)})}},{key:"constrain",value:function(t){var n={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Op(t,"widthConstraint");if("number"==typeof i)n.maxWdt=Number(i),n.minWdt=Number(i);else if("object"===vi(i)){var r=Op(t,["widthConstraint","maximum"]);"number"==typeof r&&(n.maxWdt=Number(r));var o=Op(t,["widthConstraint","minimum"]);"number"==typeof o&&(n.minWdt=Number(o))}var s=Op(t,"heightConstraint");if("number"==typeof s)n.minHgt=Number(s);else if("object"===vi(s)){var a=Op(t,["heightConstraint","minimum"]);"number"==typeof a&&(n.minHgt=Number(a));var l=Op(t,["heightConstraint","valign"]);"string"==typeof l&&("top"!==l&&"bottom"!==l||(n.valign=l))}return n}},{key:"update",value:function(t,n){this.setOptions(t,!0),this.propagateFonts(n),Br(this.fontOptions,this.constrain(n)),this.fontOptions.chooser=gU("label",n)}},{key:"adjustSizes",value:function(t){var n=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=n,this.fontOptions.minWdt-=n),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,n){for(var i=0;i<n.length;++i)this.addFontToPile(t,n[i])}},{key:"addFontToPile",value:function(t,n){void 0!==n&&null!=n.font&&t.push(n.font)}},{key:"getBasicOptions",value:function(t){for(var n={},i=0;i<t.length;++i){var r=t[i],o={};e.parseFontString(o,r)&&(r=o),Ai(r,function(s,a){void 0!==s&&(Object.prototype.hasOwnProperty.call(n,a)||(n[a]=-1!==ir(ax).call(ax,a)?{}:s))})}return n}},{key:"getFontOption",value:function(t,n,i){for(var r,o=0;o<t.length;++o){var s=t[o];if(Object.prototype.hasOwnProperty.call(s,n)){if(null==(r=s[n]))continue;var a={};if(e.parseFontString(a,r)&&(r=a),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,n){for(var i={},r=["color","size","face","mod","vadjust"],o=0;o<r.length;++o){var s=r[o];i[s]=this.getFontOption(t,n,s)}return i}},{key:"propagateFonts",value:function(t){var n=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var r=function(s){var a=ax[s],l=n.fontOptions[a];Ai(n.getFontOptions(i,a),function(u,c){l[c]=u}),l.size=Number(l.size),l.vadjust=Number(l.vadjust)},o=0;o<ax.length;++o)r(o)}},{key:"draw",value:function(t,n,i,r,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,r,o,n,i,s),this._drawBackground(t),this._drawText(t,n,this.size.yLine,s,a))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var n=this.getSize();t.fillRect(n.left,n.top,n.width,n.height)}}},{key:"_drawText",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0,s=this._setAlignment(t,n,i,r),a=Ti(s,2);n=a[0],i=a[1],t.textAlign="left",n-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var l=0;l<this.lineCount;l++){var u=this.lines[l];if(u&&u.blocks){var c=0;this.isEdgeLabel||"center"===this.fontOptions.align?c+=(this.size.width-u.width)/2:"right"===this.fontOptions.align&&(c+=this.size.width-u.width);for(var g=0;g<u.blocks.length;g++){var d=u.blocks[g];t.font=d.font;var f=this._getColor(d.color,o,d.strokeColor),h=Ti(f,2),C=h[0],p=h[1];d.strokeWidth>0&&(t.lineWidth=d.strokeWidth,t.strokeStyle=p,t.lineJoin="round"),t.fillStyle=C,d.strokeWidth>0&&t.strokeText(d.text,n+c,i+d.vadjust),t.fillText(d.text,n+c,i+d.vadjust),c+=d.width}i+=u.height}}}},{key:"_setAlignment",value:function(t,n,i,r){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(n=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=r,[n,i]}},{key:"_getColor",value:function(t,n,i){var r=t||"#000000",o=i||"#ffffff";if(n<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-n)));r=Fc(r,s),o=Fc(o,s)}return[r,o]}},{key:"getTextSize",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,n,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,n=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,n=.5*-this.size.height;break;case"top":t=i,n=-(this.size.height+2);break;case"bottom":t=i,n=2}}return{left:t,top:n,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,n,i),this.size.left=r-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===s&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,n,i,r){var o=function(l,u,c){return"normal"===u?"mod"===c?"":l[c]:void 0!==l[u][c]?l[u][c]:l[c]},s={color:o(this.fontOptions,r,"color"),size:o(this.fontOptions,r,"size"),face:o(this.fontOptions,r,"face"),mod:o(this.fontOptions,r,"mod"),vadjust:o(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(n||i)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,n,i));var a="";return void 0!==s.mod&&""!==s.mod&&(a+=s.mod+" "),t.font=(a+=s.size+"px "+s.face).replace(/"/g,""),s.font=t.font,s.height=s.size,s}},{key:"differentState",value:function(t,n){return t!==this.selectedState||n!==this.hoverState}},{key:"_processLabelText",value:function(t,n,i,r){return new Hbt(t,this,n,i).process(r)}},{key:"_processLabel",value:function(t,n,i){if(!1!==this.labelDirty||this.differentState(n,i)){var r=this._processLabelText(t,n,i,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=n,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,n){if(!n||"string"!=typeof n)return!1;var i=n.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),e}(),gm=function(){function e(t,n,i){ft(this,e),this.body=n,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return ht(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==vi(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,n){var i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+i}},{key:"enableShadow",value:function(t,n){n.shadow&&(t.shadowColor=n.shadowColor,t.shadowBlur=n.shadowSize,t.shadowOffsetX=n.shadowX,t.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(t,n){n.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,n){if(!1!==n.borderDashes)if(void 0!==t.setLineDash){var i=n.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,n){!1!==n.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1))}},{key:"needsRefresh",value:function(t,n){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,n)}},{key:"initContextForDraw",value:function(t,n){t.lineWidth=Math.min(this.width,n.borderWidth/this.body.view.scale),t.strokeStyle=n.borderColor,t.fillStyle=n.color}},{key:"performStroke",value:function(t,n){var i=n.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,n),t.stroke(),this.disableBorderDashes(t,n)),t.restore()}},{key:"performFill",value:function(t,n){t.save(),t.fillStyle=n.color,this.enableShadow(t,n),ZE(t).call(t),this.disableShadow(t,n),t.restore(),this.performStroke(t,n)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,n,i,r,o){void 0!==i&&this.resize(i,r,o),this.left=t-this.width/2,this.top=n-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,n,i,r,o){this._updateBoundingBox(t,n,i,r,o)}},{key:"getDimensionsFromLabel",value:function(t,n,i){this.textSize=this.labelModule.getTextSize(t,n,i);var r=this.textSize.width,o=this.textSize.height;return 0===r&&(r=14,o=14),{width:r,height:o}}}]),e}(),Gbt=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._setMargins(o),s}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.width=s.width+this.margin.right+this.margin.left,this.height=s.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,l),fIe(i,this.left,this.top,this.width,this.height,l.borderRadius),this.performFill(i,l),this.updateBoundingBox(r,o,i,s,a),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,a)}},{key:"updateBoundingBox",value:function(i,r,o,s,a){this._updateBoundingBox(i,r,o,s,a),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+o}}]),n}(),fU=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o)).labelOffset=0,s.selected=!1,s}return ht(n,[{key:"setOptions",value:function(i,r,o){this.options=i,void 0===r&&void 0===o||this.setImages(r,o)}},{key:"setImages",value:function(i,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=r)}},{key:"switchImages",value:function(i){var r=i&&!this.selected||!i&&this.selected;if(this.selected=i,void 0!==this.imageObjAlt&&r){var o=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=o}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var r=this.options.imagePadding;"object"==vi(r)?(i.top=r.top,i.right=r.right,i.bottom=r.bottom,i.left=r.left):(i.top=r,i.right=r,i.bottom=r,i.left=r)}return i}},{key:"_resizeImage",value:function(){var i,r;if(!1===this.options.shapeProperties.useImageSize){var o=1,s=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:s=this.imageObj.height/this.imageObj.width),i=2*this.options.size*o,r=2*this.options.size*s}else{var a=this._getImagePadding();i=this.imageObj.width+a.left+a.right,r=this.imageObj.height+a.top+a.bottom}this.width=i,this.height=r,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,r,o,s){this.initContextForDraw(i,s),Qz(i,r,o,s.size),this.performFill(i,s)}},{key:"_drawImageAtPosition",value:function(i,r){if(0!=this.imageObj.width){i.globalAlpha=void 0!==r.opacity?r.opacity:1,this.enableShadow(i,r);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);var s=this._getImagePadding();this.imageObj.drawImageAtPosition(i,o,this.left+s.left,this.top+s.top,this.width-s.left-s.right,this.height-s.top-s.bottom),this.disableShadow(i,r)}}},{key:"_drawImageLabel",value:function(i,r,o,s,a){var l=0;if(void 0!==this.height){l=.5*this.height;var u=this.labelModule.getTextSize(i,s,a);u.lineCount>=1&&(l+=u.height/2)}var c=o+l;this.options.label&&(this.labelOffset=l),this.labelModule.draw(i,r,c,s,a,"hanging")}}]),n}(),Ybt=function(e){qi(n,fU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._setMargins(o),s}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o),a=Math.max(s.width+this.margin.right+this.margin.left,s.height+this.margin.top+this.margin.bottom);this.options.size=a/2,this.width=a,this.height=a,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a),this.left=r-this.width/2,this.top=o-this.height/2,this._drawRawCircle(i,r,o,l),this.updateBoundingBox(r,o),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,o,s,a)}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),n}(),Zbt=function(e){qi(n,fU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o,s,a){var l;return ft(this,n),(l=t.call(this,i,r,o)).setImages(s,a),l}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(s){var a=2*this.options.size;return this.width=a,this.height=a,void(this.radius=.5*this.width)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,a,l){this.switchImages(s),this.resize();var u=r,c=o;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,u+=this.width/2,c+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),this._drawRawCircle(i,u,c,l),i.save(),i.clip(),this._drawImageAtPosition(i,l),i.restore(),this._drawImageLabel(i,u,c,s,a),this.updateBoundingBox(r,o)}},{key:"updateBoundingBox",value:function(i,r){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=r,this.boundingBox.left=i,this.boundingBox.right=i+2*this.options.size,this.boundingBox.bottom=r+2*this.options.size):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),.5*this.width}}]),n}(),Pp=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,o)){var a,l;this.labelModule.getTextSize(i,r,o);var u=2*s.size;this.width=null!==(a=this.customSizeWidth)&&void 0!==a?a:u,this.height=null!==(l=this.customSizeHeight)&&void 0!==l?l:u,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,r,o,s,a,l,u,c){var g,d=this;return this.resize(i,l,u,c),this.left=s-this.width/2,this.top=a-this.height/2,this.initContextForDraw(i,c),(g=r,Object.prototype.hasOwnProperty.call(pIe,g)?pIe[g]:function(f){for(var h=arguments.length,C=new Array(h>1?h-1:0),p=1;p<h;p++)C[p-1]=arguments[p];CanvasRenderingContext2D.prototype[g].call(f,C)})(i,s,a,c.size),this.performFill(i,c),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(i.font=(l?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,s,a)),{drawExternalLabel:function(){void 0!==d.options.label&&(d.labelModule.calculateLabelSize(i,l,u,s,a,"hanging"),d.labelModule.draw(i,s,a+.5*d.height+.5*d.labelModule.size.height,l,u,"hanging")),d.updateBoundingBox(s,a)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=r+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}();function mye(e,t){var n=qr(e);if(Jd){var i=Jd(e);t&&(i=nr(i).call(i,function(r){return ef(e,r).enumerable})),n.push.apply(n,i)}return n}function Xbt(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ui(n=mye(Object(i),!0)).call(n,function(o){jg(e,o,i[o])});else if(tf)YE(e,tf(i));else{var r;Ui(r=mye(Object(i))).call(r,function(o){Sy(e,o,ef(i,o))})}}return e}var Jbt=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o,s){var a;return ft(this,n),(a=t.call(this,i,r,o,s)).ctxRenderer=s,a}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a,l),this.left=r-this.width/2,this.top=o-this.height/2,i.save();var u=this.ctxRenderer({ctx:i,id:this.options.id,x:r,y:o,state:{selected:s,hover:a},style:Xbt({},l),label:this.options.label});if(null!=u.drawNode&&u.drawNode(),i.restore(),u.drawExternalLabel){var c=u.drawExternalLabel;u.drawExternalLabel=function(){i.save(),c(),i.restore()}}return u.nodeDimensions&&(this.customSizeWidth=u.nodeDimensions.width,this.customSizeHeight=u.nodeDimensions.height),u}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),t1t=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._setMargins(o),s}return ht(n,[{key:"resize",value:function(i,r,o){if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}},{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a),this.left=r-this.width/2,this.top=o-this.height/2,this.initContextForDraw(i,l),hIe(i,r-this.width/2,o-this.height/2,this.width,this.height),this.performFill(i,l),this.updateBoundingBox(r,o,i,s,a),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,a)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),i1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"diamond",4,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),o1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"circle",2,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),n}(),vye=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(r,o)){var s=this.getDimensionsFromLabel(i,r,o);this.height=2*s.height,this.width=s.width+s.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a),this.left=r-.5*this.width,this.top=o-.5*this.height,this.initContextForDraw(i,l),Jz(i,this.left,this.top,this.width,this.height),this.performFill(i,l),this.updateBoundingBox(r,o,i,s,a),this.labelModule.draw(i,r,o,s,a)}},{key:"distanceToBorder",value:function(i,r){i&&this.resize(i);var o=.5*this.width,s=.5*this.height,a=Math.sin(r)*o,l=Math.cos(r)*s;return o*s/Math.sqrt(a*a+l*l)}}]),n}(),l1t=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._setMargins(o),s}return ht(n,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,a,l){var u=this;return this.resize(i,s,a),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=o-this.height/2,this._icon(i,r,o,s,a,l),{drawExternalLabel:function(){void 0!==u.options.label&&u.labelModule.draw(i,u.left+u.iconSize.width/2+u.margin.left,o+u.height/2+5,s),u.updateBoundingBox(r,o)}}}},{key:"updateBoundingBox",value:function(i,r){this.boundingBox.top=r-.5*this.options.icon.size,this.boundingBox.left=i-.5*this.options.icon.size,this.boundingBox.right=i+.5*this.options.icon.size,this.boundingBox.bottom=r+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(i,r,o,s,a,l){var u=Number(this.options.icon.size);void 0!==this.options.icon.code?(i.font=[null!=this.options.icon.weight?this.options.icon.weight:s?"bold":"",(null!=this.options.icon.weight&&s?5:0)+u+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,l),i.fillText(this.options.icon.code,r,o),this.disableShadow(i,l)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),c1t=function(e){qi(n,fU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o,s,a){var l;return ft(this,n),(l=t.call(this,i,r,o)).setImages(s,a),l}return ht(n,[{key:"resize",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,s=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(s){var a=2*this.options.size;return this.width=a,void(this.height=a)}this.needsRefresh(r,o)&&this._resizeImage()}},{key:"draw",value:function(i,r,o,s,a,l){i.save(),this.switchImages(s),this.resize();var u=r,c=o;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=r,this.top=o,u+=this.width/2,c+=this.height/2):(this.left=r-this.width/2,this.top=o-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){i.lineWidth=Math.min(this.width,(s?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),i.beginPath();var h=s?this.options.color.highlight.border:a?this.options.color.hover.border:this.options.color.border,C=s?this.options.color.highlight.background:a?this.options.color.hover.background:this.options.color.background;void 0!==l.opacity&&(h=Fc(h,l.opacity),C=Fc(C,l.opacity)),i.strokeStyle=h,i.fillStyle=C,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),ZE(i).call(i),this.performStroke(i,l),i.closePath()}this._drawImageAtPosition(i,l),this._drawImageLabel(i,u,c,s,a),this.updateBoundingBox(r,o),i.restore()}},{key:"updateBoundingBox",value:function(i,r){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=i,this.top=r):(this.left=i-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),d1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"square",2,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),h1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"hexagon",4,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),p1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"star",4,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),I1t=function(e){qi(n,gm);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._setMargins(o),s}return ht(n,[{key:"resize",value:function(i,r,o){this.needsRefresh(r,o)&&(this.textSize=this.labelModule.getTextSize(i,r,o),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,r,o,s,a,l){this.resize(i,s,a),this.left=r-this.width/2,this.top=o-this.height/2,this.enableShadow(i,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,s,a),this.disableShadow(i,l),this.updateBoundingBox(r,o,i,s,a)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),v1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"triangle",3,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}(),b1t=function(e){qi(n,Pp);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"draw",value:function(i,r,o,s,a,l){return this._drawShape(i,"triangleDown",3,r,o,s,a,l)}},{key:"distanceToBorder",value:function(i,r){return this._distanceToBorder(i,r)}}]),n}();function yye(e,t){var n=qr(e);if(Jd){var i=Jd(e);t&&(i=nr(i).call(i,function(r){return ef(e,r).enumerable})),n.push.apply(n,i)}return n}function bye(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ui(n=yye(Object(i),!0)).call(n,function(o){jg(e,o,i[o])});else if(tf)YE(e,tf(i));else{var r;Ui(r=yye(Object(i))).call(r,function(o){Sy(e,o,ef(i,o))})}}return e}var Mu=function(){function e(t,n,i,r,o,s){ft(this,e),this.options=Np(o),this.globalOptions=o,this.defaultOptions=s,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Iye(this.body,this.options,!1),this.setOptions(t)}return ht(e,[{key:"attachEdge",value:function(t){var n;-1===ir(n=this.edges).call(n,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var n,i,r=ir(n=this.edges).call(n,t);-1!=r&&rf(i=this.edges).call(i,r,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");return e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Vg(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Vg(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=Cye(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist),this.chooser=gU("node",[t,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&e.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var n=this.options.opacity;t.borderColor=Fc(t.borderColor,n),t.color=Fc(t.color,n),t.shadowColor=Fc(t.shadowColor,n)}return t}},{key:"updateLabelModule",value:function(t){null!=this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,bye(bye({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[t,this.options,n,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Gbt(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Ybt(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Zbt(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Jbt(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new t1t(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new i1t(this.options,this.body,this.labelModule);break;case"dot":this.shape=new o1t(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new vye(this.options,this.body,this.labelModule);break;case"icon":this.shape=new l1t(this.options,this.body,this.labelModule);break;case"image":this.shape=new c1t(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new d1t(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new h1t(this.options,this.body,this.labelModule);break;case"star":this.shape=new p1t(this.options,this.body,this.labelModule);break;case"text":this.shape=new I1t(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new v1t(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new b1t(this.options,this.body,this.labelModule);break;default:this.shape=new vye(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,n){return this.shape.distanceToBorder(t,n)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,n,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(t,n,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+r*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var n=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,n)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var n=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,n)}},{key:"getItemsOnPoint",value:function(t){var n=[];return this.labelModule.visible()&&dU(this.labelModule.getSize(),t)&&n.push({nodeId:this.id,labelId:0}),dU(this.shape.boundingBox,t)&&n.push({nodeId:this.id}),n}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(t,n,i){var r;if(void 0!==i){var o=t.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof o||"string"==typeof o&&""!=o){var s=i.get(o);void 0!==s.opacity&&void 0===n.opacity&&(e.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=nr(r=function(e){return Bbt.getOwnPropertyNames(e)}(n)).call(r,function(l){return null!=n[l]});a.push("font"),qM(a,t,s),t.color=zH(t.color)}}}},{key:"parseOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,s=["color","fixed","shadow"];if(qM(s,t,n,i),e.checkMass(n),void 0!==t.opacity&&(e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==n.opacity&&(e.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!e.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),Pc(t,n,"shadow",r),null!=n.color){var a=zH(n.color);ive(t.color,a)}else!0===i&&null===n.color&&(t.color=Np(r.color));null!=n.fixed&&("boolean"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(t.font=Np(r.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&Pc(t.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(t,n){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==n&&(i=" in node id: "+n),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.","background: #FFeeee; color: #dd0000"),t.mass=1}}}]),e}();function _ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var w1t=function(){function e(t,n,i,r){var o,s=this;if(ft(this,e),this.body=t,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=rt(o=this.create).call(o,this),this.nodesListeners={add:function(a,l){s.add(l.items)},update:function(a,l){s.update(l.items,l.data,l.oldData)},remove:function(a,l){s.remove(l.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,l,u,c){return l===a?.5:Math.max(0,1/(l-a)*(c-a))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Np(this.defaultOptions),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t,n,i=this;this.body.emitter.on("refreshNodes",rt(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",rt(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){Ai(i.nodesListeners,function(r,o){i.body.data.nodes&&i.body.data.nodes.off(o,r)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(Mu.parseOptions(this.options,t),void 0!==t.opacity&&(eU(t.opacity)||!am(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&this.body.nodes[n].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var i=0,r=qr(this.body.nodes);i<r.length;i++){var o=r[i];this.body.nodes[o].updateLabelModule(),this.body.nodes[o].needsRefresh()}if(void 0!==t.size)for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.body.nodes[s].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(uU("id",t))this.body.data.nodes=t;else if(ri(t))this.body.data.nodes=new Fp,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new Fp}if(i&&Ai(this.nodesListeners,function(s,a){i.off(a,s)}),this.body.nodes={},this.body.data.nodes){var r=this;Ai(this.nodesListeners,function(s,a){r.body.data.nodes.on(a,s)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=0;o<t.length;o++){var s=this.body.data.nodes.get(n=t[o]),a=this.create(s);r.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(r),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,n,i){for(var r=this.body.nodes,o=!1,s=0;s<t.length;s++){var a=t[s],l=r[a],u=n[s];void 0!==l?l.setOptions(u)&&(o=!0):(o=!0,l=this.create(u),r[a]=l)}o||void 0===i||(o=Ove(n).call(n,function(c,g){var d=i[g];return d&&d.level!==c.level})),this.body.emitter.emit(!0===o?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var n=this.body.nodes,i=0;i<t.length;i++)delete n[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mu;return new n(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ai(this.body.nodes,function(i,r){var o=t.body.data.nodes.get(r);void 0!==o&&(!0===n&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(t){var n={};if(void 0!==t){if(!0===ri(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var r=this.body.nodes[t[i]];n[t[i]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];n[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];n[this.body.nodeIndices[s]]={x:Math.round(a.x),y:Math.round(a.y)}}return n}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,n=[],i=this.body.data.nodes.getDataSet(),r=function(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return _ye(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return _ye(l,u)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(i.get());try{for(r.s();!(t=r.n()).done;){var o=t.value,s=o.id,a=this.body.nodes[s],l=Math.round(a.x),u=Math.round(a.y);o.x===l&&o.y===u||n.push({id:s,x:l,y:u})}}catch(c){r.e(c)}finally{r.f()}i.update(n)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,n){var i=[];if(void 0!==this.body.nodes[t])for(var r=this.body.nodes[t],o={},s=0;s<r.edges.length;s++){var a=r.edges[s];"to"!==n&&a.toId==r.id?void 0===o[a.fromId]&&(i.push(a.fromId),o[a.fromId]=!0):"from"!==n&&a.fromId==r.id&&void 0===o[a.toId]&&(i.push(a.toId),o[a.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],r=0;r<i.edges.length;r++)n.push(i.edges[r].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return n}},{key:"moveNode",value:function(t,n,i){var r=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(n),this.body.nodes[t].y=Number(i),zg(function(){r.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),e}(),E1t=Ms,x1t=Ou,D1t=Nu,S1t=my,T1t=_M;Gn({target:"Reflect",stat:!0},{get:function e(t,n){var i,r,o=arguments.length<3?t:arguments[2];return x1t(t)===o?t[n]:(i=S1t.f(t,n))?D1t(i,"value")?i.value:void 0===i.get?void 0:i.get.call(o):E1t(r=T1t(t))?e(r,n,o):void 0}});var wye=Hi.Reflect.get,k1t=Dme;function Eye(e,t,n){return(Eye="undefined"!=typeof Reflect&&wye?wye:function(i,r,o){var s=function(l,u){for(;!Object.prototype.hasOwnProperty.call(l,u)&&null!==(l=Gt(l)););return l}(i,r);if(s){var a=k1t(s,r);return a.get?a.get.call(o):a.value}})(e,t,n||e)}var xye=Math.hypot,O1t=Math.abs,M1t=Math.sqrt;Gn({target:"Math",stat:!0,forced:!!xye&&xye(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=O1t(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*M1t(r)}});var R1t=Hi.Math.hypot;function Dye(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}var Oo=function(){function e(){ft(this,e)}return ht(e,null,[{key:"transform",value:function(t,n){ri(t)||(t=[t]);for(var i=n.point.x,r=n.point.y,o=n.angle,s=n.length,a=0;a<t.length;++a){var l=t[a],u=l.x*Math.cos(o)-l.y*Math.sin(o),c=l.x*Math.sin(o)+l.y*Math.cos(o);l.x=i+s*u,l.y=r+s*c}}},{key:"drawPath",value:function(t,n){t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var i=1;i<n.length;++i)t.lineTo(n[i].x,n[i].y);t.closePath()}}]),e}(),F1t=function(e){qi(n,Oo);var t=Dye(n);function n(){return ft(this,n),t.apply(this,arguments)}return ht(n,null,[{key:"draw",value:function(i,r){if(r.image){i.save(),i.translate(r.point.x,r.point.y),i.rotate(Math.PI/2+r.angle);var o=null!=r.imageWidth?r.imageWidth:r.image.width;r.image.drawImageAtPosition(i,1,-o/2,0,o,null!=r.imageHeight?r.imageHeight:r.image.height),i.restore()}return!1}}]),n}(),P1t=function(e){qi(n,Oo);var t=Dye(n);function n(){return ft(this,n),t.apply(this,arguments)}return ht(n,null,[{key:"draw",value:function(i,r){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Oo.transform(o,r),Oo.drawPath(i,o),!0}}]),n}(),L1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),B1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i={x:-.4,y:0};Oo.transform(i,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=n.angle-r/2,s=n.angle+r/2;return t.beginPath(),t.arc(i.x,i.y,.4*n.length,o,s,!1),t.stroke(),!0}}]),e}(),j1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i={x:-.3,y:0};Oo.transform(i,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var r=Math.PI,o=n.angle+r/2,s=n.angle+3*r/2;return t.beginPath(),t.arc(i.x,i.y,.4*n.length,o,s,!1),t.stroke(),!0}}]),e}(),V1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),z1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),H1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i={x:-.4,y:0};return Oo.transform(i,n),Qz(t,i.x,i.y,.4*n.length),!0}}]),e}(),U1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),G1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),W1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),$1t=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Oo.transform(i,n),Oo.drawPath(t,i),!0}}]),e}(),Sye=function(){function e(){ft(this,e)}return ht(e,null,[{key:"draw",value:function(t,n){var i;switch(n.type&&(i=n.type.toLowerCase()),i){case"image":return F1t.draw(t,n);case"circle":return H1t.draw(t,n);case"box":return G1t.draw(t,n);case"crow":return L1t.draw(t,n);case"curve":return B1t.draw(t,n);case"diamond":return W1t.draw(t,n);case"inv_curve":return j1t.draw(t,n);case"triangle":return V1t.draw(t,n);case"inv_triangle":return z1t.draw(t,n);case"bar":return U1t.draw(t,n);case"vee":return $1t.draw(t,n);case"arrow":default:return P1t.draw(t,n)}}}]),e}();function Tye(e,t){var n=qr(e);if(Jd){var i=Jd(e);t&&(i=nr(i).call(i,function(r){return ef(e,r).enumerable})),n.push.apply(n,i)}return n}function kye(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ui(n=Tye(Object(i),!0)).call(n,function(o){jg(e,o,i[o])});else if(tf)YE(e,tf(i));else{var r;Ui(r=Tye(Object(i))).call(r,function(o){Sy(e,o,ef(i,o))})}}return e}var Nye=function(){function e(t,n,i){ft(this,e),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return ht(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,n),t.lineWidth=n.width,!1!==n.dashes?this._drawDashedLine(t,n,o):this._drawLine(t,n,o)}},{key:"_drawLine",value:function(t,n,i,r,o){if(this.from!=this.to)this._line(t,n,i,r,o);else{var s=Ti(this._getCircleData(t),3);this._circle(t,n,s[0],s[1],s[2])}}},{key:"_drawDashedLine",value:function(t,n,i,r,o){t.lineCap="round";var s=ri(n.dashes)?n.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,n,i);else{var a=Ti(this._getCircleData(t),3);this._circle(t,n,a[0],a[1],a[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)CIe(t,this.from.x,this.from.y,this.to.x,this.to.y,s);else{var g=Ti(this._getCircleData(t),3);this._circle(t,n,g[0],g[1],g[2])}this.enableShadow(t,n),t.stroke(),this.disableShadow(t,n)}}},{key:"findBorderPosition",value:function(t,n,i){return this.from!=this.to?this._findBorderPosition(t,n,i):this._findBorderPositionCircle(t,n,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var n,i=Ti(Zo(n=this._getCircleData(t)).call(n,0,2),2),r=i[0],o=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:r,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:r,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var n=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var i=pye(t,this.options.selfReference.angle,n,this.from);return[i.x,i.y,n]}},{key:"_pointOnCircle",value:function(t,n,i,r){var o=2*r*Math.PI;return{x:t+i*Math.cos(o),y:n-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,n,i){var r,o=i.x,s=i.y,a=i.low,l=i.high,u=i.direction,c=this.options.selfReference.size,g=.5*(a+l),d=0;!0===this.options.arrowStrikethrough&&(-1===u?d=this.options.endPointOffset.from:1===u&&(d=this.options.endPointOffset.to));var f=0;do{r=this._pointOnCircle(o,s,c,g=.5*(a+l));var h=Math.atan2(t.y-r.y,t.x-r.x),C=t.distanceToBorder(n,h)+d-Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));if(Math.abs(C)<.05)break;C>0?u>0?a=g:l=g:u>0?l=g:a=g,++f}while(a<=l&&f<10);return kye(kye({},r),{},{t:g})}},{key:"getLineWidth",value:function(t,n){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===n?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,n){if(!1!==n.inheritsColor){if("both"===n.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=Fc(this.from.options.color.border,n.opacity),o=Fc(this.to.options.color.border,n.opacity)):!0===this.from.selected&&!1===this.to.selected?o=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),i.addColorStop(0,r),i.addColorStop(1,o),i}return Fc("to"===n.inheritsColor?this.to.options.color.border:this.from.options.color.border,n.opacity)}return Fc(n.color,n.opacity)}},{key:"_circle",value:function(t,n,i,r,o){this.enableShadow(t,n);var s=0,a=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:l,high:u,direction:-1}),g=this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:l,high:u,direction:1});s=Math.atan2(c.y-r,c.x-i),a=Math.atan2(g.y-r,g.x-i)}t.beginPath(),t.arc(i,r,o,s,a,!1),t.stroke(),this.disableShadow(t,n)}},{key:"getDistanceToEdge",value:function(t,n,i,r,o,s){if(this.from!=this.to)return this._getDistanceToEdge(t,n,i,r,o,s);var a=Ti(this._getCircleData(void 0),3),c=a[2],g=a[0]-o,d=a[1]-s;return Math.abs(Math.sqrt(g*g+d*d)-c)}},{key:"_getDistanceToLine",value:function(t,n,i,r,o,s){var a=i-t,l=r-n,u=((o-t)*a+(s-n)*l)/(a*a+l*l);u>1?u=1:u<0&&(u=0);var c=t+u*a-o,g=n+u*l-s;return Math.sqrt(c*c+g*g)}},{key:"getArrowData",value:function(t,n,i,r,o,s){var a,l,u,c,g,d,f,h=s.width;"from"===n?(u=this.from,c=this.to,g=s.fromArrowScale<0,d=Math.abs(s.fromArrowScale),f=s.fromArrowType):"to"===n?(u=this.to,c=this.from,g=s.toArrowScale<0,d=Math.abs(s.toArrowScale),f=s.toArrowType):(u=this.to,c=this.from,g=s.middleArrowScale<0,d=Math.abs(s.middleArrowScale),f=s.middleArrowType);var C=15*d+3*h;if(u!=c){var p=C/R1t(u.x-c.x,u.y-c.y);if("middle"!==n)if(!0===this.options.smooth.enabled){var I=this._findBorderPosition(u,t,{via:i}),m=this.getPoint(I.t+p*("from"===n?1:-1),i);a=Math.atan2(I.y-m.y,I.x-m.x),l=I}else a=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,t);else{var y=(g?-p:p)/2,_=this.getPoint(.5+y,i),N=this.getPoint(.5-y,i);a=Math.atan2(_.y-N.y,_.x-N.x),l=this.getPoint(.5,i)}}else{var O=Ti(this._getCircleData(t),3),k=O[0],M=O[1],V=O[2];if("from"===n){var H=this.options.selfReference.angle+Math.PI,ee=this._findBorderPositionCircle(this.from,t,{x:k,y:M,low:this.options.selfReference.angle,high:H,direction:-1});a=-2*ee.t*Math.PI+1.5*Math.PI+.1*Math.PI,l=ee}else if("to"===n){var _e=this.options.selfReference.angle+Math.PI,ae=this._findBorderPositionCircle(this.from,t,{x:k,y:M,low:this.options.selfReference.angle,high:_e,direction:1});a=-2*ae.t*Math.PI+1.5*Math.PI-1.1*Math.PI,l=ae}else{var le=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(k,M,V,le),a=-2*le*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:l,core:{x:l.x-.9*C*Math.cos(a),y:l.y-.9*C*Math.sin(a)},angle:a,length:C,type:f}}},{key:"drawArrowHead",value:function(t,n,i,r,o){t.strokeStyle=this.getColor(t,n),t.fillStyle=t.strokeStyle,t.lineWidth=n.width,Sye.draw(t,o)&&(this.enableShadow(t,n),ZE(t).call(t),this.disableShadow(t,n))}},{key:"enableShadow",value:function(t,n){!0===n.shadow&&(t.shadowColor=n.shadowColor,t.shadowBlur=n.shadowSize,t.shadowOffsetX=n.shadowX,t.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(t,n){!0===n.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,n){if(!1!==n.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=n.backgroundColor,t.lineWidth=n.backgroundSize,this.setStrokeDashed(t,n.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,n.dashes)}}},{key:"setStrokeDashed",value:function(t,n){if(!1!==n)if(void 0!==t.setLineDash){var i=ri(n)?n:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function Oye(e,t){var n=qr(e);if(Jd){var i=Jd(e);t&&(i=nr(i).call(i,function(r){return ef(e,r).enumerable})),n.push.apply(n,i)}return n}function Mye(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)Ui(n=Oye(Object(i),!0)).call(n,function(o){jg(e,o,i[o])});else if(tf)YE(e,tf(i));else{var r;Ui(r=Oye(Object(i))).call(r,function(o){Sy(e,o,ef(i,o))})}}return e}var hU=function(e){qi(n,Nye);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_findBorderPositionBezier",value:function(i,r){var o,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),l=10,u=.2,c=!1,g=1,d=0,f=this.to,h=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(f=this.from,c=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(h=0);var C=0;do{o=this.getPoint(s=.5*(d+g),a);var p=Math.atan2(f.y-o.y,f.x-o.x),I=f.distanceToBorder(r,p)+h,m=Math.sqrt(Math.pow(o.x-f.x,2)+Math.pow(o.y-f.y,2)),y=I-m;if(Math.abs(y)<u)break;y<0?!1===c?d=s:g=s:!1===c?g=s:d=s,++C}while(d<=g&&C<l);return Mye(Mye({},o),{},{t:s})}},{key:"_getDistanceToBezierEdge",value:function(i,r,o,s,a,l,u){var c,g,d,f,h,C=1e9,p=i,I=r;for(g=1;g<10;g++)d=.1*g,f=Math.pow(1-d,2)*i+2*d*(1-d)*u.x+Math.pow(d,2)*o,h=Math.pow(1-d,2)*r+2*d*(1-d)*u.y+Math.pow(d,2)*s,g>0&&(C=(c=this._getDistanceToLine(p,I,f,h,a,l))<C?c:C),p=f,I=h;return C}},{key:"_bezierCurve",value:function(i,r,o,s){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),null!=o&&null!=o.x?null!=s&&null!=s.x?i.bezierCurveTo(o.x,o.y,s.x,s.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,r),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(),Rye=function(e){qi(n,hU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o)).via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return ht(n,[{key:"setOptions",value:function(i){Eye(Gt(n.prototype),"setOptions",this).call(this,i);var r=!1;this.options.physics!==i.physics&&(r=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===r&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var i="edgeId:"+this.id,r=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var o=this._getCircleData(),s=Ti(o,3),a=s[0],l=s[1],u=s[2],c=2*Math.PI*(1-i);return{x:a+u*Math.sin(c),y:l+u-u*(1-Math.cos(c))}}return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r,this.via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,a,l){return this._getDistanceToBezierEdge(i,r,o,s,a,l,this.via)}}]),n}(),Fye=function(e){qi(n,hU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i,r,o=this.options.smooth.roundness,s=this.options.smooth.type,a=Math.abs(this.from.x-this.to.x),l=Math.abs(this.from.y-this.to.y);if("discrete"===s||"diagonalCross"===s){var u,c;u=c=a<=l?o*l:o*a,this.from.x>this.to.x&&(u=-u),this.from.y>=this.to.y&&(c=-c);var g=this.from.x+u,d=this.from.y+c;return"discrete"===s&&(a<=l?g=a<o*l?this.from.x:g:d=l<o*a?this.from.y:d),{x:g,y:d}}if("straightCross"===s){var f=(1-o)*a,h=(1-o)*l;return a<=l?(f=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(f=-f),h=0),{x:this.to.x+f,y:this.to.y+h}}if("horizontal"===s){var C=(1-o)*a;return this.from.x<this.to.x&&(C=-C),{x:this.to.x+C,y:this.from.y}}if("vertical"===s){var p=(1-o)*l;return this.from.y<this.to.y&&(p=-p),{x:this.from.x,y:this.to.y+p}}if("curvedCW"===s){a=this.to.x-this.from.x,l=this.from.y-this.to.y;var I=Math.sqrt(a*a+l*l),m=Math.PI,y=(Math.atan2(l,a)+(.5*o+.5)*m)%(2*m);return{x:this.from.x+(.5*o+.5)*I*Math.sin(y),y:this.from.y+(.5*o+.5)*I*Math.cos(y)}}if("curvedCCW"===s){a=this.to.x-this.from.x,l=this.from.y-this.to.y;var _=Math.sqrt(a*a+l*l),N=Math.PI,O=(Math.atan2(l,a)+(.5*-o+.5)*N)%(2*N);return{x:this.from.x+(.5*o+.5)*_*Math.sin(O),y:this.from.y+(.5*o+.5)*_*Math.cos(O)}}i=r=a<=l?o*l:o*a,this.from.x>this.to.x&&(i=-i),this.from.y>=this.to.y&&(r=-r);var k=this.from.x+i,M=this.from.y+r;return a<=l?k=this.from.x<=this.to.x?this.to.x<k?this.to.x:k:this.to.x>k?this.to.x:k:M=this.from.y>=this.to.y?this.to.y>M?this.to.y:M:this.to.y<M?this.to.y:M,{x:k,y:M}}},{key:"_findBorderPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(i,r,o.via)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,a,l){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,r,o,s,a,l,u)}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=i,s=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*r.x+Math.pow(o,2)*this.toPoint.x,a=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*r.y+Math.pow(o,2)*this.toPoint.y;return{x:s,y:a}}}]),n}(),X1t=function(e){qi(n,hU);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_getDistanceToBezierEdge2",value:function(i,r,o,s,a,l,u,c){for(var g=1e9,d=i,f=r,h=[0,0,0,0],C=1;C<10;C++){var p=.1*C;h[0]=Math.pow(1-p,3),h[1]=3*p*Math.pow(1-p,2),h[2]=3*Math.pow(p,2)*(1-p),h[3]=Math.pow(p,3);var I=h[0]*i+h[1]*u.x+h[2]*c.x+h[3]*o,m=h[0]*r+h[1]*u.y+h[2]*c.y+h[3]*s;if(C>0){var y=this._getDistanceToLine(d,f,I,m,a,l);g=y<g?y:g}d=I,f=m}return g}}]),n}(),Pye=function(e){qi(n,X1t);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_line",value:function(i,r,o){this._bezierCurve(i,r,o[0],o[1])}},{key:"_getViaCoordinates",value:function(){var i,r,o,s,a=this.from.x-this.to.x,l=this.from.y-this.to.y,u=this.options.smooth.roundness;return(Math.abs(a)>Math.abs(l)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,s=this.to.y,i=this.from.x-u*a,o=this.to.x+u*a):(r=this.from.y-u*l,s=this.to.y+u*l,i=this.from.x,o=this.to.x),[{x:i,y:r},{x:o,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,r){return this._findBorderPositionBezier(i,r)}},{key:"_getDistanceToEdge",value:function(i,r,o,s,a,l){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),c=Ti(u,2),g=c[0],d=c[1];return this._getDistanceToBezierEdge2(i,r,o,s,a,l,g,d)}},{key:"getPoint",value:function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=Ti(r,2),s=o[0],a=o[1],l=i,u=[Math.pow(1-l,3),3*l*Math.pow(1-l,2),3*Math.pow(l,2)*(1-l),Math.pow(l,3)],c=u[0]*this.fromPoint.x+u[1]*s.x+u[2]*a.x+u[3]*this.toPoint.x,g=u[0]*this.fromPoint.y+u[1]*s.y+u[2]*a.y+u[3]*this.toPoint.y;return{x:c,y:g}}}]),n}(),Lye=function(e){qi(n,Nye);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_line",value:function(i,r){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,r),i.stroke(),this.disableShadow(i,r)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,r){var o=this.to,s=this.from;i.id===this.from.id&&(o=this.from,s=this.to);var a=Math.atan2(o.y-s.y,o.x-s.x),l=o.x-s.x,u=o.y-s.y,c=Math.sqrt(l*l+u*u),g=(c-i.distanceToBorder(r,a))/c;return{x:(1-g)*s.x+g*o.x,y:(1-g)*s.y+g*o.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,r,o,s,a,l){return this._getDistanceToLine(i,r,o,s,a,l)}}]),n}(),Hy=function(){function e(t,n,i,r,o){if(ft(this,e),void 0===n)throw new Error("No body provided");this.options=Np(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Iye(this.body,this.options,!0),this.setOptions(t)}return ht(e,[{key:"setOptions",value:function(t){if(t){var n=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;return e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=Cye(t.value)),this.chooser=gU("edge",[t,this.options,this.defaultOptions]),this.updateLabelModule(t),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var r=this.options.color.inherit,o={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?o.width=a(o.width):"number"==typeof a&&(o.width+=a),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor===this.options.shadow.color&&o.shadowSize===this.options.shadow.size&&o.shadowX===this.options.shadow.x&&o.shadowY===this.options.shadow.y||(o.shadow=!0)));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,n=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Rye&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof Pye&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof Fye&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Lye&&!1===t.type.enabled)&&(i=!1),!0===i&&(n=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(n=!0,this.edgeType=new Rye(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new Pye(this.options,this.body,this.labelModule):new Fye(this.options,this.body,this.labelModule):this.edgeType=new Lye(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),n}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,n,i){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(t,n,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+r*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var n=this.getFormattingValues();if(!n.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(t,n,this.selected,this.hover,i),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t){var n=this.getFormattingValues();if(!n.hidden){var i=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,n.fromArrow&&(r.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,n),!1===n.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core),n.fromArrowSrc&&(r.from.image=this.imagelist.load(n.fromArrowSrc)),n.fromArrowImageWidth&&(r.from.imageWidth=n.fromArrowImageWidth),n.fromArrowImageHeight&&(r.from.imageHeight=n.fromArrowImageHeight)),n.toArrow&&(r.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,n),!1===n.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core),n.toArrowSrc&&(r.to.image=this.imagelist.load(n.toArrowSrc)),n.toArrowImageWidth&&(r.to.imageWidth=n.toArrowImageWidth),n.toArrowImageHeight&&(r.to.imageHeight=n.toArrowImageHeight)),n.middleArrow&&(r.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,n),n.middleArrowSrc&&(r.middle.image=this.imagelist.load(n.middleArrowSrc)),n.middleArrowImageWidth&&(r.middle.imageWidth=n.middleArrowImageWidth),n.middleArrowImageHeight&&(r.middle.imageHeight=n.middleArrowImageHeight)),n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,r.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,r.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,r.to)}}},{key:"drawLabel",value:function(t,n){if(void 0!==this.options.label){var i,r=this.from,o=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),r.id!=o.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,n),t.save();var s=this._getRotation(t);0!=s.angle&&(t.translate(s.x,s.y),t.rotate(s.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var a=pye(t,this.options.selfReference.angle,this.options.selfReference.size,r);i=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var n=[];if(this.labelModule.visible()){var i=this._getRotation();dU(this.labelModule.getSize(),t,i)&&n.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&n.push({edgeId:this.id}),n}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var n=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,n);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var r={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return r;var s=this.from.x-this.to.x,a=Math.atan2(this.from.y-this.to.y,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),r.angle=a,r}},{key:"_pointOnCircle",value:function(t,n,i,r){return{x:t+i*Math.cos(r),y:n-i*Math.sin(r)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(Py(s,t,n,i),void 0!==n.endPointOffset&&void 0!==n.endPointOffset.from&&(am(n.endPointOffset.from)?t.endPointOffset.from=n.endPointOffset.from:(t.endPointOffset.from=void 0!==r.endPointOffset.from?r.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==n.endPointOffset&&void 0!==n.endPointOffset.to&&(am(n.endPointOffset.to)?t.endPointOffset.to=n.endPointOffset.to:(t.endPointOffset.to=void 0!==r.endPointOffset.to?r.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),eR(n.label)?t.label=n.label:eR(t.label)||(t.label=void 0),Pc(t,n,"smooth",r),Pc(t,n,"shadow",r),Pc(t,n,"background",r),null!=n.dashes?t.dashes=n.dashes:!0===i&&null===n.dashes&&(t.dashes=Dp(r.dashes)),null!=n.scaling?(void 0!==n.scaling.min&&(t.scaling.min=n.scaling.min),void 0!==n.scaling.max&&(t.scaling.max=n.scaling.max),Pc(t.scaling,n.scaling,"label",r.scaling)):!0===i&&null===n.scaling&&(t.scaling=Dp(r.scaling)),null!=n.arrows)if("string"==typeof n.arrows){var a=n.arrows.toLowerCase();t.arrows.to.enabled=-1!=ir(a).call(a,"to"),t.arrows.middle.enabled=-1!=ir(a).call(a,"middle"),t.arrows.from.enabled=-1!=ir(a).call(a,"from")}else{if("object"!==vi(n.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ny(n.arrows));Pc(t.arrows,n.arrows,"to",r.arrows),Pc(t.arrows,n.arrows,"middle",r.arrows),Pc(t.arrows,n.arrows,"from",r.arrows)}else!0===i&&null===n.arrows&&(t.arrows=Dp(r.arrows));if(null!=n.color){var l=kp(n.color)?{color:n.color,highlight:n.color,hover:n.color,inherit:!1,opacity:1}:n.color,u=t.color;if(o)Br(u,r.color,!1,i);else for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&delete u[c];if(kp(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===l.opacity&&(u.opacity=1);else{var g=!1;void 0!==l.color&&(u.color=l.color,g=!0),void 0!==l.highlight&&(u.highlight=l.highlight,g=!0),void 0!==l.hover&&(u.hover=l.hover,g=!0),void 0!==l.inherit&&(u.inherit=l.inherit),void 0!==l.opacity&&(u.opacity=Math.min(1,Math.max(0,l.opacity))),!0===g?u.inherit=!1:void 0===u.inherit&&(u.inherit="from")}}else!0===i&&null===n.color&&(t.color=Np(r.color));!0===i&&null===n.font&&(t.font=Np(r.font)),Object.prototype.hasOwnProperty.call(n,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=n.selfReferenceSize)}}]),e}(),e_t=function(){function e(t,n,i){var r,o=this;ft(this,e),this.body=t,this.images=n,this.groups=i,this.body.functions.createEdge=rt(r=this.create).call(r,this),this.edgesListeners={add:function(s,a){o.add(a.items)},update:function(s,a){o.update(a.items)},remove:function(s,a){o.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,l,u){return a===s?.5:Math.max(0,1/(a-s)*(u-s))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Br(this.options,this.defaultOptions),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t,n,i=this;this.body.emitter.on("_forceDisableDynamicCurves",function(r){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===r&&(r="continuous");var s=!1;for(var a in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,a)){var l=i.body.edges[a],u=i.body.data.edges.get(a);if(null!=u){var c=u.smooth;void 0!==c&&!0===c.enabled&&"dynamic"===c.type&&(l.setOptions(void 0===r?{smooth:!1}:{smooth:{type:r}}),s=!0)}}!0===o&&!0===s&&i.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){i.reconnectEdges()}),this.body.emitter.on("refreshEdges",rt(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",rt(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){Ai(i.edgesListeners,function(r,o){i.body.data.edges&&i.body.data.edges.off(o,r)}),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){Hy.parseOptions(this.options,t,!0,this.defaultOptions,!0);var n=!1;if(void 0!==t.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(n=this.body.edges[i].updateEdgeType()||n);if(void 0!==t.font)for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==n||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.data.edges;if(uU("id",t))this.body.data.edges=t;else if(ri(t))this.body.data.edges=new Fp,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new Fp}if(r&&Ai(this.edgesListeners,function(s,a){r.off(a,s)}),this.body.edges={},this.body.data.edges){Ai(this.edgesListeners,function(s,a){n.body.data.edges.on(a,s)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,r=this.body.data.edges,o=0;o<t.length;o++){var s=t[o],a=i[s];a&&a.disconnect();var l=r.get(s,{showInternalIds:!0});i[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var n=this.body.edges,i=this.body.data.edges,r=!1,o=0;o<t.length;o++){var s=t[o],a=i.get(s),l=n[s];void 0!==l?(l.disconnect(),r=l.setOptions(a)||r,l.connect()):(this.body.edges[s]=this.create(a),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;Ai(t,function(r){var o=i[r];void 0!==o&&o.remove()}),n&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Ai(this.body.edges,function(n,i){var r=t.body.data.edges.get(i);void 0!==r&&n.setOptions(r)})}},{key:"create",value:function(t){return new Hy(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,n=this.body.nodes,i=this.body.edges;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var r=i[t];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(t){var n=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&n.push(i.fromId),void 0!==i.toId&&n.push(i.toId)}return n}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,n=[];Ai(this.body.edges,function(i,r){var o=t.body.nodes[i.toId],s=t.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==s&&!0===s.isCluster||void 0!==o&&void 0!==s||n.push(r)}),this.remove(n,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var n=this.body.edges,i=[];Ui(t).call(t,function(r,o){void 0===n[o]&&i.push(o)}),this.add(i,!0)}}}]),e}(),Bye=function(){function e(t,n,i){ft(this,e),this.body=t,this.physicsBody=n,this.setOptions(i),this._rng=YM("BARNES HUT SOLVER")}return ht(e,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,n=this.body.nodes,i=this.physicsBody.physicsNodeIndices,r=i.length,o=this._formBarnesHutTree(n,i);this.barnesHutTree=o;for(var s=0;s<r;s++)(t=n[i[s]]).options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,n){this._getForceContribution(t.children.NW,n),this._getForceContribution(t.children.NE,n),this._getForceContribution(t.children.SW,n),this._getForceContribution(t.children.SE,n)}},{key:"_getForceContribution",value:function(t,n){if(t.childrenCount>0){var i=t.centerOfMass.x-n.x,r=t.centerOfMass.y-n.y,o=Math.sqrt(i*i+r*r);o*t.calcSize>this.thetaInversed?this._calculateForces(o,i,r,n,t):4===t.childrenCount?this._getForceContributions(t,n):t.children.data.id!=n.id&&this._calculateForces(o,i,r,n,t)}}},{key:"_calculateForces",value:function(t,n,i,r,o){0===t&&(n=t=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,t-r.shape.radius));var s=this.options.gravitationalConstant*o.mass*r.options.mass/Math.pow(t,3),l=i*s;this.physicsBody.forces[r.id].x+=n*s,this.physicsBody.forces[r.id].y+=l}},{key:"_formBarnesHutTree",value:function(t,n){for(var i,r=n.length,o=t[n[0]].x,s=t[n[0]].y,a=t[n[0]].x,l=t[n[0]].y,u=1;u<r;u++){var c=t[n[u]],g=c.x,d=c.y;c.options.mass>0&&(g<o&&(o=g),g>a&&(a=g),d<s&&(s=d),d>l&&(l=d))}var f=Math.abs(a-o)-Math.abs(l-s);f>0?(s-=.5*f,l+=.5*f):(o+=.5*f,a-=.5*f);var h=Math.max(1e-5,Math.abs(a-o)),C=.5*h,p=.5*(o+a),I=.5*(s+l),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-C,maxX:p+C,minY:I-C,maxY:I+C},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var y=0;y<r;y++)(i=t[n[y]]).options.mass>0&&this._placeInTree(m.root,i);return m}},{key:"_updateBranchMass",value:function(t,n){var i=t.centerOfMass,r=t.mass+n.options.mass,o=1/r;i.x=i.x*t.mass+n.x*n.options.mass,i.x*=o,i.y=i.y*t.mass+n.y*n.options.mass,i.y*=o,t.mass=r;var s=Math.max(Math.max(n.height,n.radius),n.width);t.maxWidth=t.maxWidth<s?s:t.maxWidth}},{key:"_placeInTree",value:function(t,n,i){1==i&&void 0!==i||this._updateBranchMass(t,n);var o=t.children.NW.range;this._placeInRegion(t,n,o.maxX>n.x?o.maxY>n.y?"NW":"SW":o.maxY>n.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,n,i){var r=t.children[i];switch(r.childrenCount){case 0:r.children.data=n,r.childrenCount=1,this._updateBranchMass(r,n);break;case 1:r.children.data.x===n.x&&r.children.data.y===n.y?(n.x+=this._rng(),n.y+=this._rng()):(this._splitBranch(r),this._placeInTree(r,n));break;case 4:this._placeInTree(r,n)}}},{key:"_splitBranch",value:function(t){var n=null;1===t.childrenCount&&(n=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=n&&this._placeInTree(t,n)}},{key:"_insertRegion",value:function(t,n){var i,r,o,s,a=.5*t.size;switch(n){case"NW":i=t.range.minX,r=t.range.minX+a,o=t.range.minY,s=t.range.minY+a;break;case"NE":i=t.range.minX+a,r=t.range.maxX,o=t.range.minY,s=t.range.minY+a;break;case"SW":i=t.range.minX,r=t.range.minX+a,o=t.range.minY+a,s=t.range.maxY;break;case"SE":i=t.range.minX+a,r=t.range.maxX,o=t.range.minY+a,s=t.range.maxY}t.children[n]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:r,minY:o,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,n){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,n))}},{key:"_drawBranch",value:function(t,n,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,n),this._drawBranch(t.children.NE,n),this._drawBranch(t.children.SE,n),this._drawBranch(t.children.SW,n)),n.strokeStyle=i,n.beginPath(),n.moveTo(t.range.minX,t.range.minY),n.lineTo(t.range.maxX,t.range.minY),n.stroke(),n.beginPath(),n.moveTo(t.range.maxX,t.range.minY),n.lineTo(t.range.maxX,t.range.maxY),n.stroke(),n.beginPath(),n.moveTo(t.range.maxX,t.range.maxY),n.lineTo(t.range.minX,t.range.maxY),n.stroke(),n.beginPath(),n.moveTo(t.range.minX,t.range.maxY),n.lineTo(t.range.minX,t.range.minY),n.stroke()}}]),e}(),t_t=function(){function e(t,n,i){ft(this,e),this._rng=YM("REPULSION SOLVER"),this.body=t,this.physicsBody=n,this.setOptions(i)}return ht(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,i,r,o,s,a,l,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,d=this.options.nodeDistance,f=-2/3/d,h=0;h<c.length-1;h++){a=u[c[h]];for(var C=h+1;C<c.length;C++)t=(l=u[c[C]]).x-a.x,n=l.y-a.y,0===(i=Math.sqrt(t*t+n*n))&&(t=i=.1*this._rng()),i<2*d&&(s=i<.5*d?1:f*i+1.3333333333333333,r=t*(s/=i),o=n*s,g[a.id].x-=r,g[a.id].y-=o,g[l.id].x+=r,g[l.id].y+=o)}}}]),e}(),n_t=function(){function e(t,n,i){ft(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return ht(e,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,r=this.options.nodeDistance,o=0;o<n.length-1;o++)for(var s=t[n[o]],a=o+1;a<n.length;a++){var l=t[n[a]];if(s.level===l.level){var u=r+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-s.x,g=l.y-s.y,d=Math.sqrt(c*c+g*g),f=void 0;f=d<u?-Math.pow(.05*d,2)+Math.pow(.05*u,2):0,0!==d&&(f/=d);var h=c*f,C=g*f;i[s.id].x-=h,i[s.id].y-=C,i[l.id].x+=h,i[l.id].y+=C}}}}]),e}(),CU=function(){function e(t,n,i){ft(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return ht(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,r,o,s=this.physicsBody.physicsEdgeIndices,a=this.body.edges,l=0;l<s.length;l++)!0===(n=a[s[l]]).connected&&n.toId!==n.fromId&&void 0!==this.body.nodes[n.toId]&&void 0!==this.body.nodes[n.fromId]&&(void 0!==n.edgeType.via?(o=n.from,this._calculateSpringForce(n.to,r=n.edgeType.via,.5*(t=void 0===n.options.length?this.options.springLength:n.options.length)),this._calculateSpringForce(r,o,.5*t)):this._calculateSpringForce(n.from,n.to,t=void 0===n.options.length?1.5*this.options.springLength:n.options.length))}},{key:"_calculateSpringForce",value:function(t,n,i){var r=t.x-n.x,o=t.y-n.y,s=Math.max(Math.sqrt(r*r+o*o),.01),a=this.options.springConstant*(i-s)/s,l=r*a,u=o*a;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=l,this.physicsBody.forces[t.id].y+=u),void 0!==this.physicsBody.forces[n.id]&&(this.physicsBody.forces[n.id].x-=l,this.physicsBody.forces[n.id].y-=u)}}]),e}(),i_t=function(){function e(t,n,i){ft(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return ht(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,i,r,o,s,a,l,u,c,g=this.body.edges,d=.5,f=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,C=this.physicsBody.forces,p=0;p<h.length;p++){var I=h[p];C[I].springFx=0,C[I].springFy=0}for(var m=0;m<f.length;m++)!0===(n=g[f[m]]).connected&&(t=void 0===n.options.length?this.options.springLength:n.options.length,i=n.from.x-n.to.x,r=n.from.y-n.to.y,l=0===(l=Math.sqrt(i*i+r*r))?.01:l,o=i*(a=this.options.springConstant*(t-l)/l),s=r*a,n.to.level!=n.from.level?(void 0!==C[n.toId]&&(C[n.toId].springFx-=o,C[n.toId].springFy-=s),void 0!==C[n.fromId]&&(C[n.fromId].springFx+=o,C[n.fromId].springFy+=s)):(void 0!==C[n.toId]&&(C[n.toId].x-=d*o,C[n.toId].y-=d*s),void 0!==C[n.fromId]&&(C[n.fromId].x+=d*o,C[n.fromId].y+=d*s)));a=1;for(var y=0;y<h.length;y++){var _=h[y];u=Math.min(a,Math.max(-a,C[_].springFx)),c=Math.min(a,Math.max(-a,C[_].springFy)),C[_].x+=u,C[_].y+=c}for(var N=0,O=0,k=0;k<h.length;k++){var M=h[k];N+=C[M].x,O+=C[M].y}for(var V=N/h.length,z=O/h.length,H=0;H<h.length;H++){var ee=h[H];C[ee].x-=V,C[ee].y-=z}}}]),e}(),tR=function(){function e(t,n,i){ft(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return ht(e,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,n,i,r,o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,l=0;l<s.length;l++)t=-(r=o[s[l]]).x,n=-r.y,i=Math.sqrt(t*t+n*n),this._calculateForces(i,t,n,a,r)}},{key:"_calculateForces",value:function(t,n,i,r,o){var s=0===t?0:this.options.centralGravity/t;r[o.id].x=n*s,r[o.id].y=i*s}}]),e}(),o_t=function(e){qi(n,Bye);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){var s;return ft(this,n),(s=t.call(this,i,r,o))._rng=YM("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return ht(n,[{key:"_calculateForces",value:function(i,r,o,s,a){0===i&&(r=i=.1*this._rng()),this.overlapAvoidanceFactor<1&&s.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*s.shape.radius,i-s.shape.radius));var u=this.options.gravitationalConstant*a.mass*s.options.mass*(s.edges.length+1)/Math.pow(i,2),g=o*u;this.physicsBody.forces[s.id].x+=r*u,this.physicsBody.forces[s.id].y+=g}}]),n}(),a_t=function(e){qi(n,tR);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o){return ft(this,n),t.call(this,i,r,o)}return ht(n,[{key:"_calculateForces",value:function(i,r,o,s,a){if(i>0){var u=this.options.centralGravity*(a.edges.length+1)*a.options.mass;s[a.id].x=r*u,s[a.id].y=o*u}}}]),n}(),l_t=function(){function e(t){ft(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},bo(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,qM(["stabilization"],this.options,t),Pc(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var n=this.options.wind;n&&(("number"!=typeof n.x||eU(n.x))&&(n.x=0),("number"!=typeof n.y||eU(n.y))&&(n.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new o_t(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new CU(this.body,this.physicsBody,t),this.gravitySolver=new a_t(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new t_t(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new CU(this.body,this.physicsBody,t),this.gravitySolver=new tR(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new n_t(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new i_t(this.body,this.physicsBody,t),this.gravitySolver=new tR(this.body,this.physicsBody,t)):(this.nodesSolver=new Bye(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new CU(this.body,this.physicsBody,t),this.gravitySolver=new tR(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=rt(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=FM();this.physicsTick(),(FM()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&zg(function(){t.body.emitter.emit("stabilized",{iterations:n}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,n=this.body.edges;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&!0===n[r].options.physics&&this.physicsBody.physicsEdgeIndices.push(n[r].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var s=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===t[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var t=qr(this.previousStates),n=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var r=0;r<t.length;r++){var o=t[r];void 0!==n[o]?!0===n[o].options.physics&&(this.referenceState[o]={positions:{x:n[o].x,y:n[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,n[o].x=this.previousStates[o].x,n[o].y=this.previousStates[o].y):delete this.previousStates[o]}}},{key:"_evaluateStepQuality",value:function(){var n,i=this.body.nodes,r=this.referenceState;for(var o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&void 0!==i[o]&&(n=i[o].y-r[o].positions.y,Math.sqrt(Math.pow(i[o].x-r[o].positions.x,2)+Math.pow(n,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,n=0,i=0,r=0;r<t.length;r++){var s=this._performStep(t[r]);n=Math.max(n,s),i+=s}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=n<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,n,i){t+=(n-this.modelOptions.damping*t)/i*this.timestep;var r=this.options.maxVelocity||1e9;return Math.abs(t)>r&&(t=t>0?r:-r),t}},{key:"_performStep",value:function(t){var n=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var r=this.physicsBody.velocities[t];return this.previousStates[t]={x:n.x,y:n.y,vx:r.x,vy:r.y},!1===n.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,i.x,n.options.mass),n.x+=r.x*this.timestep):(i.x=0,r.x=0),!1===n.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,i.y,n.options.mass),n.y+=r.y*this.timestep):(i.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&t[n].x&&t[n].y){var i=t[n].options.fixed;this.freezeCache[n]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==this.freezeCache[n]&&(t[n].options.fixed.x=this.freezeCache[n].x,t[n].options.fixed.y=this.freezeCache[n].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof n&&(n=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",n)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=n,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,zg(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,n=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var r,o=0;n()&&o<this.options.stabilization.updateInterval;)this.physicsTick(),o++;i(),n()?zg(rt(r=this._stabilizationBatch).call(r,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var i=this.physicsBody.physicsNodeIndices[n],r=this.body.nodes[i],o=this.physicsBody.forces[i],s=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),a=Math.min(Math.max(5,s),15),l=3*a,u=HH((180-180*Math.min(1,Math.max(0,.03*s)))/360,1,1),c={x:r.x+20*o.x,y:r.y+20*o.y};t.lineWidth=a,t.strokeStyle=u,t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(c.x,c.y),t.stroke();var g=Math.atan2(o.y,o.x);t.fillStyle=u,Sye.draw(t,{type:"arrow",point:c,angle:g,length:l}),ZE(t).call(t)}}}]),e}(),Il=function(){function e(){ft(this,e)}return ht(e,null,[{key:"getRange",value:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,a=-1e9;if(i.length>0)for(var l=0;l<i.length;l++)s>(n=t[i[l]]).shape.boundingBox.left&&(s=n.shape.boundingBox.left),a<n.shape.boundingBox.right&&(a=n.shape.boundingBox.right),r>n.shape.boundingBox.top&&(r=n.shape.boundingBox.top),o<n.shape.boundingBox.bottom&&(o=n.shape.boundingBox.bottom);return 1e9===s&&-1e9===a&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,a=0),{minX:s,maxX:a,minY:r,maxY:o}}},{key:"getRangeCore",value:function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=1e9,o=-1e9,s=1e9,a=-1e9;if(i.length>0)for(var l=0;l<i.length;l++)s>(n=t[i[l]]).x&&(s=n.x),a<n.x&&(a=n.x),r>n.y&&(r=n.y),o<n.y&&(o=n.y);return 1e9===s&&-1e9===a&&1e9===r&&-1e9===o&&(r=0,o=0,s=0,a=0),{minX:s,maxX:a,minY:r,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,n){var i={};return void 0===n||"node"===n?(Br(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):Br(i,t.options,!0),i}}]),e}(),c_t=function(e){qi(n,Mu);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}(n);function n(i,r,o,s,a,l){var u;return ft(this,n),(u=t.call(this,i,r,o,s,a,l)).isCluster=!0,u.containedNodes={},u.containedEdges={},u}return ht(n,[{key:"_openChildCluster",value:function(i){var r=this,o=this.body.nodes[i];if(void 0===this.containedNodes[i])throw new Error("node with id: "+i+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],Ai(o.edges,function(s){delete r.containedEdges[s.id]}),Ai(o.containedNodes,function(s,a){r.containedNodes[a]=s}),o.containedNodes={},Ai(o.containedEdges,function(s,a){r.containedEdges[a]=s}),o.containedEdges={},Ai(o.edges,function(s){Ai(r.edges,function(a){var l,u,c=ir(l=a.clusteringEdgeReplacingIds).call(l,s.id);-1!==c&&(Ai(s.clusteringEdgeReplacingIds,function(g){a.clusteringEdgeReplacingIds.push(g),r.body.edges[g].edgeReplacedById=a.id}),rf(u=a.clusteringEdgeReplacingIds).call(u,c,1))})}),o.edges=[]}}]),n}(),g_t=function(){function e(t){var n=this;ft(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},bo(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){n.clusteredNodes={},n.clusteredEdges={}})}return ht(e,[{key:"clusterByHubsize",value:function(t,n){void 0===t?t=this._getHubSize():"object"===vi(t)&&(n=this._checkOptions(t),t=this._getHubSize());for(var i=[],r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>=t&&i.push(o.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],n,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===n.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");n=this._checkOptions(n);var r={},o={};Ai(this.body.nodes,function(s,a){s.options&&!0===n.joinCondition(s.options)&&(r[a]=s,Ai(s.edges,function(l){void 0===t.clusteredEdges[l.id]&&(o[l.id]=l)}))}),this._cluster(r,o,n,i)}},{key:"clusterByEdgeCount",value:function(t,n){var i=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n=this._checkOptions(n);for(var o,s,a,l=[],u={},c=function(f){var h={},C={},p=i.body.nodeIndices[f],I=i.body.nodes[p];if(void 0===u[p]){a=0,s=[];for(var m=0;m<I.edges.length;m++)void 0===i.clusteredEdges[(o=I.edges[m]).id]&&(o.toId!==o.fromId&&a++,s.push(o));if(a===t){for(var y=function(z){if(null==n.joinCondition)return!0;var H=Il.cloneOptions(z);return n.joinCondition(H)},_=!0,N=0;N<s.length;N++){var O=i._getConnectedId(o=s[N],p);if(!y(I)){_=!1;break}C[o.id]=o,h[p]=I,h[O]=i.body.nodes[O],u[p]=!0}if(qr(h).length>0&&qr(C).length>0&&!0===_){var k=function(){for(var z=0;z<l.length;++z)for(var H in h)if(void 0!==l[z].nodes[H])return l[z]}();if(void 0!==k){for(var M in h)void 0===k.nodes[M]&&(k.nodes[M]=h[M]);for(var V in C)void 0===k.edges[V]&&(k.edges[V]=C[V])}else l.push({nodes:h,edges:C})}}}},g=0;g<this.body.nodeIndices.length;g++)c(g);for(var d=0;d<l.length;d++)this._cluster(l[d].nodes,l[d].edges,n,!1);!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,n)}},{key:"clusterBridges",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,n)}},{key:"clusterByConnection",value:function(t,n){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(n=this._checkOptions(n,o)).clusterNodeProperties.x&&(n.clusterNodeProperties.x=o.x),void 0===n.clusterNodeProperties.y&&(n.clusterNodeProperties.y=o.y),void 0===n.clusterNodeProperties.fixed&&(n.clusterNodeProperties.fixed={},n.clusterNodeProperties.fixed.x=o.options.fixed.x,n.clusterNodeProperties.fixed.y=o.options.fixed.y);var s={},a={},l=o.id,u=Il.cloneOptions(o);s[l]=o;for(var c=0;c<o.edges.length;c++){var g=o.edges[c];if(void 0===this.clusteredEdges[g.id]){var d=this._getConnectedId(g,l);if(void 0===this.clusteredNodes[d])if(d!==l)if(void 0===n.joinCondition)a[g.id]=g,s[d]=this.body.nodes[d];else{var f=Il.cloneOptions(this.body.nodes[d]);!0===n.joinCondition(u,f)&&(a[g.id]=g,s[d]=this.body.nodes[d])}else a[g.id]=g}}var h=Is(i=qr(s)).call(i,function(y){return s[y].id});for(var C in s)if(Object.prototype.hasOwnProperty.call(s,C))for(var p=s[C],I=0;I<p.edges.length;I++){var m=p.edges[I];ir(h).call(h,this._getConnectedId(m,p.id))>-1&&(a[m.id]=m)}this._cluster(s,a,n,r)}},{key:"_createClusterEdges",value:function(t,n,i,r){for(var o,s,a,l,u,c,g=qr(t),d=[],f=0;f<g.length;f++){a=t[s=g[f]];for(var h=0;h<a.edges.length;h++)void 0===this.clusteredEdges[(o=a.edges[h]).id]&&(o.toId==o.fromId?n[o.id]=o:o.toId==s?(l=i.id,c=u=o.fromId):(u=i.id,c=l=o.toId),void 0===t[c]&&d.push({edge:o,fromId:u,toId:l}))}for(var C=[],p=function(N){for(var O=0;O<C.length;O++){var k=C[O];if(N.fromId===k.fromId&&N.toId===k.toId||N.fromId===k.toId&&N.toId===k.fromId)return k}return null},I=0;I<d.length;I++){var m=d[I],y=m.edge,_=p(m);null===_?(_=this._createClusteredEdge(m.fromId,m.toId,y,r),C.push(_)):_.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=_.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,n,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&void 0!==this.clusteredNodes[s]&&o.push(s);for(var a=0;a<o.length;++a)delete t[o[a]];if(0!=qr(t).length&&(1!=qr(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var l=Br({},i.clusterNodeProperties);if(void 0!==i.processProperties){var u=[];for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var g=Il.cloneOptions(t[c]);u.push(g)}var d=[];for(var f in n)if(Object.prototype.hasOwnProperty.call(n,f)&&"clusterEdge:"!==f.substr(0,12)){var h=Il.cloneOptions(n[f],"edge");d.push(h)}if(!(l=i.processProperties(l,u,d)))throw new Error("The processProperties function does not return properties!")}void 0===l.id&&(l.id="cluster:"+zy());var C=l.id;void 0===l.label&&(l.label="cluster");var p=void 0;void 0===l.x&&(p=this._getClusterPosition(t),l.x=p.x),void 0===l.y&&(void 0===p&&(p=this._getClusterPosition(t)),l.y=p.y),l.id=C;var I=this.body.functions.createNode(l,c_t);I.containedNodes=t,I.containedEdges=n,I.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[l.id]=I,this._clusterEdges(t,n,l,i.clusterEdgeProperties),l.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var n=this.clusteredEdges[t.id];void 0!==n&&(t.setOptions({physics:n.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var n,i=qr(t),r=t[i[0]].x,o=t[i[0]].x,s=t[i[0]].y,a=t[i[0]].y,l=1;l<i.length;l++)r=(n=t[i[l]]).x<r?n.x:r,o=n.x>o?n.x:o,s=n.y<s?n.y:s,a=n.y>a?n.y:a;return{x:.5*(r+o),y:.5*(s+a)}}},{key:"openCluster",value:function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var r=this.body.nodes[t];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),s=ir(o).call(o,t)-1;if(s>=0){var a=o[s],l=this.body.nodes[a];return l._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var u=r.containedNodes,c=r.containedEdges;if(void 0!==n&&void 0!==n.releaseFunction&&"function"==typeof n.releaseFunction){var g={},d={x:r.x,y:r.y};for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var h=this.body.nodes[f];g[f]={x:h.x,y:h.y}}var C=n.releaseFunction(d,g);for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var I=this.body.nodes[p];void 0!==C[p]&&(I.x=void 0===C[p].x?r.x:C[p].x,I.y=void 0===C[p].y?r.y:C[p].y)}}else Ai(u,function(q){!1===q.options.fixed.x&&(q.x=r.x),!1===q.options.fixed.y&&(q.y=r.y)});for(var m in u)if(Object.prototype.hasOwnProperty.call(u,m)){var y=this.body.nodes[m];y.vx=r.vx,y.vy=r.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[m]}for(var _=[],N=0;N<r.edges.length;N++)_.push(r.edges[N]);for(var O=0;O<_.length;O++){for(var k=_[O],M=this._getConnectedId(k,t),V=this.clusteredNodes[M],z=0;z<k.clusteringEdgeReplacingIds.length;z++){var H=k.clusteringEdgeReplacingIds[z],ee=this.body.edges[H];if(void 0!==ee)if(void 0!==V){var se=this.body.nodes[V.clusterId];se.containedEdges[ee.id]=ee,delete c[ee.id];var _e=ee.fromId,ae=ee.toId;ee.toId==M?ae=V.clusterId:_e=V.clusterId,this._createClusteredEdge(_e,ae,ee,se.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(ee)}k.remove()}for(var le in c)Object.prototype.hasOwnProperty.call(c,le)&&this._restoreEdge(c[le]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var n=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.push(this.body.nodes[r].id)}return n}},{key:"findNode",value:function(t){for(var n,i=[],r=0;void 0!==this.clusteredNodes[t]&&r<100;){if(void 0===(n=this.body.nodes[t]))return[];i.push(n.id),t=this.clusteredNodes[t].clusterId,r++}return void 0===(n=this.body.nodes[t])?[]:(i.push(n.id),tm(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,n){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===n)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(n),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,n){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===n)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),r=0;r<i.length;r++)this.body.edges[i[r]].setOptions(n);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var n=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)n.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return tm(n).call(n),n}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var n=[t],i=[],r=[],o=0;n.length>0&&o<100;){var s=n.pop();if(void 0!==s){var a=this.body.edges[s];if(void 0!==a){o++;var l=a.clusteringEdgeReplacingIds;if(void 0===l)r.push(s);else for(var u=0;u<l.length;++u){var c=l[u];-1===ir(n).call(n,l)&&-1===ir(i).call(i,l)&&n.push(c)}i.push(s)}}}return r}},{key:"_getConnectedId",value:function(t,n){return t.toId!=n?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,n=0,i=0,r=0,o=0;o<this.body.nodeIndices.length;o++){var s=this.body.nodes[this.body.nodeIndices[o]];s.edges.length>r&&(r=s.edges.length),t+=s.edges.length,n+=Math.pow(s.edges.length,2),i+=1}t/=i;var a=(n/=i)-Math.pow(t,2),l=Math.sqrt(a),u=Math.floor(t+2*l);return u>r&&(u=r),u}},{key:"_createClusteredEdge",value:function(t,n,i,r,o){var s=Il.cloneOptions(i,"edge");Br(s,r),s.from=t,s.to=n,s.id="clusterEdge:"+zy(),void 0!==o&&Br(s,o);var a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[i.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(t,n,i,r){if(n instanceof Hy){var s={};s[n.id]=n,n=s}if(t instanceof Mu){var l={};l[t.id]=t,t=l}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var u in void 0===r&&(r=i.clusterEdgeProperties),this._createClusterEdges(t,n,i,r),n)if(Object.prototype.hasOwnProperty.call(n,u)&&void 0!==this.body.edges[u]){var c=this.body.edges[u];this._backupEdgeOptions(c),c.setOptions({physics:!1})}for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&(this.clusteredNodes[g]={clusterId:i.id,node:this.body.nodes[g]},this.body.nodes[g].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var n=this.clusteredNodes[t];if(void 0!==n){var i=n.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,n){var i=[];return Ai(t,function(r){n(r)&&i.push(r)}),i}},{key:"_updateState",value:function(){var t,n=this,i=[],r={},o=function(c){Ai(n.body.nodes,function(g){!0===g.isCluster&&c(g)})};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&i.push(t);o(function(c){for(var g=0;g<i.length;g++)delete c.containedNodes[i[g]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];Ai(this.clusteredEdges,function(c){var g=n.body.edges[c];void 0!==g&&g.endPointsValid()||(r[c]=c)}),o(function(c){Ai(c.containedEdges,function(g,d){g.endPointsValid()||r[d]||(r[d]=d)})}),Ai(this.body.edges,function(c,g){var d=!0,f=c.clusteringEdgeReplacingIds;if(void 0!==f){var h=0;Ai(f,function(C){var p=n.body.edges[C];void 0!==p&&p.endPointsValid()&&(h+=1)}),d=h>0}c.endPointsValid()&&d||(r[g]=g)}),o(function(c){Ai(r,function(g){delete c.containedEdges[g],Ai(c.edges,function(d,f){d.id!==g?d.clusteringEdgeReplacingIds=n._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]}):c.edges[f]=null}),c.edges=n._filter(c.edges,function(d){return null!==d})})}),Ai(r,function(c){delete n.clusteredEdges[c]}),Ai(r,function(c){delete n.body.edges[c]}),Ai(qr(this.body.edges),function(c){var g=n.body.edges[c],d=n._isClusteredNode(g.fromId)||n._isClusteredNode(g.toId);if(d!==n._isClusteredEdge(g.id))if(d){var f=n._getClusterNodeForNode(g.fromId);void 0!==f&&n._clusterEdges(n.body.nodes[g.fromId],g,f);var h=n._getClusterNodeForNode(g.toId);void 0!==h&&n._clusterEdges(n.body.nodes[g.toId],g,h)}else delete n._clusterEdges[c],n._restoreEdge(g)});for(var a=!1,l=!0,u=function(){var c=[];o(function(d){var f=qr(d.containedNodes).length,h=!0===d.options.allowSingleNodeCluster;(h&&f<1||!h&&f<2)&&c.push(d.id)});for(var g=0;g<c.length;++g)n.openCluster(c[g],{},!1);l=c.length>0,a=a||l};l;)u();a&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),e}();function d_t(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return jye(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return jye(l,u)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function jye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var f_t=function(){function e(t,n){var i;ft(this,e),void 0!==window&&(i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===i?function(r){r()}:i,this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},bo(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t,n=this;this.body.emitter.on("dragStart",function(){n.dragging=!0}),this.body.emitter.on("dragEnd",function(){n.dragging=!1}),this.body.emitter.on("zoom",function(){n.zooming=!0,window.clearTimeout(n.zoomTimeoutId),n.zoomTimeoutId=zg(function(){var i;n.zooming=!1,rt(i=n._requestRedraw).call(i,n)()},250)}),this.body.emitter.on("_resizeNodes",function(){n._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===n.renderingActive&&n._redraw()}),this.body.emitter.on("_blockRedraw",function(){n.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){n.allowRedraw=!0,n.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",rt(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",function(){n.renderRequests+=1,n.renderingActive=!0,n._startRendering()}),this.body.emitter.on("_stopRendering",function(){n.renderRequests-=1,n.renderingActive=n.renderRequests>0,n.renderTimer=void 0}),this.body.emitter.on("destroy",function(){n.renderRequests=0,n.allowRedraw=!1,n.renderingActive=!1,!0===n.requiresTimeout?clearTimeout(n.renderTimer):window.cancelAnimationFrame(n.renderTimer),n.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&Py(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,n){if("undefined"!=typeof window){var i,r=window;return!0===this.requiresTimeout?i=zg(t,n):r.requestAnimationFrame&&(i=r.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(rt(t=this._renderStep).call(t,this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var n={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,r,o),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var s=this._drawNodes(i,t),a=s.drawExternalLabels;n.drawExternalLabels=a}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=n.drawExternalLabels&&n.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,r,o)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var n,i=this.body.nodes;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&((n=i[r]).resize(t),n.updateBoundingBox(t,n.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var n,i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.nodes,s=this.body.nodeIndices,a=[],l=[],u=20,c=this.canvas.DOMtoCanvas({x:-u,y:-u}),g=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),d={top:c.y,left:c.x,bottom:g.y,right:g.x},f=[],h=0;h<s.length;h++)if((n=o[s[h]]).hover)l.push(s[h]);else if(n.isSelected())a.push(s[h]);else if(!0===r){var C=n.draw(t);null!=C.drawExternalLabel&&f.push(C.drawExternalLabel)}else if(!0===n.isBoundingBoxOverlappingWith(d)){var p=n.draw(t);null!=p.drawExternalLabel&&f.push(p.drawExternalLabel)}else n.updateBoundingBox(t,n.selected);var I=a.length,m=l.length;for(i=0;i<I;i++){var y=(n=o[a[i]]).draw(t);null!=y.drawExternalLabel&&f.push(y.drawExternalLabel)}for(i=0;i<m;i++){var _=(n=o[l[i]]).draw(t);null!=_.drawExternalLabel&&f.push(_.drawExternalLabel)}return{drawExternalLabels:function(){var N,O=d_t(f);try{for(O.s();!(N=O.n()).done;)(0,N.value)()}catch(k){O.e(k)}finally{O.f()}}}}},{key:"_drawEdges",value:function(t){for(var n=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=n[i[r]];!0===o.connected&&o.draw(t)}}},{key:"_drawArrows",value:function(t){for(var n=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++){var o=n[i[r]];!0===o.connected&&o.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=ir(t).call(t,"msie 9.0")||-1!=ir(t).call(t,"safari")&&ir(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var n=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),e}(),h_t=Hi.setInterval;function nR(e,t){t.inputHandler=function(n){n.isFirst&&t(n)},e.on("hammer.input",t.inputHandler)}function Vye(e,t){return t.inputHandler=function(n){n.isFinal&&t(n)},e.on("hammer.input",t.inputHandler)}var C_t=function(){function e(t){ft(this,e),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},bo(this.options,this.defaultOptions),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t,n=this;this.body.emitter.once("resize",function(i){0!==i.width&&(n.body.view.translation.x=.5*i.width),0!==i.height&&(n.body.view.translation.y=.5*i.height)}),this.body.emitter.on("setSize",rt(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",function(){n.hammerFrame.destroy(),n.hammer.destroy(),n._cleanUp()})}},{key:"setOptions",value:function(t){var n,i,r,o,s,a=this;if(void 0!==t&&Py(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){var l;if(window.ResizeObserver){var u=new ResizeObserver(function(){!0===a.setSize()&&a.body.emitter.emit("_requestRedraw")}),c=this.frame;u.observe(c),this._cleanupCallbacks.push(function(){u.unobserve(c)})}else{var g=h_t(function(){!0===a.setSize()&&a.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(g)})}var d=rt(l=this._onResize).call(l,this);n=window,i="resize",r=d,n.addEventListener?(void 0===o&&(o=!1),"mousewheel"===i&&of(s=navigator.userAgent).call(s,"Firefox")&&(i="DOMMouseScroll"),n.addEventListener(i,r,o)):n.attachEvent("on"+i,r),this._cleanupCallbacks.push(function(){var f,h,C,p,I;f=window,h="resize",C=d,f.removeEventListener?(void 0===p&&(p=!1),"mousewheel"===h&&of(I=navigator.userAgent).call(I,"Firefox")&&(h="DOMMouseScroll"),f.removeEventListener(h,C,p)):f.detachEvent("on"+h,C)})}}},{key:"_cleanUp",value:function(){var t,n,i;Ui(t=tm(n=rf(i=this._cleanupCallbacks).call(i,0)).call(n)).call(t,function(r){try{r()}catch(o){console.error(o)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,n=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=n?i=.5*this.cameraState.scale*(t+n):1!=t?i=this.cameraState.scale*t:1!=n&&(i=this.cameraState.scale*n),this.body.view.scale=i;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==ir(t).call(t,"%")||-1!==ir(t).call(t,"px"))return t;if(-1===ir(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ly(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ly.DIRECTION_ALL}),nR(this.hammer,function(n){t.body.eventListeners.onTouch(n)}),this.hammer.on("tap",function(n){t.body.eventListeners.onTap(n)}),this.hammer.on("doubletap",function(n){t.body.eventListeners.onDoubleTap(n)}),this.hammer.on("press",function(n){t.body.eventListeners.onHold(n)}),this.hammer.on("panstart",function(n){t.body.eventListeners.onDragStart(n)}),this.hammer.on("panmove",function(n){t.body.eventListeners.onDrag(n)}),this.hammer.on("panend",function(n){t.body.eventListeners.onDragEnd(n)}),this.hammer.on("pinch",function(n){t.body.eventListeners.onPinch(n)}),this.frame.canvas.addEventListener("wheel",function(n){t.body.eventListeners.onMouseWheel(n)}),this.frame.canvas.addEventListener("mousemove",function(n){t.body.eventListeners.onMouseMove(n)}),this.frame.canvas.addEventListener("contextmenu",function(n){t.body.eventListeners.onContext(n)}),this.hammerFrame=new Ly(this.frame),Vye(this.hammerFrame,function(n){t.body.eventListeners.onRelease(n)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),n=this._prepareValue(n);var i=!1,r=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||n!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=n)this._getCameraState(s),this.frame.style.width=t,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===l||this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var n=1;return"undefined"!=typeof window&&(n=window.devicePixelRatio||1),n/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),e}();function p_t(e,t){var n=bo({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=e?e:{});if(!ri(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=t),!("number"==typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}var A_t=function(){function e(t,n){var i,r,o=this;ft(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",rt(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",rt(r=this.releaseNode).call(r,this))}return ht(e,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=p_t(t,this.body.nodeIndices);var i,r,o=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(0===o||0===s)r=1,i=Il.getRange(this.body.nodes,t.nodes);else if(!0===n){var a=0;for(var l in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,l)){var u=this.body.nodes[l];!0===u.predefinedPosition&&(a+=1)}if(a>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=Il.getRange(this.body.nodes,t.nodes);var c=this.body.nodeIndices.length;r=12.662/(c+7.4147)+.0964822;var g=Math.min(o/600,s/600);r*=g}else{this.body.emitter.emit("_resizeNodes"),i=Il.getRange(this.body.nodes,t.nodes);var d=1.1*Math.abs(i.maxX-i.minX),f=1.1*Math.abs(i.maxY-i.minY),h=o/d,C=s/f;r=h<=C?h:C}r>t.maxZoomLevel?r=t.maxZoomLevel:r<t.minZoomLevel&&(r=t.minZoomLevel);var p=Il.findCenter(i),I={position:p,scale:r,animation:t.animation};this.moveTo(I)}},{key:"focus",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};n.position=i,n.lockedOnNode=t,this.moveTo(n)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!am(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!am(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!am(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!am(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var n,i,r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(r.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(r.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=rt(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=rt(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,n=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),s=this.body.view.translation;this.body.view.translation={x:s.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+(i.y-n)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var i,n=_vt[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=rt(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();qI('div.vis-network div.vis-navigation div.vis-button{width:34px;height:34px;-moz-border-radius:17px;border-radius:17px;position:absolute;display:inline-block;background-position:2px 2px;background-repeat:no-repeat;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.vis-network div.vis-navigation div.vis-button:hover{box-shadow:0 0 3px 3px rgba(56,207,21,.3)}div.vis-network div.vis-navigation div.vis-button:active{box-shadow:0 0 1px 3px rgba(56,207,21,.95)}div.vis-network div.vis-navigation div.vis-button.vis-up{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABphJREFUeNqcV2twU9cR/nbPlVTHxpKRbNnBLyEbPyJisLEcPwgwUMKQtjNJAzNJZkgNNJOmJaZAaDKlxaXDTIBAcJtOOzSYKSkdiimhAdIMjyT4bYgBYxA2BgcUQPLrCiGDR4qt2x+yXTASFt1/957d7zt3z3d39xDCMQWUfgAz/RI/T4pSTAJpAGL8rECAXX7QFQGq9wOHOxYO1oCgjAdJj1wtB095Giv9TFuZAIWHAziATMPhTAwiHgUkYPXFJu92lMP/2MTpB1AKUCVEgNAcleUo1M+2F8TO6crSTncb1QleAOj2OTSX3Ge1p+Va42m5JrnzbnsCE8Ov+EHgpa0LPLvCJjZ/whuIlN8wAcXG+e1LUn9hm238QU84p1Ld83nsXvuO7Lq+LzKYGAT6/dn58m/HJTYf4O3EShkT8Irpzab1Uz9sGevT5+tWn+j6NB4A5hp/5NSr43xjfd5rW5tT9e3OAhCBiCua5/WsDEls/hdvYklZSwDefmrT8eXmtzuDkb5YZ33p9ndylICAVjWxf39xw/5g5Luv/9H84ZWNcwNEypZT87rXjqyJB85UYDMJYN3U7UdLJ6/6JlgqV517teRqf9uTlug8e1zEk27HgD22o98WsTBh8fWxvjm6ApdONbGvse8LM5NUPOm1Cfabuz3nACAgxX0QEFTJAnjNvLJ+Sepb14KRHnN+Ev+1XJOhZs3Qu1mbG97J2NQgsXroa1dtxrGuf8cHi1mUtPTay0lv1DMJSCRVLtoX+FgGgDQNysBAcez89l9nbbsQSji7rlXkEhjPxb/QatHOcFu0M9zz419oFSRhj/3PuaHiyqasv1Con9NGxHAYUsoCxAqImbYSgCWmFbZQwdsur7N0eC4m6tT6/jUZ750Zeb82c+OZGLWh/2p/W+Kfrmy0hIp/aVKpTSIJEqu2QgFx2iE8CwDp0RbH7Ljng/4yXr+XT3QdyhYsodS0slGr0g2OrEUK7eCrKW82SqzCVz3/yfb6vRwM4xn9rN7JkRkOQRLmfJn2LBPxQjDBqp9lD7XbX7X8pKTP160zR2bdeiX5jYeU/nLSTztNkem3XL5eXbltRUkonBxdgZ2IIUmahUxERQSCVT+rK5hzQ89xQ6P8VaaK1f5VmRvqQ4G+lba+nlnlb5brMhvlk7FBiaPzuwQEmEQhg5BOxMjWTncHc2501cQLkjDTsMCWpyuRQxFP0xXIJfp5FyVW4Zy7KajC06ItbiIGg6ZITBxDxIgbrr1jTSM0fibGIHz8O9sKK0GAibEua9spANh4aY2VmcEg+DEkiBgR/L2hYFgGtcErkQQAMVJgBxyy9hboZzv32v+Kpr7qbEECTAIMAoaJa3qPTmNiiAAgJAjk6J5xhu6HDAIgQYGLmI29PocmMcI8MNYvT1ckfzD9H/ub5br4e4Me9WfOKqtyX6Ud2cwC449PRamifDm6Auc0rTXokci+Xo1EAgBckiDuYGLjpTvntcGIA+SFcp6uUAaAI879VhWrRteYAqn/edq758brXJ1327QMhgJcZjA3EBjNrgZjOG1PkAjyTGENMjZPq5ECQ0MDE9ERBqFZrk0OJ3i4x/7vyIjBxGERt3takgVJEAp9xq3f769WiPDNvSsJdT3HDOEASPelmoBRYT3Kzt5uMtwauJEgSOCpwrk1DIJCoNUMwj9v7MweP9XSQ8/hJPp496fZTAICvLqcyv2B7nRbrgCA03JN5h8ub7A8VqpB437xHvsOy3l3cyaB4L2uqxhti1WLMcSgZQCw7+bOooO3Pk4JBZIYYXISMV5sKH59UePM10GESRGpIf/bE92HU452HywSJIGIllctrhp6YAK5+fHds0lLtJFMXNwkV6fFqA29mROefqiMJj1h6um4a5vY/92dKGaBxIhU5zJTWW2cJmEgGOmeb3c8FxAfb9mdf2RzyGGv5MvU7QwuEySwKHFp/c/M71zA/2F7b1RajnYdLAqMukMVu2YcfmDYE2MD7H+7/Xlq6cRIJqm4zXM+qd3TGjVBir43KSLlXjiELe5TsX+3/yW/ST45PaAHbKmccWh12AP93JNZywj0kSABIobpiXRHjtZ6faout2tyZMadGLXBCxBcvl6NfaAz+tKdFmObpzWl2+tIIBACYy0t/yj34M7HvsKUK+CGassvicX7alYDwwq+vykIEqPVa+Q9gdYk5+V+UE7lj3+FGbuBM/X5JUT8QwIVSSSZiTgmoFR2MfiqYFFPfjpkyrfWPopwxP47AP1pK1g9/dqeAAAAAElFTkSuQmCC");bottom:50px;left:55px}div.vis-network div.vis-navigation div.vis-button.vis-down{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABpdJREFUeNqcV21QlNcVfp5zX9ikoAvLEsAIIgsoHwpqWAQUNKLNaNv8iZ1JMkNG6/Qj/dDUyCSTtCHpmEkwVk3TToZRMjXj5MOG2KidjIkxQYSAQUAtX6IgIN8su8KCoOzbH4sk4q5g77/33uee555z7rnneYmZDB2MKcJKlyYbqOsZVIgGEOgSHQoy4AKbFFjqAo5dWn/rNAh9OpO852oeJHYxtrmEu4WALhMbxG2ZE9uFAlImDRLY/t/y0b3Ig+u+iWOKsAlgIZSb0OIf15kWtKo1NXh1d5xxiSPEN2wUAHrGOg11jirjWVtJyFnb6YgrzoYwocClu0DI5guPDb43Y2LLp/Iaqf9JCGSErGvIifxd7aqQn/TOJCvFvZ8Hf9haEH+m/6sFQgHBv1Sts/15WmJLkeyl6FuFwFPzny1/ZdE7Nfg/xhv1uUmH2w6kggQp+yqze7d5JbZ8Im+KpucSwI6EN7/cYtlxZarBCts3ptfrtq9odjaGKihE+sV0vRC3u8RqWmmbij149W+Wd5p2rnET6bsqsntyb6+pO3KqkE8FvLxo74lNUX9s9uTJb8/9fG2L81KoogJFYfCm3b9usNq0MXxzw1RsUkDqQICPqf/b/q8sQi3j4WdmtV47OFgNAO6r+DEUFAtFAc9YtpXmRP6hxVsI24cvhyoqnFtrK6jM7isgBa3Dl0O94TeGb255MvzXpUIFjVrhxo/dzgoARBuwFQJkBK9reCnurxfvXX8CRW3yW1G749vT2Br7ysW0oNX1pKDTPG+rm1gHRbibAHLm/7522sKnQCZqFgCUaBCqaS/bEw9vqtWoQROf3dBBiT6KTACImZ3YueqhDdOWjDbFQ4IzIl4elNUX5begU1HD6lPRmULKeghhDcpqnUmZuD3+nkgTH6gZEE9ctlZSoGmG9UIynSCsQVndMyX+IZGiBoHMjHh2SreCglClaSBiSEG8cYnD24bv7CWms/3FocO3hnw13plTggAFb196NdlPM44tC0zrSg5ItXmyEz070UEKCMRqQgkkBQ9NvL2eSJ+revoJTORSpoT6do4/7/7UShBFHQexM+HdfyUHWO8iN/uaRzX3/QjUSLlnqM72F4cCRIY5u9Zf+Y+BAv4AvzpkQ7WAIBRujA/7Vg6cia9xlId6InafVEAAGnQMUCSkb6zTMPdBy8hU3JjrphIq+CrD+Mvxeyumrr+4IH9y7o2GF5eDghuuGx4L2zbWZ9Dc0RoQRbkkFNRdP2/0BH7EtLJLKCjr+zqh2l5u8haZ847vTBW24kRFQXKAtcsT5oqz3igQENIoECkjBJUDZSGewBlBj/ammjLrdX1c/t70ero34gMte9IByLLAjPrUwKweT5jawQshdIuGMiF5XEBU2koivBl9NeEfJeYHwuxtI81zPrn2z6ip60c6DkV1jLTOCTaE2HNjd5Z4s9MwWBOhqEHp/I9cWDtUrJNoHm4KO9P7hdnTBoMYXI8Gb6gVCg63FS53jg9O5tA57tSOdHywnCAygrJrfcTgUe5U2cvNHSPtYYoKCWlrTgsIneB2AfFR+4F4b6f9ZdTzF6P8Ytud407/dy/nL7k9X9i8J9l5y+Ef6RfbnjPvWa8N5suez+KFCgqyPY95Lnd3stv2AcBZ2+mFbze+lui1xc3dXCUUlPafXNx4/aKxcajWWNp/MklRw8/mPFntbd+h1oLE847KhQQxejVg36QQqD0MPTzHv42Ux+uGasJNBnPfwllJd71kkX7RQ3WDNf7dox3BLcNNs6vt34bbbvYHJhlTGp6O+JVHb0/2HJtX1PH+aqECqG/5YN1nlXcokGvvO6vCc4x+QskotxVHB/qa+xbOWuzw8NB3nuo+Ht0z2hHsuGU3GrWAoZfi3jrxgHpw3BPpobaCH7vbqOw6mHI836vYW3Eqcq9AtioqbJy7ufQ3lhfu8sR+s9+3vL8klACsQSu7AnxMY1MxH7YXJp7oPpLulrrj+9575Ni2aeVt1teWfEWfHQLCaspseHzOU7VWU+aM5G2NoyL4i+6j8XWDNQsmGsKu/cv+nTtjQb/mm7hfENyvqEAK5v8opjPJaL26KGBpd5TfguuBvuZRgBgY6zO0jlyZXXe9JqR+8MK8ntHOMHfHIkhu2b/0yIH7/oXJ0yFlxYnPUdRbvuILgO7+y+91l6Ka6M+cnCf4fMSypXvymHf/vzBTD3CuNGUFKT8lmK5Rs5ASqKiBlAGBXFaiSuni0fkp1pJ7Ed4e/xsAqLk46EWsG1EAAAAASUVORK5CYII=");bottom:10px;left:55px}div.vis-network div.vis-navigation div.vis-button.vis-left{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABt5JREFUeNqsl2lUlOcVx//3Pi9DZRsGBgYiS2RYBQKIjAhEJW4pNrXNMbZpWtTGNkttYmJMG5soSZckRk+0p+dYPYY0Gk0ihlhRj63GhVUgBhDD5oIOy8AAMwzD4lCYtx+GqCQKuNyP7/Pc+3u2+7/3JUzEZFBYLh62S7yIZDmVBEIBqOwsQ4DNdtBFASq2A4cuZAwVgCCPF5LGHM0Chz+E1XamzUyAzCMO7IhMI+5MDCK+HpCANd+U2rYgC/Y7BoflYgVA2RAOoNYtyjDTe45+hk96e5QywaJR+NsAwDhocK61VCjLTYWaclNB0OW+en8mhl22g8C/rn7U+uGEwdov+C0i+Q0mIFWzoD7zwVU1czQ/6pjIreR3HPX5VL9jalHXiQgmBoH+XLHAtH5csDaXtxDLLzIBv5jyfOmG2H9U4S7snbpX43KaPpgBIhDx1rPzOlbfPC5GQT/nd1mS1zABa6PfPf5y5F/rcJeWpp7fPkly6f7KXBRCoOSATFfXll19x74HDsvFCghsJAG8HrvlvytCXm7EPVqc5wyzp5NX15muE1omKXXyMnd9yy5r5Q3wPghvJzrLAlimXV38+7D1DbhPFq1M6O4b6rPVWKsCBfHi5EWWv9TkQBYAEPpLvERMC9N8FtRvjt9dPl6wwo5jPvuas7WV5jNqEjz8wA+CBsaan+w9x1hrrXJtuaZX97ooLfqPLCUEGRR+iOwAsF2X98Uc30W3fb02u41frVqeVmo6FUkkwCAwCWxJ2Ls/0TPFNBb8TNdp9WvnVz4OAKdmX2QOzcMsAAjziDGMBd3asCF6SXHyknJTfqQTK+zpvhnVKT5zawCgzFTgN94pJXvP7gxxjTAIkpB+MnSWRMQZYEDnPVt/K4ejbZ/77726Lb6h95tAAiPELaJ1bcTbRfGeM8xv1azWSeyEa0P9igk+Nr1+oNFfkpwzJCJKIQA679ntN08yDXYo3qh+LuUrc0E4EcNL4dP7VNDzpU8FP3vpekoQQ5CEw4bPdEfa9+sAgEZUmkmAAAS5hLQ9p11XGO+pM8V5JLUfMeQARDMlEMKIGFOVCZYb0C7Fz0oeXmIZ6nZzYoV9od/jVS+GbahUOnn9b7T6sEOviUGyA8bMDlUa0W79wBW/bZf+lrY98cDBUI8YCxGDgHCJiVVEDN8R7QWAE8Z/+1mGut2i3eP1r0S+XRztkdBzq6NbF7WpbF3UprKxjvfHxbrfttla/QBArVDbJJIAQCURMRg8ugrKIAKBSNxzHtN3VdmxY0iQYSZmTeegwTlgknYAAB7RZBh2Nm7urbeeC1r19ROT52kWn3shfH2Fu1AO3RxjY/0fdac7/hPPJMDE11GC+HpBJmIEuAS3Oa6w01lybMbMgvgCE6O255zy24DeCr/Bvckn9+u8ZjXYIYvjxoMJy8oeXZrT9GHIqMWTwA2oI6cFMeDIcAiSEOyibXsmZG0hAFzuq1OyY6xBAnMJgdPOmks08zU/bbsB9x18P37PqS/b8+o/a96ZcLm3PmBH46Z5x40HW1eFvl4Uq0w0MwiCBOb7/qTsd6GvVY537DXWas1Iw1AiNJnOgwJi+bXhAbE08OnvaXSIW0TvYw88eaF/uM/WNdju3m5r9TlhPBzVNNDoPGC/5tRma/GJ80xqjPPUjVuvP2narrMOWd1Jlv/E1fN782UiNPZf9C/qOKa+ndOz2j+cz046sn+6KrVOsODirpOxld0lUxmEBK/ktvGgFd2l6taBZn9BAtEz5xYIvAn4/8rFKkgstAyZ6Yf+S67ezlkiSU73XXRV6xqh93TyssR4JF75efBvymLdE03jgT/Wb5tutLWpGbTm7wHZxQQAT+yDuKLyHRIk4cnAZ4pfCF9/HvfR9uh3xBxtz00BANsVDylnac6wAICaHMiBmW5NRLy4trcq0MtZ3RnpHme5H9AvjYeCc1t3pzMJgOSVnyw4eHZUB9Kyu68iMFPpysSppab8UJVC3Rnp/pDlXqF7mnYsdKQbv7cr6fDGW/Zczbt6jgUtV6kIlFxuyg/tH+6zJXmlGe8G+mlzdsyB1j3pTAwZ9q3/Sspbc9tmDwD0H3UffXCFlyuTlFpnPRdYb612c5c8+idPCu6fCLDKUubzsf6fSaWm0wmO9hbvZU8fDR2zoZ97OuppAu0UJEDEmOISZohT6q7Gek5rD3GN6FEp1DaAYB7sdNYPXPao7anS1Fmrg402g7+jYhGIaOXOaQc+uONfmCwZXJIf8xKx2KRgxYgOS+CROuyoyQKCxIhkOr4T6JWgxGnvZ1HWnf/CfHcBXxcnpRHxYwRKkUjSErFKkAQiNjP4kmBRTHbKm5KkKxwL+K39fwDX1XGF8ct++QAAAABJRU5ErkJggg==");bottom:10px;left:15px}div.vis-network div.vis-navigation div.vis-button.vis-right{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=");bottom:10px;left:95px}div.vis-network div.vis-navigation div.vis-button.vis-zoomIn{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABiBJREFUeNqkV2tQlOcVfp7zvgvDRe66y8htXUBR1GoFI+BtFJvRtjPJBGeaH2a8DGmbttgSTWbSJEw6TWOsrbbpTIeJZGqaTipTa6LJZDTVUTYQdNAohoso6qLucnERN0Axcb/8+HaJUHDX9Pz6vnnPe57vXJ5zzkeEIwaYcwBL/VrW0TCKqZANINEvBhSk3w9eUmC9HzjcsfarOhBGKJN84GkVJHcetvqFu4SAIYELYlpm4LpQQMqoQQKVnzeO7EYV/A8NnHMAGwHWQJmAjtg895LkFa7FU1d258UvGLBGpI4AQM9dd2TrwNn4016n9bS3LqNzsD1VKPAbfhCyqflR31thAzv+La+QxotCoNi6pn1D1s9aVli/3xtOVk72fjT1XVf17E9uHZspFBD8zdk13pdCAjsOyG6KUSEEnrT/tPHluW+cw7eQ19q2z6/t2rsYJEjZ07S6d+ukwI5/yQ7RxnYC2DZnx8dbHNs6xxs85T2R9GprZcmVwYs2BYWsmBzP83m7nIVJS73jdfdd+7PjjUu/XWUCGTtPre7ZHjxTY3Kq8DoV8Ou5u49snPGrKxN58syZ9aVXBztsigoUBd+Xt2NbfZ8llaVvah+vOz9hcX+CJenWp7eOOYS6ePpTU1w39vk+AwCzFPdDQbFGFPCUY2v9hqxfXJ0shNeHLtsUFc6UequbVvdVkwLX0GXbZPpl6Zuu/ij9x/VCBU1dU7bfdFYAIDsSFRCgeOqa9hfy/nDhwfwTKOrRd0U95n0iqch9+cKS5JVtpMCdkllhAhugCHcRwAb7z1tCEp8CCXAWAJRoCFXIYnti+sYWTQ0tll0wQMk+hGUAkBOX714xbV1IyuhxHhIMC/iR5OV9M2JmuhU1Vh7PXiakrIUQhcnLXeHQxPT4GyAtFqgwgAPF5iIFWkeu1SSLCKAweXn3/ZR5rXV7SddQpy3YDoNems9qTI5hGCitm1MOAAx0aaFCerTd84zjBed3Egq9ADA/rqD7Q3ctQC4REDmkYHb8goGgsR2tz5V0DV+xUdQoqAQ81RybU4IgFWgACgpaLLCIBUo0bv63y/aXy6+WBHWz4/IHSIGAuVooiaRgWqD3AsDVoQ6bEgtOrfJUhwrf0WUtk+r8sL6wvHvk5ijVUiJSRrQZuURtfoGMuaCoRyfP/yMy0XykgAA0DPRTxNp31x2ZFuUYBgB7bK7HNdhpKz6WXq6oQCooKghMKhkgji77vBoA1jkXlAvVfRQjFMUcmxSkRWd6gpjeu32R2kxTvyhKh1DQeud8fFBh26zfOe0xuR4JgAbzywCoRSzfeDUKatJKUQK+CjKiHZ6nZ2xzBnU7B9vixTy7qCHSQEhJU3+DtdT6mAcAFiWUeP/xyPH3Jwrfo3XzysemRcEA8F5RY8h6aPE1WwMLQ4OQ/EBANHmdGWHlzZyxk3ayB0m771yGooYy+KE0l35x0iBxZehS6ie9R1PCMaDvCzWDXA4hZ283ptwcvp6qqDBnyao6AWEQrBQQ/7y+d3YoA+NBTAaElo973p8tVFCQyipW+c3pdNu7BwBOe+tm/eniK/kPFWowpMfvuKrzzw80zSKIkWsJe0bHYu163BNwMwDsv7G36ODNtzMnM5IWZfeQgscbisvLPl1aDhLTo7I8k+n/p+dw5pGeg0WKGiS31K6vvTdmA7nx9uDZ9A3xMUIpbvSezE6MSOmbNWXewHhD6dH23o7BlqQvvrwTK6KQFpXl2WyvcE6LTB2eCPSdrurvmcUnO/cVfPD6pMteyfGs3QKpUFQoS9tU/xPH8xe+Tdd693pN/pHug0Xmqntvz1uLDo9Z9v5nnrn+dvujrI1JMUJd3OY7n97ua46douOGpkdlDoUDeG7g1NS/u/5a0Og9scCsB+ysWXSoMuyFftWJvM0E31SBjmWPznHPjy+8NjdhYfeMmJl3EiNSRgCi/25fpGu4M671zjlrm685s2fEnUoQ5lrLLW8uPLj3oX9hqgxIw8n8X1LU7yMkItCHzREZrGQV6ONmy5TggHk247sL/1jFqof/hRn/AWfqC0pI+QHBIk3tICXRrFTpF8hlJaqefh6yFxQ6HwQYlK8HAKyt3WsWxl7fAAAAAElFTkSuQmCC");bottom:10px;right:15px}div.vis-network div.vis-navigation div.vis-button.vis-zoomOut{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABV5JREFUeNq0l2tQVVUYht/3W/vACMr16IFRQDiAgChpgiikMqY1WjnN9KsfGOXYTOVgkvbDUsZuXrK0qZmGUSvNspjI8TZOmo6AGBoZYly8YB6Qw80DBwQ6jJ3dj30OZZmiwvtv77XW96y91l7v9y1iMNLBuCI84tZkIXU9gwqxAILdokNBOtzgJQWWuYEDFxfcLAGh3y0k79iaD4mfjOVu4WYhoItngBiR6RkuFJAyEJBA3m/lri3Ih/uewXFFyAG4A8oAWkcm2meEzrFNH53Vkhg4xWnxCXcBQGu/3bfGeTbwjKPUcsZRElnfUxcuFLh1Nwh5vurx7s8GDbZ+L+tI/U0hkGGZX5c9/pXqOZYn2gazK8Vth0fvsRUknbx+bIJQQPCts/Mda+4KthbJFoqeKwSejX6pfO2kjytxH1pfuyqlsGH7dJAgZWvFo23L/9muboF+JxtE0/OEwMqJG46uSHinFvepTPO8lhGaX+fPHSdjCKaPy/b3v7az58h/wHFFyIHCRirgjUlbfsiJWXEFD6iUoOkdQaaQ6z9dP2YVahljF4+yXdvZ/evf4G+hQk2sEAUsti4vWxa35gKGSBMDp3T23OxxVXdXRijKovSFzrerC6ELAMT6IhcCZIyeX7c68YPzGGLlxq89PyM0q5YU2M1RuQAg0EERbiaA7Ohl1RgmPTM2p1qjBk1Mm6GDErsfswAgLiDZPmfMwrbhAqeHzm6P8Z9gV9SQdTx2lpCyAEKkhc62YZiVEjTdRgo0zXeBRnImAaSFzm7xdjjtOBGyvmZVZkNvfZjXDhU14+BToFEDKRAQpAJ0HRTjP6XHpYUKEX7RzS9bV5c+FJTmAICUgNSWQ/ZCgJwhIOJIQVLgFKcXvKHm9cyGvithFDUAFQqECho1CBUIggYapAJ1QEFBExNMYoISDU1/NIR9cvndTG/c2IBkp2fC8ZpQgknBGI/3AsDvvRfDlJhwem5zwYMs7VNlaUtbXE1h3mezj9mlGSsXrBkzkFsGKGoDmedBJLfLjxQQgAYdHRSxtPfbfceNsPYBQPTI+GZbT31YxrGIpYoKpIKigkAgFOggNBrbQBBCBaEM2L+iGGmTgnF+Uc1epqO/3VejAoAOUZSLQkFN17lAb4eVCe+VRvvHN4sH6t1feqAmMUGoPHvvhdLzTjzfKoj0sza/GLOy1Bu3vqc20Pgl5YIGkVOEZFZ0nLLMszzdDADTgjIdX6Uf3zfUx6m6u8riKRhOCcmDAqLCURo53Oe4rrsyUlGD0nlIqubdKNZJXOm9FH6y7Yh5uKBnO8vNTX2N4YoKE2fMLREQOsE8AfFN4/ak4QIfbd2XJFRQkLx85ruN7NTp2AoAZxwlCR9dWJc81NDdtoLkc86KBIJwXQ3aOpCPqwuhR2SPbCBlUc2NyogQX3N7wqgU51BAf2w9EFXUtCtLqADqS76ev6/ilgrk2q6esxHZgf5CySh3FMcG+5jbE0ZNdj4odHdDwWPGcZNNO1MPbrxtzdW4s+tI5HPBwQTTzziKY3v/7HGlhmS23g90T+OO5L1Nu7MMw3Fv/Tx1f97/FnsAYPui8/D4nBB/oZZR230uoq67auQoLaB37Iio3sEAK52nR39p+zS13HFiilHeYtOOabdC71jQzz2R+ALBbcrjWNF+cfaUwLSrk4KmtsT4T+gK9jG7AKKjv93X1lcfUNNVaantropqddnDCcIoa7lk29S92+/5CpOvQ04VJ79KUe/7iI/Hh40U6c3PyuPjhmWKN8G8Fvnw1A/zmX/vV5h/T+CXstRMUp4kOFOjZiUlWBkFQYdALitRZXRzf3RqWumdgF79NQDBOa2V/iYSHAAAAABJRU5ErkJggg==");bottom:10px;right:55px}div.vis-network div.vis-navigation div.vis-button.vis-zoomExtends{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABptJREFUeNqsl21QlNcVx///cx9hIipuAJHasgHlRdw0xay7yK7smg6sb2DSdtqZduLUNENmOk1tQuM4U7UzTvshSRlFZzoNCWSSSTJp+6VNkLCAeQHBoCCgqNBE0wUqL+KuwIiiZZ9+eHa3aAS3Sf8zO8/L3nt+95x7z7n3YWlpKUQEJAEgch9+Jola9xEC2ADBVgAOKqwCYAqKDgUJBIHPBWwFWQNdbyZFBwAC0GGIAHQSj3/8HHRdhzYbdDfwg4IjAsGvICgXAroYBiCEDkBBACBZoyST4gDwQqh7mQ4cEkhQD0EBIIggRMQAh2EiEvEYAGrdR3YSqIYCIEDaotVDeYnu/ryEjSOr43PHl8WmTBPA6PRQ7IWJrvhT/ubkU/7m1EvX+1KEUh7Ug+WkPEXgdUSkR+xrd0NJ4qjr8AEI9pGAI7mo78mHfnF+Y/K2K7iHUheuvJG6cOUNz/LvDwPobrpSl/Ruf2VOy9UPs4RSTSANwH4Y449EVdnt9ojHIeghCHYLgR+n/7zt4Np32tIWZU4hSpnjVk1t/caPfOO3/f++MNH5TVJcisoEoo4ksgbsXwYfdR1+kQplQuCFNS82Pp/9+158RTkTC0ce0OKutQeOp5PME0qcUBqyBmwGOC8vz4AWVOyE4CUqYO/Dh+p3pj//Bb6mHllqCyxd8ODVT69+uFKoOYTSnzFg7SJpzHFNQYWiQrUIsCN9V+uOh375zz179pSGI1FSUuK12+2+aGDt7e3muro6T/h57969lZdvDrT+ZbA6n0B1nfPVN7e0PjMjIgIIdkEAR1JR329yDvaE0+l/hQKA1Wr1bd682SsikUW7K+O3PesTNvaSAiXaLhGBvO86RFEoJ4Adac+eDxsgiZKSEm9NTY3n5MmT5mjBHR0d5vr6es+mTZu8SqnI+x+s+Ol5jRo0auX1jtepQaEAADKWWIbcy7ZGUmb79u1eu93uI+mtra31HLj5TGDs9rBJICCNn1GRCKGCUJAUuzzw6CfbTB6Px7t27VofAG/YXl6Ceyw9LmvIN3UxZUafKRACWyCELcHVP3vk4fDabDZf+2N/D9g+fsLEEFSooFGDogZNFkBRgSCsTcWm066jgRAU4et/F5u9nxRosmCLRmE+QdgSXCNzhW/s9rDJ63wVJx77V+V8YS6UNaW8BdOcqzx+3Ujt0F8Bcr1GMIMU5CzJHZ+rg6IGCYV2PimoyIK6lzIWrxkPTVGmRoqJFCyLTZmeq4MB5f3BVADnbpcQkzStUQMAk0YKBPfzxlhA95NQQe43QBotBECAFFyZHo6dz6CKCizAPFPivzUWqxm2AqIgnwkFvZNn4uczGK3Hah7wpet98UZ85R8aKScIcXYEWpMLkx8fvleHpNjlAWtTsakQa0pVKGcJQqMGUqCHBvfdjp/gTP6xwFzg85PdyaH2J4SUowKiw3889e4KBACnT582W5uKTV2uusAdUFlgzBcFQoFGDT35HwW+82mhqaenxwwA4WtYfRNnUkMZUqsJpEkn8cXU5yktYw2JjsTCMQDwer0ekt6GhgZPUVGRd3fu7qjqdU9Mj7mlpcVD0tvS0uKxWCyVANB5rS3x8s3BFEUFgTTLtuZndQHLBMSfB6pyZtfqMDQ3NzfqTcJisficTqc3BI+8bxh9L8corarM3fnDoIT+rACAU/7m7MOfHbCEwQDQ2Njo6erqinqTOHfuXNjjiI23+ystZ8c7smmkWgVJcN++fRARfLDhlacEUqVEQ1nm77xPrHjSh/+Djo3WmN/s/6OHEOgIPr2h63tVuq5Dud1ukETWoK3zorkzTiiONn/TKlNM4lj24m+Pf13o2wOVHqGA5MsAXjKPrDaqnMvlQnjTzhy0Nlw0d5oI5p3yN62amrk+ve5B5+hXgb47WGX52+V3NgoFOvQKAGUkkTqcbZy5XC7XHYf4zEFr3aXU7jih5uidPPOtvsmzixZr8VMrHjBHddLsHj+Z9Fb/n9a1+T/JDaXey0IpEzEKkHnU8Jj79++PeEwSSimQRGP+Gz8j5DVFBVKQtjBj6JGlNt/D8Y+OpMdlTphiEqcB4tqtsVjfjUtLLkx0J/dOnjWPTg+lEARIEHwaQJVQIYggACC/qxi6rn8ZHL4XETSsf0MU1HOk/CFGYgAwskUqY5eBitRxzn7/a0V1EEBwdqkN6jPI7y4xPmHmC5unbWdQRMqP2d86qANOksU6gvmArNQRNClqABnQgYuK0krI+wCOAyH3DK/vqOXhaf3PAO7mIRjDNV25AAAAAElFTkSuQmCC");bottom:50px;right:15px}');var I_t=function(){function e(t,n){var i=this;ft(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){i.activated=!0,i.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){i.activated=!1,i.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==i.keycharm&&i.keycharm.destroy()}),this.options={}}return ht(e,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var n=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<n.length;r++){this.navigationDOM[n[r]]=document.createElement("div"),this.navigationDOM[n[r]].className="vis-button vis-"+n[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[n[r]]);var o,s,a=new Ly(this.navigationDOM[n[r]]);nR(a,"_fit"===i[r]?rt(o=this._fit).call(o,this):rt(s=this.bindToRedraw).call(s,this,i[r])),this.navigationHammers.push(a)}var l=new Ly(this.canvas.frame);Vye(l,function(){t._stopMovement()}),this.navigationHammers.push(l),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var n;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=rt(n=this[t]).call(n,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var n=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=n/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=n,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var n=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=n/this.body.view.scale,o=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,s=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=n,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,n,i,r,o,s,a,l,u,c,g,d,f,h,C,p,I,m,y,_,N,O,k,M,V=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function(e){var t,n=e&&e.preventDefault||!1,i=e&&e.container||window,r={},o={keydown:{},keyup:{}},s={};for(t=97;t<=122;t++)s[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)s[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)s[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,g){if(void 0!==o[g][c.keyCode]){for(var d=o[g][c.keyCode],f=0;f<d.length;f++)(void 0===d[f].shift||1==d[f].shift&&1==c.shiftKey||0==d[f].shift&&0==c.shiftKey)&&d[f].fn(c);1==n&&c.preventDefault()}};return r.bind=function(c,g,d){if(void 0===d&&(d="keydown"),void 0===s[c])throw new Error("unsupported key: "+c);void 0===o[d][s[c].code]&&(o[d][s[c].code]=[]),o[d][s[c].code].push({fn:g,shift:s[c].shift})},r.bindAll=function(c,g){for(var d in void 0===g&&(g="keydown"),s)s.hasOwnProperty(d)&&r.bind(d,c,g)},r.getKey=function(c){for(var g in s)if(s.hasOwnProperty(g)&&(1==c.shiftKey&&1==s[g].shift&&c.keyCode==s[g].code||0==c.shiftKey&&0==s[g].shift&&c.keyCode==s[g].code||c.keyCode==s[g].code&&"shift"==g))return g;return"unknown key, currently not supported"},r.unbind=function(c,g,d){if(void 0===d&&(d="keydown"),void 0===s[c])throw new Error("unsupported key: "+c);if(void 0!==g){var f=[],h=o[d][s[c].code];if(void 0!==h)for(var C=0;C<h.length;C++)h[C].fn==g&&h[C].shift==s[c].shift||f.push(o[d][s[c].code][C]);o[d][s[c].code]=f}else o[d][s[c].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",l,!0),r}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(rt(t=this.keycharm).call(t,"up",function(){V.bindToRedraw("_moveUp")},"keydown"),rt(n=this.keycharm).call(n,"down",function(){V.bindToRedraw("_moveDown")},"keydown"),rt(i=this.keycharm).call(i,"left",function(){V.bindToRedraw("_moveLeft")},"keydown"),rt(r=this.keycharm).call(r,"right",function(){V.bindToRedraw("_moveRight")},"keydown"),rt(o=this.keycharm).call(o,"=",function(){V.bindToRedraw("_zoomIn")},"keydown"),rt(s=this.keycharm).call(s,"num+",function(){V.bindToRedraw("_zoomIn")},"keydown"),rt(a=this.keycharm).call(a,"num-",function(){V.bindToRedraw("_zoomOut")},"keydown"),rt(l=this.keycharm).call(l,"-",function(){V.bindToRedraw("_zoomOut")},"keydown"),rt(u=this.keycharm).call(u,"[",function(){V.bindToRedraw("_zoomOut")},"keydown"),rt(c=this.keycharm).call(c,"]",function(){V.bindToRedraw("_zoomIn")},"keydown"),rt(g=this.keycharm).call(g,"pageup",function(){V.bindToRedraw("_zoomIn")},"keydown"),rt(d=this.keycharm).call(d,"pagedown",function(){V.bindToRedraw("_zoomOut")},"keydown"),rt(f=this.keycharm).call(f,"up",function(){V.unbindFromRedraw("_moveUp")},"keyup"),rt(h=this.keycharm).call(h,"down",function(){V.unbindFromRedraw("_moveDown")},"keyup"),rt(C=this.keycharm).call(C,"left",function(){V.unbindFromRedraw("_moveLeft")},"keyup"),rt(p=this.keycharm).call(p,"right",function(){V.unbindFromRedraw("_moveRight")},"keyup"),rt(I=this.keycharm).call(I,"=",function(){V.unbindFromRedraw("_zoomIn")},"keyup"),rt(m=this.keycharm).call(m,"num+",function(){V.unbindFromRedraw("_zoomIn")},"keyup"),rt(y=this.keycharm).call(y,"num-",function(){V.unbindFromRedraw("_zoomOut")},"keyup"),rt(_=this.keycharm).call(_,"-",function(){V.unbindFromRedraw("_zoomOut")},"keyup"),rt(N=this.keycharm).call(N,"[",function(){V.unbindFromRedraw("_zoomOut")},"keyup"),rt(O=this.keycharm).call(O,"]",function(){V.unbindFromRedraw("_zoomIn")},"keyup"),rt(k=this.keycharm).call(k,"pageup",function(){V.unbindFromRedraw("_zoomIn")},"keyup"),rt(M=this.keycharm).call(M,"pagedown",function(){V.unbindFromRedraw("_zoomOut")},"keyup")))}}]),e}();function Hye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v_t=function(){function e(t,n,i){var r,o,s,a,l,u,c,g,d,f,h,C,p;ft(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new I_t(t,n),this.body.eventListeners.onTap=rt(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=rt(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=rt(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=rt(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=rt(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=rt(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=rt(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=rt(g=this.onMouseWheel).call(g,this),this.body.eventListeners.onPinch=rt(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=rt(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=rt(h=this.onRelease).call(h,this),this.body.eventListeners.onContext=rt(C=this.onContext).call(C,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=rt(p=this.getPointer).call(p,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},bo(this.options,this.defaultOptions),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(qM(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Pc(this.options,t,"keyboard"),t.tooltip&&(bo(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=zH(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(n=this.canvas.frame.canvas,n.getBoundingClientRect().left),y:t.y-yvt(this.canvas.frame.canvas)};var n}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var n=this.getPointer(t.center);this.checkSelectionChanges(n,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(n,t),this.selectionHandler.generateClickEvent("click",t,n)}},{key:"onDoubleTap",value:function(t){var n=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,n)}},{key:"onHold",value:function(t){var n=this.getPointer(t.center);this.checkSelectionChanges(n,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(n,t),this.selectionHandler.generateClickEvent("click",t,n),this.selectionHandler.generateClickEvent("hold",t,n)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var n=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,n),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var n=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,n)}},{key:"checkSelectionChanges",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,n){var i=function(r,o){for(var s=[],a=0;a<r.length;a++){var l=r[a];-1===ir(o).call(o,l)&&s.push(l)}return s};return{nodes:i(t.nodes,n.nodes),edges:i(t.edges,n.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var n=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=bo({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(void 0!==n&&!0===this.options.dragNodes){this.drag.nodeId=n.id,!1===n.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(n)),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var r,o=function(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return Hye(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Hye(l,u)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.selectionHandler.getSelectedNodes());try{for(o.s();!(r=o.n()).done;){var s=r.value,a={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0,s.options.fixed.y=!0,this.drag.selection.push(a)}}catch(l){o.e(l)}finally{o.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var n=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),r=this.drag.selection;if(r&&r.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,i);var o=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;Ui(r).call(r,function(u){var c=u.node;!1===u.xFixed&&(c.x=n.canvas._XconvertDOMtoCanvas(n.canvas._XconvertCanvasToDOM(u.x)+o)),!1===u.yFixed&&(c.y=n.canvas._YconvertDOMtoCanvas(n.canvas._YconvertCanvasToDOM(u.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var n=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var r=this.body.selectionBox.position,o={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=nr(i=this.body.nodeIndices).call(i,function(u){var c=n.body.nodes[u];return c.x>=o.minX&&c.x<=o.maxX&&c.y>=o.minY&&c.y<=o.maxY});Ui(s).call(s,function(u){return n.selectionHandler.selectObject(n.body.nodes[u])});var a=this.getPointer(t.center);this.selectionHandler.commitAndEmit(a,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var l=this.drag.selection;l&&l.length?(Ui(l).call(l,function(u){u.node.options.fixed.x=u.xFixed,u.node.options.fixed.y=u.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var n=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,n)}},{key:"zoom",value:function(t,n){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var r=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,s=t/i,a=(1-s)*n.x+o.x*s,l=(1-s)*n.y+o.y*s;if(this.body.view.scale=t,this.body.view.translation={x:a,y:l},null!=r){var u=this.canvas.canvasToDOM(r);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:n}:{direction:"-",scale:this.body.view.scale,pointer:n})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var n=this.body.view.scale;n*=1+.1*this.options.zoomSpeed*(t.deltaY<0?1:-1);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var n=this,i=this.getPointer({x:t.clientX,y:t.clientY}),r=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(r=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===r&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=zg(function(){return n._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var n=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),r={left:n,top:i,right:n,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,a="node";if(void 0===this.popupObj){for(var l,u=this.body.nodeIndices,c=this.body.nodes,g=[],d=0;d<u.length;d++)!0===(l=c[u[d]]).isOverlappingWith(r)&&(s=!0,void 0!==l.getTitle()&&g.push(u[d]));g.length>0&&(this.popupObj=c[g[g.length-1]],s=!0)}if(void 0===this.popupObj&&!1===s){for(var f,h=this.body.edgeIndices,C=this.body.edges,p=[],I=0;I<h.length;I++)!0===(f=C[h[I]]).isOverlappingWith(r)&&!0===f.connected&&void 0!==f.getTitle()&&p.push(h[I]);p.length>0&&(this.popupObj=C[p[p.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new Svt(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var n=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(n))){var r=this.selectionHandler.getNodeAt(t);i=void 0!==r&&r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(n));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),Uye=QH,iR=rx.exports.getWeakData,y_t=Ou,pU=Ms,b_t=KH,__t=ZH,Gye=Nu,w_t=Qd.set,E_t=Qd.getterFor,x_t=_h.find,D_t=_h.findIndex,S_t=0,rR=function(e){return e.frozen||(e.frozen=new Wye)},Wye=function(){this.entries=[]},AU=function(e,t){return x_t(e.entries,function(n){return n[0]===t})};Wye.prototype={get:function(e){var t=AU(this,e);if(t)return t[1]},has:function(e){return!!AU(this,e)},set:function(e,t){var n=AU(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=D_t(this.entries,function(n){return n[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var lx,k_t=QH,N_t=rx.exports,Yye={getConstructor:function(e,t,n,i){var r=e(function(a,l){b_t(a,r,t),w_t(a,{type:t,id:S_t++,frozen:void 0}),null!=l&&__t(l,a[i],{that:a,AS_ENTRIES:n})}),o=E_t(t),s=function(a,l,u){var c=o(a),g=iR(y_t(l),!0);return!0===g?rR(c).set(l,u):g[c.id]=u,a};return Uye(r.prototype,{delete:function(a){var l=o(this);if(!pU(a))return!1;var u=iR(a);return!0===u?rR(l).delete(a):u&&Gye(u,l.id)&&delete u[l.id]},has:function(a){var l=o(this);if(!pU(a))return!1;var u=iR(a);return!0===u?rR(l).has(a):u&&Gye(u,l.id)}}),Uye(r.prototype,n?{get:function(a){var l=o(this);if(pU(a)){var u=iR(a);return!0===u?rR(l).get(a):u?u[l.id]:void 0}},set:function(a,l){return s(this,a,l)}}:{add:function(a){return s(this,a,!0)}}),r}},oR=Ms,sR=Qd.enforce,M_t=yIe,R_t=!ps.ActiveXObject&&"ActiveXObject"in ps,aR=Object.isExtensible,qye=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},F_t=XH("WeakMap",qye,Yye);if(M_t&&R_t){lx=Yye.getConstructor(qye,"WeakMap",!0),N_t.enable();var ux=F_t.prototype,Zye=ux.delete,lR=ux.has,Kye=ux.get,Xye=ux.set;k_t(ux,{delete:function(e){if(oR(e)&&!aR(e)){var t=sR(this);return t.frozen||(t.frozen=new lx),Zye.call(this,e)||t.frozen.delete(e)}return Zye.call(this,e)},has:function(e){if(oR(e)&&!aR(e)){var t=sR(this);return t.frozen||(t.frozen=new lx),lR.call(this,e)||t.frozen.has(e)}return lR.call(this,e)},get:function(e){if(oR(e)&&!aR(e)){var t=sR(this);return t.frozen||(t.frozen=new lx),lR.call(this,e)?Kye.call(this,e):t.frozen.get(e)}return Kye.call(this,e)},set:function(e,t){if(oR(e)&&!aR(e)){var n=sR(this);n.frozen||(n.frozen=new lx),lR.call(this,e)?Xye.call(this,e,t):n.frozen.set(e,t)}else Xye.call(this,e,t);return this}})}var dm,Lc,Lp,Bp,uR,cx=Hi.WeakMap;function Vr(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function IU(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function mU(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return Qye(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Qye(l,u)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Qye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jye(e,t){var n,i=new Hg,r=mU(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.has(o)||i.add(o)}}catch(s){r.e(s)}finally{r.f()}return i}var ebe=function(){function e(){ft(this,e),dm.set(this,new Hg),Lc.set(this,new Hg)}return ht(e,[{key:"size",get:function(){return Vr(this,Lc,"f").size}},{key:"add",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];Vr(this,Lc,"f").add(s)}}},{key:"delete",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];Vr(this,Lc,"f").delete(s)}}},{key:"clear",value:function(){Vr(this,Lc,"f").clear()}},{key:"getSelection",value:function(){return Yr(Vr(this,Lc,"f"))}},{key:"getChanges",value:function(){return{added:Yr(Jye(Vr(this,dm,"f"),Vr(this,Lc,"f"))),deleted:Yr(Jye(Vr(this,Lc,"f"),Vr(this,dm,"f"))),previous:Yr(new Hg(Vr(this,dm,"f"))),current:Yr(new Hg(Vr(this,Lc,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();IU(this,dm,Vr(this,Lc,"f"),"f"),IU(this,Lc,new Hg(Vr(this,dm,"f")),"f");var n,i=mU(t.added);try{for(i.s();!(n=i.n()).done;)n.value.select()}catch(s){i.e(s)}finally{i.f()}var r,o=mU(t.deleted);try{for(o.s();!(r=o.n()).done;)r.value.unselect()}catch(s){o.e(s)}finally{o.f()}return t}}]),e}();dm=new cx,Lc=new cx;var P_t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};ft(this,e),Lp.set(this,new ebe),Bp.set(this,new ebe),uR.set(this,void 0),IU(this,uR,t,"f")}return ht(e,[{key:"sizeNodes",get:function(){return Vr(this,Lp,"f").size}},{key:"sizeEdges",get:function(){return Vr(this,Bp,"f").size}},{key:"getNodes",value:function(){return Vr(this,Lp,"f").getSelection()}},{key:"getEdges",value:function(){return Vr(this,Bp,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=Vr(this,Lp,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=Vr(this,Bp,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){Vr(this,Lp,"f").delete(t)}},{key:"deleteEdges",value:function(t){Vr(this,Bp,"f").delete(t)}},{key:"clear",value:function(){Vr(this,Lp,"f").clear(),Vr(this,Bp,"f").clear()}},{key:"commit",value:function(){for(var t,n,i={nodes:Vr(this,Lp,"f").commit(),edges:Vr(this,Bp,"f").commit()},r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=Vr(this,uR,"f")).call.apply(t,em(n=[this,i]).call(n,o)),i}}]),e}();function tbe(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return nbe(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return nbe(l,u)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function nbe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Lp=new cx,Bp=new cx,uR=new cx;var L_t=function(){function e(t,n){var i=this;ft(this,e),this.body=t,this.canvas=n,this._selectionAccumulator=new P_t,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},bo(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){i.updateSelection()})}return ht(e,[{key:"setOptions",value:function(t){void 0!==t&&Py(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var n=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(n=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return n}},{key:"selectAdditionalOnPoint",value:function(t){var n=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(n=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return n}},{key:"_initBaseEvent",value:function(t,n){var i={};return i.pointer={DOM:{x:n.x,y:n.y},canvas:this.canvas.DOMtoCanvas(n)},i.event=t,i}},{key:"generateClickEvent",value:function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this._initBaseEvent(n,i);if(!0===o)s.nodes=[],s.edges=[];else{var a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}void 0!==r&&(s.previousSelection=r),"click"==t&&(s.items=this.getClickedItems(i)),void 0!==n.controlEdge&&(s.controlEdge=n.controlEdge),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof Mu?(!0===n&&(i=this._selectionAccumulator).addEdges.apply(i,Yr(t.edges)),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var n=[],i=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodeIndices[r];i[o].isOverlappingWith(t)&&n.push(o)}return n}},{key:"_pointerToPositionObject",value:function(t){var n=this.canvas.DOMtoCanvas(t);return{left:n.x-1,top:n.y+1,right:n.x+1,bottom:n.y-1}}},{key:"getNodeAt",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),r=this._getAllNodesOverlappingWith(i);return r.length>0?!0===n?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,n){for(var i=this.body.edges,r=0;r<this.body.edgeIndices.length;r++){var o=this.body.edgeIndices[r];i[o].isOverlappingWith(t)&&n.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var n=[];return this._getEdgesOverlappingWith(t,n),n}},{key:"getEdgeAt",value:function(t){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),r=10,o=null,s=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var l=this.body.edgeIndices[a],u=s[l];if(u.connected){var c=u.from.x,g=u.from.y,d=u.to.x,f=u.to.y,h=u.edgeType.getDistanceToEdge(c,g,d,f,i.x,i.y);h<r&&(o=l,r=h)}}return null!==o?!0===n?this.body.edges[o]:o:void 0}},{key:"_addToHover",value:function(t){t instanceof Mu?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var n;t instanceof Mu?(this._selectionAccumulator.deleteNodes(t),(n=this._selectionAccumulator).deleteEdges.apply(n,Yr(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var n=0;n<t.edges.length;n++){var i=t.edges[n];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(t,n,i){var r=this._initBaseEvent(t,n);!0===i.hover&&(i.hover=!1,i instanceof Mu?(r.node=i.id,this.body.emitter.emit("blurNode",r)):(r.edge=i.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(t,n,i){var r=this._initBaseEvent(t,n),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof Mu?(r.node=i.id,this.body.emitter.emit("hoverNode",r)):(r.edge=i.id,this.body.emitter.emit("hoverEdge",r))),o}},{key:"hoverObject",value:function(t,n){var i=this.getNodeAt(n);void 0===i&&(i=this.getEdgeAt(n));var r=!1;for(var o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(void 0===i||i instanceof Mu&&i.id!=o||i instanceof Hy)&&(this.emitBlurEvent(t,n,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],r=!0);for(var s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(!0===r?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof Hy&&i.id!=s||i instanceof Mu&&!i.hover)&&(this.emitBlurEvent(t,n,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],r=!0));if(void 0!==i){var a=qr(this.hoverObj.edges).length,l=qr(this.hoverObj.nodes).length;(r||i instanceof Hy&&0===a&&0===l||i instanceof Mu&&0===a&&0===l)&&(r=this.emitHoverEvent(t,n,i)),i instanceof Mu&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===r&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,n){var i=!1,r=this._selectionAccumulator.commit(),o={nodes:r.nodes.previous,edges:r.edges.previous};r.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",n,t,o),i=!0),r.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",n,t,o),i=!0),r.nodes.added.length>0&&(this.generateClickEvent("selectNode",n,t),i=!0),r.edges.added.length>0&&(this.generateClickEvent("selectEdge",n,t),i=!0),!0===i&&this.generateClickEvent("select",n,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return Is(t=this._selectionAccumulator.getNodes()).call(t,function(n){return n.id})}},{key:"getSelectedEdgeIds",value:function(){var t;return Is(t=this._selectionAccumulator.getEdges()).call(t,function(n){return n.id})}},{key:"setSelection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((n.unselectAll||void 0===n.unselectAll)&&this.unselectAll(),t.nodes){var i,r=tbe(t.nodes);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=this.body.nodes[o];if(!s)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(s,n.highlightEdges)}}catch(g){r.e(g)}finally{r.f()}}if(t.edges){var a,l=tbe(t.edges);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=this.body.edges[u];if(!c)throw new RangeError('Edge with id "'+u+'" not found');this.selectObject(c)}}catch(g){l.e(g)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:n})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var n in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,n.id)||this._selectionAccumulator.deleteEdges(n)}},{key:"getClickedItems",value:function(t){for(var n=this.canvas.DOMtoCanvas(t),i=[],r=this.body.nodeIndices,o=this.body.nodes,s=r.length-1;s>=0;s--){var a=o[r[s]].getItemsOnPoint(n);i.push.apply(i,a)}for(var l=this.body.edgeIndices,u=this.body.edges,c=l.length-1;c>=0;c--){var g=u[l[c]].getItemsOnPoint(n);i.push.apply(i,g)}return i}}]),e}(),ibe={};!function(e){e.__esModule=!0,e.sort=function(p,I,m,y){if(!Array.isArray(p))throw new TypeError("Can only sort arrays");I?"function"!=typeof I&&(y=m,m=I,I=a):I=a,m||(m=0),y||(y=p.length);var _=y-m;if(!(_<2)){var N=0;if(_<32)g(p,m,y,m+(N=u(p,m,y,I)),I);else{var O=new h(p,I),k=function(p){for(var I=0;p>=32;)I|=1&p,p>>=1;return p+I}(_);do{if((N=u(p,m,y,I))<k){var M=_;M>k&&(M=k),g(p,m,m+M,m+N,I),N=M}O.pushRun(m,N),O.mergeRuns(),_-=N,m+=N}while(0!==_);O.forceMergeRuns()}}};var o=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(p){return p<1e5?p<100?p<10?0:1:p<1e4?p<1e3?2:3:4:p<1e7?p<1e6?5:6:p<1e9?p<1e8?7:8:9}function a(p,I){if(p===I)return 0;if(~~p===p&&~~I===I){if(0===p||0===I)return p<I?-1:1;if(p<0||I<0){if(I>=0)return-1;if(p>=0)return 1;p=-p,I=-I}var m=s(p),y=s(I),_=0;return m<y?(p*=o[y-m-1],I/=10,_=-1):m>y&&(I*=o[m-y-1],p/=10,_=1),p===I?_:p<I?-1:1}var N=String(p),O=String(I);return N===O?0:N<O?-1:1}function u(p,I,m,y){var _=I+1;if(_===m)return 1;if(y(p[_++],p[I])<0){for(;_<m&&y(p[_],p[_-1])<0;)_++;!function(p,I,m){for(m--;I<m;){var y=p[I];p[I++]=p[m],p[m--]=y}}(p,I,_)}else for(;_<m&&y(p[_],p[_-1])>=0;)_++;return _-I}function g(p,I,m,y,_){for(y===I&&y++;y<m;y++){for(var N=p[y],O=I,k=y;O<k;){var M=O+k>>>1;_(N,p[M])<0?k=M:O=M+1}var V=y-O;switch(V){case 3:p[O+3]=p[O+2];case 2:p[O+2]=p[O+1];case 1:p[O+1]=p[O];break;default:for(;V>0;)p[O+V]=p[O+V-1],V--}p[O]=N}}function d(p,I,m,y,_,N){var O=0,k=0,M=1;if(N(p,I[m+_])>0){for(k=y-_;M<k&&N(p,I[m+_+M])>0;)O=M,(M=1+(M<<1))<=0&&(M=k);M>k&&(M=k),O+=_,M+=_}else{for(k=_+1;M<k&&N(p,I[m+_-M])<=0;)O=M,(M=1+(M<<1))<=0&&(M=k);M>k&&(M=k);var V=O;O=_-M,M=_-V}for(O++;O<M;){var z=O+(M-O>>>1);N(p,I[m+z])>0?O=z+1:M=z}return M}function f(p,I,m,y,_,N){var O=0,k=0,M=1;if(N(p,I[m+_])<0){for(k=_+1;M<k&&N(p,I[m+_-M])<0;)O=M,(M=1+(M<<1))<=0&&(M=k);M>k&&(M=k);var V=O;O=_-M,M=_-V}else{for(k=y-_;M<k&&N(p,I[m+_+M])>=0;)O=M,(M=1+(M<<1))<=0&&(M=k);M>k&&(M=k),O+=_,M+=_}for(O++;O<M;){var z=O+(M-O>>>1);N(p,I[m+z])<0?M=z:O=z+1}return M}var h=function(){function p(I,m){(function(p,I){if(!(p instanceof I))throw new TypeError("Cannot call a class as a function")})(this,p),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=I,this.compare=m,this.length=I.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return p.prototype.pushRun=function(I,m){this.runStart[this.stackSize]=I,this.runLength[this.stackSize]=m,this.stackSize+=1},p.prototype.mergeRuns=function(){for(;this.stackSize>1;){var I=this.stackSize-2;if(I>=1&&this.runLength[I-1]<=this.runLength[I]+this.runLength[I+1]||I>=2&&this.runLength[I-2]<=this.runLength[I]+this.runLength[I-1])this.runLength[I-1]<this.runLength[I+1]&&I--;else if(this.runLength[I]>this.runLength[I+1])break;this.mergeAt(I)}},p.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var I=this.stackSize-2;I>0&&this.runLength[I-1]<this.runLength[I+1]&&I--,this.mergeAt(I)}},p.prototype.mergeAt=function(I){var m=this.compare,y=this.array,_=this.runStart[I],N=this.runLength[I],O=this.runStart[I+1],k=this.runLength[I+1];this.runLength[I]=N+k,I===this.stackSize-3&&(this.runStart[I+1]=this.runStart[I+2],this.runLength[I+1]=this.runLength[I+2]),this.stackSize--;var M=f(y[O],y,_,N,0,m);_+=M,0!=(N-=M)&&0!==(k=d(y[_+N-1],y,O,k,k-1,m))&&(N<=k?this.mergeLow(_,N,O,k):this.mergeHigh(_,N,O,k))},p.prototype.mergeLow=function(I,m,y,_){var N=this.compare,O=this.array,k=this.tmp,M=0;for(M=0;M<m;M++)k[M]=O[I+M];var V=0,z=y,H=I;if(O[H++]=O[z++],0!=--_)if(1!==m){for(var ee=this.minGallop;;){var se=0,_e=0,ae=!1;do{if(N(O[z],k[V])<0){if(O[H++]=O[z++],_e++,se=0,0==--_){ae=!0;break}}else if(O[H++]=k[V++],se++,_e=0,1==--m){ae=!0;break}}while((se|_e)<ee);if(ae)break;do{if(0!==(se=f(O[z],k,V,m,0,N))){for(M=0;M<se;M++)O[H+M]=k[V+M];if(H+=se,V+=se,(m-=se)<=1){ae=!0;break}}if(O[H++]=O[z++],0==--_){ae=!0;break}if(0!==(_e=d(k[V],O,z,_,0,N))){for(M=0;M<_e;M++)O[H+M]=O[z+M];if(H+=_e,z+=_e,0==(_-=_e)){ae=!0;break}}if(O[H++]=k[V++],1==--m){ae=!0;break}ee--}while(se>=7||_e>=7);if(ae)break;ee<0&&(ee=0),ee+=2}if(this.minGallop=ee,ee<1&&(this.minGallop=1),1===m){for(M=0;M<_;M++)O[H+M]=O[z+M];O[H+_]=k[V]}else{if(0===m)throw new Error("mergeLow preconditions were not respected");for(M=0;M<m;M++)O[H+M]=k[V+M]}}else{for(M=0;M<_;M++)O[H+M]=O[z+M];O[H+_]=k[V]}else for(M=0;M<m;M++)O[H+M]=k[V+M]},p.prototype.mergeHigh=function(I,m,y,_){var N=this.compare,O=this.array,k=this.tmp,M=0;for(M=0;M<_;M++)k[M]=O[y+M];var V=I+m-1,z=_-1,H=y+_-1,ee=0,se=0;if(O[H--]=O[V--],0!=--m)if(1!==_){for(var _e=this.minGallop;;){var ae=0,le=0,q=!1;do{if(N(k[z],O[V])<0){if(O[H--]=O[V--],ae++,le=0,0==--m){q=!0;break}}else if(O[H--]=k[z--],le++,ae=0,1==--_){q=!0;break}}while((ae|le)<_e);if(q)break;do{if(0!=(ae=m-f(k[z],O,I,m,m-1,N))){for(m-=ae,se=1+(H-=ae),ee=1+(V-=ae),M=ae-1;M>=0;M--)O[se+M]=O[ee+M];if(0===m){q=!0;break}}if(O[H--]=k[z--],1==--_){q=!0;break}if(0!=(le=_-d(O[V],k,0,_,_-1,N))){for(_-=le,se=1+(H-=le),ee=1+(z-=le),M=0;M<le;M++)O[se+M]=k[ee+M];if(_<=1){q=!0;break}}if(O[H--]=O[V--],0==--m){q=!0;break}_e--}while(ae>=7||le>=7);if(q)break;_e<0&&(_e=0),_e+=2}if(this.minGallop=_e,_e<1&&(this.minGallop=1),1===_){for(se=1+(H-=m),ee=1+(V-=m),M=m-1;M>=0;M--)O[se+M]=O[ee+M];O[H]=k[z]}else{if(0===_)throw new Error("mergeHigh preconditions were not respected");for(ee=H-(_-1),M=0;M<_;M++)O[ee+M]=k[M]}}else{for(se=1+(H-=m),ee=1+(V-=m),M=m-1;M>=0;M--)O[se+M]=O[ee+M];O[H]=k[z]}else for(ee=H-(_-1),M=0;M<_;M++)O[ee+M]=k[M]},p}()}(ibe);var cR=ibe;function rbe(e){var t=function(){if("undefined"==typeof Reflect||!Ue||Ue.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Ue(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,i=Gt(e);if(t){var r=Gt(this).constructor;n=Ue(i,arguments,r)}else n=i.apply(this,arguments);return fr(this,n)}}var obe=function(){function e(){ft(this,e)}return ht(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,n,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,n){this.fake_use(t,n),this.abstract()}},{key:"shift",value:function(t,n){this.fake_use(t,n),this.abstract()}}]),e}(),B_t=function(e){qi(n,obe);var t=rbe(n);function n(i){var r;return ft(this,n),(r=t.call(this)).layout=i,r}return ht(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.x=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_x,max:r.max_x}}},{key:"sort",value:function(i){cR.sort(i,function(r,o){return r.x-o.x})}},{key:"fix",value:function(i,r){i.y=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.y=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].x+=r}}]),n}(),j_t=function(e){qi(n,obe);var t=rbe(n);function n(i){var r;return ft(this,n),(r=t.call(this)).layout=i,r}return ht(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(i,o),i.y=r}},{key:"getTreeSize",value:function(i){var r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:r.min_y,max:r.max_y}}},{key:"sort",value:function(i){cR.sort(i,function(r,o){return r.y-o.y})}},{key:"fix",value:function(i,r){i.x=this.layout.options.hierarchical.levelSeparation*r,i.options.fixed.x=!0}},{key:"shift",value:function(i,r){this.layout.body.nodes[i].y+=r}}]),n}(),V_t=_h.every;Gn({target:"Array",proto:!0,forced:!ky("every")},{every:function(e){return V_t(this,e,arguments.length>1?arguments[1]:void 0)}});var z_t=ko("Array").every,sbe=Array.prototype,abe=function(e){var t=e.every;return e===sbe||e instanceof Array&&t===sbe.every?z_t:t};function lbe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U_t(e,t){var n=new Hg;return Ui(e).call(e,function(i){var r;Ui(r=i.edges).call(r,function(o){o.connected&&n.add(o)})}),Ui(n).call(n,function(i){var r=i.from.id,o=i.to.id;null==t[r]&&(t[r]=0),(null==t[o]||t[r]>=t[o])&&(t[o]=t[r]+1)}),t}function ube(e,t,n,i){var r,o,s=Dp(null),a=QM(r=Yr(JM(i).call(i))).call(r,function(f,h){return f+1+h.edges.length},0),l=n+"Id",u="to"===n?1:-1,c=function(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return lbe(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return lbe(l,u)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(i);try{var g=function(){var f=Ti(o.value,2),h=f[0],C=f[1];if(!i.has(h)||!e(C))return"continue";s[h]=0;for(var p=[C],I=0,m=void 0,y=function(){var N,O;if(!i.has(h))return"continue";var k=s[m.id]+u;if(Ui(N=nr(O=m.edges).call(O,function(M){return M.connected&&M.to!==M.from&&M[n]!==m&&i.has(M.toId)&&i.has(M.fromId)})).call(N,function(M){var V=M[l],z=s[V];(null==z||t(k,z))&&(s[V]=k,p.push(M[n]))}),I>a)return{v:{v:U_t(i,s)}};++I};m=p.pop();){var _=y();if("continue"!==_&&"object"===vi(_))return _.v}};for(c.s();!(o=c.n()).done;){var d=g();if("continue"!==d&&"object"===vi(d))return d.v}}catch(f){c.e(f)}finally{c.f()}return s}var G_t=function(){function e(){ft(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return ht(e,[{key:"addRelation",value:function(t,n){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(n),void 0===this.parentReference[n]&&(this.parentReference[n]=[]),this.parentReference[n].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,n){void 0!==n&&void 0===this.trees[t.id]&&(this.trees[t.id]=n,this.treeIndex=Math.max(n,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var n=this,i={};return function r(o){if(void 0!==i[o])return i[o];var s=n.levels[o];if(n.childrenReference[o]){var a=n.childrenReference[o];if(a.length>0)for(var l=0;l<a.length;l++)s=Math.max(s,r(a[l]))}return i[o]=s,s}(t)}},{key:"levelDownstream",value:function(t,n){void 0===this.levels[n.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[n.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var n=1e9;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(n=Math.min(this.levels[i],n));for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&void 0!==this.levels[r]&&(this.levels[r]-=n)}},{key:"getTreeSize",value:function(t,n){var i=1e9,r=-1e9,o=1e9,s=-1e9;for(var a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===n){var l=t[a];i=Math.min(l.x,i),r=Math.max(l.x,r),o=Math.min(l.y,o),s=Math.max(l.y,s)}return{min_x:i,max_x:r,min_y:o,max_y:s}}},{key:"hasSameParent",value:function(t,n){var i=this.parentReference[t.id],r=this.parentReference[n.id];if(void 0===i||void 0===r)return!1;for(var o=0;o<i.length;o++)for(var s=0;s<r.length;s++)if(i[o]==r[s])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,n){return this.trees[t.id]===this.trees[n.id]}},{key:"getLevels",value:function(){return qr(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,n){void 0===this.distributionOrdering[n]&&(this.distributionOrdering[n]=[]);var i=!1,r=this.distributionOrdering[n];for(var o in r)if(r[o]===t){i=!0;break}i||(this.distributionOrdering[n].push(t),this.distributionIndex[t.id]=this.distributionOrdering[n].length-1)}}]),e}(),W_t=function(){function e(t){ft(this,e),this.body=t,this._resetRNG(Math.random()+":"+FM()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},bo(this.options,this.defaultOptions),this.bindEventListeners()}return ht(e,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var n=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",n,!1)}})}},{key:"setOptions",value:function(t,n){if(void 0!==t){var i=this.options.hierarchical,r=i.enabled;if(Py(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Pc(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(n);if(!0===r)return this.body.emitter.emit("refresh"),Br(n,this.optionsBackup)}return n}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=YM(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var n=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===n.enabled||n.enabled,solver:"hierarchicalRepulsion"},n.enabled=void 0===n.enabled||n.enabled,n.solver=n.solver||"barnesHut"):"object"===vi(t.physics)?(n.enabled=void 0===t.physics.enabled||t.physics.enabled,n.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(n.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var r=t.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(i=r.type),this.optionsBackup.edges={smooth:{enabled:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}},t.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:i,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var n=t.length+50,i=0;i<t.length;i++){var r=t[i],o=2*Math.PI*this._rng();void 0===r.x&&(r.x=n*Math.cos(o)),void 0===r.y&&(r.y=n*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,n=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(n+=1);if(n<.5*t.length){var r=0,o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>o){for(var a=t.length;t.length>o&&r<=10;){var l=t.length;if((r+=1)%3==0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s),l==t.length&&r%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*a)})}r>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var u=0;u<t.length;u++){var c=this.body.nodes[t[u]];!1===c.predefinedPosition&&(c.x+=70*(.5-this._rng()),c.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=Il.getRangeCore(this.body.nodes,this.body.nodeIndices),n=Il.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.x-=n.x,r.y-=n.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var n=0;n<this.body.nodeIndices.length;n++)!0===this.body.nodes[this.body.nodeIndices[n]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[n],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,n,i=!1,r=!1;for(n in this.lastNodeOnLevel={},this.hierarchical=new G_t,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&(void 0!==(t=this.body.nodes[n]).options.level?(i=!0,this.hierarchical.levels[n]=t.options.level):r=!0);if(!0===r&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===r){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,n=!1,i={},r=function(d,f){var h=t.hierarchical.trees;for(var C in h)Object.prototype.hasOwnProperty.call(h,C)&&h[C]===d&&t.direction.shift(C,f)},s=function d(f,h){if(!h[f.id]&&(h[f.id]=!0,t.hierarchical.childrenReference[f.id])){var C=t.hierarchical.childrenReference[f.id];if(C.length>0)for(var p=0;p<C.length;p++)d(t.body.nodes[C[p]],h)}},a=function(d){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,h=1e9,C=1e9,p=1e9,I=-1e9;for(var m in d)if(Object.prototype.hasOwnProperty.call(d,m)){var y=t.body.nodes[m],_=t.hierarchical.levels[y.id],N=t.direction.getPosition(y),O=t._getSpaceAroundNode(y,d),k=Ti(O,2),M=k[0],V=k[1];h=Math.min(M,h),C=Math.min(V,C),_<=f&&(p=Math.min(N,p),I=Math.max(N,I))}return[p,I,h,C]},l=function(d,f){var h=t.hierarchical.getMaxLevel(d.id),C=t.hierarchical.getMaxLevel(f.id);return Math.min(h,C)},u=function(d,f,h){for(var C=t.hierarchical,p=0;p<f.length;p++){var m=C.distributionOrdering[f[p]];if(m.length>1)for(var y=0;y<m.length-1;y++){var _=m[y],N=m[y+1];C.hasSameParent(_,N)&&C.inSameSubNetwork(_,N)&&d(_,N,h)}}},c=function(d,f){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],C=t.direction.getPosition(d),p=t.direction.getPosition(f),I=Math.abs(p-C),m=t.options.hierarchical.nodeSpacing;if(I>m){var y={},_={};s(d,y),s(f,_);var N=l(d,f),O=a(y,N),k=a(_,N),M=O[1],V=k[0],z=k[2],H=Math.abs(M-V);if(H>m){var ee=M-V+m;ee<-z+m&&(ee=-z+m),ee<0&&(t._shiftBlock(f.id,ee),n=!0,!0===h&&t._centerParent(f))}}},g=function(d,f){for(var h=f.id,C=f.edges,p=t.hierarchical.levels[f.id],I=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,m={},y=[],_=0;_<C.length;_++){var N=C[_];if(N.toId!=N.fromId){var O=N.toId==h?N.from:N.to;m[C[_].id]=O,t.hierarchical.levels[O.id]<p&&y.push(N)}}var H,ee,se,_e,le,q,k=function(H,ee){for(var se=0,_e=0;_e<ee.length;_e++)if(void 0!==m[ee[_e].id]){var ae=t.direction.getPosition(m[ee[_e].id])-H;se+=ae/Math.sqrt(ae*ae+I)}return se},M=function(H,ee){for(var se=0,_e=0;_e<ee.length;_e++)if(void 0!==m[ee[_e].id]){var ae=t.direction.getPosition(m[ee[_e].id])-H;se-=I*Math.pow(ae*ae+I,-1.5)}return se},V=function(H,ee){for(var se=t.direction.getPosition(f),_e={},ae=0;ae<H;ae++){var le=k(se,ee),q=M(se,ee);if(void 0!==_e[se-=Math.max(-40,Math.min(40,Math.round(le/q)))])break;_e[se]=ae}return se},z=V(d,y);(function(H){var ee=t.direction.getPosition(f);if(void 0===i[f.id]){var se={};s(f,se),i[f.id]=se}var _e=a(i[f.id]),ae=_e[2],q=H-ee,te=0;q>0?te=Math.min(q,_e[3]-t.options.hierarchical.nodeSpacing):q<0&&(te=-Math.min(-q,ae-t.options.hierarchical.nodeSpacing)),0!=te&&(t._shiftBlock(f.id,te),n=!0)})(z),H=z=V(d,C),ee=t.direction.getPosition(f),_e=(se=Ti(t._getSpaceAroundNode(f),2))[0],q=ee,(le=H-ee)>0?q=Math.min(ee+(se[1]-t.options.hierarchical.nodeSpacing),H):le<0&&(q=Math.max(ee-(_e-t.options.hierarchical.nodeSpacing),H)),q!==ee&&(t.direction.setPosition(f,q),n=!0)};!0===this.options.hierarchical.blockShifting&&(function(d){var f=t.hierarchical.getLevels();f=tm(f).call(f);for(var h=0;h<5&&(n=!1,u(c,f,!0),!0===n);h++);}(),function(){for(var d in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,d)&&t._centerParent(t.body.nodes[d])}()),!0===this.options.hierarchical.edgeMinimization&&function(d){var f=t.hierarchical.getLevels();f=tm(f).call(f);for(var h=0;h<20;h++){n=!1;for(var C=0;C<f.length;C++)for(var I=t.hierarchical.distributionOrdering[f[C]],m=0;m<I.length;m++)g(1e3,I[m]);if(!0!==n)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var d=t.hierarchical.getLevels();d=tm(d).call(d);for(var f=0;f<d.length;f++)for(var C=t.hierarchical.distributionOrdering[d[f]],p=0;p<C.length;p++)t._centerParent(C[p])}(),function(){for(var d=function(){for(var d=[],f=0;f<t.hierarchical.numTrees();f++)d.push(t.direction.getTreeSize(f));return d}(),f=0,h=0;h<d.length-1;h++)r(h+1,f+=d[h].max-d[h+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,n){var i=!0;void 0===n&&(i=!1);var r=this.hierarchical.levels[t.id];if(void 0!==r){var o=this.hierarchical.distributionIndex[t.id],s=this.direction.getPosition(t),a=this.hierarchical.distributionOrdering[r],l=1e9,u=1e9;if(0!==o){var c=a[o-1];(!0===i&&void 0===n[c.id]||!1===i)&&(l=s-this.direction.getPosition(c))}if(o!=a.length-1){var g=a[o+1];if(!0===i&&void 0===n[g.id]||!1===i){var d=this.direction.getPosition(g);u=Math.min(u,d-s)}}return[l,u]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var n=this.hierarchical.parentReference[t.id],i=0;i<n.length;i++){var r=n[i],o=this.body.nodes[r],s=this.hierarchical.childrenReference[r];if(void 0!==s){var a=this._getCenterPosition(s),l=this.direction.getPosition(o),u=Ti(this._getSpaceAroundNode(o),2),c=u[0],g=u[1],d=l-a;(d<0&&Math.abs(d)<g-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var n in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var i,r=qr(t[n]);r=this._indexArrayToNodes(r),Vy(i=this.direction).call(i,r);for(var o=0,s=0;s<r.length;s++){var a=r[s];if(void 0===this.positionedNodes[a.id]){var l=this.options.hierarchical.nodeSpacing,u=l*o;o>0&&(u=this.direction.getPosition(r[s-1])+l),this.direction.setPosition(a,u,n),this._validatePositionAndContinue(a,n,u),o++}}}}},{key:"_placeBranchNodes",value:function(t,n){var i,r=this.hierarchical.childrenReference[t];if(void 0!==r){for(var o=[],s=0;s<r.length;s++)o.push(this.body.nodes[r[s]]);Vy(i=this.direction).call(i,o);for(var a=0;a<o.length;a++){var l=o[a],u=this.hierarchical.levels[l.id];if(!(u>n&&void 0===this.positionedNodes[l.id]))return;var g,c=this.options.hierarchical.nodeSpacing;g=0===a?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(o[a-1])+c,this.direction.setPosition(l,g,u),this._validatePositionAndContinue(l,u,g)}var d=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[t],d,n)}}},{key:"_validatePositionAndContinue",value:function(t,n,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[n]){var r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[n]]);if(i-r<this.options.hierarchical.nodeSpacing){var o=r+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[n],t.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[n]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,n)}}},{key:"_indexArrayToNodes",value:function(t){for(var n=[],i=0;i<t.length;i++)n.push(this.body.nodes[t[i]]);return n}},{key:"_getDistribution",value:function(){var t,n,i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){var r=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(n=this.body.nodes[t],r),void 0===i[r]&&(i[r]={}),i[r][t]=n}return i}},{key:"_getActiveEdges",value:function(t){var n=this,i=[];return Ai(t.edges,function(r){var o;-1!==ir(o=n.body.edgeIndices).call(o,r.id)&&i.push(r)}),i}},{key:"_getHubSizes",value:function(){var t=this,n={};Ai(this.body.nodeIndices,function(r){var s=t._getActiveEdges(t.body.nodes[r]).length;n[s]=!0});var i=[];return Ai(n,function(r){i.push(Number(r))}),Vy(cR).call(cR,i,function(r,o){return o-r}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,n=function(s,a){t.hierarchical.levelDownstream(s,a)},i=this._getHubSizes(),r=function(s){var a=i[s];if(0===a)return"break";Ai(t.body.nodeIndices,function(l){a===t._getActiveEdges(t.body.nodes[l]).length&&t._crawlNetwork(n,l)})},o=0;o<i.length&&"break"!==r(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(n,i,r){var o=t.hierarchical.levels[n.id];void 0===o&&(o=t.hierarchical.levels[n.id]=1e5);var s=(Il.cloneOptions(n,"node"),Il.cloneOptions(i,"node"),void Il.cloneOptions(r,"edge"));t.hierarchical.levels[i.id]=o+s}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,r,n=this,i=QM(t=this.body.nodeIndices).call(t,function(r,o){return r.set(o,n.body.nodes[o]),r},new XM);this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?ube(function(o){var s,a;return abe(s=nr(a=o.edges).call(a,function(l){return r.has(l.toId)})).call(s,function(l){return l.from===o})},function(o,s){return s<o},"to",r=i):function(r){return ube(function(o){var s,a;return abe(s=nr(a=o.edges).call(a,function(l){return r.has(l.toId)})).call(s,function(l){return l.to===o})},function(o,s){return s>o},"from",r)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(n,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[n.id]&&t.hierarchical.addRelation(n.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,r={},o=function g(d,f){if(void 0===r[d.id]){var h;t.hierarchical.setTreeIndex(d,f),r[d.id]=!0;for(var C=t._getActiveEdges(d),p=0;p<C.length;p++){var I=C[p];!0===I.connected&&d.id!=(h=I.toId==d.id?I.from:I.to).id&&(n(d,h,I),g(h,f))}}};if(void 0===i)for(var s=0,a=0;a<this.body.nodeIndices.length;a++){var l=this.body.nodeIndices[a];if(void 0===r[l]){var u=this.body.nodes[l];o(u,s),s+=1}}else{var c=this.body.nodes[i];if(void 0===c)return void console.error("Node not found:",i);o(c)}}},{key:"_shiftBlock",value:function(t,n){var i=this,r={};!function o(s){if(!r[s]){r[s]=!0,i.direction.shift(s,n);var a=i.hierarchical.childrenReference[s];if(void 0!==a)for(var l=0;l<a.length;l++)o(a[l])}}(t)}},{key:"_findCommonParent",value:function(t,n){var i=this,r={};return function o(s,a){var l=i.hierarchical.parentReference[a];if(void 0!==l)for(var u=0;u<l.length;u++){var c=l[u];s[c]=!0,o(s,c)}}(r,t),function o(s,a){var l=i.hierarchical.parentReference[a];if(void 0!==l)for(var u=0;u<l.length;u++){var c=l[u];if(void 0!==s[c])return{foundParent:c,withChild:a};var g=o(s,c);if(null!==g.foundParent)return g}return{foundParent:null,withChild:a}}(r,n)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new B_t(this):new j_t(this)}},{key:"_getCenterPosition",value:function(t){for(var n=1e9,i=-1e9,r=0;r<t.length;r++){var a=this.direction.getPosition(void 0!==t[r].id?t[r]:this.body.nodes[t[r]]);n=Math.min(n,a),i=Math.max(i,a)}return.5*(n+i)}}]),e}();function cbe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}qI('div.vis-network div.vis-manipulation{box-sizing:content-box;border:0 solid #d6d9d8;border-bottom:1px;background:#fff;background:-moz-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),color-stop(48%,#fcfcfc),color-stop(50%,#fafafa),color-stop(100%,#fcfcfc));background:-webkit-linear-gradient(top,#fff,#fcfcfc 48%,#fafafa 50%,#fcfcfc);background:-o-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:-ms-linear-gradient(top,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc 100%);background:linear-gradient(180deg,#fff 0,#fcfcfc 48%,#fafafa 50%,#fcfcfc);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#fcfcfc",GradientType=0);padding-top:4px;position:absolute;left:0;top:0;width:100%;height:28px}div.vis-network button.vis-edit-mode,div.vis-network div.vis-edit-mode{position:absolute;left:0;top:5px;height:30px}div.vis-network button.vis-close{position:absolute;right:0;top:0;width:30px;height:30px;background-color:transparent;background-position:20px 3px;background-repeat:no-repeat;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC");border:none;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.vis-network button.vis-close:hover{opacity:.6}div.vis-network div.vis-edit-mode button.vis-button,div.vis-network div.vis-manipulation button.vis-button{float:left;font-family:verdana;font-size:12px;border:none;box-sizing:content-box;-moz-border-radius:15px;border-radius:15px;background-color:transparent;background-position:0 0;background-repeat:no-repeat;height:24px;margin-left:10px;cursor:pointer;padding:0 8px;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div.vis-network div.vis-manipulation button.vis-button:hover{box-shadow:1px 1px 8px rgba(0,0,0,.2)}div.vis-network div.vis-manipulation button.vis-button:active{box-shadow:1px 1px 8px rgba(0,0,0,.5)}div.vis-network div.vis-manipulation button.vis-button.vis-back{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC")}div.vis-network div.vis-manipulation div.vis-none:hover{box-shadow:1px 1px 8px transparent;cursor:default}div.vis-network div.vis-manipulation div.vis-none:active{box-shadow:1px 1px 8px transparent}div.vis-network div.vis-manipulation div.vis-none{padding:0;line-height:23px}div.vis-network div.vis-manipulation div.notification{margin:2px;font-weight:700}div.vis-network div.vis-manipulation button.vis-button.vis-add{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==")}div.vis-network div.vis-edit-mode button.vis-button.vis-edit,div.vis-network div.vis-manipulation button.vis-button.vis-edit{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==")}div.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode{background-color:#fcfcfc;border:1px solid #ccc}div.vis-network div.vis-manipulation button.vis-button.vis-connect{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==")}div.vis-network div.vis-manipulation button.vis-button.vis-delete{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=")}div.vis-network div.vis-edit-mode div.vis-label,div.vis-network div.vis-manipulation div.vis-label{margin:0 0 0 23px;line-height:25px}div.vis-network div.vis-manipulation div.vis-separator-line{float:left;display:inline-block;width:1px;height:21px;background-color:#bdbdbd;margin:0 7px 0 15px}');var Y_t=function(){function e(t,n,i,r){var o,s,a=this;ft(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},bo(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",rt(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",rt(s=this._restore).call(s,this))}return ht(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,n,i){void 0!==n&&(this.options.locale=void 0!==n.locale?n.locale:i.locale,this.options.locales=void 0!==n.locales?n.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Br(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,n;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),r=this.selectionHandler.getSelectedEdgeCount(),o=i+r,s=this.options.locales[this.options.locale],a=!1;!1!==this.options.addNode&&(this._createAddNodeButton(s),a=!0),!1!==this.options.addEdge&&(!0===a?this._createSeperator(1):a=!0,this._createAddEdgeButton(s)),1===i&&"function"==typeof this.options.editNode?(!0===a?this._createSeperator(2):a=!0,this._createEditNodeButton(s)):1===r&&0===i&&!1!==this.options.editEdge&&(!0===a?this._createSeperator(3):a=!0,this._createEditEdgeButton(s)),0!==o&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===a&&this._createSeperator(4),this._createDeleteButton(s)),this._bindElementEvents(this.closeDiv,rt(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",rt(n=this.showManipulatorToolbar).call(n,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var n,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,rt(n=this.toggleEditMode).call(n,this))}this._temporaryBindEvent("click",rt(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var n=this.selectionHandler.getSelectedNodes()[0];if(void 0!==n){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==n.isCluster){var i=Br({},n.options,!1);if(i.x=n.x,i.y=n.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(r){null!=r&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(r),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,n,i,r,o;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var s,a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,rt(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",rt(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",rt(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDrag",rt(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",rt(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDragStart",rt(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==vi(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,rt(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,r,o,s,a=this.body.edges[this.edgeBeingEditedId],l=this._getNewTargetNode(a.from.x,a.from.y),u=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(l.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",rt(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",rt(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",rt(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",rt(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(g){var d=a.edgeType.findBorderPositions(g);!1===l.selected&&(l.x=d.from.x,l.y=d.from.y),!1===u.selected&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var c=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(c.from.id,c.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var n=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),r=void 0;if(n.length>0){for(var o=0;o<n.length;o++)if(!0===this.body.nodes[n[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){var s={nodes:n,edges:i};if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r(s,function(a){null!=a&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(a.edges),t.body.data.nodes.getDataSet().remove(a.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(n),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,n;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(n=this.options.locales[this.options.locale])||void 0===n?void 0:n.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,n){var i=Br({},this.options.controlNodeStyle);i.id="targetNode"+zy(),i.hidden=!1,i.physics=!1,i.x=t,i.y=n;var r=this.body.functions.createNode(i);return r.shape.boundingBox={left:t,right:t,top:n,bottom:n},r}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Tp(this.editModeDiv);var i=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,rt(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Tp(this.editModeDiv),Tp(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,n,i=function(e,t){var n=void 0!==nf&&Lg(e)||e["@@iterator"];if(!n){if(ri(e)||(n=function(l,u){var c;if(l){if("string"==typeof l)return cbe(l,u);var g=Zo(c=Object.prototype.toString.call(l)).call(c,8,-1);if("Object"===g&&l.constructor&&(g=l.constructor.name),"Map"===g||"Set"===g)return bh(l);if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return cbe(l,u)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(rf(t=this._domEventListenerCleanupQueue).call(t,0));try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(r){i.e(r)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Tp(this.manipulationDiv),Tp(this.editModeDiv),Tp(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var n,i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,rt(n=this.addNodeMode).call(n,this))}},{key:"_createAddEdgeButton",value:function(t){var n,i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,rt(n=this.addEdgeMode).call(n,this))}},{key:"_createEditNodeButton",value:function(t){var n,i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,rt(n=this.editNode).call(n,this))}},{key:"_createEditEdgeButton",value:function(t){var n,i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,rt(n=this.editEdgeMode).call(n,this))}},{key:"_createDeleteButton",value:function(t){var n,r=this._createButton("delete",this.options.rtl?"vis-delete-rtl":"vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,rt(n=this.deleteSelected).call(n,this))}},{key:"_createBackButton",value:function(t){var n,i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,rt(n=this.showManipulatorToolbar).call(n,this))}},{key:"_createButton",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+n,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=r,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,n){this.temporaryEventFunctions.push({event:t,boundFunction:n}),this.body.emitter.on(t,n)}},{key:"_temporaryBindUI",value:function(t,n){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+Ny(qr(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=n}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,n){var i=new Ly(t,{});nR(i,n),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var r=function(o){var s=o.keyCode,a=o.key;"Enter"!==a&&" "!==a&&13!==s&&32!==s||n()};t.addEventListener("keyup",r,!1),this._domEventListenerCleanupQueue.push(function(){t.removeEventListener("keyup",r,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var n;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,r=ir(n=this.body.edgeIndices).call(n,this.temporaryIds.edges[t]);-1!==r&&rf(i=this.body.edgeIndices).call(i,r,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){var s;delete this.body.nodes[this.temporaryIds.nodes[o]];var a,l=ir(s=this.body.nodeIndices).call(s,this.temporaryIds.nodes[o]);-1!==l&&rf(a=this.body.nodeIndices).call(a,l,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=bo({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var n=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var s=i.isOverlappingWith(n),a=r.isOverlappingWith(n);!0===s?(this.selectedControlNode=i,o.edgeType.from=i):!0===a&&(this.selectedControlNode=r,o.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var n=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(n);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var n=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(n),r=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}void 0!==s&&void 0!==this.selectedControlNode?!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(s.id,r.to.id):this._performEditEdge(r.from.id,s.id):(r.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=bo({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var i=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(i.x,i.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var o=this.body.functions.createEdge({id:"connectionEdge"+zy(),from:i.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(o.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var n=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(n),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,a=o.length-1;a>=0;a--){var l;if(-1===ir(l=this.temporaryIds.nodes).call(l,o[a])){s=this.body.nodes[o[a]];break}}if(t.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,n),void 0!==this.temporaryIds.nodes[0]){var u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(n.x),u.y=this.canvas._YconvertDOMtoCanvas(n.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var n=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(n),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,a=o.length-1;a>=0;a--){var l;if(-1===ir(l=this.temporaryIds.nodes).call(l,o[a])){s=this.body.nodes[o[a]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(r,s.id)),t.controlEdge={from:r,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,n),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler.generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var n=this,i={id:zy(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(r){null!=r&&"addNode"===n.inMode&&n.body.data.nodes.getDataSet().add(r),n.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,n){var i=this,r={from:t,to:n};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,function(o){null!=o&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,n){var i=this,r={id:this.edgeBeingEditedId,from:t,to:n,label:this.body.data.edges.get(this.edgeBeingEditedId).label},o=this.options.editEdge;if("object"===vi(o)&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(r,function(s){null==s||"editEdge"!==i.inMode?(i.body.edges[r.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(s),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),vt="string",ct="boolean",Oe="number",on="object",vU=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],yU={borderWidth:{number:Oe},borderWidthSelected:{number:Oe,undefined:"undefined"},brokenImage:{string:vt,undefined:"undefined"},chosen:{label:{boolean:ct,function:"function"},node:{boolean:ct,function:"function"},__type__:{object:on,boolean:ct}},color:{border:{string:vt},background:{string:vt},highlight:{border:{string:vt},background:{string:vt},__type__:{object:on,string:vt}},hover:{border:{string:vt},background:{string:vt},__type__:{object:on,string:vt}},__type__:{object:on,string:vt}},opacity:{number:Oe,undefined:"undefined"},fixed:{x:{boolean:ct},y:{boolean:ct},__type__:{object:on,boolean:ct}},font:{align:{string:vt},color:{string:vt},size:{number:Oe},face:{string:vt},background:{string:vt},strokeWidth:{number:Oe},strokeColor:{string:vt},vadjust:{number:Oe},multi:{boolean:ct,string:vt},bold:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},boldital:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},ital:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},mono:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},__type__:{object:on,string:vt}},group:{string:vt,number:Oe,undefined:"undefined"},heightConstraint:{minimum:{number:Oe},valign:{string:vt},__type__:{object:on,boolean:ct,number:Oe}},hidden:{boolean:ct},icon:{face:{string:vt},code:{string:vt},size:{number:Oe},color:{string:vt},weight:{string:vt,number:Oe},__type__:{object:on}},id:{string:vt,number:Oe},image:{selected:{string:vt,undefined:"undefined"},unselected:{string:vt,undefined:"undefined"},__type__:{object:on,string:vt}},imagePadding:{top:{number:Oe},right:{number:Oe},bottom:{number:Oe},left:{number:Oe},__type__:{object:on,number:Oe}},label:{string:vt,undefined:"undefined"},labelHighlightBold:{boolean:ct},level:{number:Oe,undefined:"undefined"},margin:{top:{number:Oe},right:{number:Oe},bottom:{number:Oe},left:{number:Oe},__type__:{object:on,number:Oe}},mass:{number:Oe},physics:{boolean:ct},scaling:{min:{number:Oe},max:{number:Oe},label:{enabled:{boolean:ct},min:{number:Oe},max:{number:Oe},maxVisible:{number:Oe},drawThreshold:{number:Oe},__type__:{object:on,boolean:ct}},customScalingFunction:{function:"function"},__type__:{object:on}},shadow:{enabled:{boolean:ct},color:{string:vt},size:{number:Oe},x:{number:Oe},y:{number:Oe},__type__:{object:on,boolean:ct}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ct,array:"array"},borderRadius:{number:Oe},interpolation:{boolean:ct},useImageSize:{boolean:ct},useBorderWithImage:{boolean:ct},coordinateOrigin:{string:["center","top-left"]},__type__:{object:on}},size:{number:Oe},title:{string:vt,dom:"dom",undefined:"undefined"},value:{number:Oe,undefined:"undefined"},widthConstraint:{minimum:{number:Oe},maximum:{number:Oe},__type__:{object:on,boolean:ct,number:Oe}},x:{number:Oe},y:{number:Oe},__type__:{object:on}},gbe={configure:{enabled:{boolean:ct},filter:{boolean:ct,string:vt,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:ct},__type__:{object:on,boolean:ct,string:vt,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:ct},scaleFactor:{number:Oe},type:{string:vU},imageHeight:{number:Oe},imageWidth:{number:Oe},src:{string:vt},__type__:{object:on,boolean:ct}},middle:{enabled:{boolean:ct},scaleFactor:{number:Oe},type:{string:vU},imageWidth:{number:Oe},imageHeight:{number:Oe},src:{string:vt},__type__:{object:on,boolean:ct}},from:{enabled:{boolean:ct},scaleFactor:{number:Oe},type:{string:vU},imageWidth:{number:Oe},imageHeight:{number:Oe},src:{string:vt},__type__:{object:on,boolean:ct}},__type__:{string:["from","to","middle"],object:on}},endPointOffset:{from:{number:Oe},to:{number:Oe},__type__:{object:on,number:Oe}},arrowStrikethrough:{boolean:ct},background:{enabled:{boolean:ct},color:{string:vt},size:{number:Oe},dashes:{boolean:ct,array:"array"},__type__:{object:on,boolean:ct}},chosen:{label:{boolean:ct,function:"function"},edge:{boolean:ct,function:"function"},__type__:{object:on,boolean:ct}},color:{color:{string:vt},highlight:{string:vt},hover:{string:vt},inherit:{string:["from","to","both"],boolean:ct},opacity:{number:Oe},__type__:{object:on,string:vt}},dashes:{boolean:ct,array:"array"},font:{color:{string:vt},size:{number:Oe},face:{string:vt},background:{string:vt},strokeWidth:{number:Oe},strokeColor:{string:vt},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Oe},multi:{boolean:ct,string:vt},bold:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},boldital:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},ital:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},mono:{color:{string:vt},size:{number:Oe},face:{string:vt},mod:{string:vt},vadjust:{number:Oe},__type__:{object:on,string:vt}},__type__:{object:on,string:vt}},hidden:{boolean:ct},hoverWidth:{function:"function",number:Oe},label:{string:vt,undefined:"undefined"},labelHighlightBold:{boolean:ct},length:{number:Oe,undefined:"undefined"},physics:{boolean:ct},scaling:{min:{number:Oe},max:{number:Oe},label:{enabled:{boolean:ct},min:{number:Oe},max:{number:Oe},maxVisible:{number:Oe},drawThreshold:{number:Oe},__type__:{object:on,boolean:ct}},customScalingFunction:{function:"function"},__type__:{object:on}},selectionWidth:{function:"function",number:Oe},selfReferenceSize:{number:Oe},selfReference:{size:{number:Oe},angle:{number:Oe},renderBehindTheNode:{boolean:ct},__type__:{object:on}},shadow:{enabled:{boolean:ct},color:{string:vt},size:{number:Oe},x:{number:Oe},y:{number:Oe},__type__:{object:on,boolean:ct}},smooth:{enabled:{boolean:ct},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Oe},forceDirection:{string:["horizontal","vertical","none"],boolean:ct},__type__:{object:on,boolean:ct}},title:{string:vt,undefined:"undefined"},width:{number:Oe},widthConstraint:{maximum:{number:Oe},__type__:{object:on,boolean:ct,number:Oe}},value:{number:Oe,undefined:"undefined"},__type__:{object:on}},groups:{useDefaultGroups:{boolean:ct},__any__:yU,__type__:{object:on}},interaction:{dragNodes:{boolean:ct},dragView:{boolean:ct},hideEdgesOnDrag:{boolean:ct},hideEdgesOnZoom:{boolean:ct},hideNodesOnDrag:{boolean:ct},hover:{boolean:ct},keyboard:{enabled:{boolean:ct},speed:{x:{number:Oe},y:{number:Oe},zoom:{number:Oe},__type__:{object:on}},bindToWindow:{boolean:ct},autoFocus:{boolean:ct},__type__:{object:on,boolean:ct}},multiselect:{boolean:ct},navigationButtons:{boolean:ct},selectable:{boolean:ct},selectConnectedEdges:{boolean:ct},hoverConnectedEdges:{boolean:ct},tooltipDelay:{number:Oe},zoomView:{boolean:ct},zoomSpeed:{number:Oe},__type__:{object:on}},layout:{randomSeed:{undefined:"undefined",number:Oe,string:vt},improvedLayout:{boolean:ct},clusterThreshold:{number:Oe},hierarchical:{enabled:{boolean:ct},levelSeparation:{number:Oe},nodeSpacing:{number:Oe},treeSpacing:{number:Oe},blockShifting:{boolean:ct},edgeMinimization:{boolean:ct},parentCentralization:{boolean:ct},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:on,boolean:ct}},__type__:{object:on}},manipulation:{enabled:{boolean:ct},initiallyActive:{boolean:ct},addNode:{boolean:ct,function:"function"},addEdge:{boolean:ct,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:on,boolean:ct,function:"function"}},deleteNode:{boolean:ct,function:"function"},deleteEdge:{boolean:ct,function:"function"},controlNodeStyle:yU,__type__:{object:on,boolean:ct}},nodes:yU,physics:{enabled:{boolean:ct},barnesHut:{theta:{number:Oe},gravitationalConstant:{number:Oe},centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:on}},forceAtlas2Based:{theta:{number:Oe},gravitationalConstant:{number:Oe},centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:on}},repulsion:{centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},nodeDistance:{number:Oe},damping:{number:Oe},__type__:{object:on}},hierarchicalRepulsion:{centralGravity:{number:Oe},springLength:{number:Oe},springConstant:{number:Oe},nodeDistance:{number:Oe},damping:{number:Oe},avoidOverlap:{number:Oe},__type__:{object:on}},maxVelocity:{number:Oe},minVelocity:{number:Oe},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ct},iterations:{number:Oe},updateInterval:{number:Oe},onlyDynamicEdges:{boolean:ct},fit:{boolean:ct},__type__:{object:on,boolean:ct}},timestep:{number:Oe},adaptiveTimestep:{boolean:ct},wind:{x:{number:Oe},y:{number:Oe},__type__:{object:on}},__type__:{object:on,boolean:ct}},autoResize:{boolean:ct},clickToUse:{boolean:ct},locale:{string:vt},locales:{__any__:{any:"any"},__type__:{object:on}},height:{string:vt},width:{string:vt},__type__:{object:on}},bU={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},dbe=function(e,t,n){var i;return!(!of(e).call(e,"physics")||!of(i=bU.physics.solver).call(i,t)||n.physics.solver===t||"wind"===t)},q_t=(Object.freeze({__proto__:null,configuratorHideOption:dbe,allOptions:gbe,configureOptions:bU}),function(){function e(){ft(this,e)}return ht(e,[{key:"getDistances",value:function(t,n,i){for(var r={},o=t.edges,s=0;s<n.length;s++){var a={};r[n[s]]=a;for(var l=0;l<n.length;l++)a[n[l]]=s==l?0:1e9}for(var u=0;u<i.length;u++){var c=o[i[u]];!0===c.connected&&void 0!==r[c.fromId]&&void 0!==r[c.toId]&&(r[c.fromId][c.toId]=1,r[c.toId][c.fromId]=1)}for(var g=n.length,d=0;d<g;d++)for(var f=n[d],h=r[f],C=0;C<g-1;C++)for(var p=n[C],I=r[p],m=C+1;m<g;m++){var y=n[m],_=r[y],N=Math.min(I[y],I[f]+h[y]);I[y]=N,_[p]=N}return r}}]),e}()),Z_t=function(){function e(t,n,i){ft(this,e),this.body=t,this.springLength=n,this.springConstant=i,this.distanceSolver=new q_t}return ht(e,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.distanceSolver.getDistances(this.body,t,n);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();for(var o=.01,s=1,a=0,l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5,c=1e9,g=0,d=0,f=0,h=0,C=0;c>o&&a<l;){a+=1;var p=this._getHighestEnergyNode(i),I=Ti(p,4);for(g=I[0],d=I[2],f=I[3],h=c=I[1],C=0;h>s&&C<u;){C+=1,this._moveNode(g,d,f);var m=this._getEnergy(g),y=Ti(m,3);h=y[0],d=y[1],f=y[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var n=this.body.nodeIndices,i=this.body.nodes,r=0,o=n[0],s=0,a=0,l=0;l<n.length;l++){var u=n[l];if(!0!==i[u].predefinedPosition||!0===i[u].isCluster&&!0===t||!0!==i[u].options.fixed.x||!0!==i[u].options.fixed.y){var c=Ti(this._getEnergy(u),3),g=c[0];r<g&&(r=g,o=u,s=c[1],a=c[2])}}return[o,r,s,a]}},{key:"_getEnergy",value:function(t){var n=Ti(this.E_sums[t],2),i=n[0],r=n[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(r,2)),i,r]}},{key:"_moveNode",value:function(t,n,i){for(var r=this.body.nodeIndices,o=this.body.nodes,s=0,a=0,l=0,u=o[t].x,c=o[t].y,g=this.K_matrix[t],d=this.L_matrix[t],f=0;f<r.length;f++){var h=r[f];if(h!==t){var C=o[h].x,p=o[h].y,I=g[h],m=d[h],y=1/Math.pow(Math.pow(u-C,2)+Math.pow(c-p,2),1.5);s+=I*(1-m*Math.pow(c-p,2)*y),a+=I*(m*(u-C)*(c-p)*y),l+=I*(1-m*Math.pow(u-C,2)*y)}}var _=(n/s+i/a)/(a/s-l/a);o[t].x+=-(a*_+n)/s,o[t].y+=_,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var n=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var r=0;r<n.length;r++){this.L_matrix[n[r]]={};for(var o=0;o<n.length;o++)this.L_matrix[n[r]][n[o]]=i*t[n[r]][n[o]]}}},{key:"_createK_matrix",value:function(t){var n=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var r=0;r<n.length;r++){this.K_matrix[n[r]]={};for(var o=0;o<n.length;o++)this.K_matrix[n[r]][n[o]]=i*Math.pow(t[n[r]][n[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,n=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var r=0;r<t.length;r++){for(var o=t[r],s=n[o].x,a=n[o].y,l=0,u=0,c=r;c<t.length;c++){var g=t[c];if(g!==o){var d=n[g].x,f=n[g].y,h=1/Math.sqrt(Math.pow(s-d,2)+Math.pow(a-f,2));this.E_matrix[o][c]=[this.K_matrix[o][g]*(s-d-this.L_matrix[o][g]*(s-d)*h),this.K_matrix[o][g]*(a-f-this.L_matrix[o][g]*(a-f)*h)],this.E_matrix[g][r]=this.E_matrix[o][c],l+=this.E_matrix[o][c][0],u+=this.E_matrix[o][c][1]}}this.E_sums[o]=[l,u]}}},{key:"_updateE_matrix",value:function(t){for(var n=this.body.nodeIndices,i=this.body.nodes,r=this.E_matrix[t],o=this.K_matrix[t],s=this.L_matrix[t],a=i[t].x,l=i[t].y,u=0,c=0,g=0;g<n.length;g++){var d=n[g];if(d!==t){var f=r[g],h=f[0],C=f[1],p=i[d].x,I=i[d].y,m=1/Math.sqrt(Math.pow(a-p,2)+Math.pow(l-I,2)),y=o[d]*(a-p-s[d]*(a-p)*m),_=o[d]*(l-I-s[d]*(l-I)*m);r[g]=[y,_],u+=y,c+=_;var N=this.E_sums[d];N[0]+=y-h,N[1]+=_-C}}this.E_sums[t]=[u,c]}}]),e}();function Kt(e,t,n){var i,r,o,s,a=this;if(!(this instanceof Kt))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Rvt,clickToUse:!1},bo(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:rt(i=this.on).call(i,this),off:rt(r=this.off).call(r,this),emit:rt(o=this.emit).call(o,this),once:rt(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Pvt(function(){return a.body.emitter.emit("_requestRedraw")}),this.groups=new byt,this.canvas=new C_t(this.body),this.selectionHandler=new L_t(this.body,this.canvas),this.interactionHandler=new v_t(this.body,this.canvas,this.selectionHandler),this.view=new A_t(this.body,this.canvas),this.renderer=new f_t(this.body,this.canvas),this.physics=new l_t(this.body),this.layoutEngine=new W_t(this.body),this.clustering=new g_t(this.body),this.manipulation=new Y_t(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new w1t(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new e_t(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Z_t(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}IIe(Kt.prototype),Kt.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){if(!0===Tvt.validate(e,gbe)&&console.error("%cErrors have been found in the supplied options object.","background: #FFeeee; color: #dd0000"),Py(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(i,r){try{var o=Ti(r.split(/[-_ /]/,2),2),s=o[0],a=o[1],l=null!=s?s.toLowerCase():null,u=null!=a?a.toUpperCase():null;if(l&&u){var c,g=l+"-"+u;if(Object.prototype.hasOwnProperty.call(i,g))return g;console.warn(em(c="Unknown variant ".concat(u," of language ")).call(c,l,"."))}if(l){var d=l;if(Object.prototype.hasOwnProperty.call(i,d))return d;console.warn("Unknown language ".concat(l))}return console.warn("Unknown locale ".concat(r,", falling back to English.")),"en"}catch(f){return console.error(f),console.warn("Unexpected error while normalizing locale ".concat(r,", falling back to English.")),"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new Dvt(this,this.body.container,bU,this.canvas.pixelRatio,dbe)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Br(n.nodes,this.nodesHandler.options),Br(n.edges,this.edgesHandler.options),Br(n.layout,this.layoutEngine.options),Br(n.interaction,this.selectionHandler.options),Br(n.interaction,this.renderer.options),Br(n.interaction,this.interactionHandler.options),Br(n.manipulation,this.manipulation.options),Br(n.physics,this.physics.options),Br(n.global,this.canvas.options),Br(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new xvt(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Kt.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)Object.prototype.hasOwnProperty.call(e,n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i],o=e[r.fromId],s=e[r.toId],a=void 0!==o&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&a&&!1===o.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(r.id)}},Kt.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")})},Kt.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=yve(e.dot);this.setData(t)}else if(e&&e.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=bve(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Kt.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&delete this.body.nodes[e];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Tp(this.body.container)},Kt.prototype._updateValueRange=function(e){var t,n=void 0,i=void 0,r=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].setValueRange(n,i,r)},Kt.prototype.isActive=function(){return!this.activator||this.activator.active},Kt.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Kt.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Kt.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Kt.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Kt.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Kt.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Kt.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Kt.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Kt.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Kt.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Kt.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Kt.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Kt.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Kt.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Kt.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Kt.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Kt.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Kt.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Kt.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Kt.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Kt.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Kt.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Kt.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Kt.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Kt.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Kt.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Kt.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Kt.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Kt.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Kt.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Kt.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Kt.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Kt.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Kt.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Kt.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Kt.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Kt.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Kt.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Kt.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Kt.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Kt.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Kt.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Kt.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Kt.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Kt.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Kt.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Kt.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Kt.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Kt.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Kt.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Kt.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Kt.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};const K_t=["net"];function X_t(e,t){1&e&&(S(0,"div",11),je(1,"img",12),S(2,"p",13),me(3,"You explored unresearched areas, no data available."),T(),T())}let Q_t=(()=>{class e{constructor(n,i,r){this.http=n,this.route=i,this.renderer=r,this.title=""}ngOnInit(){this.report_params={id:this.route.snapshot.params.id,year:this.route.snapshot.params.year},this.paramsSubscription=this.route.params.subscribe(n=>{this.report_params.id=n.id,this.report_params.year=n.year,this.network={nodes:[],edges:[]},null!=this.network_graph&&this.renderer.removeChild(this.net.nativeElement,this.network_graph),this.http.get("../../assets/networks/"+this.report_params.year+"/"+this.report_params.id+".json").subscribe(i=>{let r=i.network;this.network=r,r.nodes.length>0&&(this.title=i.title,this.network_graph=this.renderer.createElement("div"),this.network_graph.class="col-11",this.network_graph.id="network_graph",this.renderer.appendChild(this.net.nativeElement,this.network_graph),this.draw())})})}draw(){const n=new Fp(this.network.nodes),i=new Fp(this.network.edges);new Kt(document.getElementById("network_graph"),{nodes:n,edges:i},{edges:{color:{color:"#D3D3D3",highlight:"#63607a"},arrows:{to:{enabled:!0,scaleFactor:.5,type:"arrow"}},font:{face:"IBMPlexSans",size:10}},nodes:{shape:"dot",font:{face:"IBMPlexSans",size:13}},physics:{enabled:!0,solver:"forceAtlas2Based",stabilization:{enabled:!0,iterations:100,updateInterval:1e3,onlyDynamicEdges:!1,fit:!0}},layout:{improvedLayout:!1}})}}return e.\u0275fac=function(n){return new(n||e)($(Iy),$(Au),$(Do))},e.\u0275cmp=w({type:e,selectors:[["network-graph"]],viewQuery:function(n,i){if(1&n&&rc(K_t,5),2&n){let r;Mi(r=Ri())&&(i.net=r.first)}},decls:15,vars:2,consts:[[1,"wikirate-box"],[1,"container","align-content-center"],[1,"row","justify-content-md-center"],[1,"mini-title","mt-5","mb-2","col-8"],[1,"mini-text","col-8"],[1,"container","mt-4"],[1,"nav","justify-content-center"],[1,"mini-title"],[1,"row","justify-content-center"],["net",""],["id","no_data","class","mt-4 text-center",4,"ngIf"],["id","no_data",1,"mt-4","text-center"],["src","assets/moon.svg","width","60px",1,"mb-1"],[1,"mt-2","showcase-main-text"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),me(4,"Who's funding the apparel top 100 companies? "),T(),S(5,"div",4),me(6," See which investors (Navy Blue), are giving money to which apparel companies (Orange). "),T(),T(),T(),T(),S(7,"div",5),S(8,"div",6),S(9,"h6",7),me(10),T(),T(),S(11,"div",8,9),et(13,X_t,4,0,"div",10),T(),T(),je(14,"hr")),2&n&&(Me(10),jo("Where does the money go? From investors to Apparel Companies ("+i.report_params.year+")"),Me(3),He("ngIf",0==i.network.nodes.length))},directives:[Ho],styles:["#network_graph[_ngcontent-%COMP%]{height:600px;width:600px;margin:1em}"]}),e})(),J_t=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["more-data"]],decls:13,vars:0,consts:[[1,"wikirate-box"],[1,"wikirate-container","align-content-center"],[1,"row","justify-content-md-center"],[1,"showcase-title","call-to-action-title","text-center","mb-2","col-8"],[1,"mini-text","col-8"],[1,"row","mt-4"],[1,"col","d-flex","justify-content-center"],[1,"menu-button"],[1,"btn","btn-showcase","m-1","btn-lg"],[1,"bi","bi-arrow-right","ml-2"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),me(4,"We need more open data"),T(),S(5,"div",4),me(6," Despite the massive impact of their supply chains on the environment and society, the largest apparel companies in the world disclose on average 10% of key environmental, social and governance indicators. This lack of data leaves an impossible task to hold companies accountable. We need comparable, open data to create systemic change! "),T(),T(),S(7,"div",5),S(8,"div",6),S(9,"div",7),S(10,"button",8),me(11,"Start Contributing"),je(12,"i",9),T(),T(),T(),T(),T(),T())},styles:[""]}),e})(),ewt=(()=>{class e{constructor(n,i){this.route=n,this.scroll=i}ngOnInit(){this.route.params.subscribe(n=>{this.report_params={id:+n.id,year:n.year}}),this.scrollToTop()}scrollToTop(){this.scroll.scrollToPosition([0,0])}}return e.\u0275fac=function(n){return new(n||e)($(Au),$(a1))},e.\u0275cmp=w({type:e,selectors:[["dynamic-report"]],decls:8,vars:0,template:function(n,i){1&n&&(je(0,"intro"),je(1,"app-market-cap-map"),je(2,"app-esg-performance"),je(3,"app-supplier-lists-on-wikirate"),je(4,"app-number-of-suppliers-per-company"),je(5,"app-suppliers-map"),je(6,"network-graph"),je(7,"more-data"))},directives:[d8e,Zht,Qht,Jht,iCt,lCt,Q_t,J_t],styles:[""]}),e})();U(7179);const twt=["carousel"];let nwt=(()=>{class e{constructor(n){this.scroll=n,this.images=[944,1011,984].map(i=>`https://picsum.photos/id/${i}/900/500`),this.currentIndex=1}ngOnInit(){this.scrollToTop()}prev(){this.carousel.nativeElement.carousel("prev")}next(){this.carousel.nativeElement.on("slid.bs.carousel",()=>{this.carousel.nativeElement.carousel("2")})}scrollToTop(){this.scroll.scrollToPosition([0,0])}}return e.\u0275fac=function(n){return new(n||e)($(a1))},e.\u0275cmp=w({type:e,selectors:[["app-about"]],viewQuery:function(n,i){if(1&n&&rc(twt,7),2&n){let r;Mi(r=Ri())&&(i.carousel=r.first)}},decls:374,vars:0,consts:[[1,"wikirate-box"],[1,"wikirate-container"],[1,"mini-title","text-center"],[1,"row","mt-4"],[1,"col-4","text-center","mb-4"],[1,"primary-info"],[1,"secondary-info"],[1,"col-4","text-center"],[1,"wikirate-navy-box"],[1,"row"],[1,"col-md","vertical-center"],[1,"content-container"],[1,"showcase-title","text-white"],[1,"col-md"],[1,"showcase-main-text","mt-2","showcase-main-text-white"],[1,"wikirate-box","container","pt-5","pb-5"],[1,"mini-title","text-center","mt-4"],[1,"wikirate-creme-tile-box"],[1,"row","mb-5"],[1,"col-12"],[1,"showcase-title","text-center","mt-5","mb-2"],[1,"nomargin"],[1,"row","mb-5","pr-5"],[1,"col-2","vertical-center"],[1,"showcase-circle-white","d-block","rounded-circle","p-3","bg-white","shadow-lg","ml-auto"],["src","../../assets/002-invitation.png",1,"logo-img"],[1,"col-8","pl-5"],[1,"secondary-title","text-white","mt-5","mb-2"],[1,"showcase-main-text-white"],["href","https://fashionchecker.org/",1,"highlight-link"],["href","https://widgets.wikirate.org/walkfree/",1,"highlight-link"],[1,"ml-3","mr-3","bi","bi-check"],[1,"btn","btn-highlight","mt-4"],["src","../../assets/moon.svg",1,"logo-img"],[1,"col-2","vertical-center","justify-content-center"],[1,"wikirate-container","align-content-center"],[1,"row","mb-2"],[1,"col","mt-4"],[1,"showcase-title","mb-4"],[1,"row","mt-2"],[1,"col-md-6"],[1,"showcase-circle-purple","d-block","rounded-circle","p-3","bg-white","shadow-lg"],[1,"text-center","text-white","font-weight-bold"],[1,"col","ml-3"],[1,"font-weight-bold"],[1,"showcase-main-text"],[1,"showcase-circle-orange","d-block","rounded-circle","p-3","bg-white","shadow-lg"],[1,"showcase-main-tex"],[1,"wikirate-box","wikirate-container"],["id","quotes","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","mt-4","mb-4","active"],[1,"row","justify-content-md-center"],[1,"col-9"],[1,"image-box","col-3","d-flex","justify-content-center","align-items-md-center"],["src","https://dq06ugkuram52.cloudfront.net/files/3765463/22301376-medium.jpg"],[1,"showcase-main-text","font-italic"],[1,"note","mt-3"],[1,"note"],[1,"carousel-item","mt-4","mb-4"],["src","https://dq06ugkuram52.cloudfront.net/files/564260/12604027-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/5467212/20834915-medium.jpg"],["src","https://dq06ugkuram52.cloudfront.net/files/2549498/12602498-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/1831839/12602420-medium.png"],["role","button","data-slide","prev","href","#quotes",1,"carousel-control-prev","mt-4","mr-4"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["role","button","data-slide","next","href","#quotes",1,"carousel-control-next","mt-4","mr-4"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"mini-title","text-center","mb-5"],["id","partners-logos","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner-logos"],[1,"image-box","col-2","d-flex","justify-content-center","align-items-md-center","m-2"],["src","https://dq06ugkuram52.cloudfront.net/files/5661929/21257596-medium.jpg"],["src","https://dq06ugkuram52.cloudfront.net/files/8104623/26042255-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/2381047/12602618-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/3700624/14894897-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/2593569/15069279-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/2718582/12716390-medium.jpeg"],["src","https://dq06ugkuram52.cloudfront.net/files/2877060/13099154-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/5295432/20444349-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/3149947/13561221-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/801180/12603989-medium.jpg"],["src","https://dq06ugkuram52.cloudfront.net/files/5405942/20706304-medium.png"],["src","https://dq06ugkuram52.cloudfront.net/files/5406497/20709161-medium.jpg"],["src","../../assets/SBTI-logo.jpg"],["src","https://dq06ugkuram52.cloudfront.net/files/1828145/12602552-medium.png"],["src","../../assets/BHRRC-logo.png"],["alt","As You Sow","src","https://dq06ugkuram52.cloudfront.net/files/5663399/21715396-medium.jpeg"],["src","https://dq06ugkuram52.cloudfront.net/files/5340655/20553116-medium.jpg"],["alt","Accord on Fire and Building Safety in Bangladesh","src","https://dq06ugkuram52.cloudfront.net/files/5424763/20734161-medium.png"],["alt","Ethical Trading Initiative","src","https://dq06ugkuram52.cloudfront.net/files/168320/20704071-medium.jpeg"],["alt","Fair Labor Association","src","https://dq06ugkuram52.cloudfront.net/files/61327/12604154-medium.gif"],["alt","ACT Action, Collaboration, Transformation","src","https://dq06ugkuram52.cloudfront.net/files/5417974/20726868-medium.png"],["alt","ShareAction","src","https://dq06ugkuram52.cloudfront.net/files/3763173/15057247-medium.png"],["role","button","data-slide","prev","href","#partners-logos",1,"carousel-control-prev","mt-4","mr-4"],["role","button","data-slide","next","href","#partners-logos",1,"carousel-control-next","mt-4","mr-4"]],template:function(n,i){1&n&&(je(0,"hr"),S(1,"div",0),S(2,"div",1),S(3,"p",2),me(4," The project in numbers: "),T(),S(5,"div",3),S(6,"div",4),S(7,"div",5),me(8,"31K+"),T(),S(9,"div",6),me(10,"DATA POINTS"),T(),T(),S(11,"div",7),S(12,"div",5),me(13,"171"),T(),S(14,"div",6),me(15,"METRICS"),T(),T(),S(16,"div",7),S(17,"div",5),me(18,"30K+"),T(),S(19,"div",6),me(20,"CORPORATE RELATIONSHIPS"),T(),T(),T(),T(),T(),S(21,"div",8),S(22,"div",1),S(23,"div",9),S(24,"div",10),S(25,"div",11),S(26,"div",12),me(27," Create your own powerful data ecosystem that paints a picture "),T(),T(),T(),S(28,"div",13),S(29,"div",14),S(30,"p"),me(31," Access to reliable and well-presented companies' ESG data or supply chain information is essential for those interested in improving the world, but often it's not available, too expensive or difficult to access. "),T(),S(32,"p"),me(33," We made the apparel top 100 ecosystem to show Wikirate.org's potential to use data to create a sector snapshot that is valuable to multiple audiences. With these insights, we can see how companies' operations help or harm the world. "),T(),S(34,"p"),me(35,"This research came together with the support of the WikiRate community."),T(),T(),T(),T(),T(),T(),S(36,"div",15),S(37,"p",16),me(38," The Apparel 100 community in numbers: "),T(),S(39,"div",3),S(40,"div",4),S(41,"div",5),me(42,"335"),T(),S(43,"div",6),me(44,"RESEARCHERS, STUDENTS, VOLUNTEERS"),T(),T(),S(45,"div",7),S(46,"div",5),me(47,"10"),T(),S(48,"div",6),me(49,"UNIVERSITIES"),T(),T(),S(50,"div",7),S(51,"div",5),me(52,"17"),T(),S(53,"div",6),me(54,"NGOs"),T(),T(),T(),T(),S(55,"div",17),S(56,"div",1),S(57,"div",18),S(58,"div",19),S(59,"div",20),me(60,"With our committed community we can create your open data ecosystem"),T(),T(),T(),T(),je(61,"hr",21),T(),S(62,"div",8),S(63,"div",1),S(64,"div",22),S(65,"div",23),S(66,"div",24),je(67,"img",25),T(),T(),S(68,"div",26),S(69,"div",27),me(70,"Is your organization interested in discovering more about open data ecosystems? "),T(),S(71,"div",28),S(72,"p"),me(73,"We've developed data solutions for "),S(74,"a",29),me(75,"Clean Clothes Campaign"),T(),me(76," and "),S(77,"a",30),me(78,"Walk Free"),T(),me(79,". Contact us to: "),T(),S(80,"p"),je(81,"i",31),me(82,"Discover more about our ratings and metrics system"),T(),S(83,"p"),je(84,"i",31),me(85,"Learn how we can help you create a similar website or analysis"),T(),S(86,"p"),je(87,"i",31),me(88,"See our platform in action"),T(),T(),T(),S(89,"div",23),S(90,"button",32),me(91,"Learn more"),T(),T(),T(),S(92,"div",22),S(93,"div",23),S(94,"div",24),je(95,"img",33),T(),T(),S(96,"div",26),S(97,"div",27),me(98,"Are you an academic or researcher interested in using WikiRate? "),T(),S(99,"div",28),S(100,"p"),me(101,"With WikiRate you can:"),T(),S(102,"p"),je(103,"i",31),me(104,"Integrate practical sustainability research into Guide students' curriculum"),T(),S(105,"p"),je(106,"i",31),me(107,"Join a growing, global community of researchers"),T(),S(108,"p"),je(109,"i",31),me(110,"Create and lead your own research project"),T(),T(),T(),S(111,"div",34),S(112,"button",32),me(113,"Learn more"),T(),T(),T(),T(),T(),S(114,"div",0),S(115,"div",35),S(116,"div",36),S(117,"div",37),S(118,"div",38),me(119,"How we transform data into your open data ecosystems"),T(),T(),T(),S(120,"div",39),je(121,"div",40),S(122,"div",40),S(123,"div",9),S(124,"div",41),S(125,"h2",42),me(126,"01"),T(),T(),S(127,"div",43),S(128,"h5",44),me(129,"Scoping"),T(),S(130,"p",45),me(131,"We look for exciting research topics to analyze and partners to work with."),T(),T(),T(),T(),T(),S(132,"div",39),S(133,"div",40),S(134,"div",9),S(135,"div",41),S(136,"h2",42),me(137,"02"),T(),T(),S(138,"div",43),S(139,"h5",44),me(140,"Mapping to WikiRate"),T(),S(141,"p",45),me(142,"Together with partners, we map their research methodologies to the WikiRate platform and system, laying the foundation for opening up and scaling research."),T(),T(),T(),T(),je(143,"div",40),T(),S(144,"div",39),je(145,"div",40),S(146,"div",40),S(147,"div",9),S(148,"div",46),S(149,"h2",42),me(150,"03"),T(),T(),S(151,"div",43),S(152,"h5",44),me(153,"Data Aggregation"),T(),S(154,"p",45),me(155,"Our NGO and university partners work alongside volunteers and students to find and add new data."),T(),T(),T(),T(),T(),S(156,"div",39),S(157,"div",40),S(158,"div",39),S(159,"div",46),S(160,"h2",42),me(161,"04"),T(),T(),S(162,"div",43),S(163,"h5",44),me(164,"Data Polishing"),T(),S(165,"p",45),me(166,"We review the data and metrics for quality and consistency. "),T(),T(),T(),T(),je(167,"div",40),T(),S(168,"div",39),je(169,"div",40),S(170,"div",40),S(171,"div",9),S(172,"div",41),S(173,"h2",42),me(174,"05"),T(),T(),S(175,"div",43),S(176,"h5",44),me(177,"Insights Presented"),T(),S(178,"p",47),me(179,"We create insights that help partners and companies assess current disclosure performance and identify where more disclosure is needed. "),T(),T(),T(),T(),T(),S(180,"div",39),S(181,"div",40),S(182,"div",9),S(183,"div",41),S(184,"h2",42),me(185,"06"),T(),T(),S(186,"div",43),S(187,"h5",44),me(188,"Scaling and Replication"),T(),S(189,"p",45),me(190,"With the data and methodology stored on the WikiRate platform, the research can be scaled and reanalyzed for richer results. "),T(),T(),T(),T(),je(191,"div",40),T(),T(),je(192,"br"),T(),je(193,"hr"),S(194,"div",48),S(195,"div",49),S(196,"div",50),S(197,"div",51),S(198,"div",52),S(199,"div",53),S(200,"div",9),S(201,"div",54),je(202,"img",55),T(),S(203,"div",53),S(204,"div",56),me(205,"\u201cWe believe in collaborating to improve the fashion industry and are delighted to be continuing our partnership with WikiRate into 2022. Using the WikiRate platform to host FTI research has made our work more accessible and impactful across a range of stakeholders who use our data to enable their activism and research.\u201d "),T(),S(206,"div",57),S(207,"b"),me(208," Fashion Revolution "),T(),T(),je(209,"div",58),T(),T(),T(),T(),T(),S(210,"div",59),S(211,"div",52),S(212,"div",53),S(213,"div",9),S(214,"div",54),je(215,"img",60),T(),S(216,"div",53),S(217,"div",56),me(218,"\u201cWikiRate has proven an invaluable partner for our Fashion Checker campaign. The platform\u2019s sophisticated functionalities and open data approach has given us the flexibility we needed to bring our data to the public so that it can be used by advocates to create real change.\u201d "),T(),S(219,"div",57),S(220,"b"),me(221," Anne Bienias "),T(),T(),S(222,"div",58),me(223,"Clean Clothes Campaign"),T(),T(),T(),T(),T(),T(),S(224,"div",59),S(225,"div",52),S(226,"div",53),S(227,"div",9),S(228,"div",54),je(229,"img",61),T(),S(230,"div",53),S(231,"div",56),me(232,"\u201cThis collaborative project was a great opportunity to further develop our research skills which in turn allowed us to be more critical and analytical of fashion labels. Working with WikiRate made us understand the importance of finding the right and accurate information that backs up or contradicts the image that a fashion label is trying to portray\u201d\u201d "),T(),S(233,"div",57),S(234,"b"),me(235," Student of Akademie Mode & Design (AMD) Berlin "),T(),T(),je(236,"div",58),T(),T(),T(),T(),T(),S(237,"div",59),S(238,"div",52),S(239,"div",53),S(240,"div",9),S(241,"div",54),je(242,"img",62),T(),S(243,"div",53),S(244,"div",56),me(245,"\u201cWikiRate provides the opportunity for students to get a real-life experience with CSR, which helps develop their social awareness, problem-solving and critical thinking skills\u201d "),T(),S(246,"div",57),S(247,"b"),me(248," Dr. Stephanie Perkiss "),T(),T(),S(249,"div",58),me(250,"University of Wollongong, Australia"),T(),T(),T(),T(),T(),T(),S(251,"div",59),S(252,"div",52),S(253,"div",53),S(254,"div",9),S(255,"div",54),je(256,"img",63),T(),S(257,"div",53),S(258,"div",56),me(259,"\u201cWe've worked with the WikiRate for the last five years to scale our research on modern slavery. The WikiRate team maintains our methodology on their platform and each year coordinates hundreds of university students to contribute new data for analysis that we use to improve legislation to end modern slavery.\u201d "),T(),S(260,"div",57),S(261,"b"),me(262," Katharine Bryant "),T(),T(),S(263,"div",58),me(264,"Walk Free Initiative"),T(),T(),T(),T(),T(),T(),T(),S(265,"a",64),je(266,"span",65),S(267,"span",66),me(268,"Previous"),T(),T(),S(269,"a",67),je(270,"span",68),S(271,"span",66),me(272,"Next"),T(),T(),T(),T(),je(273,"hr"),S(274,"div",48),S(275,"p",69),me(276," Analysis made possible by data and metrics from the following organizations: "),T(),S(277,"div",70),S(278,"div",71),S(279,"div",51),S(280,"div",52),S(281,"div",53),S(282,"div",52),S(283,"div",72),je(284,"img",55),T(),S(285,"div",72),je(286,"img",73),T(),S(287,"div",72),je(288,"img",60),T(),S(289,"div",72),je(290,"img",63),T(),T(),T(),T(),T(),S(291,"div",59),S(292,"div",52),S(293,"div",53),S(294,"div",52),S(295,"div",72),je(296,"img",74),T(),S(297,"div",72),je(298,"img",62),T(),S(299,"div",72),je(300,"img",61),T(),S(301,"div",72),je(302,"img",75),T(),T(),T(),T(),T(),S(303,"div",59),S(304,"div",52),S(305,"div",53),S(306,"div",52),S(307,"div",72),je(308,"img",76),T(),S(309,"div",72),je(310,"img",77),T(),S(311,"div",72),je(312,"img",78),T(),S(313,"div",72),je(314,"img",79),T(),T(),T(),T(),T(),S(315,"div",59),S(316,"div",52),S(317,"div",53),S(318,"div",52),S(319,"div",72),je(320,"img",80),T(),S(321,"div",72),je(322,"img",78),T(),S(323,"div",72),je(324,"img",81),T(),S(325,"div",72),je(326,"img",82),T(),T(),T(),T(),T(),S(327,"div",59),S(328,"div",52),S(329,"div",53),S(330,"div",52),S(331,"div",52),S(332,"div",72),je(333,"img",83),T(),S(334,"div",72),je(335,"img",84),T(),S(336,"div",72),je(337,"img",85),T(),S(338,"div",72),je(339,"img",86),T(),T(),T(),T(),T(),T(),S(340,"div",59),S(341,"div",52),S(342,"div",53),S(343,"div",52),S(344,"div",52),S(345,"div",72),je(346,"img",87),T(),S(347,"div",72),je(348,"img",88),T(),S(349,"div",72),je(350,"img",89),T(),S(351,"div",72),je(352,"img",90),T(),T(),T(),T(),T(),T(),S(353,"div",59),S(354,"div",52),S(355,"div",53),S(356,"div",52),S(357,"div",52),S(358,"div",72),je(359,"img",91),T(),S(360,"div",72),je(361,"img",92),T(),S(362,"div",72),je(363,"img",93),T(),S(364,"div",72),je(365,"img",94),T(),T(),T(),T(),T(),T(),T(),S(366,"a",95),je(367,"span",65),S(368,"span",66),me(369,"Previous"),T(),T(),S(370,"a",96),je(371,"span",68),S(372,"span",66),me(373,"Next"),T(),T(),T(),T())},styles:[".img[_ngcontent-%COMP%]{width:250px;height:250px;min-width:250px;min-height:250px}.image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto}.roadmap[_ngcontent-%COMP%]{height:500px}.showcase-circle-purple[_ngcontent-%COMP%]{width:4.25rem;height:4.25rem;background-color:#484c9d!important}.showcase-circle-orange[_ngcontent-%COMP%]{width:4.25rem;height:4.25rem;background-color:#f7733d!important}.showcase-circle-white[_ngcontent-%COMP%]{height:5.25rem;width:5.25rem;position:relative}"]}),e})(),fbe=(()=>{class e{constructor(n){this.apparelService=n}resolve(n,i){return this.apparelService.getCompany(+n.params.id)}}return e.\u0275fac=function(n){return new(n||e)(ke(S0))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const iwt=[{path:"",redirectTo:"apparel_top_100/reports/0/latest",pathMatch:"full"},{path:"apparel_top_100/reports/:id/:year",component:ewt,resolve:{company:fbe}},{path:"apparel_top_100/about",component:nwt},{path:"**",redirectTo:"/apparel_top_100/reports/0/latest",pathMatch:"full"}];let rwt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:[{provide:vA,useClass:a3}],imports:[[k5,r2,t5.forRoot(iwt)],t5]}),e})(),owt=(()=>{class e{constructor(n,i){this.el=n,this.renderer=i,this.setTitle=!1}ngOnChanges(n){if(this.content){if(this.setTitle&&this.renderer.setProperty(this.el.nativeElement,"title",this.content),!this.searchedWord||!this.searchedWord.length||!this.classToApply)return void this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.content);this.renderer.setProperty(this.el.nativeElement,"innerHTML",this.getFormattedText())}}getFormattedText(){const n=new RegExp(`(${this.searchedWord})`,"gi");return this.content.replace(n,`<span class="${this.classToApply}">$1</span>`)}}return e.\u0275fac=function(n){return new(n||e)($(ni),$(Do))},e.\u0275dir=de({type:e,selectors:[["","textHighlight",""]],inputs:{searchedWord:"searchedWord",content:"content",classToApply:"classToApply",setTitle:"setTitle"},features:[mi]}),e})(),swt=(()=>{class e{transform(n,i){return n?i?(i=i.toLocaleLowerCase(),n.filter(r=>r.name.toLocaleLowerCase().includes(i))):n:[]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ie({name:"companyFilter",type:e,pure:!0}),e})();const awt=["search_text"];function lwt(e,t){if(1&e){const n=vr();S(0,"a",27),Ut("click",function(){const o=ui(n).$implicit,s=st();return s.setValue(o),s.navigateToCompany(o)}),me(1),T()}if(2&e){const n=t.$implicit,i=st();He("id",n.id)("searchedWord",i.searchText)("content",n.name)("classToApply","font-weight-bold")("setTitle",!0),Me(1),Ya(" ",n.name," ")}}let uwt=(()=>{class e{constructor(n,i,r){this.route=n,this.router=i,this.apparelService=r,this.exploreMore=!1,this.apparelTop100=[],this.selectedYear="latest",this.apparelTop100=r.getCompanies()}ngOnInit(){this.report_params={id:0,year:"latest"},this.apparelService.exploreMore.subscribe(n=>{this.exploreMore=n})}setValue(n){this.search_text.nativeElement.value=n.name,this.report_params.id=n.id,null===n&&(this.search_text.nativeElement.value="overview",this.report_params.id=0)}navigateToYear(n){let i=n.target.value;i&&(null===this.report_params.id&&(this.report_params.id=0),this.router.navigate(["/apparel_top_100/reports/"+this.report_params.id+"/"+i]))}navigateToCompany(n){this.router.navigate(["/apparel_top_100/reports/"+n.id+"/"+this.report_params.year])}}return e.\u0275fac=function(n){return new(n||e)($(Au),$(Ja),$(S0))},e.\u0275cmp=w({type:e,selectors:[["header-component"]],viewQuery:function(n,i){if(1&n&&rc(awt,5),2&n){let r;Mi(r=Ri())&&(i.search_text=r.first)}},decls:35,vars:10,consts:[[1,"wikirate-box","bg-white","sticky-top"],[1,"container"],[1,"navbar","sticky-top","background-white","drop-shadow","nav","navbar-light","navbar-expand"],["routerLink","apparel_top_100/reports/0/2020",1,"navbar-brand","title","mr-4"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLink","apparel_top_100/about",1,"nav-link","ml-4","mr-4"],["href","#",1,"nav-link","ml-4","mr-4"],[1,"bi","bi-arrow-up-right"],[1,"navbar-collapse","collapse"],[1,"form-inline","ml-auto","m-2"],[1,"input-group"],["id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","type","text","placeholder","Search for Company","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange"],["search_text",""],[1,"input-group-append"],["type","submit",1,"btn-search","btn-outline-dark"],[1,"bi","bi-search"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","textHighlight","",3,"id","searchedWord","content","classToApply","setTitle","click",4,"ngFor","ngForOf"],[1,"m-2"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","latest","selected",""],["value","2020"],["value","2019"],["value","2018"],["textHighlight","",1,"dropdown-item",3,"id","searchedWord","content","classToApply","setTitle","click"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"nav",2),S(3,"a",3),me(4,"Apparel 100"),T(),S(5,"button",4),je(6,"span",5),T(),S(7,"div",6),S(8,"div",7),S(9,"a",8),me(10,"ABOUT"),T(),S(11,"a",9),me(12,"SHARE "),je(13,"i",10),T(),T(),T(),S(14,"div",11),S(15,"div",12),S(16,"div",13),S(17,"input",14,15),Ut("ngModelChange",function(o){return i.searchText=o}),T(),S(19,"div",16),S(20,"button",17),je(21,"i",18),T(),T(),S(22,"div",19),et(23,lwt,2,6,"a",20),Rf(24,"companyFilter"),T(),T(),T(),S(25,"div",21),S(26,"select",22),Ut("ngModelChange",function(o){return i.report_params.year=o})("change",function(o){return i.navigateToYear(o)}),S(27,"option",23),me(28,"latest"),T(),S(29,"option",24),me(30,"2020"),T(),S(31,"option",25),me(32,"2019"),T(),S(33,"option",26),me(34,"2018"),T(),T(),T(),T(),T(),T(),T()),2&n&&(Me(16),$n("highlight",i.exploreMore),Me(1),He("ngModel",i.searchText),Me(6),He("ngForOf",CA(24,7,i.apparelTop100,i.searchText)),Me(3),$n("highlight",i.exploreMore),He("ngModel",i.report_params.year))},directives:[Z2,E2,S2,_Q,y5,Cu,B2,x5,S5,owt],pipes:[swt],styles:["a[_ngcontent-%COMP%]{color:#000}hr[_ngcontent-%COMP%]{margin:.5em}.nav[_ngcontent-%COMP%]{margin-top:.5em;background:white}.title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:0em;text-align:left;color:#34343b!important}.dropdown-menu[_ngcontent-%COMP%]{max-height:280px;overflow-y:auto}"]}),e})(),cwt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["footer"]],decls:29,vars:0,consts:[[1,"wikirate-creme-purple-box"],[1,"wikirate-container"],[1,"row","text-center"],[1,"col-12"],[1,"row","justify-content-center","mb-3"],[1,"tiny-text","font-weight-bold"],[1,"row","justify-content-center"],["src","assets/Wikirate%20Logo.svg",1,"col-2"],[1,"col-sm-7","mini-text","mt-3","justify-content-center"],["href","https://wikirate.org",1,"link-primary"],[1,"wikirate-purple-box"],[1,"footer-container"],[1,"row"],[1,"col-9"],[1,"note","mt-3","text-light-white"],[1,"col-3","navbar","drop-shadow","nav","navbar-light","navbar-expand"],[1,"navbar-nav"],["href","#",1,"nav-link","text-light-white"],[1,"bi","bi-arrow-up-right"]],template:function(n,i){1&n&&(S(0,"div",0),S(1,"div",1),S(2,"div",2),S(3,"div",3),S(4,"div",4),S(5,"div",5),me(6,"Powered by "),T(),T(),S(7,"div",6),je(8,"img",7),T(),S(9,"div",6),S(10,"div",8),S(11,"a",9),me(12,"WikiRate.org"),T(),me(13," is an open data platform that brings corporate ESG data together in one place, making it accessible, comparable, and free for all. "),T(),T(),T(),T(),T(),T(),S(14,"div",10),S(15,"div",11),S(16,"div",12),S(17,"div",13),S(18,"div",14),me(19," Copyright \xa9 2021 Wikirate.org All rights reserved "),T(),T(),S(20,"nav",15),S(21,"div",16),S(22,"a",17),me(23,"Home"),T(),S(24,"a",17),me(25,"About"),T(),S(26,"a",17),me(27,"Share "),je(28,"i",18),T(),T(),T(),T(),T(),T())},directives:[Z2],styles:[".tiny-text[_ngcontent-%COMP%]{font-size:11px;color:#1d1e3f}.nopadding[_ngcontent-%COMP%]{padding:0!important}.text-light-white[_ngcontent-%COMP%]{color:#f7f7f8!important}"]}),e})();function gwt(e,t){if(1&e){const n=vr();S(0,"div",2),Ut("click",function(){return ui(n),st().scrollToTop()}),S(1,"button",3),Ut("click",function(){return ui(n),st().scrollToTop()}),je(2,"i",4),T(),T()}}let dwt=(()=>{class e{constructor(n){this.scroll=n,this.pageYoffset=0}onScroll(n){this.pageYoffset=window.pageYOffset}scrollToTop(){this.scroll.scrollToPosition([0,0])}}return e.\u0275fac=function(n){return new(n||e)($(a1))},e.\u0275cmp=w({type:e,selectors:[["app-root"]],hostBindings:function(n,i){1&n&&Ut("scroll",function(o){return i.onScroll(o)},!1,$G)},decls:6,vars:1,consts:[["report",""],["class","scroll-to-top show-scrollTop",3,"click",4,"ngIf"],[1,"scroll-to-top","show-scrollTop",3,"click"],[1,"btn","btn-showcase","btn-circle",3,"click"],[1,"bi","bi-chevron-up"]],template:function(n,i){1&n&&(S(0,"div",null,0),je(2,"header-component"),je(3,"router-outlet"),et(4,gwt,3,0,"div",1),T(),je(5,"footer")),2&n&&(Me(4),He("ngIf",i.pageYoffset>0))},directives:[uwt,J3,Ho,cwt],styles:[".scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;opacity:0;transition:all .2s ease-in-out}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}"]}),e})();function hbe(){return"undefined"!=typeof window&&void 0!==window.document}function _U(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jp(e){switch(e.length){case 0:return new D0;case 1:return e[0];default:return new UX(e)}}function Cbe(e,t,n,i,r={},o={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(c=>{const g=c.offset,d=g==l,f=d&&u||{};Object.keys(c).forEach(h=>{let C=h,p=c[h];if("offset"!==h)switch(C=t.normalizePropertyName(C,s),p){case"!":p=r[h];break;case zf:p=o[h];break;default:p=t.normalizeStyleValue(h,C,p,s)}f[C]=p}),d||a.push(f),u=f,l=g}),s.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${s.join(c)}`)}return a}function wU(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&EU(n,"start",e)));break;case"done":e.onDone(()=>i(n&&EU(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&EU(n,"destroy",e)))}}function EU(e,t,n){const i=n.totalTime,o=xU(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),s=e._data;return null!=s&&(o._data=s),o}function xU(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ru(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function pbe(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let DU=(e,t)=>!1,SU=(e,t)=>!1,Abe=(e,t,n)=>[];const Ibe=_U();(Ibe||"undefined"!=typeof Element)&&(DU=hbe()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),SU=(()=>{if(Ibe||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(n,i)=>t.apply(n,[i]):SU}})(),Abe=(e,t,n)=>{let i=[];if(n){const r=e.querySelectorAll(t);for(let o=0;o<r.length;o++)i.push(r[o])}else{const r=e.querySelector(t);r&&i.push(r)}return i});let fm=null,mbe=!1;function TU(e){fm||(fm=("undefined"!=typeof document?document.body:null)||{},mbe=!!fm.style&&"WebkitAppearance"in fm.style);let t=!0;return fm.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in fm.style,!t&&mbe&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in fm.style)),t}const kU=SU,NU=DU,OU=Abe;function vbe(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let ybe=(()=>{class e{validateStyleProperty(n){return TU(n)}matchesElement(n,i){return kU(n,i)}containsElement(n,i){return NU(n,i)}query(n,i,r){return OU(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,a=[],l){return new D0(r,o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})(),MU=(()=>{class e{}return e.NOOP=new ybe,e})();const RU="ng-enter",gR="ng-leave",dR="ng-trigger",fR=".ng-trigger",_be="ng-animating",FU=".ng-animating";function hm(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:PU(parseFloat(t[1]),t[2])}function PU(e,t){switch(t){case"s":return 1e3*e;default:return e}}function hR(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=PU(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=PU(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:o,easing:s}}(e,t,n)}function Uy(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Vp(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else Uy(e,n);return n}function Ebe(e,t,n){return n?t+":"+n+";":""}function xbe(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Ebe(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Ebe(0,vwt(n),e.style[n]));e.setAttribute("style",t)}function lf(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=BU(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),_U()&&xbe(e))}function Cm(e,t){e.style&&(Object.keys(t).forEach(n=>{const i=BU(n);e.style[i]=""}),_U()&&xbe(e))}function gx(e){return Array.isArray(e)?1==e.length?e[0]:zX(e):e}const LU=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dbe(e){let t=[];if("string"==typeof e){let n;for(;n=LU.exec(e);)t.push(n[1]);LU.lastIndex=0}return t}function CR(e,t,n){const i=e.toString(),r=i.replace(LU,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(n.push(`Please provide a value for the animation param ${s}`),a=""),a.toString()});return r==i?e:r}function pR(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const mwt=/-+([a-z0-9])/g;function BU(e){return e.replace(mwt,(...t)=>t[1].toUpperCase())}function vwt(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sbe(e,t){return 0===e||0===t}function Tbe(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=n[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=jU(e,l)})}}return t}function Fu(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function jU(e,t){return window.getComputedStyle(e)[t]}function ywt(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function(e,t,n){if(":"==e[0]){const l=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],o=i[2],s=i[3];t.push(kbe(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(kbe(s,r))}(i,n,t)):n.push(e),n}const IR=new Set(["true","1"]),mR=new Set(["false","0"]);function kbe(e,t){const n=IR.has(e)||mR.has(e),i=IR.has(t)||mR.has(t);return(r,o)=>{let s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?IR.has(e):mR.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?IR.has(t):mR.has(t)),s&&a}}const wwt=new RegExp("s*:selfs*,?","g");function VU(e,t,n){return new Ewt(e).build(t,n)}class Ewt{constructor(t){this._driver=t}build(t,n){const i=new Swt(n);return this._resetContextStyleTimingState(i),Fu(this,gx(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,n))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,s.push(l)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,n){const i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};if(i.styles.forEach(a=>{if(vR(a)){const l=a;Object.keys(l).forEach(u=>{Dbe(l[u]).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}}),o.size){const a=pR(o.values());n.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const i=Fu(this,gx(t.animation),n);return{type:1,matchers:ywt(t.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:pm(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(i=>Fu(this,i,n)),options:pm(t.options)}}visitGroup(t,n){const i=n.currentTime;let r=0;const o=t.steps.map(s=>{n.currentTime=i;const a=Fu(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:o,options:pm(t.options)}}visitAnimate(t,n){const i=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return zU(hR(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=zU(0,0,"");return o.dynamic=!0,o.strValue=i,o}return n=n||hR(i,t),zU(n.duration,n.delay,n.easing)}(t.timings,n.errors);n.currentAnimateTimings=i;let r,o=t.styles?t.styles:uc({});if(5==o.type)r=this.visitKeyframes(o,n);else{let s=t.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=uc(u)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,n){const i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==zf?i.push(s):n.errors.push(`The provided style string value ${s} is not allowed.`):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(vR(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let u in a)if(a[u].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void n.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=n.collectedStyles[n.currentQuerySelector],u=l[a];let c=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(n.errors.push(`The CSS property "${a}" that exists between the times of "${u.startTime}ms" and "${u.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),c=!1),o=u.startTime),c&&(l[a]={startTime:o,endTime:r}),n.options&&function(e,t,n){const i=t.params||{},r=Dbe(e);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(s[a],n.options,n.errors)})})}visitKeyframes(t,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const s=[];let a=!1,l=!1,u=0;const c=t.steps.map(I=>{const m=this._makeStyleAst(I,n);let y=null!=m.offset?m.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(vR(n)&&n.hasOwnProperty("offset")){const i=n;t=parseFloat(i.offset),delete i.offset}});else if(vR(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(m.styles),_=0;return null!=y&&(o++,_=m.offset=y),l=l||_<0||_>1,a=a||_<u,u=_,s.push(_),m});l&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&n.errors.push("Please ensure that all keyframe offsets are in order");const g=t.steps.length;let d=0;o>0&&o<g?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(d=1/(g-1));const f=g-1,h=n.currentTime,C=n.currentAnimateTimings,p=C.duration;return c.forEach((I,m)=>{const y=d>0?m==f?1:d*m:s[m],_=y*p;n.currentTime=h+C.delay+_,C.duration=_,this._validateStyleAst(I,n),I.offset=y,i.styles.push(I)}),i}visitReference(t,n){return{type:8,animation:Fu(this,gx(t.animation),n),options:pm(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:pm(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:pm(t.options)}}visitQuery(t,n){const i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;const[o,s]=function(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(wwt,"")),[e=e.replace(/@\*/g,fR).replace(/@\w+/g,n=>fR+"-"+n.substr(1)).replace(/:animating/g,FU),t]}(t.selector);n.currentQuerySelector=i.length?i+" "+o:o,Ru(n.collectedStyles,n.currentQuerySelector,{});const a=Fu(this,gx(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:pm(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:hR(t.timings,n.errors,!0);return{type:12,animation:Fu(this,gx(t.animation),n),timings:i,options:null}}}class Swt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vR(e){return!Array.isArray(e)&&"object"==typeof e}function pm(e){return e?(e=Uy(e)).params&&(e.params=function(e){return e?Uy(e):null}(e.params)):e={},e}function zU(e,t,n){return{duration:e,delay:t,easing:n}}function HU(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class yR{constructor(){this._map=new Map}consume(t){let n=this._map.get(t);return n?this._map.delete(t):n=[],n}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Mwt=new RegExp(":enter","g"),Fwt=new RegExp(":leave","g");function UU(e,t,n,i,r,o={},s={},a,l,u=[]){return(new Pwt).buildKeyframes(e,t,n,i,r,o,s,a,l,u)}class Pwt{buildKeyframes(t,n,i,r,o,s,a,l,u,c=[]){u=u||new yR;const g=new GU(t,n,u,r,o,c,[]);g.options=l,g.currentTimeline.setStyles([s],null,g.errors,l),Fu(this,i,g);const d=g.timelines.filter(f=>f.containsAnimation());if(d.length&&Object.keys(a).length){const f=d[d.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,g.errors,l)}return d.length?d.map(f=>f.buildKeyframes()):[HU(n,[],[],[],0,0,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const i=n.subInstructions.consume(n.element);if(i){const r=n.createSubContext(t.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=t}visitAnimateRef(t,n){const i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_visitSubInstructions(t,n,i){let o=n.currentTimeline.currentTime;const s=null!=i.duration?hm(i.duration):null,a=null!=i.delay?hm(i.delay):null;return 0!==s&&t.forEach(l=>{const u=n.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,n){n.updateOptions(t.options,!0),Fu(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const i=n.subContextCount;let r=n;const o=t.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bR);const s=hm(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Fu(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const i=[];let r=n.currentTimeline.currentTime;const o=t.options&&t.options.delay?hm(t.options.delay):0;t.steps.forEach(s=>{const a=n.createSubContext(t.options);o&&a.delayNextStep(o),Fu(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const i=t.strValue;return hR(n.params?CR(i,n.params,n.errors):i,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=t}visitQuery(t,n){const i=n.currentTimeline.currentTime,r=t.options||{},o=r.delay?hm(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=bR);let s=i;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{n.currentQueryIndex=c;const g=n.createSubContext(t.options,u);o&&g.delayNextStep(o),u===n.element&&(l=g.currentTimeline),Fu(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,g.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const i=n.parentContext,r=n.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1);let l=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=n.currentTimeline;l&&c.delayNextStep(l);const g=c.currentTime;Fu(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const bR={};class GU{constructor(t,n,i,r,o,s,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _R(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=hm(i.duration)),null!=i.delay&&(r.delay=hm(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=CR(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){const r=n||this.element,o=new GU(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=bR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){const r={duration:null!=n?n:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Lwt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Mwt,"."+this._enterClassName)).replace(Fwt,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),a}}class _R{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new _R(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles[t]=n,this._globalTimelineStyles[t]=n,this._styleSummary[t]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||zf,this._currentKeyframe[n]=zf}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&(this._previousKeyframe.easing=n);const o=r&&r.params||{},s=function(e,t){const n={};let i;return e.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{n[o]=zf})):Vp(r,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=CR(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:zf),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const n=this._localTimelineStyles[t];this._pendingStyles[t]=n,this._updateStyle(t,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(n=>{const i=this._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Vp(a,!0);Object.keys(u).forEach(c=>{const g=u[c];"!"==g?t.add(c):g==zf&&n.add(c)}),i||(u.offset=l/this.duration),r.push(u)});const o=t.size?pR(t.values()):[],s=n.size?pR(n.values()):[];if(i){const a=r[0],l=Uy(a);a.offset=0,l.offset=1,r=[a,l]}return HU(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Lwt extends _R{constructor(t,n,i,r,o,s,a=!1){super(t,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],s=i+n,a=n/s,l=Vp(t[0],!1);l.offset=0,o.push(l);const u=Vp(t[0],!1);u.offset=Mbe(a),o.push(u);const c=t.length-1;for(let g=1;g<=c;g++){let d=Vp(t[g],!1);d.offset=Mbe((n+d.offset*i)/s),o.push(d)}i=s,n=0,r="",t=o}return HU(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function Mbe(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class WU{}class jwt extends WU{normalizePropertyName(t,n){return BU(t)}normalizeStyleValue(t,n,i,r){let o="";const s=i.toString().trim();if(Vwt[n]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return s+o}}const Vwt=(()=>function(e){const t={};return e.forEach(n=>t[n]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Rbe(e,t,n,i,r,o,s,a,l,u,c,g,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:g,errors:d}}const $U={};class Fbe{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return function(e,t,n,i,r){return e.some(o=>o(t,n,i,r))}(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(n,i):{};return o?o.buildStyles(n,i):s}build(t,n,i,r,o,s,a,l,u,c){const g=[],d=this.ast.options&&this.ast.options.params||$U,h=this.buildStyles(i,a&&a.params||$U,g),C=l&&l.params||$U,p=this.buildStyles(r,C,g),I=new Set,m=new Map,y=new Map,_="void"===r,N={params:Object.assign(Object.assign({},d),C)},O=c?[]:UU(t,n,this.ast.animation,o,s,h,p,N,u,g);let k=0;if(O.forEach(V=>{k=Math.max(V.duration+V.delay,k)}),g.length)return Rbe(n,this._triggerName,i,r,_,h,p,[],[],m,y,k,g);O.forEach(V=>{const z=V.element,H=Ru(m,z,{});V.preStyleProps.forEach(se=>H[se]=!0);const ee=Ru(y,z,{});V.postStyleProps.forEach(se=>ee[se]=!0),z!==n&&I.add(z)});const M=pR(I.values());return Rbe(n,this._triggerName,i,r,_,h,p,O,M,m,y,k)}}class Uwt{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){const i={},r=Uy(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=CR(l,r,n));const u=this.normalizer.normalizePropertyName(a,n);l=this.normalizer.normalizeStyleValue(a,u,l,n),i[u]=l})}}),i}}class Wwt{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states={},n.states.forEach(r=>{this.states[r.name]=new Uwt(r.style,r.options&&r.options.params||{},i)}),Pbe(this.states,"true","1"),Pbe(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new Fbe(t,r,this.states))}),this.fallbackTransition=function(e,t,n){return new Fbe(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(s=>s.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}}function Pbe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Ywt=new yR;class qwt{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,n){const i=[],r=VU(this._driver,n,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,n,i){const r=t.element,o=Cbe(0,this._normalizer,0,t.keyframes,n,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=UU(this._driver,n,o,RU,gR,{},{},i,Ywt,r),s.forEach(c=>{const g=Ru(a,c.element,{});c.postStyleProps.forEach(d=>g[d]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((c,g)=>{Object.keys(c).forEach(d=>{c[d]=this._driver.computeStyle(g,d,zf)})});const u=jp(s.map(c=>{const g=a.get(c.element);return this._buildPlayer(c,{},g)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const n=this._getPlayer(t);n.destroy(),delete this._playersById[t];const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){const n=this._playersById[t];if(!n)throw new Error(`Unable to find the timeline player referenced by ${t}`);return n}listen(t,n,i,r){const o=xU(n,"","","");return wU(this._getPlayer(t),i,o,r),()=>{}}command(t,n,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,n,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Lbe="ng-animate-queued",Bbe="ng-animate-disabled",jbe=".ng-animate-disabled",Qwt=[],Vbe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jwt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bc="__ng_removed";class YU{constructor(t,n=""){this.namespaceId=n;const i=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(i?t.value:t),i){const o=Uy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const n=t.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const dx="void",qU=new YU(dx);class eEt{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,jc(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${n}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(e){return"start"==e||"done"==e}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${n}" is not supported!`);const o=Ru(this._elementListeners,t,[]),s={name:n,phase:i,callback:r};o.push(s);const a=Ru(this._engine.statesByElement,t,{});return a.hasOwnProperty(n)||(jc(t,dR),jc(t,dR+"-"+n),a[n]=qU),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[n]||delete a[n]})}}register(t,n){return!this._triggers[t]&&(this._triggers[t]=n,!0)}_getTrigger(t){const n=this._triggers[t];if(!n)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return n}trigger(t,n,i,r=!0){const o=this._getTrigger(n),s=new ZU(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(jc(t,dR),jc(t,dR+"-"+n),this._engine.statesByElement.set(t,a={}));let l=a[n];const u=new YU(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[n]=u,l||(l=qU),u.value!==dx&&l.value===u.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(l.params,u.params)){const C=[],p=o.matchStyles(l.value,l.params,C),I=o.matchStyles(u.value,u.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Cm(t,p),lf(t,I)})}return}const d=Ru(this._engine.playersByElement,t,[]);d.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let f=o.matchTransition(l.value,u.value,t,u.params),h=!1;if(!f){if(!r)return;f=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:u,player:s,isFallbackTransition:h}),h||(jc(t,Lbe),s.onStart(()=>{Gy(t,Lbe)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const p=this._engine.playersByElement.get(t);if(p){let I=p.indexOf(s);I>=0&&p.splice(I,1)}}),this.players.push(s),d.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((n,i)=>{delete n[t]}),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const i=this._engine.driver.query(t,fR,!0);i.forEach(r=>{if(r[Bc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){const o=this._engine.statesByElement.get(t);if(o){const s=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,dx,r);l&&s.push(l)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,n),i&&jp(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){const r=new Set;n.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,u=i[s]||qU,c=new YU(dx),g=new ZU(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:c,player:g,isFallbackTransition:!0})})}}removeNode(t,n){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{const o=t[Bc];(!o||o===Vbe)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){jc(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=xU(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,wU(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let n=!1;return this._elementListeners.has(t)&&(n=!0),n=!!this._queue.find(i=>i.element===t)||n,n}}class tEt{constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){const i=new eEt(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,n)){this._namespaceList.splice(o+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&n.add(a)}}}return n}trigger(t,n,i,r){if(wR(n)){const o=this._fetchNamespace(t);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!wR(n))return;const o=n[Bc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jc(t,Bbe)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gy(t,Bbe))}removeNode(t,n,i,r){if(wR(n)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r),i){const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,i,r){this.collectedLeaveElements.push(n),n[Bc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,n,i,r,o){return wR(n)?this._fetchNamespace(t).listen(n,i,r,o):()=>{}}_buildInstruction(t,n,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,o)}destroyInnerAnimations(t){let n=this.driver.query(t,fR,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,FU,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[Bc];if(n&&n.setForRemoval){if(t[Bc]=Vbe,n.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,jbe)&&this.markElementAsDisabled(t,!1),this.driver.query(t,jbe,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?jp(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,n){const i=new yR,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(le=>{c.add(le);const q=this.driver.query(le,".ng-animate-queued",!0);for(let te=0;te<q.length;te++)c.add(q[te])});const g=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Ube(d,this.collectedEnterElements),h=new Map;let C=0;f.forEach((le,q)=>{const te=RU+C++;h.set(q,te),le.forEach(Te=>jc(Te,te))});const p=[],I=new Set,m=new Set;for(let le=0;le<this.collectedLeaveElements.length;le++){const q=this.collectedLeaveElements[le],te=q[Bc];te&&te.setForRemoval&&(p.push(q),I.add(q),te.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Te=>I.add(Te)):m.add(q))}const y=new Map,_=Ube(d,Array.from(I));_.forEach((le,q)=>{const te=gR+C++;y.set(q,te),le.forEach(Te=>jc(Te,te))}),t.push(()=>{f.forEach((le,q)=>{const te=h.get(q);le.forEach(Te=>Gy(Te,te))}),_.forEach((le,q)=>{const te=y.get(q);le.forEach(Te=>Gy(Te,te))}),p.forEach(le=>{this.processLeaveNode(le)})});const N=[],O=[];for(let le=this._namespaceList.length-1;le>=0;le--)this._namespaceList[le].drainQueuedTransitions(n).forEach(te=>{const Te=te.player,Xe=te.element;if(N.push(Te),this.collectedEnterElements.length){const mn=Xe[Bc];if(mn&&mn.setForMove)return void Te.destroy()}const at=!g||!this.driver.containsElement(g,Xe),zt=y.get(Xe),Bn=h.get(Xe),Xt=this._buildInstruction(te,i,Bn,zt,at);if(Xt.errors&&Xt.errors.length)O.push(Xt);else{if(at)return Te.onStart(()=>Cm(Xe,Xt.fromStyles)),Te.onDestroy(()=>lf(Xe,Xt.toStyles)),void r.push(Te);if(te.isFallbackTransition)return Te.onStart(()=>Cm(Xe,Xt.fromStyles)),Te.onDestroy(()=>lf(Xe,Xt.toStyles)),void r.push(Te);Xt.timelines.forEach(mn=>mn.stretchStartingKeyframe=!0),i.append(Xe,Xt.timelines),s.push({instruction:Xt,player:Te,element:Xe}),Xt.queriedElements.forEach(mn=>Ru(a,mn,[]).push(Te)),Xt.preStyleProps.forEach((mn,ar)=>{const kr=Object.keys(mn);if(kr.length){let _t=l.get(ar);_t||l.set(ar,_t=new Set),kr.forEach(pn=>_t.add(pn))}}),Xt.postStyleProps.forEach((mn,ar)=>{const kr=Object.keys(mn);let _t=u.get(ar);_t||u.set(ar,_t=new Set),kr.forEach(pn=>_t.add(pn))})}});if(O.length){const le=[];O.forEach(q=>{le.push(`@${q.triggerName} has failed due to:\n`),q.errors.forEach(te=>le.push(`- ${te}\n`))}),N.forEach(q=>q.destroy()),this.reportError(le)}const k=new Map,M=new Map;s.forEach(le=>{const q=le.element;i.has(q)&&(M.set(q,q),this._beforeAnimationBuild(le.player.namespaceId,le.instruction,k))}),r.forEach(le=>{const q=le.element;this._getPreviousPlayers(q,!1,le.namespaceId,le.triggerName,null).forEach(Te=>{Ru(k,q,[]).push(Te),Te.destroy()})});const V=p.filter(le=>Wbe(le,l,u)),z=new Map;Hbe(z,this.driver,m,u,zf).forEach(le=>{Wbe(le,l,u)&&V.push(le)});const ee=new Map;f.forEach((le,q)=>{Hbe(ee,this.driver,new Set(le),l,"!")}),V.forEach(le=>{const q=z.get(le),te=ee.get(le);z.set(le,Object.assign(Object.assign({},q),te))});const se=[],_e=[],ae={};s.forEach(le=>{const{element:q,player:te,instruction:Te}=le;if(i.has(q)){if(c.has(q))return te.onDestroy(()=>lf(q,Te.toStyles)),te.disabled=!0,te.overrideTotalTime(Te.totalTime),void r.push(te);let Xe=ae;if(M.size>1){let zt=q;const Bn=[];for(;zt=zt.parentNode;){const Xt=M.get(zt);if(Xt){Xe=Xt;break}Bn.push(zt)}Bn.forEach(Xt=>M.set(Xt,Xe))}const at=this._buildAnimation(te.namespaceId,Te,k,o,ee,z);if(te.setRealPlayer(at),Xe===ae)se.push(te);else{const zt=this.playersByElement.get(Xe);zt&&zt.length&&(te.parentPlayer=jp(zt)),r.push(te)}}else Cm(q,Te.fromStyles),te.onDestroy(()=>lf(q,Te.toStyles)),_e.push(te),c.has(q)&&r.push(te)}),_e.forEach(le=>{const q=o.get(le.element);if(q&&q.length){const te=jp(q);le.setRealPlayer(te)}}),r.forEach(le=>{le.parentPlayer?le.syncPlayerEvents(le.parentPlayer):le.destroy()});for(let le=0;le<p.length;le++){const q=p[le],te=q[Bc];if(Gy(q,gR),te&&te.hasAnimation)continue;let Te=[];if(a.size){let at=a.get(q);at&&at.length&&Te.push(...at);let zt=this.driver.query(q,FU,!0);for(let Bn=0;Bn<zt.length;Bn++){let Xt=a.get(zt[Bn]);Xt&&Xt.length&&Te.push(...Xt)}}const Xe=Te.filter(at=>!at.destroyed);Xe.length?oEt(this,q,Xe):this.processLeaveNode(q)}return p.length=0,se.forEach(le=>{this.players.push(le),le.onDone(()=>{le.destroy();const q=this.players.indexOf(le);this.players.splice(q,1)}),le.play()}),se}elementContainsData(t,n){let i=!1;const r=n[Bc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(t).elementContainsData(n)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,o){let s=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==dx;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,n,i){const o=n.element,s=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const u=l.element,c=u!==o,g=Ru(i,u,[]);this._getPreviousPlayers(u,c,s,a,n.toState).forEach(f=>{const h=f.getRealPlayer();h.beforeDestroy&&h.beforeDestroy(),f.destroy(),g.push(f)})}Cm(o,n.fromStyles)}_buildAnimation(t,n,i,r,o,s){const a=n.triggerName,l=n.element,u=[],c=new Set,g=new Set,d=n.timelines.map(h=>{const C=h.element;c.add(C);const p=C[Bc];if(p&&p.removedBeforeQueried)return new D0(h.duration,h.delay);const I=C!==l,m=function(e){const t=[];return Gbe(e,t),t}((i.get(C)||Qwt).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===C),y=o.get(C),_=s.get(C),N=Cbe(0,this._normalizer,0,h.keyframes,y,_),O=this._buildPlayer(h,N,m);if(h.subTimeline&&r&&g.add(C),I){const k=new ZU(t,a,C);k.setRealPlayer(O),u.push(k)}return O});u.forEach(h=>{Ru(this.playersByQueriedElement,h.element,[]).push(h),h.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,h.element,h))}),c.forEach(h=>jc(h,_be));const f=jp(d);return f.onDestroy(()=>{c.forEach(h=>Gy(h,_be)),lf(l,n.toStyles)}),g.forEach(h=>{Ru(r,h,[]).push(f)}),f}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new D0(t.duration,t.delay)}}class ZU{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new D0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(i=>wU(t,n,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Ru(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function wR(e){return e&&1===e.nodeType}function zbe(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Hbe(e,t,n,i,r){const o=[];n.forEach(l=>o.push(zbe(l)));const s=[];i.forEach((l,u)=>{const c={};l.forEach(g=>{const d=c[g]=t.computeStyle(u,g,r);(!d||0==d.length)&&(u[Bc]=Jwt,s.push(u))}),e.set(u,c)});let a=0;return n.forEach(l=>zbe(l,o[a++])),s}function Ube(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=n.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&n.get(l).push(a)}),n}const ER="$$classes";function jc(e,t){if(e.classList)e.classList.add(t);else{let n=e[ER];n||(n=e[ER]={}),n[t]=!0}}function Gy(e,t){if(e.classList)e.classList.remove(t);else{let n=e[ER];n&&delete n[t]}}function oEt(e,t,n){jp(n).onDone(()=>e.processLeaveNode(t))}function Gbe(e,t){for(let n=0;n<e.length;n++){const i=e[n];i instanceof UX?Gbe(i.players,t):t.push(i)}}function Wbe(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(o=>r.add(o)):t.set(e,i),n.delete(e),!0}class xR{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new tEt(t,n,i),this._timelineEngine=new qwt(t,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,n,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=VU(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(e,t,n){return new Wwt(e,t,n)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i,r){this._transitionEngine.removeNode(t,n,r||!1,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if("@"==i.charAt(0)){const[o,s]=pbe(i);this._timelineEngine.command(o,n,s,r)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,o){if("@"==i.charAt(0)){const[s,a]=pbe(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(t,n,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function $be(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=KU(t[0]),t.length>1&&(i=KU(t[t.length-1]))):t&&(n=KU(t)),n||i?new lEt(e,n,i):null}let lEt=(()=>{class e{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let o=e.initialStylesByElement.get(n);o||e.initialStylesByElement.set(n,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&lf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lf(this._element,this._initialStyles),this._endStyles&&(lf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Cm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cm(this._element,this._endStyles),this._endStyles=null),lf(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function KU(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];uEt(r)&&(t=t||{},t[r]=e[r])}return t}function uEt(e){return"display"===e||"position"===e}const qbe="animationend";class dEt{constructor(t,n,i,r,o,s,a){this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(e,t){const n=QU(e,"").trim();let i=0;n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++;return n}(n)+1,t=`${n}, ${t}`),DR(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xbe(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Zbe(this._element,this._name,"paused")}resume(){Zbe(this._element,this._name,"running")}setPosition(t){const n=Kbe(this._element,this._name);this._position=t*this._duration,DR(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(t){const n=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xbe(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=QU(e,"").split(","),r=XU(i,t);r>=0&&(i.splice(r,1),DR(e,"",i.join(",")))}(this._element,this._name))}}function Zbe(e,t,n){DR(e,"PlayState",n,Kbe(e,t))}function Kbe(e,t){const n=QU(e,"");return n.indexOf(",")>0?XU(n.split(","),t):XU([n],t)}function XU(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Xbe(e,t,n){n?e.removeEventListener(qbe,t):e.addEventListener(qbe,t)}function DR(e,t,n,i){const r="animation"+t;if(null!=i){const o=e.style[r];if(o.length){const s=o.split(",");s[i]=n,n=s.join(",")}}e.style[r]=n}function QU(e,t){return e.style["animation"+t]||""}class Qbe{constructor(t,n,i,r,o,s,a,l){this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new dEt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=n?this._finalStyles[i]:jU(this.element,i))})}this.currentSnapshot=t}}class IEt extends D0{constructor(t,n){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=vbe(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const n=this._startingStyles[t];n?this.element.style.setProperty(t,n):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class e1e{constructor(){this._count=0}validateStyleProperty(t){return TU(t)}matchesElement(t,n){return kU(t,n)}containsElement(t,n){return NU(t,n)}query(t,n,i){return OU(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}buildKeyframeElement(t,n,i){i=i.map(a=>vbe(a));let r=`@keyframes ${n} {\n`,o="";i.forEach(a=>{o=" ";const l=parseFloat(a.offset);r+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(u=>{const c=a[u];switch(u){case"offset":return;case"easing":return void(c&&(r+=`${o}animation-timing-function: ${c};\n`));default:return void(r+=`${o}${u}: ${c};\n`)}}),r+=`${o}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,n,i,r,o,s=[],a){const l=s.filter(p=>p instanceof Qbe),u={};Sbe(i,r)&&l.forEach(p=>{let I=p.currentSnapshot;Object.keys(I).forEach(m=>u[m]=I[m])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(n=Tbe(t,n,u));if(0==i)return new IEt(t,c);const g="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,g,n);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(d);const h=$be(t,n),C=new Qbe(t,n,g,i,r,o,c,h);return C.onDestroy(()=>function(e){e.parentNode.removeChild(e)}(d)),C}}class n1e{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,n,i){return t.animate(n,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(t[n]=this._finished?this._finalKeyframe[n]:jU(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class _Et{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(i1e().toString()),this._cssKeyframesDriver=new e1e}validateStyleProperty(t){return TU(t)}matchesElement(t,n){return kU(t,n)}containsElement(t,n){return NU(t,n)}query(t,n,i){return OU(t,n,i)}computeStyle(t,n,i){return window.getComputedStyle(t)[n]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,n,i,r,o,s=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,n,i,r,o,s);const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const g={},d=s.filter(h=>h instanceof n1e);Sbe(i,r)&&d.forEach(h=>{let C=h.currentSnapshot;Object.keys(C).forEach(p=>g[p]=C[p])});const f=$be(t,n=Tbe(t,n=n.map(h=>Vp(h,!1)),g));return new n1e(t,n,c,f)}}function i1e(){return hbe()&&Element.prototype.animate||{}}let EEt=(()=>{class e extends VX{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:Nr.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?zX(n):n;return r1e(this._renderer,null,i,"register",[r]),new xEt(i,this._renderer)}}return e.\u0275fac=function(n){return new(n||e)(ke(Mf),ke(Wi))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class xEt extends class{}{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new DEt(this._id,t,n||{},this._renderer)}}class DEt{constructor(t,n,i,r){this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return r1e(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,n;return null!==(n=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==n?n:0}}function r1e(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}const o1e="@.disabled";let SEt=(()=>{class e{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{s&&s.parentNode(o)&&s.removeChild(o.parentNode,o)}}createRenderer(n,i){const o=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(o);return c||(c=new s1e("",o,this.engine),this._rendererCache.set(o,c)),c}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,n,c.name,c)};return i.data.animation.forEach(l),new TEt(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(n){return new(n||e)(ke(Mf),ke(xR),ke(ci))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();class s1e{constructor(t,n,i){this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>n.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){"@"==n.charAt(0)&&n==o1e?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class TEt extends s1e{constructor(t,n,i,r){super(n,i,r),this.factory=t,this.namespaceId=n}setProperty(t,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==o1e?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,n.substr(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if("@"==n.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let o=n.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,n,i)}}let OEt=(()=>{class e extends xR{constructor(n,i,r){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(n){return new(n||e)(ke(Wi),ke(MU),ke(WU))},e.\u0275prov=it({token:e,factory:e.\u0275fac}),e})();const a1e=new ti("AnimationModuleType"),l1e=[{provide:VX,useClass:EEt},{provide:WU,useFactory:function(){return new jwt}},{provide:xR,useClass:OEt},{provide:Mf,useFactory:function(e,t,n){return new SEt(e,t,n)},deps:[i2,xR,ci]}],u1e=[{provide:MU,useFactory:function(){return"function"==typeof i1e()?new _Et:new e1e}},{provide:a1e,useValue:"BrowserAnimations"},...l1e],c1e=[{provide:MU,useClass:ybe},{provide:a1e,useValue:"NoopAnimations"},...l1e];let PEt=(()=>{class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?c1e:u1e}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e}),e.\u0275inj=Qn({providers:u1e,imports:[r2]}),e})(),LEt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=G({type:e,bootstrap:[dwt]}),e.\u0275inj=Qn({providers:[S0,fbe],imports:[[k5,r2,rwt,Wht,t5,c8e,PEt]]}),e})();(function(){if(mZ)throw new Error("Cannot enable prod mode after platform setup.");IZ=!1})(),AMe().bootstrapModule(LEt).catch(e=>console.error(e))},5328:$e=>{"use strict";var yt=/("(?:[^\\"]|\\.)*")|[:,]/g;$e.exports=function(ue,fe){var we,ie,x;return fe=fe||{},we=JSON.stringify([1],void 0,void 0===fe.indent?2:fe.indent).slice(2,-3),ie=""===we?1/0:void 0===fe.maxLength?80:fe.maxLength,x=fe.replacer,function Z(Y,oe,Ce){var re,he,Ge,St,Lt,It,mt,an,De,Ot,Tt,ye;if(Y&&"function"==typeof Y.toJSON&&(Y=Y.toJSON()),void 0===(Tt=JSON.stringify(Y,x)))return Tt;if(Tt.length<=(mt=ie-oe.length-Ce)&&(De=Tt.replace(yt,function(wt,E){return E||wt+" "})).length<=mt)return De;if(null!=x&&(Y=JSON.parse(Tt),x=void 0),"object"==typeof Y&&null!==Y){if(an=oe+we,Ge=[],he=0,Array.isArray(Y))for(Ot="[",re="]",mt=Y.length;he<mt;he++)Ge.push(Z(Y[he],an,he===mt-1?0:1)||"null");else for(Ot="{",re="}",mt=(It=Object.keys(Y)).length;he<mt;he++)St=It[he],Lt=JSON.stringify(St)+": ",void 0!==(ye=Z(Y[St],an,Lt.length+(he===mt-1?0:1)))&&Ge.push(Lt+ye);if(Ge.length>0)return[Ot,we+Ge.join(",\n"+an),re].join("\n"+oe)}return Tt}(ue,"",0)}}},$e=>{$e($e.s=1905)}]);